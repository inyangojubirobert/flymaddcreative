(()=>{var iBe=Object.create;var bA=Object.defineProperty,oBe=Object.defineProperties,aBe=Object.getOwnPropertyDescriptor,cBe=Object.getOwnPropertyDescriptors,lBe=Object.getOwnPropertyNames,wP=Object.getOwnPropertySymbols,uBe=Object.getPrototypeOf,B$=Object.prototype.hasOwnProperty,Sre=Object.prototype.propertyIsEnumerable;var m8=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),U$=t=>{throw TypeError(t)};var k$=(t,e,r)=>e in t?bA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S=(t,e)=>{for(var r in e||(e={}))B$.call(e,r)&&k$(t,r,e[r]);if(wP)for(var r of wP(e))Sre.call(e,r)&&k$(t,r,e[r]);return t},G=(t,e)=>oBe(t,cBe(e));var Ire=t=>typeof t=="symbol"?t:t+"",Ve=(t,e)=>{var r={};for(var n in t)B$.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&wP)for(var n of wP(t))e.indexOf(n)<0&&Sre.call(t,n)&&(r[n]=t[n]);return r};var y=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Me=(t,e)=>{for(var r in e)bA(t,r,{get:e[r],enumerable:!0})},xP=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of lBe(e))!B$.call(t,s)&&s!==r&&bA(t,s,{get:()=>e[s],enumerable:!(n=aBe(e,s))||n.enumerable});return t},Ho=(t,e,r)=>(xP(t,e,"default"),r&&xP(r,e,"default")),pr=(t,e,r)=>(r=t!=null?iBe(uBe(t)):{},xP(e||!t||!t.__esModule?bA(r,"default",{value:t,enumerable:!0}):r,t)),wA=t=>xP(bA({},"__esModule",{value:!0}),t);var Y=(t,e,r)=>k$(t,typeof e!="symbol"?e+"":e,r),D$=(t,e,r)=>e.has(t)||U$("Cannot "+r);var P=(t,e,r)=>(D$(t,e,"read from private field"),r?r.call(t):e.get(t)),Q=(t,e,r)=>e.has(t)?U$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),j=(t,e,r,n)=>(D$(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),me=(t,e,r)=>(D$(t,e,"access private method"),r);var _p=(t,e,r,n)=>({set _(s){j(t,e,s,r)},get _(){return P(t,e,n)}});var xA=function(t,e){this[0]=t,this[1]=e},Tre=(t,e,r)=>{var n=(o,a,c,l)=>{try{var u=r[o](a),f=(a=u.value)instanceof xA,d=u.done;Promise.resolve(f?a[0]:a).then(p=>f?n(o==="return"?o:"next",a[1]?{done:p.done,value:p.value}:p,c,l):c({value:p,done:d})).catch(p=>n("throw",p,c,l))}catch(p){l(p)}},s=o=>i[o]=a=>new Promise((c,l)=>n(o,a,c,l)),i={};return r=r.apply(t,e),i[m8("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i},L$=t=>{var e=t[m8("asyncIterator")],r=!1,n,s={};return e==null?(e=t[m8("iterator")](),n=i=>s[i]=o=>e[i](o)):(e=e.call(t),n=i=>s[i]=o=>{if(r){if(r=!1,i==="throw")throw o;return o}return r=!0,{done:!1,value:new xA(new Promise(a=>{var c=e[i](o);c instanceof Object||U$("Object expected"),a(c)}),1)}}),s[m8("iterator")]=()=>s,n("next"),"throw"in e?n("throw"):s.throw=i=>{throw i},"return"in e&&n("return"),s},M$=(t,e,r)=>(e=t[m8("asyncIterator")])?e.call(t):(t=t[m8("iterator")](),e={},r=(n,s)=>(s=t[n])&&(e[n]=i=>new Promise((o,a,c)=>(i=s.call(t,i),c=i.done,Promise.resolve(i.value).then(l=>o({value:l,done:c}),a)))),r("next"),r("return"),e);var Fo=Ct((bwt,$$)=>{"use strict";var g8=typeof Reflect=="object"?Reflect:null,Pre=g8&&typeof g8.apply=="function"?g8.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},vP;g8&&typeof g8.ownKeys=="function"?vP=g8.ownKeys:Object.getOwnPropertySymbols?vP=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:vP=function(e){return Object.getOwnPropertyNames(e)};function fBe(t){console&&console.warn&&console.warn(t)}var Nre=Number.isNaN||function(e){return e!==e};function en(){en.init.call(this)}$$.exports=en;$$.exports.once=mBe;en.EventEmitter=en;en.prototype._events=void 0;en.prototype._eventsCount=0;en.prototype._maxListeners=void 0;var _re=10;function EP(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(en,"defaultMaxListeners",{enumerable:!0,get:function(){return _re},set:function(t){if(typeof t!="number"||t<0||Nre(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");_re=t}});en.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};en.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nre(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ore(t){return t._maxListeners===void 0?en.defaultMaxListeners:t._maxListeners}en.prototype.getMaxListeners=function(){return Ore(this)};en.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")Pre(c,this,r);else for(var l=c.length,u=Dre(c,l),n=0;n<l;++n)Pre(u[n],this,r);return!0};function Rre(t,e,r,n){var s,i,o;if(EP(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),o=i[e]),o===void 0)o=i[e]=r,++t._eventsCount;else if(typeof o=="function"?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=Ore(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,fBe(a)}return t}en.prototype.addListener=function(e,r){return Rre(this,e,r,!1)};en.prototype.on=en.prototype.addListener;en.prototype.prependListener=function(e,r){return Rre(this,e,r,!0)};function dBe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function kre(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=dBe.bind(n);return s.listener=r,n.wrapFn=s,s}en.prototype.once=function(e,r){return EP(r),this.on(e,kre(this,e,r)),this};en.prototype.prependOnceListener=function(e,r){return EP(r),this.prependListener(e,kre(this,e,r)),this};en.prototype.removeListener=function(e,r){var n,s,i,o,a;if(EP(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():pBe(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};en.prototype.off=en.prototype.removeListener;en.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function Bre(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?hBe(s):Dre(s,s.length)}en.prototype.listeners=function(e){return Bre(this,e,!0)};en.prototype.rawListeners=function(e){return Bre(this,e,!1)};en.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ure.call(t,e)};en.prototype.listenerCount=Ure;function Ure(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}en.prototype.eventNames=function(){return this._eventsCount>0?vP(this._events):[]};function Dre(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function pBe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function hBe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function mBe(t,e){return new Promise(function(r,n){function s(o){t.removeListener(e,i),n(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Lre(t,e,i,{once:!0}),e!=="error"&&gBe(t,s,{once:!0})})}function gBe(t,e,r){typeof t.on=="function"&&Lre(t,"error",e,r)}function Lre(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});function AP(t){return t?Fre(t):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new vBe:typeof navigator!="undefined"?Fre(navigator.userAgent):TBe()}function SBe(t){return t!==""&&CBe.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function Fre(t){var e=SBe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new xBe;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<$re&&(s=Mre(Mre([],s,!0),PBe($re-s.length),!0)):s=[];var i=s.join("."),o=IBe(t),a=ABe.exec(t);return a&&a[1]?new wBe(r,i,o,a[1]):new yBe(r,i,o)}function IBe(t){for(var e=0,r=Hre.length;e<r;e++){var n=Hre[e],s=n[0],i=n[1],o=i.exec(t);if(o)return s}return null}function TBe(){var t=typeof process!="undefined"&&process.version;return t?new bBe(process.version.slice(1)):null}function PBe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Mre,yBe,bBe,wBe,xBe,vBe,EBe,ABe,$re,CBe,Hre,H$=y(()=>{Mre=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},yBe=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),bBe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),wBe=(function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t})(),xBe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),vBe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),EBe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ABe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$re=3,CBe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",EBe]],Hre=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]]});var EA={};Me(EA,{__assign:()=>z$,__asyncDelegator:()=>FBe,__asyncGenerator:()=>HBe,__asyncValues:()=>zBe,__await:()=>vA,__awaiter:()=>BBe,__classPrivateFieldGet:()=>WBe,__classPrivateFieldSet:()=>KBe,__createBinding:()=>DBe,__decorate:()=>OBe,__exportStar:()=>LBe,__extends:()=>_Be,__generator:()=>UBe,__importDefault:()=>qBe,__importStar:()=>jBe,__makeTemplateObject:()=>VBe,__metadata:()=>kBe,__param:()=>RBe,__read:()=>zre,__rest:()=>NBe,__spread:()=>MBe,__spreadArrays:()=>$Be,__values:()=>V$});function _Be(t,e){F$(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function NBe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function OBe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function RBe(t,e){return function(r,n){e(r,n,t)}}function kBe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function BBe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function UBe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function DBe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function LBe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function V$(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zre(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function MBe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zre(arguments[e]));return t}function $Be(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function vA(t){return this instanceof vA?(this.v=t,this):new vA(t)}function HBe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){n[d]&&(s[d]=function(p){return new Promise(function(h,m){i.push([d,p,h,m])>1||a(d,p)})})}function a(d,p){try{c(n[d](p))}catch(h){f(i[0][3],h)}}function c(d){d.value instanceof vA?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function FBe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:vA(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function zBe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof V$=="function"?V$(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function VBe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function jBe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function qBe(t){return t&&t.__esModule?t:{default:t}}function WBe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function KBe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var F$,z$,AA=y(()=>{F$=function(t,e){return F$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},F$(t,e)};z$=function(){return z$=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},z$.apply(this,arguments)}});var Vre=Ct(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});CP.delay=void 0;function GBe(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}CP.delay=GBe});var jre=Ct(y8=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});y8.ONE_THOUSAND=y8.ONE_HUNDRED=void 0;y8.ONE_HUNDRED=100;y8.ONE_THOUSAND=1e3});var qre=Ct(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.ONE_YEAR=We.FOUR_WEEKS=We.THREE_WEEKS=We.TWO_WEEKS=We.ONE_WEEK=We.THIRTY_DAYS=We.SEVEN_DAYS=We.FIVE_DAYS=We.THREE_DAYS=We.ONE_DAY=We.TWENTY_FOUR_HOURS=We.TWELVE_HOURS=We.SIX_HOURS=We.THREE_HOURS=We.ONE_HOUR=We.SIXTY_MINUTES=We.THIRTY_MINUTES=We.TEN_MINUTES=We.FIVE_MINUTES=We.ONE_MINUTE=We.SIXTY_SECONDS=We.THIRTY_SECONDS=We.TEN_SECONDS=We.FIVE_SECONDS=We.ONE_SECOND=void 0;We.ONE_SECOND=1;We.FIVE_SECONDS=5;We.TEN_SECONDS=10;We.THIRTY_SECONDS=30;We.SIXTY_SECONDS=60;We.ONE_MINUTE=We.SIXTY_SECONDS;We.FIVE_MINUTES=We.ONE_MINUTE*5;We.TEN_MINUTES=We.ONE_MINUTE*10;We.THIRTY_MINUTES=We.ONE_MINUTE*30;We.SIXTY_MINUTES=We.ONE_MINUTE*60;We.ONE_HOUR=We.SIXTY_MINUTES;We.THREE_HOURS=We.ONE_HOUR*3;We.SIX_HOURS=We.ONE_HOUR*6;We.TWELVE_HOURS=We.ONE_HOUR*12;We.TWENTY_FOUR_HOURS=We.ONE_HOUR*24;We.ONE_DAY=We.TWENTY_FOUR_HOURS;We.THREE_DAYS=We.ONE_DAY*3;We.FIVE_DAYS=We.ONE_DAY*5;We.SEVEN_DAYS=We.ONE_DAY*7;We.THIRTY_DAYS=We.ONE_DAY*30;We.ONE_WEEK=We.SEVEN_DAYS;We.TWO_WEEKS=We.ONE_WEEK*2;We.THREE_WEEKS=We.ONE_WEEK*3;We.FOUR_WEEKS=We.ONE_WEEK*4;We.ONE_YEAR=We.ONE_DAY*365});var j$=Ct(SP=>{"use strict";Object.defineProperty(SP,"__esModule",{value:!0});var Wre=(AA(),wA(EA));Wre.__exportStar(jre(),SP);Wre.__exportStar(qre(),SP)});var Gre=Ct(b8=>{"use strict";Object.defineProperty(b8,"__esModule",{value:!0});b8.fromMiliseconds=b8.toMiliseconds=void 0;var Kre=j$();function ZBe(t){return t*Kre.ONE_THOUSAND}b8.toMiliseconds=ZBe;function YBe(t){return Math.floor(t/Kre.ONE_THOUSAND)}b8.fromMiliseconds=YBe});var Yre=Ct(IP=>{"use strict";Object.defineProperty(IP,"__esModule",{value:!0});var Zre=(AA(),wA(EA));Zre.__exportStar(Vre(),IP);Zre.__exportStar(Gre(),IP)});var Jre=Ct(CA=>{"use strict";Object.defineProperty(CA,"__esModule",{value:!0});CA.Watch=void 0;var TP=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed!="undefined")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r=="undefined")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};CA.Watch=TP;CA.default=TP});var Qre=Ct(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0});PP.IWatch=void 0;var q$=class{};PP.IWatch=q$});var Xre=Ct(W$=>{"use strict";Object.defineProperty(W$,"__esModule",{value:!0});var JBe=(AA(),wA(EA));JBe.__exportStar(Qre(),W$)});var Np=Ct(w8=>{"use strict";Object.defineProperty(w8,"__esModule",{value:!0});var _P=(AA(),wA(EA));_P.__exportStar(Yre(),w8);_P.__exportStar(Jre(),w8);_P.__exportStar(Xre(),w8);_P.__exportStar(j$(),w8)});var v8=Ct(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.getLocalStorage=wn.getLocalStorageOrThrow=wn.getCrypto=wn.getCryptoOrThrow=wn.getLocation=wn.getLocationOrThrow=wn.getNavigator=wn.getNavigatorOrThrow=wn.getDocument=wn.getDocumentOrThrow=wn.getFromWindowOrThrow=wn.getFromWindow=void 0;function db(t){let e;return typeof window!="undefined"&&typeof window[t]!="undefined"&&(e=window[t]),e}wn.getFromWindow=db;function x8(t){let e=db(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}wn.getFromWindowOrThrow=x8;function QBe(){return x8("document")}wn.getDocumentOrThrow=QBe;function XBe(){return db("document")}wn.getDocument=XBe;function eUe(){return x8("navigator")}wn.getNavigatorOrThrow=eUe;function tUe(){return db("navigator")}wn.getNavigator=tUe;function rUe(){return x8("location")}wn.getLocationOrThrow=rUe;function nUe(){return db("location")}wn.getLocation=nUe;function sUe(){return x8("crypto")}wn.getCryptoOrThrow=sUe;function iUe(){return db("crypto")}wn.getCrypto=iUe;function oUe(){return x8("localStorage")}wn.getLocalStorageOrThrow=oUe;function aUe(){return db("localStorage")}wn.getLocalStorage=aUe});var K$=Ct(NP=>{"use strict";Object.defineProperty(NP,"__esModule",{value:!0});NP.getWindowMetadata=void 0;var ene=v8();function cUe(){let t,e;try{t=ene.getDocumentOrThrow(),e=ene.getLocationOrThrow()}catch(f){return null}function r(){let f=t.getElementsByTagName("link"),d=[];for(let p=0;p<f.length;p++){let h=f[p],m=h.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){let g=h.getAttribute("href");if(g)if(g.toLowerCase().indexOf("https:")===-1&&g.toLowerCase().indexOf("http:")===-1&&g.indexOf("//")!==0){let b=e.protocol+"//"+e.host;if(g.indexOf("/")===0)b+=g;else{let E=e.pathname.split("/");E.pop();let w=E.join("/");b+=w+"/"+g}d.push(b)}else if(g.indexOf("//")===0){let b=e.protocol+g;d.push(b)}else d.push(g)}}return d}function n(...f){let d=t.getElementsByTagName("meta");for(let p=0;p<d.length;p++){let h=d[p],m=["itemprop","property","name"].map(g=>h.getAttribute(g)).filter(g=>g?f.includes(g):!1);if(m.length&&m){let g=h.getAttribute("content");if(g)return g}}return""}function s(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function i(){return n("description","og:description","twitter:description","keywords")}let o=s(),a=i(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}NP.getWindowMetadata=cUe});function yDe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gse(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function i_(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function zH(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function FH(t){if(!Array.isArray(t))throw new Error("array expected")}function o_(t,e){if(!gse(!0,e))throw new Error(`${t}: array of strings expected`)}function bDe(t,e){if(!gse(!1,e))throw new Error(`${t}: array of numbers expected`)}function wDe(...t){let e=i=>i,r=(i,o)=>a=>i(o(a)),n=t.map(i=>i.encode).reduceRight(r,e),s=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:s}}function xDe(t){let e=typeof t=="string"?t.split(""):t,r=e.length;o_("alphabet",e);let n=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(FH(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(FH(s),s.map(i=>{i_("alphabet.decode",i);let o=n.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function vDe(t=""){return i_("join",t),{encode:e=>(o_("join.decode",e),e.join(t)),decode:e=>(i_("join.decode",e),e.split(t))}}function EDe(t,e="="){return zH(t),i_("padding",e),{encode(r){for(o_("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){o_("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function mse(t,e,r,n){if(FH(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(a_(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${a_(e,r)}`);let s=0,i=0,o=HH[e],a=HH[r]-1,c=[];for(let l of t){if(zH(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=r;i-=r)c.push((s>>i-r&a)>>>0);let u=HH[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<r-i&a,!n&&i>=e)throw new Error("Excess padding");if(!n&&s>0)throw new Error(`Non-zero padding: ${s}`);return n&&i>0&&c.push(s>>>0),c}function ADe(t,e=!1){if(zH(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(a_(8,t)>32||a_(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!yDe(r))throw new Error("radix2.encode input should be Uint8Array");return mse(Array.from(r),8,t,!e)},decode:r=>(bDe("radix2.decode",r),Uint8Array.from(mse(r,t,8,e)))}}var yse,a_,HH,c_,VH=y(()=>{yse=(t,e)=>e===0?t:yse(e,t%e),a_=(t,e)=>t+(e-yse(t,e)),HH=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();c_=wDe(ADe(5),xDe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),EDe(5),vDe(""))});function NDe(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}let r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0,p=l.length;for(;d!==p&&l[d]===0;)d++,u++;let h=(p-d)*i+1>>>0,m=new Uint8Array(h);for(;d!==p;){let E=l[d],w=0;for(let x=h-1;(E!==0||w<f)&&x!==-1;x--,w++)E+=256*m[x]>>>0,m[x]=E%r>>>0,E=E/r>>>0;if(E!==0)throw new Error("Non-zero carry");f=w,d++}let g=h-f;for(;g!==h&&m[g]===0;)g++;let b=n.repeat(u);for(;g<h;++g)b+=t.charAt(m[g]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;let p=(l.length-u)*s+1>>>0,h=new Uint8Array(p);for(;u<l.length;){let E=l.charCodeAt(u);if(E>255)return;let w=e[E];if(w===255)return;let x=0;for(let C=p-1;(w!==0||x<d)&&C!==-1;C--,x++)w+=r*h[C]>>>0,h[C]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");d=x,u++}let m=p-d;for(;m!==p&&h[m]===0;)m++;let g=new Uint8Array(f+(p-m)),b=f;for(;m!==p;)g[b++]=h[m++];return g}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Ase,Cse=y(()=>{Ase=NDe});var ODe,wa,l_=y(()=>{Cse();ODe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",wa=Ase(ODe)});function Sse(t){let e=t.length,r=0,n=0;for(;n<e;){let s=t.charCodeAt(n++);if((s&4294967168)===0){r++;continue}else if((s&4294965248)===0)r+=2;else{if(s>=55296&&s<=56319&&n<e){let i=t.charCodeAt(n);(i&64512)===56320&&(++n,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?r+=3:r+=4}}return r}function RDe(t,e,r){let n=t.length,s=r,i=0;for(;i<n;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<n){let a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}function UDe(t,e,r){kDe.encodeInto(t,e.subarray(r))}function Ise(t,e,r){t.length>BDe?UDe(t,e,r):RDe(t,e,r)}function jH(t,e,r){let n=e,s=n+r,i=[],o="";for(;n<s;){let a=t[n++];if((a&128)===0)i.push(a);else if((a&224)===192){let c=t[n++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){let c=t[n++]&63,l=t[n++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){let c=t[n++]&63,l=t[n++]&63,u=t[n++]&63,f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f)}else i.push(a);i.length>=DDe&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}function $De(t,e,r){let n=t.subarray(e,e+r);return LDe.decode(n)}function Tse(t,e,r){return r>MDe?$De(t,e,r):jH(t,e,r)}var kDe,BDe,DDe,LDe,MDe,u_=y(()=>{kDe=new TextEncoder,BDe=50;DDe=4096;LDe=new TextDecoder,MDe=200});var Eb,Pse=y(()=>{Eb=class{constructor(e,r){this.type=e,this.data=r}}});var xa,qH=y(()=>{xa=class t extends Error{constructor(e){super(e);let r=Object.create(t.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}}});function _se(t,e,r){let n=r/4294967296,s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function f_(t,e,r){let n=Math.floor(r/4294967296),s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function d_(t,e){let r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function Nse(t,e){let r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}var p_=y(()=>{});function VDe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=zDe)if(e===0&&t<=FDe){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{let r=t/4294967296,n=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|r&3),i.setUint32(4,n),s}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),f_(n,4,t),r}}function jDe(t){let e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function qDe(t){if(t instanceof Date){let e=jDe(t);return VDe(e)}else return null}function WDe(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{let r=e.getUint32(0),n=e.getUint32(4),s=(r&3)*4294967296+n,i=r>>>2;return{sec:s,nsec:i}}case 12:{let r=d_(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new xa(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function KDe(t){let e=WDe(t);return new Date(e.sec*1e3+e.nsec/1e6)}var HDe,FDe,zDe,Ose,Rse=y(()=>{qH();p_();HDe=-1,FDe=4294967296-1,zDe=17179869184-1;Ose={type:HDe,encode:qDe,decode:KDe}});var s1,WH=y(()=>{Pse();Rse();s1=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ose)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{let s=-1-e;this.builtInEncoders[s]=r,this.builtInDecoders[s]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){let s=this.builtInEncoders[n];if(s!=null){let i=s(e,r);if(i!=null){let o=-1-n;return new Eb(o,i)}}}for(let n=0;n<this.encoders.length;n++){let s=this.encoders[n];if(s!=null){let i=s(e,r);if(i!=null){let o=n;return new Eb(o,i)}}}return e instanceof Eb?e:null}decode(e,r,n){let s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(e,r,n):new Eb(r,e)}};s1.defaultCodec=new s1});function GDe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer!="undefined"&&t instanceof SharedArrayBuffer}function DA(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):GDe(t)?new Uint8Array(t):Uint8Array.from(t)}var KH=y(()=>{});var ZDe,YDe,h_,kse=y(()=>{u_();WH();p_();KH();ZDe=100,YDe=2048,h_=class t{constructor(e){var r,n,s,i,o,a,c,l;this.entered=!1,this.extensionCodec=(r=e==null?void 0:e.extensionCodec)!=null?r:s1.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(n=e==null?void 0:e.useBigInt64)!=null?n:!1,this.maxDepth=(s=e==null?void 0:e.maxDepth)!=null?s:ZDe,this.initialBufferSize=(i=e==null?void 0:e.initialBufferSize)!=null?i:YDe,this.sortKeys=(o=e==null?void 0:e.sortKeys)!=null?o:!1,this.forceFloat32=(a=e==null?void 0:e.forceFloat32)!=null?a:!1,this.ignoreUndefined=(c=e==null?void 0:e.ignoreUndefined)!=null?c:!1,this.forceIntegerToFloat=(l=e==null?void 0:e.forceIntegerToFloat)!=null?l:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){let r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){let r=new ArrayBuffer(e),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let n=Sse(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),Ise(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){let n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=DA(e);this.writeU8a(n)}encodeArray(e,r){let n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let s of e)this.doEncode(s,r+1)}countWithoutUndefined(e,r){let n=0;for(let s of r)e[s]!==void 0&&n++;return n}encodeMap(e,r){let n=Object.keys(e);this.sortKeys&&n.sort();let s=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(let i of n){let o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){let n=e.data(this.pos+6),s=n.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(n);return}let r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),_se(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),f_(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}});function LA(t,e){return new h_(e).encodeSharedRef(t)}var Bse=y(()=>{kse()});function m_(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}var Use=y(()=>{});var JDe,QDe,g_,Dse=y(()=>{u_();JDe=16,QDe=16,g_=class{constructor(e=JDe,r=QDe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){let s=this.caches[n-1];e:for(let i of s){let o=i.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return i.str}return null}store(e,r){let n=this.caches[e.length-1],s={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)}decode(e,r,n){let s=this.find(e,r,n);if(s!=null)return this.hit++,s;this.miss++;let i=jH(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,i),i}}});var GH,HA,Mse,XDe,ZH,$A,YH,eLe,Lse,tLe,y_,$se=y(()=>{Use();WH();p_();u_();KH();Dse();qH();GH="array",HA="map_key",Mse="map_value",XDe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new xa("The type of key must be string or number but "+typeof t)},ZH=class{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let r=this.getUninitializedStateFromPool();r.type=GH,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){let r=this.getUninitializedStateFromPool();r.type=HA,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===GH){let n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===HA||e.type===Mse){let n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}},$A=-1,YH=new DataView(new ArrayBuffer(0)),eLe=new Uint8Array(YH.buffer);try{YH.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}Lse=new RangeError("Insufficient data"),tLe=new g_,y_=class t{constructor(e){var r,n,s,i,o,a,c,l,u;this.totalPos=0,this.pos=0,this.view=YH,this.bytes=eLe,this.headByte=$A,this.stack=new ZH,this.entered=!1,this.extensionCodec=(r=e==null?void 0:e.extensionCodec)!=null?r:s1.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(n=e==null?void 0:e.useBigInt64)!=null?n:!1,this.rawStrings=(s=e==null?void 0:e.rawStrings)!=null?s:!1,this.maxStrLength=(i=e==null?void 0:e.maxStrLength)!=null?i:4294967295,this.maxBinLength=(o=e==null?void 0:e.maxBinLength)!=null?o:4294967295,this.maxArrayLength=(a=e==null?void 0:e.maxArrayLength)!=null?a:4294967295,this.maxMapLength=(c=e==null?void 0:e.maxMapLength)!=null?c:4294967295,this.maxExtLength=(l=e==null?void 0:e.maxExtLength)!=null?l:4294967295,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:tLe,this.mapKeyConverter=(u=e==null?void 0:e.mapKeyConverter)!=null?u:XDe}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=$A,this.stack.reset()}setBuffer(e){let r=DA(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===$A&&!this.hasRemaining(1))this.setBuffer(e);else{let r=this.bytes.subarray(this.pos),n=DA(e),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let r=this.clone();yield*L$(r.decodeMulti(e));return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let o=!1,a;try{for(var r=M$(e),n,s,i;n=!(s=await r.next()).done;n=!1){let f=s.value;if(o)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(f);try{a=this.doDecodeSync(),o=!0}catch(d){if(!(d instanceof RangeError))throw d}this.totalPos+=this.pos}}catch(s){i=[s]}finally{try{n&&(s=r.return)&&await s.call(r)}finally{if(i)throw i[0]}}if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return a}let{headByte:c,pos:l,totalPos:u}=this;throw new RangeError(`Insufficient data in parsing ${m_(c)} at ${u} (${l} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}decodeMultiAsync(e,r){return Tre(this,null,function*(){if(this.entered){let a=this.clone();yield*L$(a.decodeMultiAsync(e,r));return}try{this.entered=!0;let a=r,c=-1;try{for(var n=M$(e),s,i,o;s=!(i=yield new xA(n.next())).done;s=!1){let l=i.value;if(r&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(l),a&&(c=this.readArraySize(),a=!1,this.complete());try{for(;yield this.doDecodeSync(),--c!==0;);}catch(u){if(!(u instanceof RangeError))throw u}this.totalPos+=this.pos}}catch(i){o=[i]}finally{try{s&&(i=n.return)&&(yield new xA(i.call(n)))}finally{if(o)throw o[0]}}}finally{this.entered=!1}})}doDecodeSync(){e:for(;;){let e=this.readHeadByte(),r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){let s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e<160){let s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else{let s=e-160;r=this.decodeString(s,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){let s=this.lookU8();r=this.decodeString(s,1)}else if(e===218){let s=this.lookU16();r=this.decodeString(s,2)}else if(e===219){let s=this.lookU32();r=this.decodeString(s,4)}else if(e===220){let s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===221){let s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===222){let s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===223){let s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===196){let s=this.lookU8();r=this.decodeBinary(s,1)}else if(e===197){let s=this.lookU16();r=this.decodeBinary(s,2)}else if(e===198){let s=this.lookU32();r=this.decodeBinary(s,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){let s=this.lookU8();r=this.decodeExtension(s,1)}else if(e===200){let s=this.lookU16();r=this.decodeExtension(s,2)}else if(e===201){let s=this.lookU32();r=this.decodeExtension(s,4)}else throw new xa(`Unrecognized type byte: ${m_(e)}`);this.complete();let n=this.stack;for(;n.length>0;){let s=n.top();if(s.type===GH)if(s.array[s.position]=r,s.position++,s.position===s.size)r=s.array,n.release(s);else continue e;else if(s.type===HA){if(r==="__proto__")throw new xa("The key __proto__ is not allowed");s.key=this.mapKeyConverter(r),s.type=Mse;continue e}else if(s.map[s.key]=r,s.readCount++,s.readCount===s.size)r=s.map,n.release(s);else{s.key=null,s.type=HA;continue e}}return r}}readHeadByte(){return this.headByte===$A&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=$A}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new xa(`Unrecognized array type byte: ${m_(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new xa(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new xa(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var i;if(e>this.maxStrLength)throw new xa(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw Lse;let n=this.pos+r,s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,n,e):s=Tse(this.bytes,n,e),this.pos+=r+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===HA:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new xa(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw Lse;let n=this.pos+r,s=this.bytes.subarray(n,n+e);return this.pos+=r+e,s}decodeExtension(e,r){if(e>this.maxExtLength)throw new xa(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),s=this.decodeBinary(e,r+1);return this.extensionCodec.decode(s,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=Nse(this.view,this.pos);return this.pos+=8,e}readI64(){let e=d_(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}});function FA(t,e){return new y_(e).decode(t)}var Hse=y(()=>{$se()});var JH=y(()=>{Bse();Hse()});function Qs(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return nLe(t)}catch(e){return t}}function Ai(t){return typeof t=="string"?t:rLe(t)||""}var rLe,nLe,i1=y(()=>{rLe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),nLe=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)}});function sLe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function oie(t,...e){if(!sLe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Fse(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iLe(t,e){oie(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function oLe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function aie(t){return typeof t=="string"&&(t=oLe(t)),oie(t),t}function aLe(t){let e=n=>t().update(aie(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function cie(t=32){if(N8&&typeof N8.getRandomValues=="function")return N8.getRandomValues(new Uint8Array(t));if(N8&&typeof N8.randomBytes=="function")return N8.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function cLe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function lie(t,e=!1){return e?{h:Number(t&b_),l:Number(t>>cF&b_)}:{h:Number(t>>cF&b_)|0,l:Number(t&b_)|0}}function lLe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){let{h:i,l:o}=lie(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}function ALe(t,e,r,n){let s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}function vF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function EF(t){if(!vF(t))throw new Error("Uint8Array expected")}function XH(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function AF(t){EF(t);let e="";for(let r=0;r<t.length;r++)e+=BLe[t[r]];return e}function fie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?xF:BigInt("0x"+t)}function zse(t){if(t>=Mp._0&&t<=Mp._9)return t-Mp._0;if(t>=Mp.A&&t<=Mp.F)return t-(Mp.A-10);if(t>=Mp.a&&t<=Mp.f)return t-(Mp.a-10)}function die(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=zse(t.charCodeAt(i)),a=zse(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function ULe(t){return fie(AF(t))}function v_(t){return EF(t),fie(AF(Uint8Array.from(t).reverse()))}function pie(t,e){return die(t.toString(16).padStart(e*2,"0"))}function uF(t,e){return pie(t,e).reverse()}function $p(t,e,r){let n;if(typeof e=="string")try{n=die(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(vF(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function Vse(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];EF(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function DLe(t,e,r){return eF(t)&&eF(e)&&eF(r)&&e<=t&&t<r}function zA(t,e,r,n){if(!DLe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function LLe(t){let e;for(e=0;t>xF;t>>=uie,e+=1);return e}function CF(t,e,r={}){let n=(s,i,o)=>{let a=$Le[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return t}function jse(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}function Ms(t,e){let r=t%e;return r>=Xs?r:e+r}function FLe(t,e,r){if(e<Xs)throw new Error("invalid exponent, negatives unsupported");if(r<=Xs)throw new Error("invalid modulus");if(r===us)return Xs;let n=us;for(;e>Xs;)e&us&&(n=n*t%r),t=t*t%r,e>>=us;return n}function Zf(t,e,r){let n=t;for(;e-- >Xs;)n*=n,n%=r;return n}function Kse(t,e){if(t===Xs)throw new Error("invert: expected non-zero number");if(e<=Xs)throw new Error("invert: expected positive modulus, got "+e);let r=Ms(t,e),n=e,s=Xs,i=us;for(;r!==Xs;){let o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==us)throw new Error("invert: does not exist");return Ms(s,e)}function zLe(t){let e=(t-us)/Ab,r,n,s;for(r=t-us,n=0;r%Ab===Xs;r/=Ab,n++);for(s=Ab;s<t&&FLe(s,e,t)!==t-us;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let o=(t+us)/fF;return function(a,c){let l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}let i=(r+us)/Ab;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,s),r),u=o.pow(a,i),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let h=o.sqr(f);d<c&&!o.eql(h,o.ONE);d++)h=o.sqr(h);let p=o.pow(l,us<<BigInt(c-d-1));l=o.sqr(p),u=o.mul(u,p),f=o.mul(f,l),c=d}return u}}function VLe(t){if(t%fF===HLe){let e=(t+us)/fF;return function(r,n){let s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%Wse===qse){let e=(t-qse)/Wse;return function(r,n){let s=r.mul(n,Ab),i=r.pow(s,e),o=r.mul(n,i),a=r.mul(r.mul(o,Ab),i),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return zLe(t)}function WLe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=qLe.reduce((n,s)=>(n[s]="function",n),e);return CF(t,r)}function KLe(t,e,r){if(r<Xs)throw new Error("invalid exponent, negatives unsupported");if(r===Xs)return t.ONE;if(r===us)return e;let n=t.ONE,s=e;for(;r>Xs;)r&us&&(n=t.mul(n,s)),s=t.sqr(s),r>>=us;return n}function GLe(t,e){let r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function hie(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function mie(t,e,r=!1,n={}){if(t<=Xs)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:s,nByteLength:i}=hie(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:MLe(s),ZERO:Xs,ONE:us,create:c=>Ms(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Xs<=c&&c<t},is0:c=>c===Xs,isOdd:c=>(c&us)===us,neg:c=>Ms(-c,t),eql:(c,l)=>c===l,sqr:c=>Ms(c*c,t),add:(c,l)=>Ms(c+l,t),sub:(c,l)=>Ms(c-l,t),mul:(c,l)=>Ms(c*l,t),pow:(c,l)=>KLe(a,c,l),div:(c,l)=>Ms(c*Kse(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Kse(c,t),sqrt:n.sqrt||(c=>(o||(o=VLe(t)),o(a,c))),invertBatch:c=>GLe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?uF(c,i):pie(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?v_(c):ULe(c)}});return Object.freeze(a)}function tF(t,e){let r=e.negate();return t?r:e}function gie(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rF(t,e){gie(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function ZLe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function YLe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function sF(t){return yie.get(t)||1}function JLe(t,e){return{constTimeNegate:tF,hasPrecomputes(r){return sF(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>Gse;)n&w_&&(s=s.add(i)),i=i.double(),n>>=w_;return s},precomputeWindow(r,n){let{windows:s,windowSize:i}=rF(n,e),o=[],a=r,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let{windows:i,windowSize:o}=rF(r,e),a=t.ZERO,c=t.BASE,l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<i;d++){let p=d*o,h=Number(s&l);s>>=f,h>o&&(h-=u,s+=w_);let m=p,g=p+Math.abs(h)-1,b=d%2!==0,E=h<0;h===0?c=c.add(tF(b,n[m])):a=a.add(tF(E,n[g]))}return{p:a,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){let{windows:o,windowSize:a}=rF(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){let d=f*a;if(s===Gse)break;let p=Number(s&c);if(s>>=u,p>a&&(p-=l,s+=w_),p===0)continue;let h=n[d+Math.abs(p)-1];p<0&&(h=h.negate()),i=i.add(h)}return i},getPrecomputes(r,n,s){let i=nF.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&nF.set(n,s(i))),i},wNAFCached(r,n,s){let i=sF(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){let o=sF(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){gie(n,e),yie.set(r,n),nF.delete(r)}}}function QLe(t,e,r,n){if(ZLe(r,t),YLe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,i=LLe(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o,u=s;for(let f=l;f>=0;f-=o){c.fill(s);for(let p=0;p<n.length;p++){let h=n[p],m=Number(h>>BigInt(f)&BigInt(a));c[m]=c[m].add(r[p])}let d=s;for(let p=c.length-1,h=s;p>0;p--)h=h.add(c[p]),d=d.add(h);if(u=u.add(d),f!==0)for(let p=0;p<o;p++)u=u.double()}return u}function XLe(t){return WLe(t.Fp),CF(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(G(S(S({},hie(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}function rMe(t){let e=XLe(t);return CF(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(S({},e))}function nMe(t){let e=rMe(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=x_<<BigInt(a*8)-va,u=r.create,f=mie(e.n,e.nBitLength),d=e.uvRatio||((v,A)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(A))}}catch(R){return{isValid:!1,value:Iu}}}),p=e.adjustScalarBytes||(v=>v),h=e.domain||((v,A,R)=>{if(XH("phflag",R),A.length||R)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,A){zA("coordinate "+v,A,Iu,l)}function g(v){if(!(v instanceof w))throw new Error("ExtendedPoint expected")}let b=jse((v,A)=>{let{ex:R,ey:$,ez:k}=v,L=v.is0();A==null&&(A=L?eMe:r.inv(k));let q=u(R*A),Z=u($*A),ee=u(k*A);if(L)return{x:Iu,y:va};if(ee!==va)throw new Error("invZ was invalid");return{x:q,y:Z}}),E=jse(v=>{let{a:A,d:R}=e;if(v.is0())throw new Error("bad point: ZERO");let{ex:$,ey:k,ez:L,et:q}=v,Z=u($*$),ee=u(k*k),ae=u(L*L),re=u(ae*ae),we=u(Z*A),ie=u(ae*u(we+ee)),Te=u(re+u(R*u(Z*ee)));if(ie!==Te)throw new Error("bad point: equation left != right (1)");let be=u($*k),De=u(L*q);if(be!==De)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(A,R,$,k){this.ex=A,this.ey=R,this.ez=$,this.et=k,m("x",A),m("y",R),m("z",$),m("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof w)throw new Error("extended point not allowed");let{x:R,y:$}=A||{};return m("x",R),m("y",$),new w(R,$,va,u(R*$))}static normalizeZ(A){let R=r.invertBatch(A.map($=>$.ez));return A.map(($,k)=>$.toAffine(R[k])).map(w.fromAffine)}static msm(A,R){return QLe(w,f,A,R)}_setWindowSize(A){T.setWindowSize(this,A)}assertValidity(){E(this)}equals(A){g(A);let{ex:R,ey:$,ez:k}=this,{ex:L,ey:q,ez:Z}=A,ee=u(R*Z),ae=u(L*k),re=u($*Z),we=u(q*k);return ee===ae&&re===we}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:A}=e,{ex:R,ey:$,ez:k}=this,L=u(R*R),q=u($*$),Z=u(x_*u(k*k)),ee=u(A*L),ae=R+$,re=u(u(ae*ae)-L-q),we=ee+q,ie=we-Z,Te=ee-q,be=u(re*ie),De=u(we*Te),Et=u(re*Te),Pt=u(ie*we);return new w(be,De,Pt,Et)}add(A){g(A);let{a:R,d:$}=e,{ex:k,ey:L,ez:q,et:Z}=this,{ex:ee,ey:ae,ez:re,et:we}=A;if(R===BigInt(-1)){let bre=u((L-k)*(ae+ee)),wre=u((L+k)*(ae-ee)),R$=u(wre-bre);if(R$===Iu)return this.double();let xre=u(q*x_*we),vre=u(Z*x_*re),Ere=vre+xre,Are=wre+bre,Cre=vre-xre,tBe=u(Ere*R$),rBe=u(Are*Cre),nBe=u(Ere*Cre),sBe=u(R$*Are);return new w(tBe,rBe,sBe,nBe)}let ie=u(k*ee),Te=u(L*ae),be=u(Z*$*we),De=u(q*re),Et=u((k+L)*(ee+ae)-ie-Te),Pt=De-be,ut=De+be,Ut=u(Te-R*ie),bn=u(Et*Pt),Nn=u(ut*Ut),Xke=u(Et*Ut),eBe=u(Pt*ut);return new w(bn,Nn,eBe,Xke)}subtract(A){return this.add(A.negate())}wNAF(A){return T.wNAFCached(this,A,w.normalizeZ)}multiply(A){let R=A;zA("scalar",R,va,n);let{p:$,f:k}=this.wNAF(R);return w.normalizeZ([$,k])[0]}multiplyUnsafe(A,R=w.ZERO){let $=A;return zA("scalar",$,Iu,n),$===Iu?C:this.is0()||$===va?this:T.wNAFCachedUnsafe(this,$,w.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,n).is0()}toAffine(A){return b(this,A)}clearCofactor(){let{h:A}=e;return A===va?this:this.multiplyUnsafe(A)}static fromHex(A,R=!1){let{d:$,a:k}=e,L=r.BYTES;A=$p("pointHex",A,L),XH("zip215",R);let q=A.slice(),Z=A[L-1];q[L-1]=Z&-129;let ee=v_(q),ae=R?l:r.ORDER;zA("pointHex.y",ee,Iu,ae);let re=u(ee*ee),we=u(re-va),ie=u($*re-k),{isValid:Te,value:be}=d(we,ie);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");let De=(be&va)===va,Et=(Z&128)!==0;if(!R&&be===Iu&&Et)throw new Error("Point.fromHex: x=0 and x_0=1");return Et!==De&&(be=u(-be)),w.fromAffine({x:be,y:ee})}static fromPrivateKey(A){return O(A).point}toRawBytes(){let{x:A,y:R}=this.toAffine(),$=uF(R,r.BYTES);return $[$.length-1]|=A&va?128:0,$}toHex(){return AF(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,va,u(e.Gx*e.Gy)),w.ZERO=new w(Iu,va,va,Iu);let{BASE:x,ZERO:C}=w,T=JLe(w,a*8);function U(v){return Ms(v,n)}function B(v){return U(v_(v))}function O(v){let A=r.BYTES;v=$p("private key",v,A);let R=$p("hashed private key",i(v),2*A),$=p(R.slice(0,A)),k=R.slice(A,2*A),L=B($),q=x.multiply(L),Z=q.toRawBytes();return{head:$,prefix:k,scalar:L,point:q,pointBytes:Z}}function H(v){return O(v).pointBytes}function _(v=new Uint8Array,...A){let R=Vse(...A);return B(i(h(R,$p("context",v),!!s)))}function N(v,A,R={}){v=$p("message",v),s&&(v=s(v));let{prefix:$,scalar:k,pointBytes:L}=O(A),q=_(R.context,$,v),Z=x.multiply(q).toRawBytes(),ee=_(R.context,Z,L,v),ae=U(q+ee*k);zA("signature.s",ae,Iu,n);let re=Vse(Z,uF(ae,r.BYTES));return $p("result",re,r.BYTES*2)}let I=tMe;function D(v,A,R,$=I){let{context:k,zip215:L}=$,q=r.BYTES;v=$p("signature",v,2*q),A=$p("message",A),R=$p("publicKey",R,q),L!==void 0&&XH("zip215",L),s&&(A=s(A));let Z=v_(v.slice(q,2*q)),ee,ae,re;try{ee=w.fromHex(R,L),ae=w.fromHex(v.slice(0,q),L),re=x.multiplyUnsafe(Z)}catch(ie){return!1}if(!L&&ee.isSmallOrder())return!1;let we=_(k,ae.toRawBytes(),ee.toRawBytes(),A);return ae.add(ee.multiplyUnsafe(we)).subtract(re).clearCofactor().equals(w.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:N,verify:D,ExtendedPoint:w,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>o(r.BYTES),precompute(v=8,A=w.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}}}}function aMe(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=SF,o=t*t%i*t%i,a=Zf(o,Yse,i)*o%i,c=Zf(a,sMe,i)*t%i,l=Zf(c,iMe,i)*c%i,u=Zf(l,e,i)*l%i,f=Zf(u,r,i)*u%i,d=Zf(f,n,i)*f%i,p=Zf(d,s,i)*d%i,h=Zf(p,s,i)*d%i,m=Zf(h,e,i)*l%i;return{pow_p_5_8:Zf(m,Yse,i)*t%i,b2:o}}function cMe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function lMe(t,e){let r=SF,n=Ms(e*e*e,r),s=Ms(n*n*e,r),i=aMe(t*s).pow_p_5_8,o=Ms(t*n*i,r),a=Ms(e*o*o,r),c=o,l=Ms(o*Zse,r),u=a===t,f=a===Ms(-t,r),d=a===Ms(-t*Zse,r);return u&&(o=c),(f||d)&&(o=l),jLe(o,r)&&(o=Ms(-o,r)),{isValid:u||f,value:o}}function IF(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vie(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?IF(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Eie(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));let r=vie(e),n=0;for(let s of t)r.set(s,n),n+=s.length;return IF(r)}function xMe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,b=0,E=h.length;b!==E&&h[b]===0;)b++,m++;for(var w=(E-b)*u+1>>>0,x=new Uint8Array(w);b!==E;){for(var C=h[b],T=0,U=w-1;(C!==0||T<g)&&U!==-1;U--,T++)C+=256*x[U]>>>0,x[U]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");g=T,b++}for(var B=w-g;B!==w&&x[B]===0;)B++;for(var O=c.repeat(m);B<w;++B)O+=t.charAt(x[B]);return O}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,b=0;h[m]===c;)g++,m++;for(var E=(h.length-m)*l+1>>>0,w=new Uint8Array(E);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var C=0,T=E-1;(x!==0||C<b)&&T!==-1;T--,C++)x+=a*w[T]>>>0,w[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");b=C,m++}if(h[m]!==" "){for(var U=E-b;U!==E&&w[U]===0;)U++;for(var B=new Uint8Array(g+(E-U)),O=g;U!==E;)B[O++]=w[U++];return B}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}function a$e(t){return t.reduce((e,r)=>(e+=i$e[r],e),"")}function c$e(t){let e=[];for(let r of t){let n=o$e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}function Iie(t,e,r){e=e||[],r=r||0;for(var n=r;t>=h$e;)e[r++]=t&255|Qse,t/=128;for(;t&p$e;)e[r++]=t&255|Qse,t>>>=7;return e[r]=t|0,Iie.bytes=r-n+1,e}function gF(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw gF.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&Xse)<<s:(o&Xse)*Math.pow(2,s),s+=7}while(o>=g$e);return gF.bytes=i-n,r}function Rie(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}function I_(t,e="utf8"){let r=kie[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function O8(t,e="utf8"){let r=kie[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?IF(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function sie(t){return Qs(I_(O8(t,C_),wie))}function A_(t){return I_(O8(Ai(t),wie),C_)}function jA(t){let e=O8(bMe,Jse),r=yMe+I_(Eie([e,t]),Jse);return[mMe,gMe,r].join(hMe)}function U$e(t){return I_(t,C_)}function D$e(t){return O8(t,C_)}function L$e(t){return O8([A_(t.header),A_(t.payload)].join(E_),xie)}function M$e(t){return[A_(t.header),A_(t.payload),U$e(t.signature)].join(E_)}function Yf(t){let e=t.split(E_),r=sie(e[0]),n=sie(e[1]),s=D$e(e[2]),i=O8(e.slice(0,2).join(E_),xie);return{header:r,payload:n,signature:s,data:i}}function R8(t=cie(wMe)){let e=bie.getPublicKey(t);return{secretKey:Eie([t,e]),publicKey:e}}async function T_(t,e,r,n,s=(0,iie.fromMiliseconds)(Date.now())){let i={alg:dMe,typ:pMe},o=jA(n.publicKey),a=s+r,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=L$e({header:i,payload:c}),u=bie.sign(l,n.secretKey.slice(0,32));return M$e({header:i,payload:c,signature:u})}var iie,N8,QH,oF,aF,b_,cF,uLe,fLe,dLe,pLe,hLe,mLe,gLe,yLe,bLe,wLe,xLe,vLe,ELe,CLe,SLe,ILe,TLe,PLe,_Le,zt,NLe,OLe,o1,a1,lF,RLe,xF,uie,kLe,BLe,Mp,eF,MLe,$Le,Xs,us,Ab,HLe,fF,qse,Wse,jLe,qLe,Gse,w_,nF,yie,Iu,va,x_,eMe,tMe,SF,Zse,sMe,Yse,iMe,oMe,uMe,fMe,bie,dMe,pMe,E_,C_,wie,xie,hMe,mMe,gMe,Jse,yMe,bMe,wMe,vMe,EMe,Aie,AMe,CMe,dF,pF,hF,Cie,mF,S_,VA,SMe,IMe,Ci,TMe,PMe,_Me,NMe,OMe,RMe,kMe,BMe,UMe,DMe,LMe,MMe,$Me,HMe,FMe,zMe,VMe,jMe,qMe,WMe,KMe,GMe,ZMe,YMe,JMe,QMe,XMe,e$e,t$e,r$e,n$e,s$e,Sie,i$e,o$e,l$e,u$e,f$e,Qse,d$e,p$e,h$e,m$e,g$e,Xse,y$e,b$e,w$e,x$e,v$e,E$e,A$e,C$e,S$e,I$e,T$e,Tie,eie,tie,yF,bF,Pie,wF,_ie,P$e,_$e,N$e,Nie,O$e,Oie,R$e,k$e,B$e,rie,nie,iF,kie,Cb=y(()=>{iie=pr(Np());i1();N8=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;QH=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);oF=class{clone(){return this._cloneInto()}};aF=class extends oF{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=QH(this.buffer)}update(e){Fse(this);let{view:r,buffer:n,blockLen:s}=this;e=aie(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=QH(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fse(this),iLe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;cLe(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=QH(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}},b_=BigInt(2**32-1),cF=BigInt(32);uLe=(t,e)=>BigInt(t>>>0)<<cF|BigInt(e>>>0),fLe=(t,e,r)=>t>>>r,dLe=(t,e,r)=>t<<32-r|e>>>r,pLe=(t,e,r)=>t>>>r|e<<32-r,hLe=(t,e,r)=>t<<32-r|e>>>r,mLe=(t,e,r)=>t<<64-r|e>>>r-32,gLe=(t,e,r)=>t>>>r-32|e<<64-r,yLe=(t,e)=>e,bLe=(t,e)=>t,wLe=(t,e,r)=>t<<r|e>>>32-r,xLe=(t,e,r)=>e<<r|t>>>32-r,vLe=(t,e,r)=>e<<r-32|t>>>64-r,ELe=(t,e,r)=>t<<r-32|e>>>64-r;CLe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),SLe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,ILe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),TLe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,PLe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),_Le=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,zt={fromBig:lie,split:lLe,toBig:uLe,shrSH:fLe,shrSL:dLe,rotrSH:pLe,rotrSL:hLe,rotrBH:mLe,rotrBL:gLe,rotr32H:yLe,rotr32L:bLe,rotlSH:wLe,rotlSL:xLe,rotlBH:vLe,rotlBL:ELe,add:ALe,add3L:CLe,add3H:SLe,add4L:ILe,add4H:TLe,add5H:_Le,add5L:PLe},[NLe,OLe]=zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),o1=new Uint32Array(80),a1=new Uint32Array(80),lF=class extends aF{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let w=0;w<16;w++,r+=4)o1[w]=e.getUint32(r),a1[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){let x=o1[w-15]|0,C=a1[w-15]|0,T=zt.rotrSH(x,C,1)^zt.rotrSH(x,C,8)^zt.shrSH(x,C,7),U=zt.rotrSL(x,C,1)^zt.rotrSL(x,C,8)^zt.shrSL(x,C,7),B=o1[w-2]|0,O=a1[w-2]|0,H=zt.rotrSH(B,O,19)^zt.rotrBH(B,O,61)^zt.shrSH(B,O,6),_=zt.rotrSL(B,O,19)^zt.rotrBL(B,O,61)^zt.shrSL(B,O,6),N=zt.add4L(U,_,a1[w-7],a1[w-16]),I=zt.add4H(N,T,H,o1[w-7],o1[w-16]);o1[w]=I|0,a1[w]=N|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:b,Hl:E}=this;for(let w=0;w<80;w++){let x=zt.rotrSH(f,d,14)^zt.rotrSH(f,d,18)^zt.rotrBH(f,d,41),C=zt.rotrSL(f,d,14)^zt.rotrSL(f,d,18)^zt.rotrBL(f,d,41),T=f&p^~f&m,U=d&h^~d&g,B=zt.add5L(E,C,U,OLe[w],a1[w]),O=zt.add5H(B,b,x,T,NLe[w],o1[w]),H=B|0,_=zt.rotrSH(n,s,28)^zt.rotrBH(n,s,34)^zt.rotrBH(n,s,39),N=zt.rotrSL(n,s,28)^zt.rotrBL(n,s,34)^zt.rotrBL(n,s,39),I=n&i^n&a^i&a,D=s&o^s&c^o&c;b=m|0,E=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=zt.add(l|0,u|0,O|0,H|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let v=zt.add3L(H,N,D);n=zt.add3H(v,O,_,I),s=v|0}({h:n,l:s}=zt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=zt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=zt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=zt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=zt.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=zt.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=zt.add(this.Gh|0,this.Gl|0,m|0,g|0),{h:b,l:E}=zt.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,s,i,o,a,c,l,u,f,d,p,h,m,g,b,E)}roundClean(){o1.fill(0),a1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},RLe=aLe(()=>new lF);xF=BigInt(0),uie=BigInt(1),kLe=BigInt(2);BLe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Mp={_0:48,_9:57,A:65,F:70,a:97,f:102};eF=t=>typeof t=="bigint"&&xF<=t;MLe=t=>(kLe<<BigInt(t-1))-uie,$Le={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||vF(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};Xs=BigInt(0),us=BigInt(1),Ab=BigInt(2),HLe=BigInt(3),fF=BigInt(4),qse=BigInt(5),Wse=BigInt(8);jLe=(t,e)=>(Ms(t,e)&us)===us,qLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];Gse=BigInt(0),w_=BigInt(1);nF=new WeakMap,yie=new WeakMap;Iu=BigInt(0),va=BigInt(1),x_=BigInt(2),eMe=BigInt(8),tMe={zip215:!0};BigInt(0),BigInt(1);SF=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Zse=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);sMe=BigInt(1),Yse=BigInt(2);BigInt(3);iMe=BigInt(5),oMe=BigInt(8);uMe=mie(SF,void 0,!0),fMe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:uMe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:oMe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:RLe,randomBytes:cie,adjustScalarBytes:cMe,uvRatio:lMe},bie=nMe(fMe),dMe="EdDSA",pMe="JWT",E_=".",C_="base64url",wie="utf8",xie="utf8",hMe=":",mMe="did",gMe="key",Jse="base58btc",yMe="z",bMe="K36",wMe=32;vMe=xMe,EMe=vMe,Aie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},AMe=t=>new TextEncoder().encode(t),CMe=t=>new TextDecoder().decode(t),dF=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},pF=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Cie(this,e)}},hF=class{constructor(e){this.decoders=e}or(e){return Cie(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Cie=(t,e)=>new hF(S(S({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),mF=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new dF(e,r,n),this.decoder=new pF(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},S_=({name:t,prefix:e,encode:r,decode:n})=>new mF(t,e,r,n),VA=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:s}=EMe(r,e);return S_({prefix:t,name:e,encode:n,decode:i=>Aie(s(i))})},SMe=(t,e,r,n)=>{let s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;let o=new Uint8Array(i*r/8|0),a=0,c=0,l=0;for(let u=0;u<i;++u){let f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},IMe=(t,e,r)=>{let n=e[e.length-1]==="=",s=(1<<r)-1,i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Ci=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>S_({prefix:e,name:t,encode(s){return IMe(s,n,r)},decode(s){return SMe(s,n,r,t)}}),TMe=S_({prefix:"\0",name:"identity",encode:t=>CMe(t),decode:t=>AMe(t)}),PMe=Object.freeze({__proto__:null,identity:TMe}),_Me=Ci({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),NMe=Object.freeze({__proto__:null,base2:_Me}),OMe=Ci({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),RMe=Object.freeze({__proto__:null,base8:OMe}),kMe=VA({prefix:"9",name:"base10",alphabet:"0123456789"}),BMe=Object.freeze({__proto__:null,base10:kMe}),UMe=Ci({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),DMe=Ci({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),LMe=Object.freeze({__proto__:null,base16:UMe,base16upper:DMe}),MMe=Ci({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$Me=Ci({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),HMe=Ci({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),FMe=Ci({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zMe=Ci({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VMe=Ci({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jMe=Ci({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qMe=Ci({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WMe=Ci({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),KMe=Object.freeze({__proto__:null,base32:MMe,base32upper:$Me,base32pad:HMe,base32padupper:FMe,base32hex:zMe,base32hexupper:VMe,base32hexpad:jMe,base32hexpadupper:qMe,base32z:WMe}),GMe=VA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ZMe=VA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),YMe=Object.freeze({__proto__:null,base36:GMe,base36upper:ZMe}),JMe=VA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),QMe=VA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),XMe=Object.freeze({__proto__:null,base58btc:JMe,base58flickr:QMe}),e$e=Ci({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t$e=Ci({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),r$e=Ci({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),n$e=Ci({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),s$e=Object.freeze({__proto__:null,base64:e$e,base64pad:t$e,base64url:r$e,base64urlpad:n$e}),Sie=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),i$e=Sie.reduce((t,e,r)=>(t[r]=e,t),[]),o$e=Sie.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);l$e=S_({prefix:"\u{1F680}",name:"base256emoji",encode:a$e,decode:c$e}),u$e=Object.freeze({__proto__:null,base256emoji:l$e}),f$e=Iie,Qse=128,d$e=127,p$e=~d$e,h$e=Math.pow(2,31);m$e=gF,g$e=128,Xse=127;y$e=Math.pow(2,7),b$e=Math.pow(2,14),w$e=Math.pow(2,21),x$e=Math.pow(2,28),v$e=Math.pow(2,35),E$e=Math.pow(2,42),A$e=Math.pow(2,49),C$e=Math.pow(2,56),S$e=Math.pow(2,63),I$e=function(t){return t<y$e?1:t<b$e?2:t<w$e?3:t<x$e?4:t<v$e?5:t<E$e?6:t<A$e?7:t<C$e?8:t<S$e?9:10},T$e={encode:f$e,decode:m$e,encodingLength:I$e},Tie=T$e,eie=(t,e,r=0)=>(Tie.encode(t,e,r),e),tie=t=>Tie.encodingLength(t),yF=(t,e)=>{let r=e.byteLength,n=tie(t),s=n+tie(r),i=new Uint8Array(s+r);return eie(t,i,0),eie(r,i,n),i.set(e,s),new bF(t,r,e,i)},bF=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}},Pie=({name:t,code:e,encode:r})=>new wF(t,e,r),wF=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?yF(this.code,r):r.then(n=>yF(this.code,n))}else throw Error("Unknown type, must be binary type")}},_ie=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),P$e=Pie({name:"sha2-256",code:18,encode:_ie("SHA-256")}),_$e=Pie({name:"sha2-512",code:19,encode:_ie("SHA-512")}),N$e=Object.freeze({__proto__:null,sha256:P$e,sha512:_$e}),Nie=0,O$e="identity",Oie=Aie,R$e=t=>yF(Nie,Oie(t)),k$e={code:Nie,name:O$e,encode:Oie,digest:R$e},B$e=Object.freeze({__proto__:null,identity:k$e});new TextEncoder,new TextDecoder;rie=S(S(S(S(S(S(S(S(S(S({},PMe),NMe),RMe),BMe),LMe),KMe),YMe),XMe),s$e),u$e);S(S({},N$e),B$e);nie=Rie("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),iF=Rie("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=vie(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),kie=S({utf8:nie,"utf-8":nie,hex:rie.base16,latin1:iF,ascii:iF,binary:iF},rie)});var Uie=y(()=>{});function Sb(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var qA=y(()=>{});function WA(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Sb(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var P_=y(()=>{qA()});function bc(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));let r=WA(e),n=0;for(let s of t)r.set(s,n),n+=s.length;return Sb(r)}var Die=y(()=>{P_();qA()});var Lie=y(()=>{});function $$e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,b=0,E=h.length;b!==E&&h[b]===0;)b++,m++;for(var w=(E-b)*u+1>>>0,x=new Uint8Array(w);b!==E;){for(var C=h[b],T=0,U=w-1;(C!==0||T<g)&&U!==-1;U--,T++)C+=256*x[U]>>>0,x[U]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");g=T,b++}for(var B=w-g;B!==w&&x[B]===0;)B++;for(var O=c.repeat(m);B<w;++B)O+=t.charAt(x[B]);return O}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,b=0;h[m]===c;)g++,m++;for(var E=(h.length-m)*l+1>>>0,w=new Uint8Array(E);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var C=0,T=E-1;(x!==0||C<b)&&T!==-1;T--,C++)x+=a*w[T]>>>0,w[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");b=C,m++}if(h[m]!==" "){for(var U=E-b;U!==E&&w[U]===0;)U++;for(var B=new Uint8Array(g+(E-U)),O=g;U!==E;)B[O++]=w[U++];return B}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var H$e,F$e,Mie,$ie=y(()=>{H$e=$$e,F$e=H$e,Mie=F$e});var E4t,Hie,Hp,Fie,zie,c1=y(()=>{E4t=new Uint8Array(0),Hie=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Hp=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fie=t=>new TextEncoder().encode(t),zie=t=>new TextDecoder().decode(t)});var TF,PF,_F,jie,NF,k8,l1,z$e,V$e,es,Tu=y(()=>{$ie();c1();TF=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},PF=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return jie(this,e)}},_F=class{constructor(e){this.decoders=e}or(e){return jie(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},jie=(t,e)=>new _F(S(S({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),NF=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new TF(e,r,n),this.decoder=new PF(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},k8=({name:t,prefix:e,encode:r,decode:n})=>new NF(t,e,r,n),l1=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:s}=Mie(r,e);return k8({prefix:t,name:e,encode:n,decode:i=>Hp(s(i))})},z$e=(t,e,r,n)=>{let s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;let o=new Uint8Array(i*r/8|0),a=0,c=0,l=0;for(let u=0;u<i;++u){let f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},V$e=(t,e,r)=>{let n=e[e.length-1]==="=",s=(1<<r)-1,i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},es=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>k8({prefix:e,name:t,encode(s){return V$e(s,n,r)},decode(s){return z$e(s,n,r,t)}})});var OF={};Me(OF,{identity:()=>j$e});var j$e,qie=y(()=>{Tu();c1();j$e=k8({prefix:"\0",name:"identity",encode:t=>zie(t),decode:t=>Fie(t)})});var RF={};Me(RF,{base2:()=>q$e});var q$e,Wie=y(()=>{Tu();q$e=es({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var kF={};Me(kF,{base8:()=>W$e});var W$e,Kie=y(()=>{Tu();W$e=es({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var BF={};Me(BF,{base10:()=>K$e});var K$e,Gie=y(()=>{Tu();K$e=l1({prefix:"9",name:"base10",alphabet:"0123456789"})});var UF={};Me(UF,{base16:()=>G$e,base16upper:()=>Z$e});var G$e,Z$e,Zie=y(()=>{Tu();G$e=es({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Z$e=es({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var DF={};Me(DF,{base32:()=>B8,base32hex:()=>X$e,base32hexpad:()=>tHe,base32hexpadupper:()=>rHe,base32hexupper:()=>eHe,base32pad:()=>J$e,base32padupper:()=>Q$e,base32upper:()=>Y$e,base32z:()=>nHe});var B8,Y$e,J$e,Q$e,X$e,eHe,tHe,rHe,nHe,LF=y(()=>{Tu();B8=es({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Y$e=es({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),J$e=es({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Q$e=es({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),X$e=es({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eHe=es({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tHe=es({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rHe=es({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nHe=es({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var MF={};Me(MF,{base36:()=>sHe,base36upper:()=>iHe});var sHe,iHe,Yie=y(()=>{Tu();sHe=l1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),iHe=l1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var $F={};Me($F,{base58btc:()=>Jf,base58flickr:()=>oHe});var Jf,oHe,HF=y(()=>{Tu();Jf=l1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oHe=l1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var FF={};Me(FF,{base64:()=>aHe,base64pad:()=>cHe,base64url:()=>lHe,base64urlpad:()=>uHe});var aHe,cHe,lHe,uHe,Jie=y(()=>{Tu();aHe=es({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cHe=es({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lHe=es({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uHe=es({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var zF={};Me(zF,{base256emoji:()=>mHe});function pHe(t){return t.reduce((e,r)=>(e+=fHe[r],e),"")}function hHe(t){let e=[];for(let r of t){let n=dHe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Qie,fHe,dHe,mHe,Xie=y(()=>{Tu();Qie=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),fHe=Qie.reduce((t,e,r)=>(t[r]=e,t),[]),dHe=Qie.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);mHe=k8({prefix:"\u{1F680}",name:"base256emoji",encode:pHe,decode:hHe})});function roe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=wHe;)e[r++]=t&255|eoe,t/=128;for(;t&bHe;)e[r++]=t&255|eoe,t>>>=7;return e[r]=t|0,roe.bytes=r-n+1,e}function VF(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw VF.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&toe)<<s:(o&toe)*Math.pow(2,s),s+=7}while(o>=vHe);return VF.bytes=i-n,r}var gHe,eoe,yHe,bHe,wHe,xHe,vHe,toe,EHe,AHe,CHe,SHe,IHe,THe,PHe,_He,NHe,OHe,RHe,kHe,KA,noe=y(()=>{gHe=roe,eoe=128,yHe=127,bHe=~yHe,wHe=Math.pow(2,31);xHe=VF,vHe=128,toe=127;EHe=Math.pow(2,7),AHe=Math.pow(2,14),CHe=Math.pow(2,21),SHe=Math.pow(2,28),IHe=Math.pow(2,35),THe=Math.pow(2,42),PHe=Math.pow(2,49),_He=Math.pow(2,56),NHe=Math.pow(2,63),OHe=function(t){return t<EHe?1:t<AHe?2:t<CHe?3:t<SHe?4:t<IHe?5:t<THe?6:t<PHe?7:t<_He?8:t<NHe?9:10},RHe={encode:gHe,decode:xHe,encodingLength:OHe},kHe=RHe,KA=kHe});var GA,U8,D8,N_=y(()=>{noe();GA=(t,e=0)=>[KA.decode(t,e),KA.decode.bytes],U8=(t,e,r=0)=>(KA.encode(t,e,r),e),D8=t=>KA.encodingLength(t)});var Ib,soe,ioe,L8,YA=y(()=>{c1();N_();Ib=(t,e)=>{let r=e.byteLength,n=D8(t),s=n+D8(r),i=new Uint8Array(s+r);return U8(t,i,0),U8(r,i,n),i.set(e,s),new L8(t,r,e,i)},soe=t=>{let e=Hp(t),[r,n]=GA(e),[s,i]=GA(e.subarray(n)),o=e.subarray(n+i);if(o.byteLength!==s)throw new Error("Incorrect length");return new L8(r,s,o,e)},ioe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Hie(t.bytes,e.bytes),L8=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}});var qF,jF,WF=y(()=>{YA();qF=({name:t,code:e,encode:r})=>new jF(t,e,r),jF=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Ib(this.code,r):r.then(n=>Ib(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var KF={};Me(KF,{sha256:()=>BHe,sha512:()=>UHe});var aoe,BHe,UHe,coe=y(()=>{WF();aoe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),BHe=qF({name:"sha2-256",code:18,encode:aoe("SHA-256")}),UHe=qF({name:"sha2-512",code:19,encode:aoe("SHA-512")})});var GF={};Me(GF,{identity:()=>MHe});var loe,DHe,uoe,LHe,MHe,foe=y(()=>{c1();YA();loe=0,DHe="identity",uoe=Hp,LHe=t=>Ib(loe,uoe(t)),MHe={code:loe,name:DHe,encode:uoe,digest:LHe}});var doe=y(()=>{c1()});var j4t,q4t,poe=y(()=>{j4t=new TextEncoder,q4t=new TextDecoder});var k_,FHe,zHe,VHe,JA,jHe,hoe,moe,O_,R_,qHe,WHe,KHe,goe=y(()=>{N_();YA();HF();LF();c1();k_=class t{constructor(e,r,n,s){this.code=r,this.version=e,this.multihash=n,this.bytes=s,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:R_,byteLength:R_,code:O_,version:O_,multihash:O_,bytes:O_,_baseCache:R_,asCID:R_})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==JA)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==jHe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Ib(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ioe(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:s}=this;return n===0?zHe(r,s,e||Jf.encoder):VHe(r,s,e||B8.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return WHe(/^0\.0/,KHe),!!(e&&(e[moe]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:s,bytes:i}=e;return new t(r,n,s,i||hoe(r,n,s.bytes))}else if(e!=null&&e[moe]===!0){let{version:r,multihash:n,code:s}=e,i=soe(n);return t.create(r,s,i)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==JA)throw new Error(`Version 0 CID must use dag-pb (code: ${JA}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let s=hoe(e,r,n.bytes);return new t(e,r,n,s)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,JA,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,s=Hp(e.subarray(n,n+r.multihashSize));if(s.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=s.subarray(r.multihashSize-r.digestSize),o=new L8(r.multihashCode,r.digestSize,i,s);return[r.version===0?t.createV0(o):t.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[f,d]=GA(e.subarray(r));return r+=d,f},s=n(),i=JA;if(s===18?(s=0,r=0):s===1&&(i=n()),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);let o=r,a=n(),c=n(),l=r+c,u=l-o;return{version:s,codec:i,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(e,r){let[n,s]=FHe(e,r),i=t.decode(s);return i._baseCache.set(n,e),i}},FHe=(t,e)=>{switch(t[0]){case"Q":{let r=e||Jf;return[Jf.prefix,r.decode(`${Jf.prefix}${t}`)]}case Jf.prefix:{let r=e||Jf;return[Jf.prefix,r.decode(t)]}case B8.prefix:{let r=e||B8;return[B8.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},zHe=(t,e,r)=>{let{prefix:n}=r;if(n!==Jf.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let s=e.get(n);if(s==null){let i=r.encode(t).slice(1);return e.set(n,i),i}else return s},VHe=(t,e,r)=>{let{prefix:n}=r,s=e.get(n);if(s==null){let i=r.encode(t);return e.set(n,i),i}else return s},JA=112,jHe=18,hoe=(t,e,r)=>{let n=D8(t),s=n+D8(e),i=new Uint8Array(s+r.byteLength);return U8(t,i,0),U8(e,i,n),i.set(r,s),i},moe=Symbol.for("@ipld/js-cid/CID"),O_={writable:!1,configurable:!1,enumerable:!0},R_={writable:!1,enumerable:!1,configurable:!1},qHe="0.0.0-dev",WHe=(t,e)=>{if(t.test(qHe))console.warn(e);else throw new Error(e)},KHe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var yoe=y(()=>{goe();N_();c1();WF();YA()});var ZF,X4t,boe=y(()=>{qie();Wie();Kie();Gie();Zie();LF();Yie();HF();Jie();Xie();coe();foe();doe();poe();yoe();ZF=S(S(S(S(S(S(S(S(S(S({},OF),RF),kF),BF),UF),DF),MF),$F),FF),zF),X4t=S(S({},KF),GF)});function xoe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var woe,YF,GHe,B_,JF=y(()=>{boe();P_();woe=xoe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),YF=xoe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=WA(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),GHe=S({utf8:woe,"utf-8":woe,hex:ZF.base16,latin1:YF,ascii:YF,binary:YF},ZF),B_=GHe});function cn(t,e="utf8"){let r=B_[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Sb(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var voe=y(()=>{JF();qA()});function wr(t,e="utf8"){let r=B_[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Eoe=y(()=>{JF()});var Aoe=y(()=>{P_();qA()});var QA=y(()=>{Uie();Die();Lie();voe();Eoe();Aoe()});var U_,QF=y(()=>{U_={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var XF=Ct((S3t,Coe)=>{var ZHe="Input must be an string, Buffer or Uint8Array";function YHe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(ZHe);return e}function JHe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function D_(t){return(4294967296+t).toString(16).substring(1)}function QHe(t,e,r){let n=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(r===32)n+=D_(e[s]).toUpperCase(),n+=" ",n+=D_(e[s+1]).toUpperCase();else if(r===64)n+=D_(e[s+1]).toUpperCase(),n+=D_(e[s]).toUpperCase();else throw new Error("Invalid size "+r);s%6===4?n+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(n+=" ")}console.log(n)}function XHe(t,e,r){let n=new Date().getTime(),s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;let i=new Date().getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let o=0;o<r;o++){let a=t(s),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}Coe.exports={normalizeInput:YHe,toHex:JHe,debugPrint:QHe,testSpeed:XHe}});var koe=Ct((I3t,Roe)=>{var M_=XF();function L_(t,e,r){let n=t[e]+t[r],s=t[e+1]+t[r+1];n>=4294967296&&s++,t[e]=n,t[e+1]=s}function Soe(t,e,r,n){let s=t[e]+r;r<0&&(s+=4294967296);let i=t[e+1]+n;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function Ioe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function u1(t,e,r,n,s,i){let o=XA[s],a=XA[s+1],c=XA[i],l=XA[i+1];L_($t,t,e),Soe($t,t,o,a);let u=$t[n]^$t[t],f=$t[n+1]^$t[t+1];$t[n]=f,$t[n+1]=u,L_($t,r,n),u=$t[e]^$t[r],f=$t[e+1]^$t[r+1],$t[e]=u>>>24^f<<8,$t[e+1]=f>>>24^u<<8,L_($t,t,e),Soe($t,t,c,l),u=$t[n]^$t[t],f=$t[n+1]^$t[t+1],$t[n]=u>>>16^f<<16,$t[n+1]=f>>>16^u<<16,L_($t,r,n),u=$t[e]^$t[r],f=$t[e+1]^$t[r+1],$t[e]=f>>>31^u<<1,$t[e+1]=u>>>31^f<<1}var Toe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eFe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Gi=new Uint8Array(eFe.map(function(t){return t*2})),$t=new Uint32Array(32),XA=new Uint32Array(32);function Poe(t,e){let r=0;for(r=0;r<16;r++)$t[r]=t.h[r],$t[r+16]=Toe[r];for($t[24]=$t[24]^t.t,$t[25]=$t[25]^t.t/4294967296,e&&($t[28]=~$t[28],$t[29]=~$t[29]),r=0;r<32;r++)XA[r]=Ioe(t.b,4*r);for(r=0;r<12;r++)u1(0,8,16,24,Gi[r*16+0],Gi[r*16+1]),u1(2,10,18,26,Gi[r*16+2],Gi[r*16+3]),u1(4,12,20,28,Gi[r*16+4],Gi[r*16+5]),u1(6,14,22,30,Gi[r*16+6],Gi[r*16+7]),u1(0,10,20,30,Gi[r*16+8],Gi[r*16+9]),u1(2,12,22,24,Gi[r*16+10],Gi[r*16+11]),u1(4,14,16,26,Gi[r*16+12],Gi[r*16+13]),u1(6,8,18,28,Gi[r*16+14],Gi[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^$t[r]^$t[r+16]}var f1=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function _oe(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");let s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};f1.fill(0),f1[0]=t,e&&(f1[1]=e.length),f1[2]=1,f1[3]=1,r&&f1.set(r,32),n&&f1.set(n,48);for(let i=0;i<16;i++)s.h[i]=Toe[i]^Ioe(f1,i*4);return e&&(ez(s,e),s.c=128),s}function ez(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Poe(t,!1),t.c=0),t.b[t.c++]=e[r]}function Noe(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Poe(t,!0);let e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Ooe(t,e,r,n,s){r=r||64,t=M_.normalizeInput(t),n&&(n=M_.normalizeInput(n)),s&&(s=M_.normalizeInput(s));let i=_oe(r,e,n,s);return ez(i,t),Noe(i)}function tFe(t,e,r,n,s){let i=Ooe(t,e,r,n,s);return M_.toHex(i)}Roe.exports={blake2b:Ooe,blake2bHex:tFe,blake2bInit:_oe,blake2bUpdate:ez,blake2bFinal:Noe}});var Foe=Ct((T3t,Hoe)=>{var Boe=XF();function rFe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function d1(t,e,r,n,s,i){Cr[t]=Cr[t]+Cr[e]+s,Cr[n]=$_(Cr[n]^Cr[t],16),Cr[r]=Cr[r]+Cr[n],Cr[e]=$_(Cr[e]^Cr[r],12),Cr[t]=Cr[t]+Cr[e]+i,Cr[n]=$_(Cr[n]^Cr[t],8),Cr[r]=Cr[r]+Cr[n],Cr[e]=$_(Cr[e]^Cr[r],7)}function $_(t,e){return t>>>e^t<<32-e}var Uoe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zi=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Cr=new Uint32Array(16),Si=new Uint32Array(16);function Doe(t,e){let r=0;for(r=0;r<8;r++)Cr[r]=t.h[r],Cr[r+8]=Uoe[r];for(Cr[12]^=t.t,Cr[13]^=t.t/4294967296,e&&(Cr[14]=~Cr[14]),r=0;r<16;r++)Si[r]=rFe(t.b,4*r);for(r=0;r<10;r++)d1(0,4,8,12,Si[Zi[r*16+0]],Si[Zi[r*16+1]]),d1(1,5,9,13,Si[Zi[r*16+2]],Si[Zi[r*16+3]]),d1(2,6,10,14,Si[Zi[r*16+4]],Si[Zi[r*16+5]]),d1(3,7,11,15,Si[Zi[r*16+6]],Si[Zi[r*16+7]]),d1(0,5,10,15,Si[Zi[r*16+8]],Si[Zi[r*16+9]]),d1(1,6,11,12,Si[Zi[r*16+10]],Si[Zi[r*16+11]]),d1(2,7,8,13,Si[Zi[r*16+12]],Si[Zi[r*16+13]]),d1(3,4,9,14,Si[Zi[r*16+14]],Si[Zi[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=Cr[r]^Cr[r+8]}function Loe(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");let r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(Uoe),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(tz(n,e),n.c=64),n}function tz(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,Doe(t,!1),t.c=0),t.b[t.c++]=e[r]}function Moe(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Doe(t,!0);let e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function $oe(t,e,r){r=r||32,t=Boe.normalizeInput(t);let n=Loe(r,e);return tz(n,t),Moe(n)}function nFe(t,e,r){let n=$oe(t,e,r);return Boe.toHex(n)}Hoe.exports={blake2s:$oe,blake2sHex:nFe,blake2sInit:Loe,blake2sUpdate:tz,blake2sFinal:Moe}});var rz=Ct((P3t,zoe)=>{var eC=koe(),tC=Foe();zoe.exports={blake2b:eC.blake2b,blake2bHex:eC.blake2bHex,blake2bInit:eC.blake2bInit,blake2bUpdate:eC.blake2bUpdate,blake2bFinal:eC.blake2bFinal,blake2s:tC.blake2s,blake2sHex:tC.blake2sHex,blake2sInit:tC.blake2sInit,blake2sUpdate:tC.blake2sUpdate,blake2sFinal:tC.blake2sFinal}});function sFe(t){try{return JSON.stringify(t)}catch(e){return'"[Circular]"'}}function oFe(t,e,r){var n=r&&r.stringify||sFe,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=n(t);for(var a=1;a<i;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,f=-1,d=t&&t.length||0,p=0;p<d;){if(t.charCodeAt(p)===37&&p+1<d){switch(f=f>-1?f:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<p&&(l+=t.slice(f,p)),l+=Number(e[u]),f=p+2,p++;break;case 105:if(u>=c||e[u]==null)break;f<p&&(l+=t.slice(f,p)),l+=Math.floor(Number(e[u])),f=p+2,p++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<p&&(l+=t.slice(f,p));var h=typeof e[u];if(h==="string"){l+="'"+e[u]+"'",f=p+2,p++;break}if(h==="function"){l+=e[u].name||"<anonymous>",f=p+2,p++;break}l+=n(e[u]),f=p+2,p++;break;case 115:if(u>=c)break;f<p&&(l+=t.slice(f,p)),l+=String(e[u]),f=p+2,p++;break;case 37:f<p&&(l+=t.slice(f,p)),l+="%",f=p+2,p++,u--;break}++u}++p}return f===-1?t:(f<d&&(l+=t.slice(f)),l)}function h1(t,e){return t==="silent"?1/0:e.levels.values[t]}function joe(t,e){let r={logger:e,parent:t[sz]};e[sz]=r}function lFe(t,e,r){let n={};e.forEach(s=>{n[s]=r[s]?r[s]:rC[s]||rC[cFe[s]||"log"]||M8}),t[lz]=n}function uFe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Fp(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||rC;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},s=uFe(t.browser.serialize,n),i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);let o=Object.keys(t.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof r=="function"&&a.forEach(function(m){r[m]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let c=t.level||"info",l=Object.create(r);l.log||(l.log=M8),lFe(l,a,r),joe({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:d,set:p});let u={transmit:e,serialize:s,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:a,timestamp:bFe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||M8};l.levels=fFe(t),l.level=c,l.isLevelEnabled=function(m){return this.levels.values[m]?this.levels.values[m]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=M8,l.serializers=n,l._serialize=s,l._stdErrSerialize=i,l.child=function(...m){return h.call(this,u,...m)},e&&(l._logEvent=iz());function f(){return h1(this.level,this)}function d(){return this._level}function p(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,Tb(this,u,l,"error"),Tb(this,u,l,"fatal"),Tb(this,u,l,"warn"),Tb(this,u,l,"info"),Tb(this,u,l,"debug"),Tb(this,u,l,"trace"),o.forEach(g=>{Tb(this,u,l,g)})}function h(m,g,b){if(!g)throw new Error("missing bindings for child Pino");b=b||{},s&&g.serializers&&(b.serializers=g.serializers);let E=b.serializers;if(s&&E){var w=Object.assign({},n,E),x=t.browser.serialize===!0?Object.keys(w):s;delete g.serializers,uz([g],x,w,this._stdErrSerialize)}function C(U){this._childLevel=(U._childLevel|0)+1,this.bindings=g,w&&(this.serializers=w,this._serialize=x),e&&(this._logEvent=iz([].concat(U._logEvent.bindings,g)))}C.prototype=this;let T=new C(this);return joe(this,T),T.child=function(...U){return h.call(this,m,...U)},T.level=b.level||this.level,m.onChild(T),T}return l}function fFe(t){let e=t.customLevels||{},r=Object.assign({},Fp.levels.values,e),n=Object.assign({},Fp.levels.labels,dFe(e));return{values:r,labels:n}}function dFe(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}function pFe(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[sz];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function Tb(t,e,r,n){if(Object.defineProperty(t,n,{value:h1(t.level,r)>h1(n,r)?M8:r[lz][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===M8){if(!e.transmit)return;let i=e.transmit.level||t.level,o=h1(i,r);if(h1(n,r)<o)return}t[n]=mFe(t,e,r,n);let s=pFe(t);s.length!==0&&(t[n]=hFe(s,t[n]))}function hFe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function mFe(t,e,r,n){return(function(s){return function(){let i=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===rC?rC:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var l=!1;if(e.serialize&&(uz(o,this._serialize,this.serializers,this._stdErrSerialize),l=!0),e.asObject||e.formatters?s.call(a,...gFe(this,n,o,i,e)):s.apply(a,o),e.transmit){let u=e.transmit.level||t._level,f=h1(u,r),d=h1(n,r);if(d<f)return;yFe(this,{ts:i,methodLevel:n,methodValue:d,transmitLevel:u,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:h1(t._level,r)},o,l)}}})(t[lz][n])}function gFe(t,e,r,n,s){let{level:i,log:o=f=>f}=s.formatters||{},a=r.slice(),c=a[0],l={},u=(t._childLevel|0)+1;if(u<1&&(u=1),n&&(l.time=n),i){let f=i(e,t.levels.values[e]);Object.assign(l,f)}else l.level=t.levels.values[e];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[o(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?Voe(a.shift(),a):void 0}else typeof c=="string"&&(c=Voe(a.shift(),a));return c!==void 0&&(l[s.messageKey]=c),[o(l)]}}function uz(t,e,r,n){for(let s in t)if(n&&t[s]instanceof Error)t[s]=Fp.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s])&&e)for(let i in t[s])e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function yFe(t,e,r,n=!1){let s=e.send,i=e.ts,o=e.methodLevel,a=e.methodValue,c=e.val,l=t._logEvent.bindings;n||uz(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return l.indexOf(u)===-1}),t._logEvent.level.label=o,t._logEvent.level.value=a,s(o,t._logEvent,c),t._logEvent=iz(l)}function iz(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function qoe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function bFe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Zoe:Yoe}function H_(){return{}}function nz(t){return t}function M8(){}function Zoe(){return!1}function Yoe(){return Date.now()}function wFe(){return Math.round(Date.now()/1e3)}function xFe(){return new Date(Date.now()).toISOString()}function vFe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}function Woe(t){return typeof t=="string"?t:SFe(t)||""}function $8(t){return g1(m1({},t),{level:(t==null?void 0:t.level)||EFe.level})}function $Fe(t,e,r=j_){return t[r]=e,t}function Ur(t,e=j_){return t[e]||""}function HFe(t,e,r=j_){let n=Ur(t,r);return n.trim()?`${n}/${e}`:e}function tn(t,e,r=j_){let n=HFe(t,e,r),s=t.child({context:n});return $Fe(s,n,r)}function FFe(t){var e,r;let n=new az((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Qf.exports(g1(m1({},t.opts),{level:"trace",browser:g1(m1({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function zFe(t){var e,r;let n=new cz((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Qf.exports(g1(m1({},t.opts),{level:"trace",browser:g1(m1({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})}),n),chunkLoggerController:n}}function Xf(t){var e;if(typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string")return{logger:t.loggerOverride,chunkLoggerController:null};let r=g1(m1({},t.opts),{level:typeof t.loggerOverride=="string"?t.loggerOverride:(e=t.opts)==null?void 0:e.level});return typeof window<"u"?FFe(g1(m1({},t),{opts:r})):zFe(g1(m1({},t),{opts:r}))}var Qf,iFe,Voe,rC,aFe,lz,sz,cFe,_3t,EFe,j_,fz,AFe,CFe,p1,oz,z_,SFe,IFe,TFe,F_,V_,PFe,_Fe,NFe,az,OFe,RFe,kFe,cz,BFe,UFe,DFe,Koe,LFe,MFe,Goe,m1,g1,y1=y(()=>{Qf={exports:{}};iFe=oFe;Voe=iFe;Qf.exports=Fp;rC=vFe().console||{},aFe={mapHttpRequest:H_,mapHttpResponse:H_,wrapRequestSerializer:nz,wrapResponseSerializer:nz,wrapErrorSerializer:nz,req:H_,res:H_,err:qoe,errWithCause:qoe};lz=Symbol("pino.logFuncs"),sz=Symbol("pino.hierarchy"),cFe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};Fp.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Fp.stdSerializers=aFe,Fp.stdTimeFunctions=Object.assign({},{nullTime:Zoe,epochTime:Yoe,unixTime:wFe,isoTime:xFe});Qf.exports.default=Fp;_3t=Qf.exports.pino=Fp,EFe={level:"info"},j_="custom_context",fz=1e3*1024,AFe=Object.defineProperty,CFe=(t,e,r)=>e in t?AFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p1=(t,e,r)=>CFe(t,typeof e!="symbol"?e+"":e,r),oz=class{constructor(e){p1(this,"nodeValue"),p1(this,"sizeInBytes"),p1(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},z_=class{constructor(e){p1(this,"lengthInNodes"),p1(this,"sizeInBytes"),p1(this,"head"),p1(this,"tail"),p1(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let r=new oz(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let r=e.value;return e=e.next,{done:!1,value:r}}}}},SFe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);IFe=Object.defineProperty,TFe=(t,e,r)=>e in t?IFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F_=(t,e,r)=>TFe(t,typeof e!="symbol"?e+"":e,r),V_=class{constructor(e,r=fz){F_(this,"logs"),F_(this,"level"),F_(this,"levelValue"),F_(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e!=null?e:"error",this.levelValue=Qf.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new z_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Qf.exports.levels.values.error?console.error(e):r===Qf.exports.levels.values.warn?console.warn(e):r===Qf.exports.levels.values.debug?console.debug(e):r===Qf.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Woe({timestamp:new Date().toISOString(),log:e}));let r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new z_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let r=this.getLogArray();return r.push(Woe({extraMetadata:e})),new Blob(r,{type:"application/json"})}},PFe=Object.defineProperty,_Fe=(t,e,r)=>e in t?PFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NFe=(t,e,r)=>_Fe(t,typeof e!="symbol"?e+"":e,r),az=class{constructor(e,r=fz){NFe(this,"baseChunkLogger"),this.baseChunkLogger=new V_(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},OFe=Object.defineProperty,RFe=(t,e,r)=>e in t?OFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kFe=(t,e,r)=>RFe(t,typeof e!="symbol"?e+"":e,r),cz=class{constructor(e,r=fz){kFe(this,"baseChunkLogger"),this.baseChunkLogger=new V_(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},BFe=Object.defineProperty,UFe=Object.defineProperties,DFe=Object.getOwnPropertyDescriptors,Koe=Object.getOwnPropertySymbols,LFe=Object.prototype.hasOwnProperty,MFe=Object.prototype.propertyIsEnumerable,Goe=(t,e,r)=>e in t?BFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,m1=(t,e)=>{for(var r in e||(e={}))LFe.call(e,r)&&Goe(t,r,e[r]);if(Koe)for(var r of Koe(e))MFe.call(e,r)&&Goe(t,r,e[r]);return t},g1=(t,e)=>UFe(t,DFe(e))});var ei,wle=y(()=>{ei=class{}});var bN=y(()=>{wle()});var vle,wN,EV,xle,qo,X8,AV=y(()=>{vle=pr(Fo()),wN=pr(Np());bN();EV=class extends ei{constructor(e){super()}},xle=wN.FIVE_SECONDS,qo={pulse:"heartbeat_pulse"},X8=class t extends EV{constructor(e){super(e),this.events=new vle.EventEmitter,this.interval=xle,this.interval=(e==null?void 0:e.interval)||xle}static async init(e){let r=new t(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,wN.toMiliseconds)(this.interval))}pulse(){this.events.emit(qo.pulse)}}});function gqe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){yqe(t);return}return e}function yqe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function t0(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);let r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!mqe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(pqe.test(t)||hqe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,gqe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}var pqe,hqe,mqe,CV=y(()=>{pqe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,hqe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,mqe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function Lb(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function CC(t,e){let r,n=()=>{if(r)return r;let s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),r=Lb(s),r.then(i=>{i.onclose=()=>r=void 0},()=>{}),r};return(s,i)=>n().then(o=>i(o.transaction(e,s).objectStore(e)))}function SC(){return IV||(IV=CC("keyval-store","keyval")),IV}function e4(t,e=SC()){return e("readonly",r=>Lb(r.get(t)))}function xN(t,e,r=SC()){return r("readwrite",n=>(n.put(e,t),Lb(n.transaction)))}function vN(t,e=SC()){return e("readwrite",r=>(r.delete(t),Lb(r.transaction)))}function EN(t=SC()){return t("readwrite",e=>(e.clear(),Lb(e.transaction)))}function Sqe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Lb(t.transaction)}function AN(t=SC()){return t("readonly",e=>{if(e.getAllKeys)return Lb(e.getAllKeys());let r=[];return Sqe(e,n=>r.push(n.key)).then(()=>r)})}var IV,TV=y(()=>{});var Ble,Ule,Dle,Lle,$N,IC,OV,HN,k1,TC,FN=y(()=>{Ble="PARSE_ERROR",Ule="INVALID_REQUEST",Dle="METHOD_NOT_FOUND",Lle="INVALID_PARAMS",$N="INTERNAL_ERROR",IC="SERVER_ERROR",OV=[-32700,-32600,-32601,-32602,-32603],HN=[-32e3,-32099],k1={[Ble]:{code:-32700,message:"Parse error"},[Ule]:{code:-32600,message:"Invalid Request"},[Dle]:{code:-32601,message:"Method not found"},[Lle]:{code:-32602,message:"Invalid params"},[$N]:{code:-32603,message:"Internal error"},[IC]:{code:-32e3,message:"Server error"}},TC=IC});function Fqe(t){return t<=HN[0]&&t>=HN[1]}function zN(t){return OV.includes(t)}function Mle(t){return typeof t=="number"}function VN(t){return Object.keys(k1).includes(t)?k1[t]:k1[TC]}function jN(t){let e=Object.values(k1).find(r=>r.code===t);return e||k1[TC]}function zqe(t){if(typeof t.error.code=="undefined")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message=="undefined")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!Mle(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(zN(t.error.code)){let e=jN(t.error.code);if(e.message!==k1[TC].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function PC(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var RV=y(()=>{FN()});var Hle={};Me(Hle,{__assign:()=>BV,__asyncDelegator:()=>tWe,__asyncGenerator:()=>eWe,__asyncValues:()=>rWe,__await:()=>_C,__awaiter:()=>Gqe,__classPrivateFieldGet:()=>oWe,__classPrivateFieldSet:()=>aWe,__createBinding:()=>Yqe,__decorate:()=>qqe,__exportStar:()=>Jqe,__extends:()=>Vqe,__generator:()=>Zqe,__importDefault:()=>iWe,__importStar:()=>sWe,__makeTemplateObject:()=>nWe,__metadata:()=>Kqe,__param:()=>Wqe,__read:()=>$le,__rest:()=>jqe,__spread:()=>Qqe,__spreadArrays:()=>Xqe,__values:()=>UV});function Vqe(t,e){kV(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function jqe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function qqe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Wqe(t,e){return function(r,n){e(r,n,t)}}function Kqe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Gqe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Zqe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yqe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Jqe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function UV(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $le(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Qqe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($le(arguments[e]));return t}function Xqe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function _C(t){return this instanceof _C?(this.v=t,this):new _C(t)}function eWe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){n[d]&&(s[d]=function(p){return new Promise(function(h,m){i.push([d,p,h,m])>1||a(d,p)})})}function a(d,p){try{c(n[d](p))}catch(h){f(i[0][3],h)}}function c(d){d.value instanceof _C?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function tWe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:_C(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function rWe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof UV=="function"?UV(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function nWe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sWe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function iWe(t){return t&&t.__esModule?t:{default:t}}function oWe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function aWe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var kV,BV,Fle=y(()=>{kV=function(t,e){return kV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},kV(t,e)};BV=function(){return BV=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},BV.apply(this,arguments)}});var Vle=Ct(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.isBrowserCryptoAvailable=B1.getSubtleCrypto=B1.getBrowerCrypto=void 0;function DV(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}B1.getBrowerCrypto=DV;function zle(){let t=DV();return t.subtle||t.webkitSubtle}B1.getSubtleCrypto=zle;function cWe(){return!!DV()&&!!zle()}B1.isBrowserCryptoAvailable=cWe});var Wle=Ct(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.isBrowser=U1.isNode=U1.isReactNative=void 0;function jle(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}U1.isReactNative=jle;function qle(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}U1.isNode=qle;function lWe(){return!jle()&&!qle()}U1.isBrowser=lWe});var LV=Ct(qN=>{"use strict";Object.defineProperty(qN,"__esModule",{value:!0});var Kle=(Fle(),wA(Hle));Kle.__exportStar(Vle(),qN);Kle.__exportStar(Wle(),qN)});var no={};Me(no,{isNodeJs:()=>Zle});var Gle,Zle,Yle=y(()=>{Gle=pr(LV());Ho(no,pr(LV()));Zle=Gle.isNode});function ds(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function ps(t=6){return BigInt(ds(t))}function zr(t,e,r){return{id:r||ds(),jsonrpc:"2.0",method:t,params:e}}function ti(t,e){return{id:t,jsonrpc:"2.0",result:e}}function vc(t,e,r){return{id:t,jsonrpc:"2.0",error:Jle(e,r)}}function Jle(t,e){return typeof t=="undefined"?VN($N):(typeof t=="string"&&(t=Object.assign(Object.assign({},VN(IC)),{message:t})),typeof e!="undefined"&&(t.data=e),zN(t.code)&&(t=jN(t.code)),t)}var Qle=y(()=>{RV();FN()});function uWe(t){return t.includes("*")?KN(t):!/\W/g.test(t)}function WN(t){return t==="*"}function KN(t){return WN(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function fWe(t){return!WN(t)&&KN(t)&&!t.split("*")[0].trim()}function dWe(t){return!WN(t)&&KN(t)&&!t.split("*")[1].trim()}var Xle=y(()=>{});var NC,MV,GN,OC,eue=y(()=>{NC=class{},MV=class extends NC{constructor(e){super()}},GN=class extends NC{constructor(){super()}},OC=class extends GN{constructor(e){super()}}});var tue=y(()=>{eue()});function mWe(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function rue(t,e){let r=mWe(t);return typeof r=="undefined"?!1:new RegExp(e).test(r)}function ZN(t){return rue(t,pWe)}function YN(t){return rue(t,hWe)}function $V(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var pWe,hWe,nue=y(()=>{pWe="^https?:",hWe="^wss?:"});function HV(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Lu(t){return HV(t)&&"method"in t}function Ec(t){return HV(t)&&(Rn(t)||rn(t))}function Rn(t){return"result"in t}function rn(t){return"error"in t}function gWe(t){return"error"in t&&t.valid===!1}var sue=y(()=>{});var Ac={};Me(Ac,{DEFAULT_ERROR:()=>TC,IBaseJsonRpcProvider:()=>GN,IEvents:()=>NC,IJsonRpcConnection:()=>MV,IJsonRpcProvider:()=>OC,INTERNAL_ERROR:()=>$N,INVALID_PARAMS:()=>Lle,INVALID_REQUEST:()=>Ule,METHOD_NOT_FOUND:()=>Dle,PARSE_ERROR:()=>Ble,RESERVED_ERROR_CODES:()=>OV,SERVER_ERROR:()=>IC,SERVER_ERROR_CODE_RANGE:()=>HN,STANDARD_ERROR_MAP:()=>k1,formatErrorMessage:()=>Jle,formatJsonRpcError:()=>vc,formatJsonRpcRequest:()=>zr,formatJsonRpcResult:()=>ti,getBigIntRpcId:()=>ps,getError:()=>VN,getErrorByCode:()=>jN,isHttpUrl:()=>ZN,isJsonRpcError:()=>rn,isJsonRpcPayload:()=>HV,isJsonRpcRequest:()=>Lu,isJsonRpcResponse:()=>Ec,isJsonRpcResult:()=>Rn,isJsonRpcValidationInvalid:()=>gWe,isLocalhostUrl:()=>$V,isNodeJs:()=>Zle,isReservedErrorCode:()=>zN,isServerErrorCode:()=>Fqe,isValidDefaultRoute:()=>WN,isValidErrorCode:()=>Mle,isValidLeadingWildcardRoute:()=>fWe,isValidRoute:()=>uWe,isValidTrailingWildcardRoute:()=>dWe,isValidWildcardRoute:()=>KN,isWsUrl:()=>YN,parseConnectionError:()=>PC,payloadId:()=>ds,validateJsonRpcError:()=>zqe});var Mu=y(()=>{FN();RV();Yle();Ho(Ac,no);Qle();Xle();tue();nue();sue()});var iue,Cc,t4=y(()=>{iue=pr(Fo());Mu();Cc=class extends OC{constructor(e){super(e),this.events=new iue.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(zr(e.method,e.params||[],e.id||ps().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{rn(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ec(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var aue=Ct((B5t,oue)=>{"use strict";oue.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var uue,yWe,bWe,cue,lue,wWe,r4,FV=y(()=>{uue=pr(Fo());i1();Mu();yWe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:aue(),bWe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",cue=t=>t.split("?")[0],lue=10,wWe=yWe(),r4=class{constructor(e){if(this.url=e,this.events=new uue.EventEmitter,this.registering=!1,!YN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ai(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!YN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let s=(0,Ac.isReactNative)()?void 0:{rejectUnauthorized:!$V(e)},i=new wWe(e,[],s);bWe()?i.onerror=o=>{let a=o;n(this.emitError(a.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Qs(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),s=n.message||n.toString(),i=vc(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return PC(e,cue(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>lue&&this.events.setMaxListeners(lue)}emitError(e){let r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${cue(this.url)}`));return this.events.emit("register_error",r),r}}});var ofe=Ct(($1,ife)=>{var nO=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof global!="undefined"&&global,sO=(function(){function t(){this.fetch=!1,this.DOMException=nO.DOMException}return t.prototype=nO,new t})();(function(t){var e=(function(r){var n=typeof t!="undefined"&&t||typeof self!="undefined"&&self||typeof global!="undefined"&&global||{},s={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch(_){return!1}})(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function i(_){return _&&DataView.prototype.isPrototypeOf(_)}if(s.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(_){return _&&o.indexOf(Object.prototype.toString.call(_))>-1};function c(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function l(_){return typeof _!="string"&&(_=String(_)),_}function u(_){var N={next:function(){var I=_.shift();return{done:I===void 0,value:I}}};return s.iterable&&(N[Symbol.iterator]=function(){return N}),N}function f(_){this.map={},_ instanceof f?_.forEach(function(N,I){this.append(I,N)},this):Array.isArray(_)?_.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(N){this.append(N,_[N])},this)}f.prototype.append=function(_,N){_=c(_),N=l(N);var I=this.map[_];this.map[_]=I?I+", "+N:N},f.prototype.delete=function(_){delete this.map[c(_)]},f.prototype.get=function(_){return _=c(_),this.has(_)?this.map[_]:null},f.prototype.has=function(_){return this.map.hasOwnProperty(c(_))},f.prototype.set=function(_,N){this.map[c(_)]=l(N)},f.prototype.forEach=function(_,N){for(var I in this.map)this.map.hasOwnProperty(I)&&_.call(N,this.map[I],I,this)},f.prototype.keys=function(){var _=[];return this.forEach(function(N,I){_.push(I)}),u(_)},f.prototype.values=function(){var _=[];return this.forEach(function(N){_.push(N)}),u(_)},f.prototype.entries=function(){var _=[];return this.forEach(function(N,I){_.push([I,N])}),u(_)},s.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(_){if(!_._noBody){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}}function p(_){return new Promise(function(N,I){_.onload=function(){N(_.result)},_.onerror=function(){I(_.error)}})}function h(_){var N=new FileReader,I=p(N);return N.readAsArrayBuffer(_),I}function m(_){var N=new FileReader,I=p(N),D=/charset=([A-Za-z0-9_-]+)/.exec(_.type),v=D?D[1]:"utf-8";return N.readAsText(_,v),I}function g(_){for(var N=new Uint8Array(_),I=new Array(N.length),D=0;D<N.length;D++)I[D]=String.fromCharCode(N[D]);return I.join("")}function b(_){if(_.slice)return _.slice(0);var N=new Uint8Array(_.byteLength);return N.set(new Uint8Array(_)),N.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(_){this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:s.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:s.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():s.arrayBuffer&&s.blob&&i(_)?(this._bodyArrayBuffer=b(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||a(_))?this._bodyArrayBuffer=b(_):this._bodyText=_=Object.prototype.toString.call(_):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var _=d(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var _=d(this);return _||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(s.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var _=d(this);if(_)return _;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(_){var N=_.toUpperCase();return w.indexOf(N)>-1?N:_}function C(_,N){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var I=N.body;if(_ instanceof C){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,N.headers||(this.headers=new f(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!I&&_._bodyInit!=null&&(I=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new f(N.headers)),this.method=x(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||(function(){if("AbortController"in n){var A=new AbortController;return A.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&I)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(I),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var v=/\?/;this.url+=(v.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function T(_){var N=new FormData;return _.trim().split("&").forEach(function(I){if(I){var D=I.split("="),v=D.shift().replace(/\+/g," "),A=D.join("=").replace(/\+/g," ");N.append(decodeURIComponent(v),decodeURIComponent(A))}}),N}function U(_){var N=new f,I=_.replace(/\r?\n[\t ]+/g," ");return I.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var v=D.split(":"),A=v.shift().trim();if(A){var R=v.join(":").trim();try{N.append(A,R)}catch($){console.warn("Response "+$.message)}}}),N}E.call(C.prototype);function B(_,N){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new f(N.headers),this.url=N.url||"",this._initBody(_)}E.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},B.error=function(){var _=new B(null,{status:200,statusText:""});return _.ok=!1,_.status=0,_.type="error",_};var O=[301,302,303,307,308];B.redirect=function(_,N){if(O.indexOf(N)===-1)throw new RangeError("Invalid status code");return new B(null,{status:N,headers:{location:_}})},r.DOMException=n.DOMException;try{new r.DOMException}catch(_){r.DOMException=function(N,I){this.message=N,this.name=I;var D=Error(N);this.stack=D.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function H(_,N){return new Promise(function(I,D){var v=new C(_,N);if(v.signal&&v.signal.aborted)return D(new r.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function R(){A.abort()}A.onload=function(){var L={statusText:A.statusText,headers:U(A.getAllResponseHeaders()||"")};v.url.indexOf("file://")===0&&(A.status<200||A.status>599)?L.status=200:L.status=A.status,L.url="responseURL"in A?A.responseURL:L.headers.get("X-Request-URL");var q="response"in A?A.response:A.responseText;setTimeout(function(){I(new B(q,L))},0)},A.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},A.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},A.onabort=function(){setTimeout(function(){D(new r.DOMException("Aborted","AbortError"))},0)};function $(L){try{return L===""&&n.location.href?n.location.href:L}catch(q){return L}}if(A.open(v.method,$(v.url),!0),v.credentials==="include"?A.withCredentials=!0:v.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&(s.blob?A.responseType="blob":s.arrayBuffer&&(A.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof f||n.Headers&&N.headers instanceof n.Headers)){var k=[];Object.getOwnPropertyNames(N.headers).forEach(function(L){k.push(c(L)),A.setRequestHeader(L,l(N.headers[L]))}),v.headers.forEach(function(L,q){k.indexOf(q)===-1&&A.setRequestHeader(q,L)})}else v.headers.forEach(function(L,q){A.setRequestHeader(q,L)});v.signal&&(v.signal.addEventListener("abort",R),A.onreadystatechange=function(){A.readyState===4&&v.signal.removeEventListener("abort",R)}),A.send(typeof v._bodyInit=="undefined"?null:v._bodyInit)})}return H.polyfill=!0,n.fetch||(n.fetch=H,n.Headers=f,n.Request=C,n.Response=B),r.Headers=f,r.Request=C,r.Response=B,r.fetch=H,Object.defineProperty(r,"__esModule",{value:!0}),r})({})})(sO);sO.fetch.ponyfill=!0;delete sO.fetch.polyfill;var c4=nO.fetch?nO:sO;$1=c4.fetch;$1.default=c4.fetch;$1.fetch=c4.fetch;$1.Headers=c4.Headers;$1.Request=c4.Request;$1.Response=c4.Response;ife.exports=$1});var pfe,Dj,nYe,sYe,iYe,afe,oYe,aYe,cfe,lfe,ufe,cYe,lYe,ffe,dfe,Sl,iO=y(()=>{pfe=pr(Fo()),Dj=pr(ofe());i1();Mu();nYe=Object.defineProperty,sYe=Object.defineProperties,iYe=Object.getOwnPropertyDescriptors,afe=Object.getOwnPropertySymbols,oYe=Object.prototype.hasOwnProperty,aYe=Object.prototype.propertyIsEnumerable,cfe=(t,e,r)=>e in t?nYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lfe=(t,e)=>{for(var r in e||(e={}))oYe.call(e,r)&&cfe(t,r,e[r]);if(afe)for(var r of afe(e))aYe.call(e,r)&&cfe(t,r,e[r]);return t},ufe=(t,e)=>sYe(t,iYe(e)),cYe={Accept:"application/json","Content-Type":"application/json"},lYe="POST",ffe={headers:cYe,method:lYe},dfe=10,Sl=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new pfe.EventEmitter,this.isAvailable=!1,this.registering=!1,!ZN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let r=Ai(e),n=await(await(0,Dj.default)(this.url,ufe(lfe({},ffe),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!ZN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let r=Ai({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,Dj.default)(e,ufe(lfe({},ffe),{body:r}))}this.onOpen()}catch(r){let n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Qs(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),s=n.message||n.toString(),i=vc(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return PC(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>dfe&&this.events.setMaxListeners(dfe)}}});var $C,Kfe=y(()=>{$C={isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}}});var J,HC=y(()=>{J={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:typeof process!="undefined"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"}});var Hb,uO,Gfe=y(()=>{HC();Hb={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;let r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;let[n]=e.split(":");return((s=J.CHAIN_NAME_MAP)==null?void 0:s[n])||void 0}},uO=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"]});function Jfe(){function t(e){var r=this;if(!(r instanceof t))return e===a0?Jfe():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(zb+"value");e=e===0&&1/e<0?"-0":String(e)}LJe(r,e)}r.constructor=t}return t.prototype=Gr,t.DP=NJe,t.RM=OJe,t.NE=RJe,t.PE=kJe,t.strict=BJe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function LJe(t,e){var r,n,s;if(!DJe.test(e))throw Error(zb+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),s=e.length,n=0;n<s&&e.charAt(n)=="0";)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=s;)t.c[r++]=+e.charAt(n++)}return t}function Vb(t,e,r,n){var s=t.c;if(r===a0&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(UJe);if(e<1)n=r===3&&(n||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==a0))),s.length=1,n?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(n=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(n||s[e+1]!==a0||s[e-1]&1))||r===3&&(n||!!s[0]),s.length=e,n){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function jb(t,e,r){var n=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>i)for(n-=i;n--;)s+="0";else n<i&&(s=s.slice(0,n)+"."+s.slice(n));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}var NJe,OJe,Fb,Zfe,RJe,kJe,BJe,FC,zb,fO,UJe,Yfe,Gr,a0,DJe,MJe,Fu,Qfe=y(()=>{NJe=20,OJe=1,Fb=1e6,Zfe=1e6,RJe=-7,kJe=21,BJe=!1,FC="[big.js] ",zb=FC+"Invalid ",fO=zb+"decimal places",UJe=zb+"rounding mode",Yfe=FC+"Division by zero",Gr={},a0=void 0,DJe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;Gr.abs=function(){var t=new this.constructor(this);return t.s=1,t};Gr.cmp=function(t){var e,r=this,n=r.c,s=(t=new r.constructor(t)).c,i=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!s[0])return n[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=s.length)?a:c,i=-1;++i<o;)if(n[i]!=s[i])return n[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Gr.div=function(t){var e=this,r=e.constructor,n=e.c,s=(t=new r(t)).c,i=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Fb)throw Error(fO);if(!s[0])throw Error(Yfe);if(!n[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,f,d=s.slice(),p=a=s.length,h=n.length,m=n.slice(0,a),g=m.length,b=t,E=b.c=[],w=0,x=o+(b.e=e.e-t.e)+1;for(b.s=i,i=x<0?0:x,d.unshift(0);g++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(g=m.length))u=a>g?1:-1;else for(f=-1,u=0;++f<a;)if(s[f]!=m[f]){u=s[f]>m[f]?1:-1;break}if(u<0){for(c=g==a?s:d;g;){if(m[--g]<c[g]){for(f=g;f&&!m[--f];)m[f]=9;--m[f],m[g]+=10}m[g]-=c[g]}for(;!m[0];)m.shift()}else break}E[w++]=u?l:++l,m[0]&&u?m[g]=n[p]||0:m=[n[p]]}while((p++<h||m[0]!==a0)&&i--);return!E[0]&&w!=1&&(E.shift(),b.e--,x--),w>x&&Vb(b,x,r.RM,m[0]!==a0),b};Gr.eq=function(t){return this.cmp(t)===0};Gr.gt=function(t){return this.cmp(t)>0};Gr.gte=function(t){return this.cmp(t)>-1};Gr.lt=function(t){return this.cmp(t)<0};Gr.lte=function(t){return this.cmp(t)<1};Gr.minus=Gr.sub=function(t){var e,r,n,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-d){for((s=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((s=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){s=l[c]<f[c];break}if(s&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};Gr.mod=function(t){var e,r=this,n=r.constructor,s=r.s,i=(t=new n(t)).s;if(!t.c[0])throw Error(Yfe);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=i,e?new n(r):(s=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=s,n.RM=i,this.minus(r.times(t)))};Gr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Gr.plus=Gr.add=function(t){var e,r,n,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Gr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,s=t<0;if(t!==~~t||t<-Zfe||t>Zfe)throw Error(zb+"exponent");for(s&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(n):n};Gr.prec=function(t,e){if(t!==~~t||t<1||t>Fb)throw Error(zb+"precision");return Vb(new this.constructor(this),t,e)};Gr.round=function(t,e){if(t===a0)t=0;else if(t!==~~t||t<-Fb||t>Fb)throw Error(fO);return Vb(new this.constructor(this),t+this.e+1,e)};Gr.sqrt=function(){var t,e,r,n=this,s=n.constructor,i=n.s,o=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(i<0)throw Error(FC+"No square root");i=Math.sqrt(+jb(n,!0,!0)),i===0||i===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Vb(t,(s.DP-=4)+t.e+1,s.RM)};Gr.times=Gr.mul=function(t){var e,r=this,n=r.constructor,s=r.c,i=(t=new n(t)).c,o=s.length,a=i.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Gr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==a0){if(t!==~~t||t<0||t>Fb)throw Error(fO);for(r=Vb(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return jb(r,!0,!!n)};Gr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==a0){if(t!==~~t||t<0||t>Fb)throw Error(fO);for(r=Vb(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return jb(r,!1,!!n)};Gr[Symbol.for("nodejs.util.inspect.custom")]=Gr.toJSON=Gr.toString=function(){var t=this,e=t.constructor;return jb(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Gr.toNumber=function(){var t=+jb(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(FC+"Imprecise conversion");return t};Gr.toPrecision=function(t,e){var r=this,n=r.constructor,s=r.c[0];if(t!==a0){if(t!==~~t||t<1||t>Fb)throw Error(zb+"precision");for(r=Vb(new n(r),t,e);r.c.length<t;)r.c.push(0)}return jb(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};Gr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(FC+"valueOf disallowed");return jb(t,t.e<=e.NE||t.e>=e.PE,!0)};MJe=Jfe(),Fu=MJe});var Nt,Xfe=y(()=>{Qfe();Nt={bigNumber(t,e={safe:!1}){try{return t?new Fu(t):new Fu(0)}catch(r){if(e.safe)return new Fu(0);throw r}},formatNumber(t,e){let{decimals:r,round:n=8,safe:s=!0}=e;return Nt.bigNumber(t,{safe:s}).div(new Fu(10).pow(r)).round(n)},multiply(t,e){if(t===void 0||e===void 0)return new Fu(0);let r=new Fu(t),n=new Fu(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new Fu(0).toFixed(e):new Fu(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;let e=t.replace(/,/gu,"");return new Fu(e).toNumber()}}});var e0e,t0e=y(()=>{e0e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var r0e,n0e=y(()=>{r0e=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]});var s0e,i0e=y(()=>{s0e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var zC,o0e=y(()=>{t0e();n0e();i0e();HC();zC={getERC20Abi:t=>J.USDT_CONTRACT_ADDRESSES.includes(t)?s0e:e0e,getSwapAbi:()=>r0e}});var H1,a0e=y(()=>{HC();H1={ConnectorExplorerIds:{[J.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[J.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[J.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[J.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[J.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[J.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[J.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[J.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[J.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[J.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[J.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[J.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[J.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[J.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[J.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[J.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[J.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[J.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[J.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[J.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[J.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[J.CONNECTOR_ID.INJECTED]:"Browser Wallet",[J.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[J.CONNECTOR_ID.COINBASE]:"Coinbase",[J.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[J.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[J.CONNECTOR_ID.LEDGER]:"Ledger",[J.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[J.CONNECTOR_ID.INJECTED]:"INJECTED",[J.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[J.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[J.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}});var St,c0e=y(()=>{St={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){let e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);let[r,n,s]=e;if(!r||!n||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:s}},parseCaipNetworkId(t){let e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);let[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}}});var Ko,Xj,qb,l0e=y(()=>{Ko={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3,SEND_TRANSACTION_ERROR:5001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError",SEND_TRANSACTION_ERROR:"SendTransactionError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){let e=t,r=typeof e.message=="string",n=typeof e.code=="number";return r&&n}return!1}catch(e){return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){if(Ko.isRpcProviderError(t)){let e=t.code===Ko.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=t.code===Ko.RPC_ERROR_CODE.USER_REJECTED_METHODS;return e||r||Ko.isUserRejectedMessage(t.message)}return t instanceof Error?Ko.isUserRejectedMessage(t.message):!1}},Xj=class extends Error{constructor(e,r){super(r.message,{cause:e}),this.name=Ko.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=r.code}},qb=class extends Xj{constructor(e){super(e,{code:Ko.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Ko.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}});function VC(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}function Wb(){return typeof window!="undefined"&&typeof localStorage!="undefined"}var et,Ge,u0e=y(()=>{et={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};Ge={setItem(t,e){Wb()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Wb())return localStorage.getItem(t)||void 0},removeItem(t){Wb()&&localStorage.removeItem(t)},clear(){Wb()&&localStorage.clear()}}});function Kb(t,e){var n;let r=(n=t==null?void 0:t["--apkt-accent"])!=null?n:t==null?void 0:t["--w3m-accent"];return e==="light"?{"--w3m-accent":r||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var f0e=y(()=>{});var It=y(()=>{Kfe();Gfe();Xfe();o0e();HC();a0e();c0e();l0e();u0e();f0e()});var $Je,d0e,eq,HJe,p0e,tq,h0e=y(()=>{$Je=Symbol(),d0e=Object.getPrototypeOf,eq=new WeakMap,HJe=t=>t&&(eq.has(t)?eq.get(t):d0e(t)===Object.prototype||d0e(t)===Array.prototype),p0e=t=>HJe(t)&&t[$Je]||null,tq=(t,e=!0)=>{eq.set(t,e)}});function yt(t={}){if(!nq(t))throw new Error("object required");let e=jC.get(t);if(e)return e;let r=dO[0],n=new Set,s=(g,b=++dO[0])=>{r!==b&&(i=r=b,n.forEach(E=>E(g,b)))},i=r,o=(g=dO[0])=>(i!==g&&(i=g,c.forEach(([b])=>{let E=b[1](g);E>r&&(r=E)})),r),a=g=>(b,E)=>{let w=[...b];w[1]=[g,...w[1]],s(w,E)},c=new Map,l=(g,b)=>{let E=!qC.has(b)&&z1.get(b);if(E){if((F1.env?F1.env.MODE:void 0)!=="production"&&c.has(g))throw new Error("prop listener already exists");if(n.size){let w=E[2](a(g));c.set(g,[E,w])}else c.set(g,[E])}},u=g=>{var b;let E=c.get(g);E&&(c.delete(g),(b=E[1])==null||b.call(E))},f=g=>(n.add(g),n.size===1&&c.forEach(([E,w],x)=>{if((F1.env?F1.env.MODE:void 0)!=="production"&&w)throw new Error("remove already exists");let C=E[2](a(x));c.set(x,[E,C])}),()=>{n.delete(g),n.size===0&&c.forEach(([E,w],x)=>{w&&(w(),c.set(x,[E]))})}),d=!0,p=WJe(()=>d,l,u,s),h=VJe(t,p);jC.set(t,h);let m=[t,o,f];return z1.set(h,m),Reflect.ownKeys(t).forEach(g=>{let b=Object.getOwnPropertyDescriptor(t,g);"value"in b&&b.writable&&(h[g]=t[g])}),d=!1,h}function rr(t,e,r){let n=z1.get(t);(F1.env?F1.env.MODE:void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s,i=[],o=n[2],a=!1,l=o(u=>{if(i.push(u),r){e(i.splice(0));return}s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function c0(t){let e=z1.get(t);(F1.env?F1.env.MODE:void 0)!=="production"&&!e&&console.warn("Please use proxy object");let[r,n]=e;return qJe(r,n())}function Qp(t){return qC.add(t),t}function sq(){return{proxyStateMap:z1,refSet:qC,snapCache:rq,versionHolder:dO,proxyCache:jC}}var F1,nq,FJe,g0e,zJe,z1,qC,rq,dO,jC,m0e,VJe,jJe,qJe,WJe,En=y(()=>{h0e();F1={},nq=t=>typeof t=="object"&&t!==null,FJe=t=>nq(t)&&!qC.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),g0e=(t,e)=>{let r=rq.get(t);if((r==null?void 0:r[0])===e)return r[1];let n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return tq(n,!0),rq.set(t,[e,n]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(n,s))return;let i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(qC.has(i))tq(i,!1);else if(z1.has(i)){let[c,l]=z1.get(i);a.value=g0e(c,l())}Object.defineProperty(n,s,a)}),Object.preventExtensions(n)},zJe=(t,e,r,n)=>({deleteProperty(s,i){let o=Reflect.get(s,i);r(i);let a=Reflect.deleteProperty(s,i);return a&&n(["delete",[i],o]),a},set(s,i,o,a){let c=!t()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(m0e(l,o)||jC.has(o)&&m0e(l,jC.get(o))))return!0;r(i),nq(o)&&(o=p0e(o)||o);let u=!z1.has(o)&&jJe(o)?yt(o):o;return e(i,u),Reflect.set(s,i,u,a),n(["set",[i],o,l]),!0}}),z1=new WeakMap,qC=new WeakSet,rq=new WeakMap,dO=[1],jC=new WeakMap,m0e=Object.is,VJe=(t,e)=>new Proxy(t,e),jJe=FJe,qJe=g0e,WJe=zJe});function qt(t,e,r,n){let s=t[e];return rr(t,()=>{let i=t[e];Object.is(s,i)||r(s=i)},n)}function y0e(t){let e=[],r=0,n=new Map,s=new WeakMap,i=()=>{let l=GJe.get(a),u=l==null?void 0:l[1];if(u&&!s.has(u)){let f=new Map(n);s.set(u,f)}},o=l=>s.get(l)||n;if(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(let[l,u]of t)n.set(l,r),e[r++]=u}let a={data:e,index:r,epoch:0,get size(){return pO(this)||i(),o(this).size},get(l){let f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){let u=o(this);return this.epoch,u.has(l)},set(l,u){if(!pO(this))throw new Error("Cannot perform mutations on a snapshot");let f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!pO(this))throw new Error("Cannot perform mutations on a snapshot");let u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!pO(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;let l=o(this);for(let[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;let l=o(this);for(let u of l.keys())yield u},*values(){this.epoch;let l=o(this);for(let u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=yt(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var KJe,GJe,pO,Jvt,Qvt,Ss=y(()=>{En();({proxyStateMap:KJe,snapCache:GJe}=sq()),pO=t=>KJe.has(t);({proxyStateMap:Jvt,snapCache:Qvt}=sq())});var iq,oq,b0e,ct,_c=y(()=>{It();iq=(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",oq=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],b0e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",ct={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:iq,SECURE_SITE_DASHBOARD:`${iq}/dashboard`,SECURE_SITE_FAVICON:`${iq}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[J.CHAIN.EVM,J.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[J.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[H1.ConnectorExplorerIds[J.CONNECTOR_ID.COINBASE],H1.ConnectorExplorerIds[J.CONNECTOR_ID.COINBASE_SDK],H1.ConnectorExplorerIds[J.CONNECTOR_ID.BASE_ACCOUNT],H1.ConnectorExplorerIds[J.SOLFLARE_CONNECTOR_NAME],H1.ConnectorExplorerIds[J.PHANTOM_CONNECTOR_NAME],H1.ConnectorExplorerIds[J.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]}});var ve,Nc=y(()=>{It();ve={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){let t=ve.getActiveNamespace(),e=ve.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Ge.setItem(et.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(r){console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let t=Ge.getItem(et.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch(t){console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ge.removeItem(et.DEEPLINK_CHOICE)}catch(t){console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ge.setItem(et.ACTIVE_NAMESPACE,t)}catch(e){console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ge.setItem(et.ACTIVE_CAIP_NETWORK_ID,t),ve.setActiveNamespace(t.split(":")[0])}catch(e){console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ge.getItem(et.ACTIVE_CAIP_NETWORK_ID)}catch(t){console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ge.removeItem(et.ACTIVE_CAIP_NETWORK_ID)}catch(t){console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{let e=VC(t);Ge.removeItem(e)}catch(e){console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{let e=ve.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ge.setItem(et.RECENT_WALLETS,JSON.stringify(e)),Ge.setItem(et.RECENT_WALLET,JSON.stringify(t)))}catch(e){console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let t=Ge.getItem(et.RECENT_WALLETS);return t?JSON.parse(t):[]}catch(t){console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let t=Ge.getItem(et.RECENT_WALLET);return t?JSON.parse(t):null}catch(t){console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Ge.removeItem(et.RECENT_WALLET)}catch(t){console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{let r=VC(t);Ge.setItem(r,e)}catch(r){console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ge.getItem(et.ACTIVE_NAMESPACE)}catch(t){console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{let e=VC(t);return Ge.getItem(e)}catch(e){console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Ge.setItem(et.CONNECTED_SOCIAL,t)}catch(e){console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ge.getItem(et.CONNECTED_SOCIAL)}catch(t){console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ge.removeItem(et.CONNECTED_SOCIAL)}catch(t){console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ge.getItem(et.CONNECTED_SOCIAL_USERNAME)}catch(t){console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;let t=Ge.getItem(et.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{Ge.setItem(et.CONNECTION_STATUS,t)}catch(e){console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ge.getItem(et.CONNECTION_STATUS)}catch(t){return}},getConnectedNamespaces(){try{let t=Ge.getItem(et.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch(t){return[]}},setConnectedNamespaces(t){try{let e=Array.from(new Set(t));Ge.setItem(et.CONNECTED_NAMESPACES,e.join(","))}catch(e){console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{let e=ve.getConnectedNamespaces();e.includes(t)||(e.push(t),ve.setConnectedNamespaces(e))}catch(e){console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{let e=ve.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),ve.setConnectedNamespaces(e))}catch(e){console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ge.getItem(et.TELEGRAM_SOCIAL_PROVIDER)}catch(t){return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ge.setItem(et.TELEGRAM_SOCIAL_PROVIDER,t)}catch(e){console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ge.removeItem(et.TELEGRAM_SOCIAL_PROVIDER)}catch(t){console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{let e=Ge.getItem(et.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch(e){console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{let e=ve.getBalanceCache();Ge.setItem(et.PORTFOLIO_CACHE,JSON.stringify(G(S({},e),{[t]:void 0})))}catch(e){console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{let r=ve.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;ve.removeAddressFromBalanceCache(t)}catch(e){console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{let e=ve.getBalanceCache();e[t.caipAddress]=t,Ge.setItem(et.PORTFOLIO_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{let e=Ge.getItem(et.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch(e){console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{let e=ve.getBalanceCache();Ge.setItem(et.NATIVE_BALANCE_CACHE,JSON.stringify(G(S({},e),{[t]:void 0})))}catch(e){console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{let r=ve.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),ve.removeAddressFromBalanceCache(t)}catch(e){console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{let e=ve.getNativeBalanceCache();e[t.caipAddress]=t,Ge.setItem(et.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{let e=Ge.getItem(et.ENS_CACHE);t=e?JSON.parse(e):{}}catch(e){console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{let r=ve.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;ve.removeEnsFromCache(t)}catch(e){console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{let e=ve.getEnsCache();e[t.address]=t,Ge.setItem(et.ENS_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{let e=ve.getEnsCache();Ge.setItem(et.ENS_CACHE,JSON.stringify(G(S({},e),{[t]:void 0})))}catch(e){console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{let e=Ge.getItem(et.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch(e){console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{let r=ve.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;ve.removeIdentityFromCache(t)}catch(e){console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{let e=ve.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ge.setItem(et.IDENTITY_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{let e=ve.getIdentityCache();Ge.setItem(et.IDENTITY_CACHE,JSON.stringify(G(S({},e),{[t]:void 0})))}catch(e){console.info("Unable to remove identity from cache",t)}},getTonWalletsCache(){try{let t=Ge.getItem(et.TON_WALLETS_CACHE),e=t?JSON.parse(t):void 0;if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tonWallets))return e;ve.removeTonWalletsCache()}catch(t){console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(t){try{let e=ve.getTonWalletsCache()||{timestamp:0,wallets:[]};e.timestamp=new Date().getTime(),e.wallets=t,Ge.setItem(et.TON_WALLETS_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update ton wallets cache",t)}},removeTonWalletsCache(){try{Ge.removeItem(et.TON_WALLETS_CACHE)}catch(t){console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{Ge.removeItem(et.PORTFOLIO_CACHE),Ge.removeItem(et.NATIVE_BALANCE_CACHE),Ge.removeItem(et.ENS_CACHE),Ge.removeItem(et.IDENTITY_CACHE),Ge.removeItem(et.HISTORY_TRANSACTIONS_CACHE)}catch(t){console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ge.setItem(et.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch(e){console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{let t=Ge.getItem(et.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch(t){console.info("Unable to get preferred account types")}return{}},setConnections(t,e){var r;try{let n=ve.getConnections(),s=(r=n[e])!=null?r:[],i=new Map;for(let a of s)i.set(a.connectorId,S({},a));for(let a of t){let c=i.get(a.connectorId),l=a.connectorId===J.CONNECTOR_ID.AUTH;if(c&&!l){let u=new Set(c.accounts.map(d=>d.address.toLowerCase())),f=a.accounts.filter(d=>!u.has(d.address.toLowerCase()));c.accounts.push(...f)}else i.set(a.connectorId,S({},a))}let o=G(S({},n),{[e]:Array.from(i.values())});Ge.setItem(et.CONNECTIONS,JSON.stringify(o))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{let t=Ge.getItem(et.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){var n;try{let s=ve.getConnections(),i=(n=s[r])!=null?n:[],o=new Map(i.map(c=>[c.connectorId,c])),a=o.get(t);a&&(a.accounts.filter(l=>l.address.toLowerCase()!==e.toLowerCase()).length===0?o.delete(t):o.set(t,G(S({},a),{accounts:a.accounts.filter(l=>l.address.toLowerCase()!==e.toLowerCase())}))),Ge.setItem(et.CONNECTIONS,JSON.stringify(G(S({},s),{[r]:Array.from(o.values())})))}catch(s){console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{let t=Ge.getItem(et.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch(t){console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){var r;try{let n=ve.getDisconnectedConnectorIds(),s=(r=n[e])!=null?r:[];s.push(t),Ge.setItem(et.DISCONNECTED_CONNECTOR_IDS,JSON.stringify(G(S({},n),{[e]:Array.from(new Set(s))})))}catch(n){console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){var r;try{let n=ve.getDisconnectedConnectorIds(),s=(r=n[e])!=null?r:[];s=s.filter(i=>i.toLowerCase()!==t.toLowerCase()),Ge.setItem(et.DISCONNECTED_CONNECTOR_IDS,JSON.stringify(G(S({},n),{[e]:Array.from(new Set(s))})))}catch(n){console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){var r;try{return((r=ve.getDisconnectedConnectorIds()[e])!=null?r:[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch(n){console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{let t=Ge.getItem(et.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch(t){console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var r;try{let s=(r=ve.getTransactionsCache()[t])==null?void 0:r[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;ve.removeTransactionsCache({address:t,chainId:e})}catch(n){console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{let s=ve.getTransactionsCache();s[t]=G(S({},s[t]),{[e]:{timestamp:r,transactions:n}}),Ge.setItem(et.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch(s){console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{let n=ve.getTransactionsCache(),r=(n==null?void 0:n[t])||{},{[e]:i}=r,o=Ve(r,[Ire(e)]);Ge.setItem(et.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(G(S({},n),{[t]:o})))}catch(n){console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{let t=Ge.getItem(et.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch(t){console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{let r=ve.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;ve.removeTokenPriceCache(t)}catch(e){console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{let e=ve.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Ge.setItem(et.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch(e){console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{let e=ve.getTokenPriceCache();Ge.setItem(et.TOKEN_PRICE_CACHE,JSON.stringify(G(S({},e),{[t.join(",")]:void 0})))}catch(e){console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{let t=this.getLatestAppKitVersionCache(),e=t==null?void 0:t.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch(t){console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let t=Ge.getItem(et.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch(t){console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{let e=ve.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,Ge.setItem(et.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch(e){console.info("Unable to update latest AppKit version on local storage",t)}}}});var de,Is=y(()=>{It();_c();Nc();de={getWindow(){if(typeof window!="undefined")return window},isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;let t=window==null?void 0:window.navigator.userAgent.toLowerCase();return de.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;let t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window!="undefined"},isPairingExpired(t){return t?t-Date.now()<=ct.TEN_SEC_MS:!0},isAllowedRetry(t,e=ct.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch(t){return!1}},isSafeApp(){var t,e;if(de.isClient()&&window.self!==window.top)try{let r=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],n="https://app.safe.global";if(r){let s=new URL(r),i=new URL(n);return s.hostname===i.hostname}}catch(r){return!1}return!1},getPairingExpiry(){return Date.now()+ct.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function s(){t(...n)}r&&clearTimeout(r),r=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(de.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,s=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));let i=encodeURIComponent(e);return{redirect:`${n}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:n}},formatUniversalUrl(t,e){if(!de.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);let n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ve.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window!="undefined"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var r,n;if(typeof window=="undefined")return!1;let t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(r=window.matchMedia("(display-mode: standalone)"))==null?void 0:r.matches:!1,e=(n=window==null?void 0:window.navigator)==null?void 0:n.standalone;return!!(t||e)},async preloadImage(t){let e=new Promise((r,n)=>{let s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,de.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){let c=Number(t);if(!isNaN(c)){let l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}let[n,s]=r.split("."),i=n||"0",o=s||"000";return{formattedText:`${i}.${o}${e?` ${e}`:""}`,value:i,decimals:o,symbol:e}},getApiUrl(){return J.W3M_API_URL},getBlockchainApiUrl(){return J.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return J.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){let r={};return e&&t&&(t.forEach((n,s)=>{r[n]=s}),e.sort((n,s)=>{let i=r[n.id],o=r[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){var r;let e=0;for(let n of t)e+=(r=n.value)!=null?r:0;return e},formatTokenBalance(t){let e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);case"bip122":{let r=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(t),n=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(t),s=/^bc1[a-z0-9]{39,87}$/u.test(t),i=/^bc1p[a-z0-9]{58}$/u.test(t);return r||n||s||i}default:return!1}},uniqueBy(t,e){let r=new Set;return t.filter(n=>{let s=n[e];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(t,e,r){let s=t.length===0?ct.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${r}`},createAccount(t,e,r,n,s){return{namespace:t,address:e,type:r,publicKey:n,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;let e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in J.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){let t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){let e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){let s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),r,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){let n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);let s=t.indexOf("&",n),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,n+i),c=t.substring(n+i,o),l=t.substring(s),u=c+r;return a+u+l},isNumber(t){return typeof t!="number"&&typeof t!="string"?!1:!isNaN(Number(t))}}});var ZJe,uEt,fEt,dEt,Il,On,WC=y(()=>{ZJe="https://secure.walletconnect.org/sdk",uEt=(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||ZJe,fEt=(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",dEt=(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Il={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},On={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}});var aq,w0e=y(()=>{aq={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u}});var p4,cq=y(()=>{WC();x0e();p4={set(t,e){hO.isClient&&localStorage.setItem(`${Il.STORAGE_KEY}${t}`,e)},get(t){return hO.isClient?localStorage.getItem(`${Il.STORAGE_KEY}${t}`):null},delete(t,e){hO.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Il.STORAGE_KEY}${t}`))}}});var mO,hO,x0e=y(()=>{w0e();WC();cq();mO=30*1e3,hO={checkIfAllowedToTriggerEmail(){let t=p4.get(Il.LAST_EMAIL_LOGIN_TIME);if(t){let e=Date.now()-Number(t);if(e<mO){let r=Math.ceil((mO-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){let t=p4.get(Il.LAST_EMAIL_LOGIN_TIME);if(t){let e=Date.now()-Number(t);if(e<mO)return Math.ceil((mO-e)/1e3)}return 0},checkIfRequestExists(t){return On.NOT_SAFE_RPC_METHODS.includes(t.method)||On.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(aq.transactionHash))||(t==null?void 0:t.match(aq.signedMessage)))?Il.RPC_RESPONSE_TYPE_TX:Il.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return On.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window!="undefined"}});var v0e=y(()=>{WC();cq()});var E0e,A0e=y(()=>{E0e="1.2.3"});var rs,h4=y(()=>{A0e();rs=class t extends Error{constructor(e,r={}){var o;let n=r.cause instanceof t?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,s=r.cause instanceof t&&r.cause.docsPath||r.docsPath,i=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${E0e}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}}});function Oc(t,e){let r=t.exec(e);return r==null?void 0:r.groups}var lq,uq,gO,KC=y(()=>{lq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,uq=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,gO=/^\(.+?\).*?$/});function yO(t){let e=t.type;if(C0e.test(t.type)&&"components"in t){e="(";let r=t.components.length;for(let s=0;s<r;s++){let i=t.components[s];e+=yO(i),s<r-1&&(e+=", ")}let n=Oc(C0e,t.type);return e+=`)${(n==null?void 0:n.array)||""}`,yO(G(S({},t),{type:e}))}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}var C0e,S0e=y(()=>{KC();C0e=new RegExp("^tuple(?<array>(\\[(\\d*)\\])*)$")});function Xp(t){let e="",r=t.length;for(let n=0;n<r;n++){let s=t[n];e+=yO(s),n!==r-1&&(e+=", ")}return e}var fq=y(()=>{S0e()});function Gb(t){var e;return t.type==="function"?`function ${t.name}(${Xp(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Xp(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Xp(t.inputs)})`:t.type==="error"?`error ${t.name}(${Xp(t.inputs)})`:t.type==="constructor"?`constructor(${Xp(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var I0e=y(()=>{fq()});function P0e(t){return T0e.test(t)}function _0e(t){return Oc(T0e,t)}function O0e(t){return N0e.test(t)}function R0e(t){return Oc(N0e,t)}function B0e(t){return k0e.test(t)}function U0e(t){return Oc(k0e,t)}function l0(t){return D0e.test(t)}function L0e(t){return Oc(D0e,t)}function $0e(t){return M0e.test(t)}function H0e(t){return Oc(M0e,t)}function z0e(t){return F0e.test(t)}function V0e(t){return Oc(F0e,t)}function j0e(t){return YJe.test(t)}var T0e,N0e,k0e,D0e,M0e,F0e,YJe,m4,q0e,bO,Zb=y(()=>{KC();T0e=new RegExp("^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$");N0e=new RegExp("^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$");k0e=new RegExp("^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\\s?\\((?<returns>.*?)\\))?$");D0e=new RegExp("^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \\{(?<properties>.*?)\\}$");M0e=new RegExp("^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$");F0e=new RegExp("^fallback\\(\\) external(?:\\s(?<stateMutability>payable{1}))?$");YJe=/^receive\(\) external payable$/;m4=new Set(["memory","indexed","storage","calldata"]),q0e=new Set(["indexed"]),bO=new Set(["calldata","memory","storage"])});var Yb,Jb,GC,ZC=y(()=>{h4();Yb=class extends rs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},Jb=class extends rs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},GC=class extends rs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var Qb,Xb,ew,tw,rw,nw,sw,g4=y(()=>{h4();Qb=class extends rs{constructor({param:e}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}},Xb=class extends rs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},ew=class extends rs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},tw=class extends rs{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},rw=class extends rs{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},nw=class extends rs{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},sw=class extends rs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var Rc,iw,ow,wO=y(()=>{h4();Rc=class extends rs{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},iw=class extends rs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},ow=class extends rs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var aw,dq=y(()=>{h4();aw=class extends rs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var cw,pq=y(()=>{h4();cw=class extends rs{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function W0e(t,e,r){let n="";if(r)for(let s of Object.entries(r)){if(!s)continue;let i="";for(let o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${s[0]}{${i}})`}return e?`${e}:${t}${n}`:`${t}${n}`}var xO,K0e=y(()=>{xO=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function YC(t,e={}){if(B0e(t))return JJe(t,e);if(O0e(t))return QJe(t,e);if(P0e(t))return XJe(t,e);if($0e(t))return eQe(t,e);if(z0e(t))return tQe(t);if(j0e(t))return{type:"receive",stateMutability:"payable"};throw new iw({signature:t})}function JJe(t,e={}){var a;let r=U0e(t);if(!r)throw new Rc({signature:t,type:"function"});let n=Ta(r.parameters),s=[],i=n.length;for(let c=0;c<i;c++)s.push(Pa(n[c],{modifiers:bO,structs:e,type:"function"}));let o=[];if(r.returns){let c=Ta(r.returns),l=c.length;for(let u=0;u<l;u++)o.push(Pa(c[u],{modifiers:bO,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:(a=r.stateMutability)!=null?a:"nonpayable",inputs:s,outputs:o}}function QJe(t,e={}){let r=R0e(t);if(!r)throw new Rc({signature:t,type:"event"});let n=Ta(r.parameters),s=[],i=n.length;for(let o=0;o<i;o++)s.push(Pa(n[o],{modifiers:q0e,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:s}}function XJe(t,e={}){let r=_0e(t);if(!r)throw new Rc({signature:t,type:"error"});let n=Ta(r.parameters),s=[],i=n.length;for(let o=0;o<i;o++)s.push(Pa(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:s}}function eQe(t,e={}){var o;let r=H0e(t);if(!r)throw new Rc({signature:t,type:"constructor"});let n=Ta(r.parameters),s=[],i=n.length;for(let a=0;a<i;a++)s.push(Pa(n[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:(o=r.stateMutability)!=null?o:"nonpayable",inputs:s}}function tQe(t){var r;let e=V0e(t);if(!e)throw new Rc({signature:t,type:"fallback"});return{type:"fallback",stateMutability:(r=e.stateMutability)!=null?r:"nonpayable"}}function Pa(t,e){var f,d,p,h;let r=W0e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(xO.has(r))return xO.get(r);let n=gO.test(t),s=Oc(n?nQe:rQe,t);if(!s)throw new ew({param:t});if(s.name&&oQe(s.name))throw new tw({param:t,name:s.name});let i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(f=e==null?void 0:e.structs)!=null?f:{},c,l={};if(n){c="tuple";let m=Ta(s.type),g=[],b=m.length;for(let E=0;E<b;E++)g.push(Pa(m[E],{structs:a}));l={components:g}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(sQe.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!hq(c))throw new GC({type:c});if(s.modifier){if(!((p=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&p.call(d,s.modifier)))throw new rw({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(bO.has(s.modifier)&&!aQe(c,!!s.array))throw new nw({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}let u=S(S(S({type:`${c}${(h=s.array)!=null?h:""}`},i),o),l);return xO.set(r,u),u}function Ta(t,e=[],r="",n=0){let s=t.trim().length;for(let i=0;i<s;i++){let o=t[i],a=t.slice(i+1);switch(o){case",":return n===0?Ta(a,[...e,r.trim()]):Ta(a,e,`${r}${o}`,n);case"(":return Ta(a,e,`${r}${o}`,n+1);case")":return Ta(a,e,`${r}${o}`,n-1);default:return Ta(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new cw({current:r,depth:n});return e.push(r.trim()),e}function hq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||lq.test(t)||uq.test(t)}function oQe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||lq.test(t)||uq.test(t)||iQe.test(t)}function aQe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}var rQe,nQe,sQe,iQe,lw=y(()=>{KC();ZC();g4();wO();pq();K0e();Zb();rQe=new RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\\spayable)?)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),nQe=new RegExp("^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),sQe=/^u?int$/;iQe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function V1(t){let e={},r=t.length;for(let o=0;o<r;o++){let a=t[o];if(!l0(a))continue;let c=L0e(a);if(!c)throw new Rc({signature:a,type:"struct"});let l=c.properties.split(";"),u=[],f=l.length;for(let d=0;d<f;d++){let h=l[d].trim();if(!h)continue;let m=Pa(h,{type:"struct"});u.push(m)}if(!u.length)throw new ow({signature:a});e[c.name]=u}let n={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){let[a,c]=s[o];n[a]=G0e(c,e)}return n}function G0e(t=[],e={},r=new Set){let n=[],s=t.length;for(let i=0;i<s;i++){let o=t[i];if(gO.test(o.type))n.push(o);else{let c=Oc(cQe,o.type);if(!(c!=null&&c.type))throw new sw({abiParameter:o});let{array:l,type:u}=c;if(u in e){if(r.has(u))throw new aw({type:u});n.push(G(S({},o),{type:`tuple${l!=null?l:""}`,components:G0e(e[u],e,new Set([...r,u]))}))}else if(hq(u))n.push(o);else throw new Jb({type:u})}}return n}var cQe,JC=y(()=>{KC();ZC();g4();wO();dq();Zb();lw();cQe=new RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?$")});function y4(t){let e=V1(t),r=[],n=t.length;for(let s=0;s<n;s++){let i=t[s];l0(i)||r.push(YC(i,e))}return r}var Z0e=y(()=>{Zb();JC();lw()});function b4(t){let e;if(typeof t=="string")e=YC(t);else{let r=V1(t),n=t.length;for(let s=0;s<n;s++){let i=t[s];if(!l0(i)){e=YC(i,r);break}}}if(!e)throw new Yb({signature:t});return e}var Y0e=y(()=>{ZC();Zb();JC();lw()});function mq(t){let e;if(typeof t=="string")e=Pa(t,{modifiers:m4});else{let r=V1(t),n=t.length;for(let s=0;s<n;s++){let i=t[s];if(!l0(i)){e=Pa(i,{modifiers:m4,structs:r});break}}}if(!e)throw new Qb({param:t});return e}var J0e=y(()=>{g4();Zb();JC();lw()});function w4(t){let e=[];if(typeof t=="string"){let r=Ta(t),n=r.length;for(let s=0;s<n;s++)e.push(Pa(r[s],{modifiers:m4}))}else{let r=V1(t),n=t.length;for(let s=0;s<n;s++){let i=t[s];if(l0(i))continue;let o=Ta(i),a=o.length;for(let c=0;c<a;c++)e.push(Pa(o[c],{modifiers:m4,structs:r}))}}if(e.length===0)throw new Xb({params:t});return e}var Q0e=y(()=>{g4();Zb();JC();lw();lw()});var x4=y(()=>{I0e();fq();Z0e();Y0e();J0e();Q0e();ZC();g4();wO();pq();dq()});function Pe(t,e,r){let n=t[e.name];if(typeof n=="function")return n;let s=t[r];return typeof s=="function"?s:i=>e(t,i)}var xr=y(()=>{});function Fs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new v4(t.type);return`${t.name}(${QC(t.inputs,{includeName:e})})`}function QC(t,{includeName:e=!1}={}){return t?t.map(r=>lQe(r,{includeName:e})).join(e?", ":","):""}function lQe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${QC(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}var eh=y(()=>{kn()});function st(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var Go=y(()=>{});function Jt(t){return st(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var _a=y(()=>{Go()});var gq,ede=y(()=>{gq="2.44.4"});function tde(t){E4=t}function rde(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?rde(t.cause,e):e?null:t}var E4,ne,Bt=y(()=>{ede();E4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t!=null?t:"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${gq}`};ne=class t extends Error{constructor(e,r={}){var a,c;let n=(()=>{var l;return r.cause instanceof t?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),s=r.cause instanceof t&&r.cause.docsPath||r.docsPath,i=(a=E4.getDocsUrl)==null?void 0:a.call(E4,G(S({},r),{docsPath:s})),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...E4.version?[`Version: ${E4.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=(c=r.name)!=null?c:this.name,this.shortMessage=e,this.version=gq}walk(e){return rde(this,e)}}});var j1,u0,vO,q1,Na,A4,C4,W1,S4,uw,K1,I4,T4,fw,kc,G1,P4,EO,Z1,zu,f0,_4,N4,Y1,v4,O4,kn=y(()=>{eh();_a();Bt();j1=class extends ne{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},u0=class extends ne{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},vO=class extends ne{constructor({data:e,size:r}){super([`Data size of ${r} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${e} (${r} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}},q1=class extends ne{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${QC(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}},Na=class extends ne{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},A4=class extends ne{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},C4=class extends ne{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Jt(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},W1=class extends ne{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},S4=class extends ne{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}},uw=class extends ne{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}},K1=class extends ne{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},I4=class extends ne{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},T4=class extends ne{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}},fw=class extends ne{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}},kc=class extends ne{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}},G1=class extends ne{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}},P4=class extends ne{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}},EO=class extends ne{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Fs(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Fs(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},Z1=class extends ne{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}},zu=class extends ne{constructor({abiItem:e,data:r,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${QC(n,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=s}},f0=class extends ne{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Fs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},_4=class extends ne{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},N4=class extends ne{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}},Y1=class extends ne{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},v4=class extends ne{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},O4=class extends ne{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}});var R4,yq=y(()=>{Bt();R4=class extends ne{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var dw,pw,XC,e9=y(()=>{Bt();dw=class extends ne{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},pw=class extends ne{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}},XC=class extends ne{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}});function io(t,{dir:e,size:r=32}={}){return typeof t=="string"?Oa(t,{dir:e,size:r}):bq(t,{dir:e,size:r})}function Oa(t,{dir:e,size:r=32}={}){if(r===null)return t;let n=t.replace("0x","");if(n.length>r*2)throw new pw({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function bq(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new pw({size:t.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let s=0;s<r;s++){let i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}var J1=y(()=>{e9()});var d0,k4,B4,U4,D4,hw=y(()=>{Bt();d0=class extends ne{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},k4=class extends ne{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},B4=class extends ne{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},U4=class extends ne{constructor(e){super(`Hex value "${e}" is an odd length (${e.length}). It must be an even length.`,{name:"InvalidHexValueError"})}},D4=class extends ne{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function Vn(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var th=y(()=>{});function Zo(t,{size:e}){if(Jt(t)>e)throw new D4({givenSize:Jt(t),maxSize:e})}function wq(t,e){let r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?Dt(t,r):n==="bigint"?Tt(t,r):n==="string"?AO(t,r):n==="boolean"?L4(t,r):hr(t,r)}function Tt(t,e={}){let{signed:r}=e;e.size&&Zo(t,{size:e.size});let n=BigInt(t);if(!r)return n;let s=(t.length-2)/2,i=(BigInt(1)<<BigInt(s)*BigInt(8)-BigInt(1))-BigInt(1);return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-BigInt(1)}function L4(t,e={}){let r=t;if(e.size&&(Zo(r,{size:e.size}),r=Vn(r)),Vn(r)==="0x00")return!1;if(Vn(r)==="0x01")return!0;throw new B4(r)}function Dt(t,e={}){let r=Tt(t,e),n=Number(r);if(!Number.isSafeInteger(n))throw new d0({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${r}n`});return n}function AO(t,e={}){let r=hr(t);return e.size&&(Zo(r,{size:e.size}),r=Vn(r,{dir:"right"})),new TextDecoder().decode(r)}var jn=y(()=>{hw();_a();th();un()});function Zr(t,e={}){return typeof t=="number"||typeof t=="bigint"?ce(t,e):typeof t=="string"?Yo(t,e):typeof t=="boolean"?Q1(t,e):Ot(t,e)}function Q1(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(Zo(r,{size:e.size}),io(r,{size:e.size})):r}function Ot(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=uQe[t[s]];let n=`0x${r}`;return typeof e.size=="number"?(Zo(n,{size:e.size}),io(n,{dir:"right",size:e.size})):n}function ce(t,e={}){let{signed:r,size:n}=e,s=BigInt(t),i;n?r?i=(BigInt(1)<<BigInt(n)*BigInt(8)-BigInt(1))-BigInt(1):i=BigInt(2)**(BigInt(n)*BigInt(8))-BigInt(1):typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof i=="bigint"&&r?-i-BigInt(1):0;if(i&&s>i||s<o){let c=typeof t=="bigint"?"n":"";throw new d0({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}let a=`0x${(r&&s<0?(BigInt(1)<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?io(a,{size:n}):a}function Yo(t,e={}){let r=fQe.encode(t);return Ot(r,e)}var uQe,fQe,Ze=y(()=>{hw();J1();jn();uQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));fQe=new TextEncoder});function qn(t,e={}){return typeof t=="number"||typeof t=="bigint"?vq(t,e):typeof t=="boolean"?xq(t,e):st(t)?hr(t,e):Bc(t,e)}function xq(t,e={}){let r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Zo(r,{size:e.size}),io(r,{size:e.size})):r}function nde(t){if(t>=rh.zero&&t<=rh.nine)return t-rh.zero;if(t>=rh.A&&t<=rh.F)return t-(rh.A-10);if(t>=rh.a&&t<=rh.f)return t-(rh.a-10)}function hr(t,e={}){let r=t;e.size&&(Zo(r,{size:e.size}),r=io(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let s=n.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){let c=nde(n.charCodeAt(a++)),l=nde(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new ne(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[o]=c*16+l}return i}function vq(t,e){let r=ce(t,e);return hr(r)}function Bc(t,e={}){let r=dQe.encode(t);return typeof e.size=="number"?(Zo(r,{size:e.size}),io(r,{dir:"right",size:e.size})):r}var dQe,rh,un=y(()=>{Bt();Go();J1();jn();Ze();dQe=new TextEncoder;rh={zero:48,nine:57,A:65,F:70,a:97,f:102}});function pQe(t,e=!1){return e?{h:Number(t&CO),l:Number(t>>sde&CO)}:{h:Number(t>>sde&CO)|0,l:Number(t&CO)|0}}function ide(t,e=!1){let r=t.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=pQe(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}var CO,sde,ode,ade,cde,lde,ude=y(()=>{CO=BigInt(4294967295),sde=BigInt(32);ode=(t,e,r)=>t<<r|e>>>32-r,ade=(t,e,r)=>e<<r|t>>>32-r,cde=(t,e,r)=>e<<r-32|t>>>64-r,lde=(t,e,r)=>t<<r-32|e>>>64-r});var mw,fde=y(()=>{mw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function hQe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function p0(t,...e){if(!hQe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dde(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");gw(t.outputLen),gw(t.blockLen)}function nh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SO(t,e){p0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function pde(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Uc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function IO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vu(t,e){return t<<32-e|t>>>e}function t9(t,e){return t<<e|t>>>32-e>>>0}function gQe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function yQe(t){for(let e=0;e<t.length;e++)t[e]=gQe(t[e]);return t}function bQe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function yw(t){return typeof t=="string"&&(t=bQe(t)),p0(t),t}function hde(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];p0(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function M4(t){let e=n=>t().update(yw(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function TO(t=32){if(mw&&typeof mw.getRandomValues=="function")return mw.getRandomValues(new Uint8Array(t));if(mw&&typeof mw.randomBytes=="function")return Uint8Array.from(mw.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var mQe,Eq,X1,sh=y(()=>{fde();mQe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Eq=mQe?t=>t:yQe;X1=class{}});function IQe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=mde(l,u,1)^r[a],d=gde(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=bde[o],c=mde(s,i,a),l=gde(s,i,a),u=yde[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=CQe[n],t[1]^=SQe[n]}Uc(r)}var wQe,r9,xQe,vQe,EQe,AQe,yde,bde,wde,xde,CQe,SQe,mde,gde,Aq,TQe,PO,Cq=y(()=>{ude();sh();wQe=BigInt(0),r9=BigInt(1),xQe=BigInt(2),vQe=BigInt(7),EQe=BigInt(256),AQe=BigInt(113),yde=[],bde=[],wde=[];for(let t=0,e=r9,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],yde.push(2*(5*n+r)),bde.push((t+1)*(t+2)/2%64);let s=wQe;for(let i=0;i<7;i++)e=(e<<r9^(e>>vQe)*AQe)%EQe,e&xQe&&(s^=r9<<(r9<<BigInt(i))-r9);wde.push(s)}xde=ide(wde,!0),CQe=xde[0],SQe=xde[1],mde=(t,e,r)=>r>32?cde(t,e,r):ode(t,e,r),gde=(t,e,r)=>r>32?lde(t,e,r):ade(t,e,r);Aq=class t extends X1{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,gw(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pde(this.state)}clone(){return this._cloneInto()}keccak(){Eq(this.state32),IQe(this.state32,this.rounds),Eq(this.state32),this.posOut=0,this.pos=0}update(e){nh(this),e=yw(e),p0(e);let{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){nh(this,!1),p0(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(SO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Uc(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},TQe=(t,e,r)=>M4(()=>new Aq(e,t,r)),PO=TQe(1,136,256/8)});function ar(t,e){let r=e||"hex",n=PO(st(t,{strict:!1})?qn(t):t);return r==="bytes"?n:Zr(n)}var Ra=y(()=>{Cq();Go();un();Ze()});function vde(t){return PQe(t)}var PQe,Ede=y(()=>{un();Ra();PQe=t=>ar(qn(t))});function Ade(t){let e=!0,r="",n=0,s="",i=!1;for(let o=0;o<t.length;o++){let a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=a,r+=a}}if(!i)throw new ne("Unable to normalize signature.");return s}var Cde=y(()=>{Bt()});var ih,_O=y(()=>{x4();Cde();ih=t=>{let e=typeof t=="string"?t:Gb(t);return Ade(e)}});function oh(t){return vde(ih(t))}var n9=y(()=>{Ede();_O()});var ju,$4=y(()=>{n9();ju=oh});var Yr,Tl=y(()=>{Bt();Yr=class extends ne{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var oo,eg=y(()=>{oo=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function qu(t,e){if(Sq.has(`${t}.${e}`))return Sq.get(`${t}.${e}`);let r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=ar(Bc(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());let i=`0x${s.join("")}`;return Sq.set(`${t}.${e}`,i),i}function zs(t,e){if(!vr(t,{strict:!1}))throw new Yr({address:t});return qu(t,e)}var Sq,Dc=y(()=>{Tl();un();Ra();eg();ka();Sq=new oo(8192)});function vr(t,e){let{strict:r=!0}=e!=null?e:{},n=`${t}.${r}`;if(Iq.has(n))return Iq.get(n);let s=_Qe.test(t)?t.toLowerCase()===t?!0:r?qu(t)===t:!0:!1;return Iq.set(n,s),s}var _Qe,Iq,ka=y(()=>{eg();Dc();_Qe=/^0x[a-fA-F0-9]{40}$/,Iq=new oo(8192)});function Bn(t){return typeof t[0]=="string"?Wn(t):Tq(t)}function Tq(t){let e=0;for(let s of t)e+=s.length;let r=new Uint8Array(e),n=0;for(let s of t)r.set(s,n),n+=s.length;return r}function Wn(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}var si=y(()=>{});function ao(t,e,r,{strict:n}={}){return st(t,{strict:!1})?h0(t,e,r,{strict:n}):s9(t,e,r,{strict:n})}function Sde(t,e){if(typeof e=="number"&&e>0&&e>Jt(t)-1)throw new dw({offset:e,position:"start",size:Jt(t)})}function Ide(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Jt(t)!==r-e)throw new dw({offset:r,position:"end",size:Jt(t)})}function s9(t,e,r,{strict:n}={}){Sde(t,e);let s=t.slice(e,r);return n&&Ide(s,e,r),s}function h0(t,e,r,{strict:n}={}){Sde(t,e);let s=`0x${t.replace("0x","").slice((e!=null?e:0)*2,(r!=null?r:t.length)*2)}`;return n&&Ide(s,e,r),s}var Pl=y(()=>{e9();Go();_a()});var Tde,NO,H4,OO=y(()=>{Tde=/^(.*)\[([0-9]*)\]$/,NO=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,H4=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function Vs(t,e){if(t.length!==e.length)throw new W1({expectedLength:t.length,givenLength:e.length});let r=NQe({params:t,values:e}),n=_q(r);return n.length===0?"0x":n}function NQe({params:t,values:e}){let r=[];for(let n=0;n<t.length;n++)r.push(Pq({param:t[n],value:e[n]}));return r}function Pq({param:t,value:e}){var n;let r=RO(t.type);if(r){let[s,i]=r;return RQe(e,{length:s,param:G(S({},t),{type:i})})}if(t.type==="tuple")return LQe(e,{param:t});if(t.type==="address")return OQe(e);if(t.type==="bool")return BQe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){let s=t.type.startsWith("int"),[,,i="256"]=(n=H4.exec(t.type))!=null?n:[];return UQe(e,{signed:s,size:Number(i)})}if(t.type.startsWith("bytes"))return kQe(e,{param:t});if(t.type==="string")return DQe(e);throw new _4(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function _q(t){let e=0;for(let i=0;i<t.length;i++){let{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Jt(a)}let r=[],n=[],s=0;for(let i=0;i<t.length;i++){let{dynamic:o,encoded:a}=t[i];o?(r.push(ce(e+s,{size:32})),n.push(a),s+=Jt(a)):r.push(a)}return Bn([...r,...n])}function OQe(t){if(!vr(t))throw new Yr({address:t});return{dynamic:!1,encoded:Oa(t.toLowerCase())}}function RQe(t,{length:e,param:r}){let n=e===null;if(!Array.isArray(t))throw new Y1(t);if(!n&&t.length!==e)throw new A4({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let s=!1,i=[];for(let o=0;o<t.length;o++){let a=Pq({param:r,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(n||s){let o=_q(i);if(n){let a=ce(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Bn([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Bn(i.map(({encoded:o})=>o))}}function kQe(t,{param:e}){let[,r]=e.type.split("bytes"),n=Jt(t);if(!r){let s=t;return n%32!==0&&(s=Oa(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Bn([Oa(ce(n,{size:32})),s])}}if(n!==Number.parseInt(r,10))throw new C4({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:Oa(t,{dir:"right"})}}function BQe(t){if(typeof t!="boolean")throw new ne(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Oa(Q1(t))}}function UQe(t,{signed:e,size:r=256}){if(typeof r=="number"){let n=BigInt(2)**(BigInt(r)-(e?BigInt(1):BigInt(0)))-BigInt(1),s=e?-n-BigInt(1):BigInt(0);if(t>n||t<s)throw new d0({max:n.toString(),min:s.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:ce(t,{size:32,signed:e})}}function DQe(t){let e=Yo(t),r=Math.ceil(Jt(e)/32),n=[];for(let s=0;s<r;s++)n.push(Oa(ao(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Bn([Oa(ce(Jt(e),{size:32})),...n])}}function LQe(t,{param:e}){let r=!1,n=[];for(let s=0;s<e.components.length;s++){let i=e.components[s],o=Array.isArray(t)?s:i.name,a=Pq({param:i,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?_q(n):Bn(n.map(({encoded:s})=>s))}}function RO(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var Wu=y(()=>{kn();Tl();Bt();hw();ka();si();J1();_a();Pl();Ze();OO()});var Lc,bw=y(()=>{Pl();n9();Lc=t=>ao(oh(t),0,4)});function co(t){let{abi:e,args:r=[],name:n}=t,s=st(n,{strict:!1}),i=e.filter(a=>s?a.type==="function"?Lc(a)===n:a.type==="event"?ju(a)===n:!1:"name"in a&&a.name===n);if(i.length===0)return;if(i.length===1)return i[0];let o;for(let a of i){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((l,u)=>{let f="inputs"in a&&a.inputs[u];return f?Nq(l,f):!1})){if(o&&"inputs"in o&&o.inputs){let l=Pde(a.inputs,o.inputs,r);if(l)throw new EO({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function Nq(t,e){let r=typeof t,n=e.type;switch(n){case"address":return vr(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>r==="object"&&Nq(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(s=>Nq(s,G(S({},e),{type:n.replace(/(\[[0-9]{0,}\])$/,"")}))):!1}}function Pde(t,e,r){for(let n in t){let s=t[n],i=e[n];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Pde(s.components,i.components,r[n]);let o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?vr(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?vr(r[n],{strict:!1}):!1)return o}}var ah=y(()=>{kn();Go();ka();$4();bw()});function _l(t){var c,l,u;let{abi:e,eventName:r,args:n}=t,s=e[0];if(r){let f=co({abi:e,name:r});if(!f)throw new fw(r,{docsPath:_de});s=f}if(s.type!=="event")throw new fw(void 0,{docsPath:_de});let i=Fs(s),o=ju(i),a=[];if(n&&"inputs"in s){let f=(c=s.inputs)==null?void 0:c.filter(p=>"indexed"in p&&p.indexed),d=Array.isArray(n)?n:Object.values(n).length>0?(l=f==null?void 0:f.map(p=>n[p.name]))!=null?l:[]:[];d.length>0&&(a=(u=f==null?void 0:f.map((p,h)=>Array.isArray(d[h])?d[h].map((m,g)=>Nde({param:p,value:d[h][g]})):typeof d[h]!="undefined"&&d[h]!==null?Nde({param:p,value:d[h]}):null))!=null?u:[])}return[o,...a]}function Nde({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ar(qn(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new R4(t.type);return Vs([t],[e])}var _de,ww=y(()=>{kn();yq();un();Ra();$4();Wu();eh();ah();_de="/docs/contract/encodeEventTopics"});function tg(t,{method:e}){var n,s;let r={};return t.transport.type==="fallback"&&((s=(n=t.transport).onResponse)==null||s.call(n,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(r[o]=c.request)})),(i=>r[i]||t.request)}var i9=y(()=>{});async function F4(t,e){let{address:r,abi:n,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=e,l=tg(t,{method:"eth_newFilter"}),u=i?_l({abi:n,args:s,eventName:i}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?ce(o):o,toBlock:typeof c=="bigint"?ce(c):c,topics:u}]});return{abi:n,args:s,eventName:i,id:f,request:l(f),strict:!!a,type:"event"}}var kO=y(()=>{ww();Ze();i9()});function Rt(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}var Kn=y(()=>{});function BO(t){let{abi:e,args:r,functionName:n}=t,s=e[0];if(n){let i=co({abi:e,args:r,name:n});if(!i)throw new kc(n,{docsPath:Ode});s=i}if(s.type!=="function")throw new kc(void 0,{docsPath:Ode});return{abi:[s],functionName:Lc(Fs(s))}}var Ode,Oq=y(()=>{kn();bw();eh();ah();Ode="/docs/contract/encodeFunctionData"});function fn(t){let{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:BO(t)})(),s=r[0],i=n,o="inputs"in s&&s.inputs?Vs(s.inputs,e!=null?e:[]):void 0;return Wn([i,o!=null?o:"0x"])}var Ba=y(()=>{si();Wu();Oq()});var Rde,UO,kde,DO=y(()=>{Rde={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},UO={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},kde={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var o9,z4,LO,Rq=y(()=>{Bt();o9=class extends ne{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},z4=class extends ne{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},LO=class extends ne{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function Ku(t,{recursiveReadLimit:e=8192}={}){var n;let r=Object.create(MQe);return r.bytes=t,r.dataView=new DataView((n=t.buffer)!=null?n:t,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}var MQe,V4=y(()=>{Rq();MQe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new LO({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new z4({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new o9({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new o9({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t!=null?t:this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let r=e!=null?e:this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){let e=t!=null?t:this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t!=null?t:this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t!=null?t:this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t!=null?t:this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let r=this.inspectBytes(t);return this.position+=e!=null?e:t,r},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}}});function Bde(t,e){let r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?Mc(t,r):n==="bigint"?a9(t,r):n==="boolean"?c9(t,r):n==="string"?l9(t,r):Ot(t,r)}function a9(t,e={}){typeof e.size!="undefined"&&Zo(t,{size:e.size});let r=Ot(t,e);return Tt(r,e)}function c9(t,e={}){let r=t;if(typeof e.size!="undefined"&&(Zo(r,{size:e.size}),r=Vn(r)),r.length>1||r[0]>1)throw new k4(r);return!!r[0]}function Mc(t,e={}){typeof e.size!="undefined"&&Zo(t,{size:e.size});let r=Ot(t,e);return Dt(r,e)}function l9(t,e={}){let r=t;return typeof e.size!="undefined"&&(Zo(r,{size:e.size}),r=Vn(r,{dir:"right"})),new TextDecoder().decode(r)}var kq=y(()=>{hw();th();jn();Ze()});function Jo(t,e){let r=typeof e=="string"?hr(e):e,n=Ku(r);if(Jt(r)===0&&t.length>0)throw new Na;if(Jt(e)&&Jt(e)<32)throw new q1({data:typeof e=="string"?e:Ot(e),params:t,size:Jt(e)});let s=0,i=[];for(let o=0;o<t.length;++o){let a=t[o];n.setPosition(s);let[c,l]=j4(n,a,{staticPosition:0});s+=l,i.push(c)}return i}function j4(t,e,{staticPosition:r}){let n=RO(e.type);if(n){let[s,i]=n;return HQe(t,G(S({},e),{type:i}),{length:s,staticPosition:r})}if(e.type==="tuple")return jQe(t,e,{staticPosition:r});if(e.type==="address")return $Qe(t);if(e.type==="bool")return FQe(t);if(e.type.startsWith("bytes"))return zQe(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return VQe(t,e);if(e.type==="string")return qQe(t,{staticPosition:r});throw new N4(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function $Qe(t){let e=t.readBytes(32);return[qu(Ot(s9(e,-20))),32]}function HQe(t,e,{length:r,staticPosition:n}){if(!r){let o=Mc(t.readBytes(Bq)),a=n+o,c=a+Ude;t.setPosition(a);let l=Mc(t.readBytes(Ude)),u=u9(e),f=0,d=[];for(let p=0;p<l;++p){t.setPosition(c+(u?p*32:f));let[h,m]=j4(t,e,{staticPosition:c});f+=m,d.push(h)}return t.setPosition(n+32),[d,32]}if(u9(e)){let o=Mc(t.readBytes(Bq)),a=n+o,c=[];for(let l=0;l<r;++l){t.setPosition(a+l*32);let[u]=j4(t,e,{staticPosition:a});c.push(u)}return t.setPosition(n+32),[c,32]}let s=0,i=[];for(let o=0;o<r;++o){let[a,c]=j4(t,e,{staticPosition:n+s});s+=c,i.push(a)}return[i,s]}function FQe(t){return[c9(t.readBytes(32),{size:32}),32]}function zQe(t,e,{staticPosition:r}){let[n,s]=e.type.split("bytes");if(!s){let o=Mc(t.readBytes(32));t.setPosition(r+o);let a=Mc(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];let c=t.readBytes(a);return t.setPosition(r+32),[Ot(c),32]}return[Ot(t.readBytes(Number.parseInt(s,10),32)),32]}function VQe(t,e){let r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[n>48?a9(s,{signed:r}):Mc(s,{signed:r}),32]}function jQe(t,e,{staticPosition:r}){let n=e.components.length===0||e.components.some(({name:o})=>!o),s=n?[]:{},i=0;if(u9(e)){let o=Mc(t.readBytes(Bq)),a=r+o;for(let c=0;c<e.components.length;++c){let l=e.components[c];t.setPosition(a+i);let[u,f]=j4(t,l,{staticPosition:a});i+=f,s[n?c:l==null?void 0:l.name]=u}return t.setPosition(r+32),[s,32]}for(let o=0;o<e.components.length;++o){let a=e.components[o],[c,l]=j4(t,a,{staticPosition:r});s[n?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function qQe(t,{staticPosition:e}){let r=Mc(t.readBytes(32)),n=e+r;t.setPosition(n);let s=Mc(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];let i=t.readBytes(s,32),o=l9(Vn(i));return t.setPosition(e+32),[o,32]}function u9(t){var n;let{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(u9);let r=RO(t.type);return!!(r&&u9(G(S({},t),{type:r[1]})))}var Ude,Bq,rg=y(()=>{kn();Dc();V4();_a();Pl();th();kq();un();Ze();Wu();Ude=32,Bq=32});function q4(t){let{abi:e,data:r}=t,n=ao(r,0,4);if(n==="0x")throw new Na;let i=[...e||[],UO,kde].find(o=>o.type==="error"&&n===Lc(Fs(o)));if(!i)throw new K1(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Jo(i.inputs,ao(r,4)):void 0,errorName:i.name}}var MO=y(()=>{DO();kn();Pl();bw();rg();eh()});var Wt,Oi=y(()=>{Wt=(t,e,r)=>JSON.stringify(t,(n,s)=>{let i=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(n,i):i},r)});function Uq({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((s,i)=>`${n&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Wt(e[i]):e[i]}`).join(", ")})`}var Dde=y(()=>{Oi()});var W4,K4,Lde,G4=y(()=>{W4={gwei:9,wei:18},K4={ether:-9,wei:9},Lde={ether:-18,gwei:-9}});function m0(t,e){let r=t.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}var $O=y(()=>{});function ng(t,e="wei"){return m0(t,W4[e])}var f9=y(()=>{G4();$O()});function ms(t,e="wei"){return m0(t,K4[e])}var xw=y(()=>{G4();$O()});function Mde(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function $de(t){return t.reduce((e,s)=>{var i=s,{address:r}=i,n=Ve(i,["address"]);let o=`${e}    ${r}:
`;return n.nonce&&(o+=`      nonce: ${n.nonce}
`),n.balance&&(o+=`      balance: ${n.balance}
`),n.code&&(o+=`      code: ${n.code}
`),n.state&&(o+=`      state:
`,o+=Mde(n.state)),n.stateDiff&&(o+=`      stateDiff:
`,o+=Mde(n.stateDiff)),o},`  State Override:
`).slice(0,-1)}var Z4,Y4,HO=y(()=>{Bt();Z4=class extends ne{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},Y4=class extends ne{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function vw(t){let e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}var FO,sg,J4,Q4,g0,X4,e3,ig,og,t3,r3,Qo=y(()=>{f9();xw();Bt();FO=class extends ne{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},sg=class extends ne{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},J4=class extends ne{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",vw(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},Q4=class extends ne{constructor({serializedType:e}){super(`Serialized transaction type "${e}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=e}},g0=class extends ne{constructor({attributes:e,serializedTransaction:r,type:n}){let s=Object.entries(e).map(([i,o])=>typeof o=="undefined"?i:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${n}" was provided.`,{metaMessages:[`Serialized Transaction: "${r}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=r,this.type=n}},X4=class extends ne{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},e3=class extends ne{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){var h;let p=vw({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:f,value:typeof d!="undefined"&&`${ng(d)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a!="undefined"&&`${ms(a)} gwei`,maxFeePerGas:typeof c!="undefined"&&`${ms(c)} gwei`,maxPriorityFeePerGas:typeof l!="undefined"&&`${ms(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},ig=class extends ne{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i}){let o="Transaction";n&&i!==void 0&&(o=`Transaction at block time "${n}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}},og=class extends ne{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},t3=class extends ne{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}},r3=class extends ne{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var Hde,ch,zO=y(()=>{Hde=t=>t,ch=t=>t});var ag,cg,lh,n3,s3,Nl,uh=y(()=>{Kn();DO();MO();eh();Dde();ah();f9();xw();kn();Bt();HO();Qo();zO();ag=class extends ne{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,stateOverride:p}){var g;let h=r?Rt(r):void 0,m=vw({from:h==null?void 0:h.address,to:f,value:typeof d!="undefined"&&`${ng(d)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a!="undefined"&&`${ms(a)} gwei`,maxFeePerGas:typeof c!="undefined"&&`${ms(c)} gwei`,maxPriorityFeePerGas:typeof l!="undefined"&&`${ms(l)} gwei`,nonce:u});p&&(m+=`
${$de(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},cg=class extends ne{constructor(e,{abi:r,args:n,contractAddress:s,docsPath:i,functionName:o,sender:a}){var d;let c=co({abi:r,args:n,name:o}),l=c?Uq({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=c?Fs(c,{includeName:!0}):void 0,f=vw({address:s&&Hde(s),function:u,args:l&&l!=="()"&&`${[...Array((d=o==null?void 0:o.length)!=null?d:0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}},lh=class extends ne{constructor({abi:e,data:r,functionName:n,message:s}){var u;let i,o,a,c;if(r&&r!=="0x")try{o=q4({abi:e,data:r});let{abiItem:f,errorName:d,args:p}=o;if(d==="Error")c=p[0];else if(d==="Panic"){let[h]=p;c=Rde[h]}else{let h=f?Fs(f,{includeName:!0}):void 0,m=f&&p?Uq({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",m&&m!=="()"?`       ${[...Array((u=d==null?void 0:d.length)!=null?u:0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){i=f}else s&&(c=s);let l;i instanceof K1&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${n}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${n}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=l}},n3=class extends ne{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},s3=class extends ne{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},Nl=class extends ne{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var Ua,Ew,Ol,y0,fh,Gu=y(()=>{Oi();Bt();zO();Ua=class extends ne{constructor({body:e,cause:r,details:n,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${ch(o)}`,e&&`Request body: ${Wt(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}},Ew=class extends ne{constructor({body:e,cause:r,details:n,url:s}){super("WebSocket request failed.",{cause:r,details:n,metaMessages:[`URL: ${ch(s)}`,e&&`Request body: ${Wt(e)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=s}},Ol=class extends ne{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${ch(n)}`,`Request body: ${Wt(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}},y0=class extends ne{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${ch(e)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=e}},fh=class extends ne{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ch(r)}`,`Request body: ${Wt(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}});var WQe,ii,Ri,lg,ug,fg,dg,Zu,Da,pg,hg,b0,w0,dh,mg,Yu,gg,yg,bg,wg,xg,x0,vg,Eg,Ag,Cg,Sg,v0,i3,Ig=y(()=>{Bt();Gu();WQe=-1,ii=class extends ne{constructor(e,{code:r,docsPath:n,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Ol?e.code:r!=null?r:WQe}},Ri=class extends ii{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}},lg=class t extends ii{constructor(e){super(e,{code:t.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});ug=class t extends ii{constructor(e){super(e,{code:t.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});fg=class t extends ii{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}};Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});dg=class t extends ii{constructor(e){super(e,{code:t.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Zu=class t extends ii{constructor(e){super(e,{code:t.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});Da=class t extends ii{constructor(e){super(e,{code:t.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Da,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});pg=class t extends ii{constructor(e){super(e,{code:t.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});hg=class t extends ii{constructor(e){super(e,{code:t.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});b0=class t extends ii{constructor(e){super(e,{code:t.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(b0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});w0=class t extends ii{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}};Object.defineProperty(w0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});dh=class t extends ii{constructor(e){super(e,{code:t.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});mg=class t extends ii{constructor(e){super(e,{code:t.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});Yu=class t extends Ri{constructor(e){super(e,{code:t.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Yu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});gg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});yg=class t extends Ri{constructor(e,{method:r}={}){super(e,{code:t.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}};Object.defineProperty(yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});bg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});wg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});xg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});x0=class t extends Ri{constructor(e){super(e,{code:t.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(x0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});vg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});Eg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(Eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});Ag=class t extends Ri{constructor(e){super(e,{code:t.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(Ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});Cg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(Cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});Sg=class t extends Ri{constructor(e){super(e,{code:t.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(Sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});v0=class t extends Ri{constructor(e){super(e,{code:t.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(v0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});i3=class extends ii{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function Xo(t,{abi:e,address:r,args:n,docsPath:s,functionName:i,sender:o}){let a=t instanceof Nl?t:t instanceof ne?t.walk(h=>"data"in h)||t.walk():{},{code:c,data:l,details:u,message:f,shortMessage:d}=a,p=t instanceof Na?new n3({functionName:i}):[KQe,Zu.code].includes(c)&&(l||u||f||d)||c===Da.code&&u==="execution reverted"&&l?new lh({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof Ol?u:d!=null?d:f}):t;return new cg(p,{abi:e,args:n,contractAddress:r,docsPath:s,functionName:i,sender:o})}var KQe,Tg=y(()=>{kn();Bt();uh();Gu();Ig();KQe=3});function Fde(t){let e=ar(`0x${t.substring(4)}`).substring(26);return qu(`0x${e}`)}var zde=y(()=>{Dc();Ra()});function GQe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function Dq(t,e,r){return t&e^~t&r}function Lq(t,e,r){return t&e^t&r^e&r}var o3,ph,Mq=y(()=>{sh();o3=class extends X1{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=IO(this.buffer)}update(e){nh(this),e=yw(e),p0(e);let{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=IO(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nh(this),SO(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,Uc(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;GQe(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=IO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},ph=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225])});var ZQe,Pg,VO,Aw,$q=y(()=>{Mq();sh();ZQe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pg=new Uint32Array(64),VO=class extends o3{constructor(e=32){super(64,e,8,!1),this.A=ph[0]|0,this.B=ph[1]|0,this.C=ph[2]|0,this.D=ph[3]|0,this.E=ph[4]|0,this.F=ph[5]|0,this.G=ph[6]|0,this.H=ph[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Pg[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=Pg[f-15],p=Pg[f-2],h=Vu(d,7)^Vu(d,18)^d>>>3,m=Vu(p,17)^Vu(p,19)^p>>>10;Pg[f]=m+Pg[f-7]+h+Pg[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Vu(a,6)^Vu(a,11)^Vu(a,25),p=u+d+Dq(a,c,l)+ZQe[f]+Pg[f]|0,m=(Vu(n,2)^Vu(n,13)^Vu(n,22))+Lq(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){Uc(Pg)}destroy(){this.set(0,0,0,0,0,0,0,0),Uc(this.buffer)}},Aw=M4(()=>new VO)});var jO,Hq,Vde=y(()=>{sh();jO=class extends X1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,dde(e);let n=yw(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Uc(i)}update(e){return nh(this),this.iHash.update(e),this}digestInto(e){nh(this),p0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Hq=(t,e,r)=>new jO(t,e).update(r).digest();Hq.create=(t,e)=>new jO(t,e)});function a3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mh(t){if(!a3(t))throw new Error("Uint8Array expected")}function c3(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function d9(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Wde(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jq:BigInt("0x"+t)}function l3(t){if(mh(t),Kde)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=YQe[t[r]];return e}function jde(t){if(t>=hh._0&&t<=hh._9)return t-hh._0;if(t>=hh.A&&t<=hh.F)return t-(hh.A-10);if(t>=hh.a&&t<=hh.f)return t-(hh.a-10)}function p9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Kde)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=jde(t.charCodeAt(i)),a=jde(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function La(t){return Wde(l3(t))}function qq(t){return mh(t),Wde(l3(Uint8Array.from(t).reverse()))}function E0(t,e){return p9(t.toString(16).padStart(e*2,"0"))}function Wq(t,e){return E0(t,e).reverse()}function Ts(t,e,r){let n;if(typeof e=="string")try{n=p9(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(a3(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function ea(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];mh(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function qO(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Cw(t,e,r){return Fq(t)&&Fq(e)&&Fq(r)&&e<=t&&t<r}function gh(t,e,r,n){if(!Cw(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Gde(t){let e;for(e=0;t>jq;t>>=Vq,e+=1);return e}function Zde(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zq(t),s=zq(t),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>r(s,n,...f),c=(f=zq(0))=>{s=a(qde([0]),f),n=a(),f.length!==0&&(s=a(qde([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){n=a();let p=n.slice();d.push(p),f+=n.length}return ea(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}function yh(t,e,r={}){let n=(s,i,o)=>{let a=JQe[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return t}function Kq(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}var jq,Vq,Kde,YQe,hh,Fq,Sw,zq,qde,JQe,u3=y(()=>{jq=BigInt(0),Vq=BigInt(1);Kde=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",YQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));hh={_0:48,_9:57,A:65,F:70,a:97,f:102};Fq=t=>typeof t=="bigint"&&jq<=t;Sw=t=>(Vq<<BigInt(t))-Vq,zq=t=>new Uint8Array(t),qde=t=>Uint8Array.from(t);JQe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||a3(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function gs(t,e){let r=t%e;return r>=ta?r:e+r}function $c(t,e,r){let n=t;for(;e-- >ta;)n*=n,n%=r;return n}function WO(t,e){if(t===ta)throw new Error("invert: expected non-zero number");if(e<=ta)throw new Error("invert: expected positive modulus, got "+e);let r=gs(t,e),n=e,s=ta,i=lo,o=lo,a=ta;for(;r!==ta;){let l=n/r,u=n%r,f=s-o*l,d=i-a*l;n=r,r=u,s=o,i=a,o=f,a=d}if(n!==lo)throw new Error("invert: does not exist");return gs(s,e)}function epe(t,e){let r=(t.ORDER+lo)/Jde,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function XQe(t,e){let r=(t.ORDER-Qde)/Xde,n=t.mul(e,Iw),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,Iw),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function eXe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-lo,r=0;for(;e%Iw===ta;)e/=Iw,r++;let n=Iw,s=h9(t);for(;Yde(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return epe;let i=s.pow(n,e),o=(e+lo)/Iw;return function(c,l){if(c.is0(l))return l;if(Yde(c,l)!==1)throw new Error("Cannot find square root");let u=r,f=c.mul(c.ONE,i),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=lo<<BigInt(u-h-1),b=c.pow(f,g);u=h,f=c.sqr(b),d=c.mul(d,f),p=c.mul(p,b)}return p}}function tXe(t){return t%Jde===QQe?epe:t%Xde===Qde?XQe:eXe(t)}function KO(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=rXe.reduce((n,s)=>(n[s]="function",n),e);return yh(t,r)}function nXe(t,e,r){if(r<ta)throw new Error("invalid exponent, negatives unsupported");if(r===ta)return t.ONE;if(r===lo)return e;let n=t.ONE,s=e;for(;r>ta;)r&lo&&(n=t.mul(n,s)),s=t.sqr(s),r>>=lo;return n}function f3(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function Yde(t,e){let r=(t.ORDER-lo)/Iw,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Gq(t,e){e!==void 0&&gw(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function h9(t,e,r=!1,n={}){if(t<=ta)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:s,nByteLength:i}=Gq(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:Sw(s),ZERO:ta,ONE:lo,create:c=>gs(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ta<=c&&c<t},is0:c=>c===ta,isOdd:c=>(c&lo)===lo,neg:c=>gs(-c,t),eql:(c,l)=>c===l,sqr:c=>gs(c*c,t),add:(c,l)=>gs(c+l,t),sub:(c,l)=>gs(c-l,t),mul:(c,l)=>gs(c*l,t),pow:(c,l)=>nXe(a,c,l),div:(c,l)=>gs(c*WO(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>WO(c,t),sqrt:n.sqrt||(c=>(o||(o=tXe(t)),o(a,c))),toBytes:c=>r?Wq(c,i):E0(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?qq(c):La(c)},invertBatch:c=>f3(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function tpe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Zq(t){let e=tpe(t);return e+Math.ceil(e/2)}function rpe(t,e,r=!1){let n=t.length,s=tpe(e),i=Zq(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=r?qq(t):La(t),a=gs(o,e-lo)+lo;return r?Wq(a,s):E0(a,s)}var ta,lo,Iw,QQe,Jde,Qde,Xde,rXe,m9=y(()=>{sh();u3();ta=BigInt(0),lo=BigInt(1),Iw=BigInt(2),QQe=BigInt(3),Jde=BigInt(4),Qde=BigInt(5),Xde=BigInt(8);rXe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function Yq(t,e){let r=e.negate();return t?r:e}function ipe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Jq(t,e){ipe(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=Sw(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function spe(t,e,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r,a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=eW);let l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function sXe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function iXe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Xq(t){return ope.get(t)||1}function ape(t,e){return{constTimeNegate:Yq,hasPrecomputes(r){return Xq(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>npe;)n&eW&&(s=s.add(i)),i=i.double(),n>>=eW;return s},precomputeWindow(r,n){let{windows:s,windowSize:i}=Jq(n,e),o=[],a=r,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE,a=Jq(r,e);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:h}=spe(s,c,a);s=l,f?o=o.add(Yq(p,n[h])):i=i.add(Yq(d,n[u]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){let o=Jq(r,e);for(let a=0;a<o.windows&&s!==npe;a++){let{nextN:c,offset:l,isZero:u,isNeg:f}=spe(s,a,o);if(s=c,!u){let d=n[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(r,n,s){let i=Qq.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Qq.set(n,s(i))),i},wNAFCached(r,n,s){let i=Xq(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){let o=Xq(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){ipe(n,e),ope.set(r,n),Qq.delete(r)}}}function cpe(t,e,r,n){sXe(r,t),iXe(n,e);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,a=Gde(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Sw(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<i;m++){let g=n[m],b=Number(g>>BigInt(p)&l);u[b]=u[b].add(r[m])}let h=o;for(let m=u.length-1,g=o;m>0;m--)g=g.add(u[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function tW(t){return KO(t.Fp),yh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(G(S(S({},Gq(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}var npe,eW,Qq,ope,lpe=y(()=>{m9();u3();npe=BigInt(0),eW=BigInt(1);Qq=new WeakMap,ope=new WeakMap});function upe(t){t.lowS!==void 0&&c3("lowS",t.lowS),t.prehash!==void 0&&c3("prehash",t.prehash)}function oXe(t){let e=tW(t);yh(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze(S({},e))}function rW(t,e){return l3(E0(t,e))}function aXe(t){let e=oXe(t),{Fp:r}=e,n=h9(e.n,e.nBitLength),s=e.toBytes||((w,x,C)=>{let T=x.toAffine();return ea(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),i=e.fromBytes||(w=>{let x=w.subarray(1),C=r.fromBytes(x.subarray(0,r.BYTES)),T=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:C,y:T}});function o(w){let{a:x,b:C}=e,T=r.sqr(w),U=r.mul(T,w);return r.add(r.add(U,r.mul(w,x)),C)}function a(w,x){let C=r.sqr(x),T=o(w);return r.eql(C,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(e.a,g9),sW),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Cw(w,nn,e.n)}function f(w){let{allowedPrivateKeyLengths:x,nByteLength:C,wrapPrivateKey:T,n:U}=e;if(x&&typeof w!="bigint"){if(a3(w)&&(w=l3(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(C*2,"0")}let B;try{B=typeof w=="bigint"?w:La(Ts("private key",w,C))}catch(O){throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof w)}return T&&(B=gs(B,U)),gh("private key",B,nn,U),B}function d(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}let p=Kq((w,x)=>{let{px:C,py:T,pz:U}=w;if(r.eql(U,r.ONE))return{x:C,y:T};let B=w.is0();x==null&&(x=B?r.ONE:r.inv(U));let O=r.mul(C,x),H=r.mul(T,x),_=r.mul(U,x);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:O,y:H}}),h=Kq(w=>{if(w.is0()){if(e.allowInfinityPoint&&!r.is0(w.py))return;throw new Error("bad point: ZERO")}let{x,y:C}=w.toAffine();if(!r.isValid(x)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(x,C))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(x,C,T){if(x==null||!r.isValid(x))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=x,this.py=C,this.pz=T,Object.freeze(this)}static fromAffine(x){let{x:C,y:T}=x||{};if(!x||!r.isValid(C)||!r.isValid(T))throw new Error("invalid affine point");if(x instanceof m)throw new Error("projective point not allowed");let U=B=>r.eql(B,r.ZERO);return U(C)&&U(T)?m.ZERO:new m(C,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let C=f3(r,x.map(T=>T.pz));return x.map((T,U)=>T.toAffine(C[U])).map(m.fromAffine)}static fromHex(x){let C=m.fromAffine(i(Ts("pointHex",x)));return C.assertValidity(),C}static fromPrivateKey(x){return m.BASE.multiply(f(x))}static msm(x,C){return cpe(m,n,x,C)}_setWindowSize(x){E.setWindowSize(this,x)}assertValidity(){h(this)}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.eql(r.mul(C,H),r.mul(B,U)),N=r.eql(r.mul(T,H),r.mul(O,U));return _&&N}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:C}=e,T=r.mul(C,g9),{px:U,py:B,pz:O}=this,H=r.ZERO,_=r.ZERO,N=r.ZERO,I=r.mul(U,U),D=r.mul(B,B),v=r.mul(O,O),A=r.mul(U,B);return A=r.add(A,A),N=r.mul(U,O),N=r.add(N,N),H=r.mul(x,N),_=r.mul(T,v),_=r.add(H,_),H=r.sub(D,_),_=r.add(D,_),_=r.mul(H,_),H=r.mul(A,H),N=r.mul(T,N),v=r.mul(x,v),A=r.sub(I,v),A=r.mul(x,A),A=r.add(A,N),N=r.add(I,I),I=r.add(N,I),I=r.add(I,v),I=r.mul(I,A),_=r.add(_,I),v=r.mul(B,O),v=r.add(v,v),I=r.mul(v,A),H=r.sub(H,I),N=r.mul(v,D),N=r.add(N,N),N=r.add(N,N),new m(H,_,N)}add(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.ZERO,N=r.ZERO,I=r.ZERO,D=e.a,v=r.mul(e.b,g9),A=r.mul(C,B),R=r.mul(T,O),$=r.mul(U,H),k=r.add(C,T),L=r.add(B,O);k=r.mul(k,L),L=r.add(A,R),k=r.sub(k,L),L=r.add(C,U);let q=r.add(B,H);return L=r.mul(L,q),q=r.add(A,$),L=r.sub(L,q),q=r.add(T,U),_=r.add(O,H),q=r.mul(q,_),_=r.add(R,$),q=r.sub(q,_),I=r.mul(D,L),_=r.mul(v,$),I=r.add(_,I),_=r.sub(R,I),I=r.add(R,I),N=r.mul(_,I),R=r.add(A,A),R=r.add(R,A),$=r.mul(D,$),L=r.mul(v,L),R=r.add(R,$),$=r.sub(A,$),$=r.mul(D,$),L=r.add(L,$),A=r.mul(R,L),N=r.add(N,A),A=r.mul(q,L),_=r.mul(k,_),_=r.sub(_,A),A=r.mul(k,R),I=r.mul(q,I),I=r.add(I,A),new m(_,N,I)}subtract(x){return this.add(x.negate())}is0(){return this.equals(m.ZERO)}wNAF(x){return E.wNAFCached(this,x,m.normalizeZ)}multiplyUnsafe(x){let{endo:C,n:T}=e;gh("scalar",x,Ju,T);let U=m.ZERO;if(x===Ju)return U;if(this.is0()||x===nn)return this;if(!C||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,x,m.normalizeZ);let{k1neg:B,k1:O,k2neg:H,k2:_}=C.splitScalar(x),N=U,I=U,D=this;for(;O>Ju||_>Ju;)O&nn&&(N=N.add(D)),_&nn&&(I=I.add(D)),D=D.double(),O>>=nn,_>>=nn;return B&&(N=N.negate()),H&&(I=I.negate()),I=new m(r.mul(I.px,C.beta),I.py,I.pz),N.add(I)}multiply(x){let{endo:C,n:T}=e;gh("scalar",x,nn,T);let U,B;if(C){let{k1neg:O,k1:H,k2neg:_,k2:N}=C.splitScalar(x),{p:I,f:D}=this.wNAF(H),{p:v,f:A}=this.wNAF(N);I=E.constTimeNegate(O,I),v=E.constTimeNegate(_,v),v=new m(r.mul(v.px,C.beta),v.py,v.pz),U=I.add(v),B=D.add(A)}else{let{p:O,f:H}=this.wNAF(x);U=O,B=H}return m.normalizeZ([U,B])[0]}multiplyAndAddUnsafe(x,C,T){let U=m.BASE,B=(H,_)=>_===Ju||_===nn||!H.equals(U)?H.multiplyUnsafe(_):H.multiply(_),O=B(this,C).add(B(x,T));return O.is0()?void 0:O}toAffine(x){return p(this,x)}isTorsionFree(){let{h:x,isTorsionFree:C}=e;if(x===nn)return!0;if(C)return C(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:C}=e;return x===nn?this:C?C(m,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return c3("isCompressed",x),this.assertValidity(),s(m,this,x)}toHex(x=!0){return c3("isCompressed",x),l3(this.toRawBytes(x))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);let{endo:g,nBitLength:b}=e,E=ape(m,g?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function cXe(t){let e=tW(t);return yh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(S({lowS:!0},e))}function fpe(t){let e=cXe(t),{Fp:r,n,nByteLength:s,nBitLength:i}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(v){return gs(v,n)}function l(v){return WO(v,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=aXe(G(S({},e),{toBytes(v,A,R){let $=A.toAffine(),k=r.toBytes($.x),L=ea;return c3("isCompressed",R),R?L(Uint8Array.from([A.hasEvenY()?2:3]),k):L(Uint8Array.from([4]),k,r.toBytes($.y))},fromBytes(v){let A=v.length,R=v[0],$=v.subarray(1);if(A===o&&(R===2||R===3)){let k=La($);if(!Cw(k,nn,r.ORDER))throw new Error("Point is not on curve");let L=d(k),q;try{q=r.sqrt(L)}catch(ae){let re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}let Z=(q&nn)===nn;return(R&1)===1!==Z&&(q=r.neg(q)),{x:k,y:q}}else if(A===a&&R===4){let k=r.fromBytes($.subarray(0,r.BYTES)),L=r.fromBytes($.subarray(r.BYTES,2*r.BYTES));return{x:k,y:L}}else{let k=o,L=a;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+L+", got "+A)}}}));function h(v){let A=n>>nn;return v>A}function m(v){return h(v)?c(-v):v}let g=(v,A,R)=>La(v.slice(A,R));class b{constructor(A,R,$){gh("r",A,nn,n),gh("s",R,nn,n),this.r=A,this.s=R,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(A){let R=s;return A=Ts("compactSignature",A,R*2),new b(g(A,0,R),g(A,R,2*R))}static fromDER(A){let{r:R,s:$}=bh.toSig(Ts("DER",A));return new b(R,$)}assertValidity(){}addRecoveryBit(A){return new b(this.r,this.s,A)}recoverPublicKey(A){let{r:R,s:$,recovery:k}=this,L=U(Ts("msgHash",A));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let q=k===2||k===3?R+e.n:R;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=(k&1)===0?"02":"03",ee=u.fromHex(Z+rW(q,r.BYTES)),ae=l(q),re=c(-L*ae),we=c($*ae),ie=u.BASE.multiplyAndAddUnsafe(ee,re,we);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return p9(this.toDERHex())}toDERHex(){return bh.hexFromSig(this)}toCompactRawBytes(){return p9(this.toCompactHex())}toCompactHex(){let A=s;return rW(this.r,A)+rW(this.s,A)}}let E={isValidPrivateKey(v){try{return f(v),!0}catch(A){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let v=Zq(e.n);return rpe(e.randomBytes(v),e.n)},precompute(v=8,A=u.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function w(v,A=!0){return u.fromPrivateKey(v).toRawBytes(A)}function x(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;let R=Ts("key",v).length,$=r.BYTES,k=$+1,L=2*$+1;if(!(e.allowedPrivateKeyLengths||s===k))return R===k||R===L}function C(v,A,R=!0){if(x(v)===!0)throw new Error("first arg must be private key");if(x(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(v)).toRawBytes(R)}let T=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");let A=La(v),R=v.length*8-i;return R>0?A>>BigInt(R):A},U=e.bits2int_modN||function(v){return c(T(v))},B=Sw(i);function O(v){return gh("num < 2^"+i,v,Ju,B),E0(v,s)}function H(v,A,R=_){if(["recovered","canonical"].some(be=>be in R))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:k}=e,{lowS:L,prehash:q,extraEntropy:Z}=R;L==null&&(L=!0),v=Ts("msgHash",v),upe(R),q&&(v=Ts("prehashed msgHash",$(v)));let ee=U(v),ae=f(A),re=[O(ae),O(ee)];if(Z!=null&&Z!==!1){let be=Z===!0?k(r.BYTES):Z;re.push(Ts("extraEntropy",be))}let we=ea(...re),ie=ee;function Te(be){let De=T(be);if(!p(De))return;let Et=l(De),Pt=u.BASE.multiply(De).toAffine(),ut=c(Pt.x);if(ut===Ju)return;let Ut=c(Et*c(ie+ut*ae));if(Ut===Ju)return;let bn=(Pt.x===ut?0:2)|Number(Pt.y&nn),Nn=Ut;return L&&h(Ut)&&(Nn=m(Ut),bn^=1),new b(ut,Nn,bn)}return{seed:we,k2sig:Te}}let _={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function I(v,A,R=_){let{seed:$,k2sig:k}=H(v,A,R),L=e;return Zde(L.hash.outputLen,L.nByteLength,L.hmac)($,k)}u.BASE._setWindowSize(8);function D(v,A,R,$=N){var bn;let k=v;A=Ts("msgHash",A),R=Ts("publicKey",R);let{lowS:L,prehash:q,format:Z}=$;if(upe($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");let ee=typeof k=="string"||a3(k),ae=!ee&&!Z&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!ee&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,we;try{if(ae&&(re=new b(k.r,k.s)),ee){try{Z!=="compact"&&(re=b.fromDER(k))}catch(Nn){if(!(Nn instanceof bh.Err))throw Nn}!re&&Z!=="der"&&(re=b.fromCompact(k))}we=u.fromHex(R)}catch(Nn){return!1}if(!re||L&&re.hasHighS())return!1;q&&(A=e.hash(A));let{r:ie,s:Te}=re,be=U(A),De=l(Te),Et=c(be*De),Pt=c(ie*De),ut=(bn=u.BASE.multiplyAndAddUnsafe(we,Et,Pt))==null?void 0:bn.toAffine();return ut?c(ut.x)===ie:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:I,verify:D,ProjectivePoint:u,Signature:b,utils:E}}function lXe(t,e){let r=t.ORDER,n=Ju;for(let h=r-nn;h%_g===Ju;h/=_g)n+=nn;let s=n,i=_g<<s-nn-nn,o=i*_g,a=(r-nn)/o,c=(a-nn)/_g,l=o-nn,u=i,f=t.pow(e,a),d=t.pow(e,(a+nn)/_g),p=(h,m)=>{let g=f,b=t.pow(m,l),E=t.sqr(b);E=t.mul(E,m);let w=t.mul(h,E);w=t.pow(w,c),w=t.mul(w,b),b=t.mul(w,m),E=t.mul(w,h);let x=t.mul(E,b);w=t.pow(x,u);let C=t.eql(w,t.ONE);b=t.mul(E,d),w=t.mul(x,g),E=t.cmov(b,E,C),x=t.cmov(w,x,C);for(let T=s;T>nn;T--){let U=T-_g;U=_g<<U-nn;let B=t.pow(x,U),O=t.eql(B,t.ONE);b=t.mul(E,g),g=t.mul(g,g),B=t.mul(x,g),E=t.cmov(b,E,O),x=t.cmov(B,x,O)}return{isValid:C,value:E}};if(t.ORDER%sW===g9){let h=(t.ORDER-g9)/sW,m=t.sqrt(t.neg(e));p=(g,b)=>{let E=t.sqr(b),w=t.mul(g,b);E=t.mul(E,w);let x=t.pow(E,h);x=t.mul(x,w);let C=t.mul(x,m),T=t.mul(t.sqr(x),b),U=t.eql(T,g),B=t.cmov(C,x,U);return{isValid:U,value:B}}}return p}function dpe(t,e){if(KO(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=lXe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,o,a,c,l,u,f;s=t.sqr(n),s=t.mul(s,e.Z),i=t.sqr(s),i=t.add(i,s),o=t.add(i,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(i),!t.eql(i,t.ZERO)),a=t.mul(a,e.A),i=t.sqr(o),l=t.sqr(a),c=t.mul(l,e.A),i=t.add(i,c),i=t.mul(i,o),l=t.mul(l,a),c=t.mul(l,e.B),i=t.add(i,c),u=t.mul(s,o);let{isValid:d,value:p}=r(i,l);f=t.mul(s,n),f=t.mul(f,p),u=t.cmov(u,o,d),f=t.cmov(f,p,d);let h=t.isOdd(n)===t.isOdd(f);f=t.cmov(t.neg(f),f,h);let m=f3(t,[a],!0)[0];return u=t.mul(u,m),{x:u,y:f}}}var nW,bh,Ju,nn,_g,g9,sW,iW=y(()=>{lpe();m9();u3();nW=class extends Error{constructor(e=""){super(e)}},bh={Err:nW,_tlv:{encode:(t,e)=>{let{Err:r}=bh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,s=d9(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?d9(s.length/2|128):"";return d9(t)+i+s+e},decode(t,e){let{Err:r}=bh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){let{Err:e}=bh;if(t<Ju)throw new e("integer: negative integers are not allowed");let r=d9(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=bh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return La(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=bh,s=Ts("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=bh,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}};Ju=BigInt(0),nn=BigInt(1),_g=BigInt(2),g9=BigInt(3),sW=BigInt(4)});function uXe(t){return{hash:t,hmac:(e,...r)=>Hq(t,e,hde(...r)),randomBytes:TO}}function ppe(t,e){let r=n=>fpe(S(S({},t),uXe(n)));return G(S({},r(e)),{create:r})}var hpe=y(()=>{Vde();sh();iW();});function Ng(t,e){if(y9(t),y9(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function dXe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function y9(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function pXe(t,e,r,n){mh(t),mh(e),y9(r),e.length>255&&(e=n(ea(qO("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:i}=n,o=Math.ceil(r/s);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=ea(e,Ng(e.length,1)),c=Ng(0,i),l=Ng(r,2),u=new Array(o),f=n(ea(c,t,l,Ng(0,1),a));u[0]=n(ea(f,Ng(1,1),a));for(let p=1;p<=o;p++){let h=[dXe(f,u[p-1]),Ng(p+1,1),a];u[p]=n(ea(...h))}return ea(...u).slice(0,r)}function hXe(t,e,r,n,s){if(mh(t),mh(e),y9(r),e.length>255){let i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update(qO("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(t).update(Ng(r,2)).update(e).update(Ng(e.length,1)).digest()}function mpe(t,e,r){yh(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:i,hash:o,expand:a,DST:c}=r;mh(t),y9(e);let l=typeof c=="string"?qO(c):c,u=n.toString(2).length,f=Math.ceil((u+s)/8),d=e*i*f,p;if(a==="xmd")p=pXe(t,l,d,o);else if(a==="xof")p=hXe(t,l,d,s,o);else if(a==="_internal_pass")p=t;else throw new Error('expand must be "xmd" or "xof"');let h=new Array(e);for(let m=0;m<e;m++){let g=new Array(i);for(let b=0;b<i;b++){let E=f*(b+m*i),w=p.subarray(E,E+f);g[b]=gs(fXe(w),n)}h[m]=g}return h}function gpe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,s)=>{let[i,o,a,c]=r.map(f=>f.reduce((d,p)=>t.add(t.mul(d,n),p))),[l,u]=f3(t,[o,c],!0);return n=t.mul(i,l),s=t.mul(s,t.mul(a,u)),{x:n,y:s}}}function ype(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(i){return t.fromAffine(e(i))}function s(i){let o=i.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(i,o){let a=mpe(i,2,S(G(S({},r),{DST:r.DST}),o)),c=n(a[0]),l=n(a[1]);return s(c.add(l))},encodeToCurve(i,o){let a=mpe(i,1,S(G(S({},r),{DST:r.encodeDST}),o));return s(n(a[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(let o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return s(n(i))}}}var fXe,bpe=y(()=>{m9();u3();fXe=La});var Spe={};Me(Spe,{encodeToCurve:()=>EXe,hashToCurve:()=>vXe,schnorr:()=>bXe,secp256k1:()=>ra,secp256k1_hasher:()=>dW});function vpe(t){let e=x9,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=$c(u,r,e)*u%e,d=$c(f,r,e)*u%e,p=$c(d,ZO,e)*l%e,h=$c(p,s,e)*p%e,m=$c(h,i,e)*h%e,g=$c(m,a,e)*m%e,b=$c(g,c,e)*g%e,E=$c(b,a,e)*m%e,w=$c(E,r,e)*u%e,x=$c(w,o,e)*h%e,C=$c(x,n,e)*l%e,T=$c(C,ZO,e);if(!Og.eql(Og.sqr(T),t))throw new Error("Cannot find square root");return T}function YO(t,...e){let r=xpe[t];if(r===void 0){let n=Aw(Uint8Array.from(t,s=>s.charCodeAt(0)));r=ea(n,n),xpe[t]=r}return Aw(ea(r,...e))}function cW(t){let e=ra.utils.normPrivateKeyToScalar(t),r=fW.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:w9(-e),bytes:uW(r)}}function Epe(t){gh("x",t,b9,x9);let e=oW(t*t),r=oW(e*t+BigInt(7)),n=vpe(r);n%ZO!==lW&&(n=oW(-n));let s=new fW(t,n,b9);return s.assertValidity(),s}function Ape(...t){return w9(d3(YO("BIP0340/challenge",...t)))}function gXe(t){return cW(t).bytes}function yXe(t,e,r=TO(32)){let n=Ts("message",t),{bytes:s,scalar:i}=cW(e),o=Ts("auxRand",r,32),a=aW(i^d3(YO("BIP0340/aux",o))),c=YO("BIP0340/nonce",a,s,n),l=w9(d3(c));if(l===lW)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=cW(l),d=Ape(u,s,n),p=new Uint8Array(64);if(p.set(u,0),p.set(aW(w9(f+d*i)),32),!Cpe(p,n,s))throw new Error("sign: Invalid signature produced");return p}function Cpe(t,e,r){let n=Ts("signature",t,64),s=Ts("message",e),i=Ts("publicKey",r,32);try{let o=Epe(d3(i)),a=d3(n.subarray(0,32));if(!Cw(a,b9,x9))return!1;let c=d3(n.subarray(32,64));if(!Cw(c,b9,GO))return!1;let l=Ape(aW(a),uW(o),s),u=mXe(o,c,w9(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(o){return!1}}var x9,GO,lW,b9,ZO,wpe,Og,ra,xpe,uW,aW,oW,w9,fW,mXe,d3,bXe,wXe,xXe,dW,vXe,EXe,Tw=y(()=>{$q();sh();hpe();bpe();m9();u3();iW();x9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),GO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lW=BigInt(0),b9=BigInt(1),ZO=BigInt(2),wpe=(t,e)=>(t+e/ZO)/e;Og=h9(x9,void 0,void 0,{sqrt:vpe}),ra=ppe({a:lW,b:BigInt(7),Fp:Og,n:GO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=GO,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-b9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=wpe(i*t,e),c=wpe(-n*t,e),l=gs(t-a*r-c*s,e),u=gs(-a*n-c*i,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Aw),xpe={};uW=t=>t.toRawBytes(!0).slice(1),aW=t=>E0(t,32),oW=t=>gs(t,x9),w9=t=>gs(t,GO),fW=ra.ProjectivePoint,mXe=(t,e,r)=>fW.BASE.multiplyAndAddUnsafe(t,e,r);d3=La;bXe={getPublicKey:gXe,sign:yXe,verify:Cpe,utils:{randomPrivateKey:ra.utils.randomPrivateKey,lift_x:Epe,pointToBytes:uW,numberToBytesBE:E0,bytesToNumberBE:La,taggedHash:YO,mod:gs}},wXe=gpe(Og,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),xXe=dpe(Og,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Og.create(BigInt("-11"))}),dW=ype(ra.ProjectivePoint,t=>{let{x:e,y:r}=xXe(Og.create(t[0]));return wXe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Og.ORDER,m:1,k:128,expand:"xmd",hash:Aw}),vXe=dW.hashToCurve,EXe=dW.encodeToCurve});async function JO({hash:t,signature:e}){let r=st(t)?t:Zr(t),{secp256k1:n}=await Promise.resolve().then(()=>(Tw(),Spe));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:l,s:u,v:f,yParity:d}=e,p=Number(d!=null?d:f),h=Ipe(p);return new n.Signature(Tt(l),Tt(u)).addRecoveryBit(h)}let o=st(e)?e:Zr(e);if(Jt(o)!==65)throw new Error("invalid signature length");let a=Dt(`0x${o.slice(130)}`),c=Ipe(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Ipe(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var pW=y(()=>{Go();_a();jn();Ze()});async function Ma({hash:t,signature:e}){return Fde(await JO({hash:t,signature:e}))}var Rg=y(()=>{zde();pW()});function na(t,e="hex"){let r=_pe(t),n=Ku(new Uint8Array(r.length));return r.encode(n),e==="hex"?Ot(n.bytes):n.bytes}function Tpe(t,e="bytes"){return na(t,e)}function Ppe(t,e="hex"){return na(t,e)}function _pe(t){return Array.isArray(t)?AXe(t.map(e=>_pe(e))):CXe(t)}function AXe(t){let e=t.reduce((s,i)=>s+i.length,0),r=Npe(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(let{encode:i}of t)i(s)}}}function CXe(t){let e=typeof t=="string"?hr(t):t,r=Npe(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function Npe(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ne("Length is too large.")}var v9=y(()=>{Bt();V4();un();Ze()});function Ope(t){var o;let{chainId:e,nonce:r,to:n}=t,s=(o=t.contractAddress)!=null?o:t.address,i=ar(Wn(["0x05",na([e?ce(e):"0x",s,r?ce(r):"0x"])]));return n==="bytes"?hr(i):i}var Rpe=y(()=>{si();un();Ze();v9();Ra()});async function kg(t){let{authorization:e,signature:r}=t;return Ma({hash:Ope(e),signature:r!=null?r:e})}var E9=y(()=>{Rg();Rpe()});var p3,hW=y(()=>{f9();xw();Bt();Qo();p3=class extends ne{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){var h;let p=vw({from:r==null?void 0:r.address,to:f,value:typeof d!="undefined"&&`${ng(d)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a!="undefined"&&`${ms(a)} gwei`,maxFeePerGas:typeof c!="undefined"&&`${ms(c)} gwei`,maxPriorityFeePerGas:typeof l!="undefined"&&`${ms(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}});var Hc,$a,Bg,Ug,Dg,Lg,Mg,$g,Hg,Fg,Rl,Ha,A0=y(()=>{xw();Bt();Hc=class extends ne{constructor({cause:e,message:r}={}){var s;let n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(Hc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Hc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});$a=class extends ne{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${ms(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty($a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});Bg=class extends ne{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${ms(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(Bg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});Ug=class extends ne{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(Ug,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});Dg=class extends ne{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(Dg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});Lg=class extends ne{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(Lg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});Mg=class extends ne{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(Mg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});$g=class extends ne{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty($g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});Hg=class extends ne{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(Hg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});Fg=class extends ne{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(Fg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});Rl=class extends ne{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${ms(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${ms(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(Rl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});Ha=class extends ne{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function zg(t,e){let r=(t.details||"").toLowerCase(),n=t instanceof ne?t.walk(s=>(s==null?void 0:s.code)===Hc.code):t;return n instanceof ne?new Hc({cause:t,message:n.details}):Hc.nodeMessage.test(r)?new Hc({cause:t,message:t.details}):$a.nodeMessage.test(r)?new $a({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Bg.nodeMessage.test(r)?new Bg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Ug.nodeMessage.test(r)?new Ug({cause:t,nonce:e==null?void 0:e.nonce}):Dg.nodeMessage.test(r)?new Dg({cause:t,nonce:e==null?void 0:e.nonce}):Lg.nodeMessage.test(r)?new Lg({cause:t,nonce:e==null?void 0:e.nonce}):Mg.nodeMessage.test(r)?new Mg({cause:t}):$g.nodeMessage.test(r)?new $g({cause:t,gas:e==null?void 0:e.gas}):Hg.nodeMessage.test(r)?new Hg({cause:t,gas:e==null?void 0:e.gas}):Fg.nodeMessage.test(r)?new Fg({cause:t}):Rl.nodeMessage.test(r)?new Rl({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Ha({cause:t})}var A9=y(()=>{Bt();A0()});function kpe(t,n){var s=n,{docsPath:e}=s,r=Ve(s,["docsPath"]);let i=(()=>{let o=zg(t,r);return o instanceof Ha?t:o})();return new p3(i,S({docsPath:e},r))}var Bpe=y(()=>{hW();A0();A9()});function Fa(t,{format:e}){if(!e)return{};let r={};function n(i){let o=Object.keys(i);for(let a of o)a in t&&(r[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&n(i[a])}let s=e(t||{});return n(s),r}var Vg=y(()=>{});function jg(t,e){return({exclude:r,format:n})=>({exclude:r,format:(s,i)=>{let o=e(s,i);if(r)for(let a of r)delete o[a];return S(S({},o),n(s,i))},type:t})}var C9=y(()=>{});function ys(t,e){let r={};return typeof t.authorizationList!="undefined"&&(r.authorizationList=SXe(t.authorizationList)),typeof t.accessList!="undefined"&&(r.accessList=t.accessList),typeof t.blobVersionedHashes!="undefined"&&(r.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs!="undefined"&&(typeof t.blobs[0]!="string"?r.blobs=t.blobs.map(n=>Ot(n)):r.blobs=t.blobs),typeof t.data!="undefined"&&(r.data=t.data),t.account&&(r.from=t.account.address),typeof t.from!="undefined"&&(r.from=t.from),typeof t.gas!="undefined"&&(r.gas=ce(t.gas)),typeof t.gasPrice!="undefined"&&(r.gasPrice=ce(t.gasPrice)),typeof t.maxFeePerBlobGas!="undefined"&&(r.maxFeePerBlobGas=ce(t.maxFeePerBlobGas)),typeof t.maxFeePerGas!="undefined"&&(r.maxFeePerGas=ce(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas!="undefined"&&(r.maxPriorityFeePerGas=ce(t.maxPriorityFeePerGas)),typeof t.nonce!="undefined"&&(r.nonce=ce(t.nonce)),typeof t.to!="undefined"&&(r.to=t.to),typeof t.type!="undefined"&&(r.type=mW[t.type]),typeof t.value!="undefined"&&(r.value=ce(t.value)),r}function SXe(t){return t.map(e=>S(S({address:e.address,r:e.r?ce(BigInt(e.r)):e.r,s:e.s?ce(BigInt(e.s)):e.s,chainId:ce(e.chainId),nonce:ce(e.nonce)},typeof e.yParity!="undefined"?{yParity:ce(e.yParity)}:{}),typeof e.v!="undefined"&&typeof e.yParity=="undefined"?{v:ce(e.v)}:{}))}var mW,Upe,Qu=y(()=>{Ze();C9();mW={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};Upe=jg("transactionRequest",ys)});function Dpe(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new XC({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new XC({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function IXe(t){let{balance:e,nonce:r,state:n,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=ce(e)),r!==void 0&&(o.nonce=ce(r)),n!==void 0&&(o.state=Dpe(n)),s!==void 0){if(o.state)throw new Y4;o.stateDiff=Dpe(s)}return o}function h3(t){if(!t)return;let e={};for(let r of t){let n=r,{address:s}=n,i=Ve(n,["address"]);if(!vr(s,{strict:!1}))throw new Yr({address:s});if(e[s])throw new Z4({address:s});e[s]=IXe(i)}return e}var QO=y(()=>{Tl();e9();HO();ka();Ze()});var Lpe,Mpe,$pe,Hpe,Fpe,zpe,Vpe,jpe,qpe,Wpe,Kpe,Gpe,Zpe,Ype,Jpe,Qpe,Xpe,ehe,the,rhe,nhe,she,ihe,ohe,ahe,che,lhe,uhe,fhe,dhe,phe,hhe,mhe,ghe,yhe,bhe,whe,xhe,vhe,Ehe,Ahe,Che,She,Ihe,The,Phe,_he,Nhe,Ohe,Rhe,khe,Bhe,Uhe,Dhe,Lhe,Mhe,$he,Hhe,Fhe,zhe,Vhe,jhe,qhe,Whe,Khe,Ghe,Zhe,Yhe,Jhe,Qhe,Xhe,eme,tme,rme,nme,sme,ime,ome,ame,cme,lme,ume,fme,dme,pme,hme,mme,gme,yme,bme,wme,xme,vme,Eme,Ame,qg,XO=y(()=>{Lpe=BigInt(2)**(BigInt(8)-BigInt(1))-BigInt(1),Mpe=BigInt(2)**(BigInt(16)-BigInt(1))-BigInt(1),$pe=BigInt(2)**(BigInt(24)-BigInt(1))-BigInt(1),Hpe=BigInt(2)**(BigInt(32)-BigInt(1))-BigInt(1),Fpe=BigInt(2)**(BigInt(40)-BigInt(1))-BigInt(1),zpe=BigInt(2)**(BigInt(48)-BigInt(1))-BigInt(1),Vpe=BigInt(2)**(BigInt(56)-BigInt(1))-BigInt(1),jpe=BigInt(2)**(BigInt(64)-BigInt(1))-BigInt(1),qpe=BigInt(2)**(BigInt(72)-BigInt(1))-BigInt(1),Wpe=BigInt(2)**(BigInt(80)-BigInt(1))-BigInt(1),Kpe=BigInt(2)**(BigInt(88)-BigInt(1))-BigInt(1),Gpe=BigInt(2)**(BigInt(96)-BigInt(1))-BigInt(1),Zpe=BigInt(2)**(BigInt(104)-BigInt(1))-BigInt(1),Ype=BigInt(2)**(BigInt(112)-BigInt(1))-BigInt(1),Jpe=BigInt(2)**(BigInt(120)-BigInt(1))-BigInt(1),Qpe=BigInt(2)**(BigInt(128)-BigInt(1))-BigInt(1),Xpe=BigInt(2)**(BigInt(136)-BigInt(1))-BigInt(1),ehe=BigInt(2)**(BigInt(144)-BigInt(1))-BigInt(1),the=BigInt(2)**(BigInt(152)-BigInt(1))-BigInt(1),rhe=BigInt(2)**(BigInt(160)-BigInt(1))-BigInt(1),nhe=BigInt(2)**(BigInt(168)-BigInt(1))-BigInt(1),she=BigInt(2)**(BigInt(176)-BigInt(1))-BigInt(1),ihe=BigInt(2)**(BigInt(184)-BigInt(1))-BigInt(1),ohe=BigInt(2)**(BigInt(192)-BigInt(1))-BigInt(1),ahe=BigInt(2)**(BigInt(200)-BigInt(1))-BigInt(1),che=BigInt(2)**(BigInt(208)-BigInt(1))-BigInt(1),lhe=BigInt(2)**(BigInt(216)-BigInt(1))-BigInt(1),uhe=BigInt(2)**(BigInt(224)-BigInt(1))-BigInt(1),fhe=BigInt(2)**(BigInt(232)-BigInt(1))-BigInt(1),dhe=BigInt(2)**(BigInt(240)-BigInt(1))-BigInt(1),phe=BigInt(2)**(BigInt(248)-BigInt(1))-BigInt(1),hhe=BigInt(2)**(BigInt(256)-BigInt(1))-BigInt(1),mhe=-(BigInt(2)**(BigInt(8)-BigInt(1))),ghe=-(BigInt(2)**(BigInt(16)-BigInt(1))),yhe=-(BigInt(2)**(BigInt(24)-BigInt(1))),bhe=-(BigInt(2)**(BigInt(32)-BigInt(1))),whe=-(BigInt(2)**(BigInt(40)-BigInt(1))),xhe=-(BigInt(2)**(BigInt(48)-BigInt(1))),vhe=-(BigInt(2)**(BigInt(56)-BigInt(1))),Ehe=-(BigInt(2)**(BigInt(64)-BigInt(1))),Ahe=-(BigInt(2)**(BigInt(72)-BigInt(1))),Che=-(BigInt(2)**(BigInt(80)-BigInt(1))),She=-(BigInt(2)**(BigInt(88)-BigInt(1))),Ihe=-(BigInt(2)**(BigInt(96)-BigInt(1))),The=-(BigInt(2)**(BigInt(104)-BigInt(1))),Phe=-(BigInt(2)**(BigInt(112)-BigInt(1))),_he=-(BigInt(2)**(BigInt(120)-BigInt(1))),Nhe=-(BigInt(2)**(BigInt(128)-BigInt(1))),Ohe=-(BigInt(2)**(BigInt(136)-BigInt(1))),Rhe=-(BigInt(2)**(BigInt(144)-BigInt(1))),khe=-(BigInt(2)**(BigInt(152)-BigInt(1))),Bhe=-(BigInt(2)**(BigInt(160)-BigInt(1))),Uhe=-(BigInt(2)**(BigInt(168)-BigInt(1))),Dhe=-(BigInt(2)**(BigInt(176)-BigInt(1))),Lhe=-(BigInt(2)**(BigInt(184)-BigInt(1))),Mhe=-(BigInt(2)**(BigInt(192)-BigInt(1))),$he=-(BigInt(2)**(BigInt(200)-BigInt(1))),Hhe=-(BigInt(2)**(BigInt(208)-BigInt(1))),Fhe=-(BigInt(2)**(BigInt(216)-BigInt(1))),zhe=-(BigInt(2)**(BigInt(224)-BigInt(1))),Vhe=-(BigInt(2)**(BigInt(232)-BigInt(1))),jhe=-(BigInt(2)**(BigInt(240)-BigInt(1))),qhe=-(BigInt(2)**(BigInt(248)-BigInt(1))),Whe=-(BigInt(2)**(BigInt(256)-BigInt(1))),Khe=BigInt(2)**BigInt(8)-BigInt(1),Ghe=BigInt(2)**BigInt(16)-BigInt(1),Zhe=BigInt(2)**BigInt(24)-BigInt(1),Yhe=BigInt(2)**BigInt(32)-BigInt(1),Jhe=BigInt(2)**BigInt(40)-BigInt(1),Qhe=BigInt(2)**BigInt(48)-BigInt(1),Xhe=BigInt(2)**BigInt(56)-BigInt(1),eme=BigInt(2)**BigInt(64)-BigInt(1),tme=BigInt(2)**BigInt(72)-BigInt(1),rme=BigInt(2)**BigInt(80)-BigInt(1),nme=BigInt(2)**BigInt(88)-BigInt(1),sme=BigInt(2)**BigInt(96)-BigInt(1),ime=BigInt(2)**BigInt(104)-BigInt(1),ome=BigInt(2)**BigInt(112)-BigInt(1),ame=BigInt(2)**BigInt(120)-BigInt(1),cme=BigInt(2)**BigInt(128)-BigInt(1),lme=BigInt(2)**BigInt(136)-BigInt(1),ume=BigInt(2)**BigInt(144)-BigInt(1),fme=BigInt(2)**BigInt(152)-BigInt(1),dme=BigInt(2)**BigInt(160)-BigInt(1),pme=BigInt(2)**BigInt(168)-BigInt(1),hme=BigInt(2)**BigInt(176)-BigInt(1),mme=BigInt(2)**BigInt(184)-BigInt(1),gme=BigInt(2)**BigInt(192)-BigInt(1),yme=BigInt(2)**BigInt(200)-BigInt(1),bme=BigInt(2)**BigInt(208)-BigInt(1),wme=BigInt(2)**BigInt(216)-BigInt(1),xme=BigInt(2)**BigInt(224)-BigInt(1),vme=BigInt(2)**BigInt(232)-BigInt(1),Eme=BigInt(2)**BigInt(240)-BigInt(1),Ame=BigInt(2)**BigInt(248)-BigInt(1),qg=BigInt(2)**BigInt(256)-BigInt(1)});function Ps(t){let{account:e,maxFeePerGas:r,maxPriorityFeePerGas:n,to:s}=t,i=e?Rt(e):void 0;if(i&&!vr(i.address))throw new Yr({address:i.address});if(s&&!vr(s))throw new Yr({address:s});if(r&&r>qg)throw new $a({maxFeePerGas:r});if(n&&r&&n>r)throw new Rl({maxFeePerGas:r,maxPriorityFeePerGas:n})}var Xu=y(()=>{Kn();XO();Tl();A0();ka()});var Wg,C0,m3,g3=y(()=>{xw();Bt();Wg=class extends ne{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},C0=class extends ne{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},m3=class extends ne{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ms(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var Kg,eR=y(()=>{Bt();Kg=class extends ne{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}});function wh(t,e){let r=G(S({},t),{blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Dt(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Dt(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?S9[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0});return t.authorizationList&&(r.authorizationList=TXe(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===BigInt(0)||r.v===BigInt(27))return 0;if(r.v===BigInt(1)||r.v===BigInt(28))return 1;if(r.v>=BigInt(35))return r.v%BigInt(2)===BigInt(0)?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function TXe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}var S9,Cme,y3=y(()=>{jn();C9();S9={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};Cme=jg("transaction",wh)});function Pw(t,e){var n;let r=((n=t.transactions)!=null?n:[]).map(s=>typeof s=="string"?s:wh(s));return G(S({},t),{baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null})}var Sme,tR=y(()=>{C9();y3();Sme=jg("block",Pw)});async function oi(t,{blockHash:e,blockNumber:r,blockTag:n=(i=>(i=t.experimental_blockTag)!=null?i:"latest")(),includeTransactions:s}={}){var u,f,d;let o=s!=null?s:!1,a=r!==void 0?ce(r):void 0,c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||n,o]},{dedupe:!!a}),!c)throw new Kg({blockHash:e,blockNumber:r});return(((d=(f=(u=t.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||Pw)(c,"getBlock")}var Gg=y(()=>{eR();Ze();tR()});async function b3(t){let e=await t.request({method:"eth_gasPrice"});return BigInt(e)}var rR=y(()=>{});async function Ime(t,e){return gW(t,e)}async function gW(t,e){var i,o,a;let{block:r,chain:n=t.chain,request:s}=e||{};try{let c=(a=(i=n==null?void 0:n.fees)==null?void 0:i.maxPriorityFeePerGas)!=null?a:(o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee;if(typeof c=="function"){let u=r||await Pe(t,oi,"getBlock")({}),f=await c({block:u,client:t,request:s});if(f===null)throw new Error;return f}if(typeof c!="undefined")return c;let l=await t.request({method:"eth_maxPriorityFeePerGas"});return Tt(l)}catch(c){let[l,u]=await Promise.all([r?Promise.resolve(r):Pe(t,oi,"getBlock")({}),Pe(t,b3,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new C0;let f=u-l.baseFeePerGas;return f<BigInt(0)?BigInt(0):f}}var yW=y(()=>{g3();jn();xr();Gg();rR()});async function Tme(t,e){return nR(t,e)}async function nR(t,e){var d,p,h,m,g;let{block:r,chain:n=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var b,E,w;return typeof((b=n==null?void 0:n.fees)==null?void 0:b.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:s}):(w=(E=n==null?void 0:n.fees)==null?void 0:E.baseFeeMultiplier)!=null?w:1.2})();if(o<1)throw new Wg;let c=10**((p=(d=o.toString().split(".")[1])==null?void 0:d.length)!=null?p:0),l=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),u=r||await Pe(t,oi,"getBlock")({});if(typeof((h=n==null?void 0:n.fees)==null?void 0:h.estimateFeesPerGas)=="function"){let b=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:l,request:s,type:i});if(b!==null)return b}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new C0;let b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await gW(t,{block:u,chain:n,request:s}),E=l(u.baseFeePerGas);return{maxFeePerGas:(m=s==null?void 0:s.maxFeePerGas)!=null?m:E+b,maxPriorityFeePerGas:b}}return{gasPrice:(g=s==null?void 0:s.gasPrice)!=null?g:l(await Pe(t,b3,"getGasPrice")({}))}}var bW=y(()=>{g3();xr();yW();Gg();rR()});async function Zg(t,{address:e,blockTag:r="latest",blockNumber:n}){let s=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?ce(n):r]},{dedupe:!!n});return Dt(s)}var I9=y(()=>{jn();Ze()});function Yg(t){var i;let{kzg:e}=t,r=(i=t.to)!=null?i:typeof t.blobs[0]=="string"?"hex":"bytes",n=typeof t.blobs[0]=="string"?t.blobs.map(o=>hr(o)):t.blobs,s=[];for(let o of n)s.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>Ot(o))}var T9=y(()=>{un();Ze()});function Jg(t){var o;let{kzg:e}=t,r=(o=t.to)!=null?o:typeof t.blobs[0]=="string"?"hex":"bytes",n=typeof t.blobs[0]=="string"?t.blobs.map(a=>hr(a)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(a=>hr(a)):t.commitments,i=[];for(let a=0;a<n.length;a++){let c=n[a],l=s[a];i.push(Uint8Array.from(e.computeBlobKzgProof(c,l)))}return r==="bytes"?i:i.map(a=>Ot(a))}var P9=y(()=>{un();Ze()});var Pme,_me=y(()=>{$q();Pme=Aw});function sR(t,e){let r=e||"hex",n=Pme(st(t,{strict:!1})?qn(t):t);return r==="bytes"?n:Zr(n)}var wW=y(()=>{_me();Go();un();Ze()});function w3(t){var i;let{commitment:e,version:r=1}=t,n=(i=t.to)!=null?i:typeof e=="string"?"hex":"bytes",s=sR(e,"bytes");return s.set([r],0),n==="bytes"?s:Ot(s)}var iR=y(()=>{Ze();wW()});function x3(t){var i;let{commitments:e,version:r}=t,n=(i=t.to)!=null?i:typeof e[0]=="string"?"hex":"bytes",s=[];for(let o of e)s.push(w3({commitment:o,to:n,version:r}));return s}var oR=y(()=>{iR()});var aR,v3,cR,lR,xW=y(()=>{Bt();aR=class extends ne{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},v3=class extends ne{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},cR=class extends ne{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},lR=class extends ne{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}});function uR(t){var a;let e=(a=t.to)!=null?a:typeof t.data=="string"?"hex":"bytes",r=typeof t.data=="string"?hr(t.data):t.data,n=Jt(r);if(!n)throw new v3;if(n>761855)throw new aR({maxSize:761855,size:n});let s=[],i=!0,o=0;for(;i;){let c=Ku(new Uint8Array(131072)),l=0;for(;l<4096;){let u=r.slice(o,o+31);if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),i=!1;break}l++,o+=31}s.push(c)}return e==="bytes"?s.map(c=>c.bytes):s.map(c=>Ot(c.bytes))}var vW=y(()=>{xW();V4();_a();un();Ze()});function Qg(t){var c,l,u;let{data:e,kzg:r,to:n}=t,s=(c=t.blobs)!=null?c:uR({data:e,to:n}),i=(l=t.commitments)!=null?l:Yg({blobs:s,kzg:r,to:n}),o=(u=t.proofs)!=null?u:Jg({blobs:s,commitments:i,kzg:r,to:n}),a=[];for(let f=0;f<s.length;f++)a.push({blob:s[f],commitment:i[f],proof:o[f]});return a}var _9=y(()=>{T9();P9();vW()});function E3(t){if(t.type)return t.type;if(typeof t.authorizationList!="undefined")return"eip7702";if(typeof t.blobs!="undefined"||typeof t.blobVersionedHashes!="undefined"||typeof t.maxFeePerBlobGas!="undefined"||typeof t.sidecars!="undefined")return"eip4844";if(typeof t.maxFeePerGas!="undefined"||typeof t.maxPriorityFeePerGas!="undefined")return"eip1559";if(typeof t.gasPrice!="undefined")return typeof t.accessList!="undefined"?"eip2930":"legacy";throw new J4({transaction:t})}var fR=y(()=>{Qo()});function Xg(t,n){var s=n,{docsPath:e}=s,r=Ve(s,["docsPath"]);let i=(()=>{let o=zg(t,r);return o instanceof Ha?t:o})();return new e3(i,S({docsPath:e},r))}var N9=y(()=>{A0();Qo();A9()});async function uo(t){let e=await t.request({method:"eth_chainId"},{dedupe:!0});return Dt(e)}var xh=y(()=>{jn()});async function A3(t,e){var O,H,_,N,I,D,v,A,R,$,k,L;let B=e,{account:r=t.account,accessList:n,authorizationList:s,chain:i=t.chain,blobVersionedHashes:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:m,to:g,type:b,value:E}=B,w=Ve(B,["account","accessList","authorizationList","chain","blobVersionedHashes","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","nonceManager","to","type","value"]),x=await(async()=>{if(!r||!m||typeof h!="undefined")return h;let q=Rt(r),Z=i?i.id:await Pe(t,uo,"getChainId")({});return await m.consume({address:q.address,chainId:Z,client:t})})();Ps(e);let C=(H=(O=i==null?void 0:i.formatters)==null?void 0:O.transactionRequest)==null?void 0:H.format,U=(C||ys)(G(S({},Fa(w,{format:C})),{account:r?Rt(r):void 0,accessList:n,authorizationList:s,blobs:a,blobVersionedHashes:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:x,to:g,type:b,value:E}),"fillTransaction");try{let q=await t.request({method:"eth_fillTransaction",params:[U]}),ee=(((N=(_=i==null?void 0:i.formatters)==null?void 0:_.transaction)==null?void 0:N.format)||wh)(q.tx);delete ee.blockHash,delete ee.blockNumber,delete ee.r,delete ee.s,delete ee.transactionIndex,delete ee.v,delete ee.yParity,ee.data=ee.input,ee.gas&&(ee.gas=(I=e.gas)!=null?I:ee.gas),ee.gasPrice&&(ee.gasPrice=(D=e.gasPrice)!=null?D:ee.gasPrice),ee.maxFeePerBlobGas&&(ee.maxFeePerBlobGas=(v=e.maxFeePerBlobGas)!=null?v:ee.maxFeePerBlobGas),ee.maxFeePerGas&&(ee.maxFeePerGas=(A=e.maxFeePerGas)!=null?A:ee.maxFeePerGas),ee.maxPriorityFeePerGas&&(ee.maxPriorityFeePerGas=(R=e.maxPriorityFeePerGas)!=null?R:ee.maxPriorityFeePerGas),ee.nonce&&(ee.nonce=($=e.nonce)!=null?$:ee.nonce);let ae=await(async()=>{var Te,be,De;if(typeof((Te=i==null?void 0:i.fees)==null?void 0:Te.baseFeeMultiplier)=="function"){let Et=await Pe(t,oi,"getBlock")({});return i.fees.baseFeeMultiplier({block:Et,client:t,request:e})}return(De=(be=i==null?void 0:i.fees)==null?void 0:be.baseFeeMultiplier)!=null?De:1.2})();if(ae<1)throw new Wg;let we=10**((L=(k=ae.toString().split(".")[1])==null?void 0:k.length)!=null?L:0),ie=Te=>Te*BigInt(Math.ceil(ae*we))/BigInt(we);return ee.maxFeePerGas&&!e.maxFeePerGas&&(ee.maxFeePerGas=ie(ee.maxFeePerGas)),ee.gasPrice&&!e.gasPrice&&(ee.gasPrice=ie(ee.gasPrice)),{raw:q.raw,transaction:S({from:U.from},ee)}}catch(q){throw Xg(q,G(S({},e),{chain:t.chain}))}}var dR=y(()=>{Kn();g3();N9();Vg();y3();Qu();xr();Xu();Gg();xh()});async function S0(t,e){var x,C,T,U,B;let r=e;(x=r.account)!=null||(r.account=t.account),(C=r.parameters)!=null||(r.parameters=O9);let{account:n,chain:s=t.chain,nonceManager:i,parameters:o}=r,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})(),c;async function l(){return c||(typeof r.chainId!="undefined"?r.chainId:s?s.id:(c=await Pe(t,uo,"getChainId")({}),c))}let u=n&&Rt(n),f=r.nonce;if(o.includes("nonce")&&typeof f=="undefined"&&u&&i){let O=await l();f=await i.consume({address:u.address,chainId:O,client:t})}a!=null&&a.fn&&((T=a.runAt)!=null&&T.includes("beforeFillTransaction"))&&(r=await a.fn(G(S({},r),{chain:s}),{phase:"beforeFillTransaction"}),f!=null||(f=r.nonce));let p=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&r.kzg&&r.blobs||EW.get(t.uid)===!1||!["fees","gas"].some(H=>o.includes(H))?!1:!!(o.includes("chainId")&&typeof r.chainId!="number"||o.includes("nonce")&&typeof f!="number"||o.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof r.gas!="bigint"))?await Pe(t,A3,"fillTransaction")(G(S({},r),{nonce:f})).then(O=>{let L=O.transaction,{chainId:H,from:_,gas:N,gasPrice:I,nonce:D,maxFeePerBlobGas:v,maxFeePerGas:A,maxPriorityFeePerGas:R,type:$}=L,k=Ve(L,["chainId","from","gas","gasPrice","nonce","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","type"]);return EW.set(t.uid,!0),S(S(S(S(S(S(S(S(S(S(S({},r),_?{from:_}:{}),$?{type:$}:{}),typeof H!="undefined"?{chainId:H}:{}),typeof N!="undefined"?{gas:N}:{}),typeof I!="undefined"?{gasPrice:I}:{}),typeof D!="undefined"?{nonce:D}:{}),typeof v!="undefined"?{maxFeePerBlobGas:v}:{}),typeof A!="undefined"?{maxFeePerGas:A}:{}),typeof R!="undefined"?{maxPriorityFeePerGas:R}:{}),"nonceKey"in k&&typeof k.nonceKey!="undefined"?{nonceKey:k.nonceKey}:{})}).catch(O=>{var N;let H=O;return H.name!=="TransactionExecutionError"||(N=H.walk)!=null&&N.call(H,I=>{let D=I;return D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"})&&EW.set(t.uid,!1),r}):r;f!=null||(f=p.nonce),r=S(S(S({},p),u?{from:u==null?void 0:u.address}:{}),f?{nonce:f}:{});let{blobs:h,gas:m,kzg:g,type:b}=r;a!=null&&a.fn&&((U=a.runAt)!=null&&U.includes("beforeFillParameters"))&&(r=await a.fn(G(S({},r),{chain:s}),{phase:"beforeFillParameters"}));let E;async function w(){return E||(E=await Pe(t,oi,"getBlock")({blockTag:"latest"}),E)}if(o.includes("nonce")&&typeof f=="undefined"&&u&&!i&&(r.nonce=await Pe(t,Zg,"getTransactionCount")({address:u.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&h&&g){let O=Yg({blobs:h,kzg:g});if(o.includes("blobVersionedHashes")){let H=x3({commitments:O,to:"hex"});r.blobVersionedHashes=H}if(o.includes("sidecars")){let H=Jg({blobs:h,commitments:O,kzg:g}),_=Qg({blobs:h,commitments:O,proofs:H,to:"hex"});r.sidecars=_}}if(o.includes("chainId")&&(r.chainId=await l()),(o.includes("fees")||o.includes("type"))&&typeof b=="undefined")try{r.type=E3(r)}catch(O){let H=Nme.get(t.uid);if(typeof H=="undefined"){let _=await w();H=typeof(_==null?void 0:_.baseFeePerGas)=="bigint",Nme.set(t.uid,H)}r.type=H?"eip1559":"legacy"}if(o.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas=="undefined"||typeof r.maxPriorityFeePerGas=="undefined"){let O=await w(),{maxFeePerGas:H,maxPriorityFeePerGas:_}=await nR(t,{block:O,chain:s,request:r});if(typeof r.maxPriorityFeePerGas=="undefined"&&r.maxFeePerGas&&r.maxFeePerGas<_)throw new m3({maxPriorityFeePerGas:_});r.maxPriorityFeePerGas=_,r.maxFeePerGas=H}}else{if(typeof r.maxFeePerGas!="undefined"||typeof r.maxPriorityFeePerGas!="undefined")throw new C0;if(typeof r.gasPrice=="undefined"){let O=await w(),{gasPrice:H}=await nR(t,{block:O,chain:s,request:r,type:"legacy"});r.gasPrice=H}}return o.includes("gas")&&typeof m=="undefined"&&(r.gas=await Pe(t,S3,"estimateGas")(G(S({},r),{account:u,prepare:(u==null?void 0:u.type)==="local"?[]:["blobVersionedHashes"]}))),a!=null&&a.fn&&((B=a.runAt)!=null&&B.includes("afterFillParameters"))&&(r=await a.fn(G(S({},r),{chain:s}),{phase:"afterFillParameters"})),Ps(r),delete r.parameters,r}var O9,Nme,EW,C3=y(()=>{Kn();bW();pR();Gg();I9();g3();T9();P9();oR();_9();xr();eg();Xu();fR();dR();xh();O9=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Nme=new Map,EW=new oo(128)});async function S3(t,e){var a,c,l,u;let{account:r=t.account,prepare:n=!0}=e,s=r?Rt(r):void 0,i=(()=>{if(Array.isArray(n))return n;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{let f=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await kg({authorization:e.authorizationList[0]}).catch(()=>{throw new ne("`to` is required. Could not infer from `authorizationList`")})})(),o=n?await S0(t,G(S({},e),{parameters:i,to:f})):e,{accessList:d,authorizationList:p,blobs:h,blobVersionedHashes:m,blockNumber:g,blockTag:b,data:E,gas:w,gasPrice:x,maxFeePerBlobGas:C,maxFeePerGas:T,maxPriorityFeePerGas:U,nonce:B,value:O,stateOverride:H}=o,_=Ve(o,["accessList","authorizationList","blobs","blobVersionedHashes","blockNumber","blockTag","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","value","stateOverride"]);if(w&&e.gas!==w)return w;let I=(typeof g=="bigint"?ce(g):void 0)||b,D=h3(H);Ps(e);let v=(l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionRequest)==null?void 0:l.format,R=(v||ys)(G(S({},Fa(_,{format:v})),{account:s,accessList:d,authorizationList:p,blobs:h,blobVersionedHashes:m,data:E,gasPrice:x,maxFeePerBlobGas:C,maxFeePerGas:T,maxPriorityFeePerGas:U,nonce:B,to:f,value:O}),"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:D?[R,(u=I!=null?I:t.experimental_blockTag)!=null?u:"latest",D]:I?[R,I]:[R]}))}catch(f){throw kpe(f,G(S({},e),{account:s,chain:t.chain}))}}var pR=y(()=>{Kn();Bt();E9();Ze();Bpe();Vg();Qu();QO();Xu();C3()});async function hR(t,e){let l=e,{abi:r,address:n,args:s,functionName:i,dataSuffix:o}=l,a=Ve(l,["abi","address","args","functionName","dataSuffix"]),c=fn({abi:r,args:s,functionName:i});try{return await Pe(t,S3,"estimateGas")(S({data:`${c}${o?o.replace("0x",""):""}`,to:n},a))}catch(u){let f=a.account?Rt(a.account):void 0;throw Xo(u,{abi:r,address:n,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}var AW=y(()=>{Kn();Ba();Tg();xr();pR()});function _s(t,e){if(!vr(t,{strict:!1}))throw new Yr({address:t});if(!vr(e,{strict:!1}))throw new Yr({address:e});return t.toLowerCase()===e.toLowerCase()}var ef=y(()=>{Tl();ka()});function vh(t){let{abi:e,data:r,strict:n,topics:s}=t,i=n!=null?n:!0,[o,...a]=s;if(!o)throw new I4({docsPath:Ome});let c=e.find(b=>b.type==="event"&&o===ju(Fs(b)));if(!(c&&"name"in c)||c.type!=="event")throw new T4(o,{docsPath:Ome});let{name:l,inputs:u}=c,f=u==null?void 0:u.some(b=>!("name"in b&&b.name)),d=f?[]:{},p=u.map((b,E)=>[b,E]).filter(([b])=>"indexed"in b&&b.indexed),h=[];for(let b=0;b<p.length;b++){let[E,w]=p[b],x=a[b];if(!x){if(i)throw new f0({abiItem:c,param:E});h.push([E,w]);continue}d[f?w:E.name||w]=NXe({param:E,value:x})}let m=u.filter(b=>!("indexed"in b&&b.indexed)),g=i?m:[...h.map(([b])=>b),...m];if(g.length>0){if(r&&r!=="0x")try{let b=Jo(g,r);if(b){let E=0;if(!i)for(let[w,x]of h)d[f?x:w.name||x]=b[E++];if(f)for(let w=0;w<u.length;w++)d[w]===void 0&&E<b.length&&(d[w]=b[E++]);else for(let w=0;w<m.length;w++)d[m[w].name]=b[E++]}}catch(b){if(i)throw b instanceof q1||b instanceof z4?new zu({abiItem:c,data:r,params:g,size:Jt(r)}):b}else if(i)throw new zu({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(d).length>0?d:void 0}}function NXe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Jo([t],e)||[])[0]}var Ome,R9=y(()=>{kn();Rq();_a();$4();rg();eh();Ome="/docs/contract/decodeEventLog"});function e2(t){let{abi:e,args:r,logs:n,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var u;let a=e.filter(f=>f.type==="event"&&o.topics[0]===ju(f));if(a.length===0)return null;let c,l;for(let f of a)try{c=vh(G(S({},o),{abi:[f],strict:!0})),l=f;break}catch(d){}if(!c&&!s){l=a[0];try{c=vh(G(S({},o),{abi:[l],strict:!1}))}catch(f){let d=(u=l.inputs)==null?void 0:u.some(p=>!("name"in p&&p.name));return G(S({},o),{args:d?[]:{},eventName:l.name})}}return!c||!l||i&&!i.includes(c.eventName)||!OXe({args:c.args,inputs:l.inputs,matchArgs:r})?null:S(S({},c),o)}).filter(Boolean)}function OXe(t){let{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?_s(o,a):i.type==="string"||i.type==="bytes"?ar(qn(o))===a:o===a}catch(c){return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((i,o)=>{if(i==null)return!0;let a=r[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([i,o])=>{if(o==null)return!0;let a=r.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}var k9=y(()=>{ef();un();Ra();$4();R9()});function ai(t,{args:e,eventName:r}={}){return S(G(S({},t),{blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null}),r?{args:e,eventName:r}:{})}var Eh=y(()=>{});async function I3(t,{address:e,blockHash:r,fromBlock:n,toBlock:s,event:i,events:o,args:a,strict:c}={}){let l=c!=null?c:!1,u=o!=null?o:i?[i]:void 0,f=[];u&&(f=[u.flatMap(m=>_l({abi:[m],eventName:m.name,args:o?void 0:a}))],i&&(f=f[0]));let d;r?d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:r}]}):d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof n=="bigint"?ce(n):n,toBlock:typeof s=="bigint"?ce(s):s}]});let p=d.map(h=>ai(h));return u?e2({abi:u,args:a,logs:p,strict:l}):p}var mR=y(()=>{ww();k9();Ze();Eh()});async function T3(t,e){let{abi:r,address:n,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,u=o?co({abi:r,name:o}):void 0,f=u?void 0:r.filter(d=>d.type==="event");return Pe(t,I3,"getLogs")({address:n,args:s,blockHash:i,event:u,events:f,fromBlock:a,toBlock:c,strict:l})}var gR=y(()=>{ah();xr();mR()});function fo(t){let{abi:e,args:r,functionName:n,data:s}=t,i=e[0];if(n){let a=co({abi:e,args:r,name:n});if(!a)throw new kc(n,{docsPath:CW});i=a}if(i.type!=="function")throw new kc(void 0,{docsPath:CW});if(!i.outputs)throw new G1(i.name,{docsPath:CW});let o=Jo(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}var CW,Ah=y(()=>{kn();rg();ah();CW="/docs/contract/decodeFunctionResult"});var Rme,kme=y(()=>{Rme="0.1.1"});function Bme(){return Rme}var Ume=y(()=>{kme()});function Dme(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Dme(t.cause,e):e?null:t}var ot,za=y(()=>{Ume();ot=class t extends Error{static setStaticOptions(e){t.prototype.docsOrigin=e.docsOrigin,t.prototype.showVersion=e.showVersion,t.prototype.version=e.version}constructor(e,r={}){var u,f,d;let n=(()=>{var p;if(r.cause instanceof t){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(p=r.cause)!=null&&p.message?r.cause.message:r.details})(),s=r.cause instanceof t&&r.cause.docsPath||r.docsPath,i=(u=r.docsOrigin)!=null?u:t.prototype.docsOrigin,o=`${i}${s!=null?s:""}`,a=!!((f=r.version)!=null?f:t.prototype.showVersion),c=(d=r.version)!=null?d:t.prototype.version,l=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s||a?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(p=>typeof p=="string").join(`
`);super(l,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=n,this.docs=o,this.docsOrigin=i,this.docsPath=s,this.shortMessage=e,this.showVersion=a,this.version=c}walk(e){return Dme(this,e)}};Object.defineProperty(ot,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Bme()}`}});ot.setStaticOptions(ot.defaultStaticOptions)});function P3(t,e){if(kl(t)>e)throw new yR({givenSize:kl(t),maxSize:e})}function Lme(t,e){if(typeof e=="number"&&e>0&&e>kl(t)-1)throw new B9({offset:e,position:"start",size:kl(t)})}function Mme(t,e,r){if(typeof e=="number"&&typeof r=="number"&&kl(t)!==r-e)throw new B9({offset:r,position:"end",size:kl(t)})}function SW(t){if(t>=Ch.zero&&t<=Ch.nine)return t-Ch.zero;if(t>=Ch.A&&t<=Ch.F)return t-(Ch.A-10);if(t>=Ch.a&&t<=Ch.f)return t-(Ch.a-10)}function $me(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new bR({size:t.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let i=0;i<n;i++){let o=r==="right";s[o?i:n-i-1]=t[o?i:t.length-i-1]}return s}function IW(t,e={}){let{dir:r="left"}=e,n=t,s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n}var Ch,Hme=y(()=>{t2();Ch={zero:48,nine:57,A:65,F:70,a:97,f:102}});function _3(t,e){if(Un(t)>e)throw new wR({givenSize:Un(t),maxSize:e})}function Fme(t,e){if(typeof e=="number"&&e>0&&e>Un(t)-1)throw new U9({offset:e,position:"start",size:Un(t)})}function zme(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Un(t)!==r-e)throw new U9({offset:r,position:"end",size:Un(t)})}function TW(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;let s=t.replace("0x","");if(s.length>n*2)throw new xR({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function Vme(t,e={}){let{dir:r="left"}=e,n=t.replace("0x",""),s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var PW=y(()=>{ci()});function r2(t,e,r){return JSON.stringify(t,(n,s)=>typeof e=="function"?e(n,s):typeof s=="bigint"?s.toString()+kXe:s,r)}var kXe,D9=y(()=>{kXe="#__bigint"});function DXe(t){if(!(t instanceof Uint8Array)){if(!t)throw new N3(t);if(typeof t!="object")throw new N3(t);if(!("BYTES_PER_ELEMENT"in t))throw new N3(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new N3(t)}}function qme(t){return t instanceof Uint8Array?t:typeof t=="string"?O3(t):LXe(t)}function LXe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function O3(t,e={}){let{size:r}=e,n=t;r&&(_3(t,r),n=T0(t,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){let l=SW(s.charCodeAt(c++)),u=SW(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new ot(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l<<4|u}return o}function Wme(t,e={}){let{size:r}=e,n=UXe.encode(t);return typeof r=="number"?(P3(n,r),MXe(n,r)):n}function MXe(t,e){return $me(t,{dir:"right",size:e})}function kl(t){return t.length}function Kme(t,e,r,n={}){let{strict:s}=n;Lme(t,e);let i=t.slice(e,r);return s&&Mme(i,e,r),i}function Gme(t,e={}){let{size:r}=e;typeof r!="undefined"&&P3(t,r);let n=bs(t,e);return OW(n,e)}function Zme(t,e={}){let{size:r}=e,n=t;if(typeof r!="undefined"&&(P3(n,r),n=NW(n)),n.length>1||n[0]>1)throw new _W(n);return!!n[0]}function I0(t,e={}){let{size:r}=e;typeof r!="undefined"&&P3(t,r);let n=bs(t,e);return ER(n,e)}function Yme(t,e={}){let{size:r}=e,n=t;return typeof r!="undefined"&&(P3(n,r),n=$Xe(n)),BXe.decode(n)}function NW(t){return IW(t,{dir:"left"})}function $Xe(t){return IW(t,{dir:"right"})}function Jme(t){try{return DXe(t),!0}catch(e){return!1}}var BXe,UXe,_W,N3,yR,B9,bR,t2=y(()=>{za();ci();Hme();PW();D9();BXe=new TextDecoder,UXe=new TextEncoder;_W=class extends ot{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}},N3=class extends ot{constructor(e){super(`Value \`${typeof e=="object"?r2(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},yR=class extends ot{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},B9=class extends ot{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}},bR=class extends ot{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function zXe(t,e={}){let{strict:r=!1}=e;if(!t)throw new AR(t);if(typeof t!="string")throw new AR(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new CR(t);if(!t.startsWith("0x"))throw new CR(t)}function Gn(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function R3(t){return t instanceof Uint8Array?bs(t):Array.isArray(t)?bs(new Uint8Array(t)):t}function SR(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(_3(r,e.size),Sh(r,e.size)):r}function bs(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=FXe[t[s]];let n=`0x${r}`;return typeof e.size=="number"?(_3(n,e.size),T0(n,e.size)):n}function Tr(t,e={}){let{signed:r,size:n}=e,s=BigInt(t),i;n?r?i=(BigInt(1)<<BigInt(n)*BigInt(8)-BigInt(1))-BigInt(1):i=BigInt(2)**(BigInt(n)*BigInt(8))-BigInt(1):typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof i=="bigint"&&r?-i-BigInt(1):0;if(i&&s>i||s<o){let l=typeof t=="bigint"?"n":"";throw new L9({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}let c=`0x${(r&&s<0?BigInt.asUintN(n*8,BigInt(s)):s).toString(16)}`;return n?Sh(c,n):c}function k3(t,e={}){return bs(HXe.encode(t),e)}function Sh(t,e){return TW(t,{dir:"left",size:e})}function T0(t,e){return TW(t,{dir:"right",size:e})}function Dn(t,e,r,n={}){let{strict:s}=n;Fme(t,e);let i=`0x${t.replace("0x","").slice((e!=null?e:0)*2,(r!=null?r:t.length)*2)}`;return s&&zme(i,e,r),i}function Un(t){return Math.ceil((t.length-2)/2)}function RW(t){return Vme(t,{dir:"left"})}function OW(t,e={}){let{signed:r}=e;e.size&&_3(t,e.size);let n=BigInt(t);if(!r)return n;let s=(t.length-2)/2,i=(BigInt(1)<<BigInt(s)*BigInt(8))-BigInt(1),o=i>>BigInt(1);return n<=o?n:n-i-BigInt(1)}function ER(t,e={}){let{signed:r,size:n}=e;return Number(!r&&!n?t:OW(t,e))}function M9(t,e={}){let{strict:r=!1}=e;try{return zXe(t,{strict:r}),!0}catch(n){return!1}}var HXe,FXe,L9,AR,CR,wR,U9,xR,ci=y(()=>{za();PW();D9();HXe=new TextEncoder,FXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));L9=class extends ot{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},AR=class extends ot{constructor(e){super(`Value \`${typeof e=="object"?r2(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},CR=class extends ot{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},wR=class extends ot{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},U9=class extends ot{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},xR=class extends ot{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function Qme(t){return{address:t.address,amount:Tr(t.amount),index:Tr(t.index),validatorIndex:Tr(t.validatorIndex)}}var Xme=y(()=>{ci()});function IR(t){return S(S(S(S(S(S(S(S({},typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Tr(t.baseFeePerGas)}),typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Tr(t.blobBaseFee)}),typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient}),typeof t.gasLimit=="bigint"&&{gasLimit:Tr(t.gasLimit)}),typeof t.number=="bigint"&&{number:Tr(t.number)}),typeof t.prevRandao=="bigint"&&{prevRandao:Tr(t.prevRandao)}),typeof t.time=="bigint"&&{time:Tr(t.time)}),t.withdrawals&&{withdrawals:t.withdrawals.map(Qme)})}var kW=y(()=>{ci();Xme()});var Ih,TR,t1e,PR,r1e,BW,UW,DW,B3,Nw,n1e,s1e,i1e,o1e,Th=y(()=>{Ih=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],TR=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],t1e=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],PR=[...t1e,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],r1e=[...t1e,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],BW=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],UW=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],DW=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],B3=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Nw=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],n1e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],s1e=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],i1e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],o1e=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]});var a1e,c1e=y(()=>{a1e="0x82ad56cb"});var U3,_R,$9,D3,L3=y(()=>{U3="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",_R="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$9="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",D3="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"});var Ph,M3,$3,Ow,_h,H3=y(()=>{Bt();Ph=class extends ne{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},M3=class extends ne{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} \u2013 ${e.name}`],name:"ChainMismatchError"})}},$3=class extends ne{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},Ow=class extends ne{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},_h=class extends ne{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function Nh(t){let{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;let s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new j1({docsPath:LW});if(!("inputs"in s))throw new u0({docsPath:LW});if(!s.inputs||s.inputs.length===0)throw new u0({docsPath:LW});let i=Vs(s.inputs,r);return Wn([n,i])}var LW,H9=y(()=>{kn();si();Wu();LW="/docs/contract/encodeDeployData"});function Va({blockNumber:t,chain:e,contract:r}){var s;let n=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!n)throw new Ph({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Ph({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var n2=y(()=>{H3()});function NR(t,n){var s=n,{docsPath:e}=s,r=Ve(s,["docsPath"]);let i=(()=>{let o=zg(t,r);return o instanceof Ha?t:o})();return new ag(i,S({docsPath:e},r))}var MW=y(()=>{uh();A0();A9()});function F3(){let t=()=>{},e=()=>{};return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}var OR=y(()=>{});function z3({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:s}){let i=async()=>{let u=c();o();let f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let p=0;p<u.length;p++){let{resolve:h}=u[p];h==null||h([d[p],d])}}).catch(d=>{for(let p=0;p<u.length;p++){let{reject:h}=u[p];h==null||h(d)}})},o=()=>$W.delete(e),a=()=>c().map(({args:u})=>u),c=()=>$W.get(e)||[],l=u=>$W.set(e,[...c(),u]);return{flush:o,async schedule(u){let{promise:f,resolve:d,reject:p}=F3();return r!=null&&r([...a(),u])&&i(),c().length>0?(l({args:u,resolve:d,reject:p}),f):(l({args:u,resolve:d,reject:p}),setTimeout(i,n),f)}}}var $W,RR=y(()=>{OR();$W=new Map});var kR,BR,UR,l1e=y(()=>{Oi();Bt();zO();kR=class extends ne{constructor({callbackSelector:e,cause:r,data:n,extraData:s,sender:i,urls:o}){var a;super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],(a=r.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${ch(c)}`)],`  Sender: ${i}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}},BR=class extends ne{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ch(r)}`,`Response: ${Wt(e)}`],name:"OffchainLookupResponseMalformedError"})}},UR=class extends ne{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});function DR(t){let{abi:e,data:r}=t,n=ao(r,0,4),s=e.find(i=>i.type==="function"&&n===Lc(Fs(i)));if(!s)throw new P4(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Jo(s.inputs,ao(r,4)):void 0}}var HW=y(()=>{kn();Pl();bw();rg();eh()});function F9(t){let{abi:e,errorName:r,args:n}=t,s=e[0];if(r){let c=co({abi:e,args:n,name:r});if(!c)throw new uw(r,{docsPath:FW});s=c}if(s.type!=="error")throw new uw(void 0,{docsPath:FW});let i=Fs(s),o=Lc(i),a="0x";if(n&&n.length>0){if(!s.inputs)throw new S4(s.name,{docsPath:FW});a=Vs(s.inputs,n)}return Wn([o,a])}var FW,zW=y(()=>{kn();si();bw();Wu();eh();ah();FW="/docs/contract/encodeErrorResult"});function LR(t){let{abi:e,functionName:r,result:n}=t,s=e[0];if(r){let o=co({abi:e,name:r});if(!o)throw new kc(r,{docsPath:VW});s=o}if(s.type!=="function")throw new kc(void 0,{docsPath:VW});if(!s.outputs)throw new G1(s.name,{docsPath:VW});let i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new Y1(n)})();return Vs(s.outputs,i)}var VW,jW=y(()=>{kn();Wu();ah();VW="/docs/contract/encodeFunctionResult"});async function qW(t){let{data:e,ccipRequest:r}=t,{args:[n]}=DR({abi:TR,data:e}),s=[],i=[];return await Promise.all(n.map(async(o,a)=>{try{i[a]=o.urls.includes(Oh)?await qW({data:o.data,ccipRequest:r}):await r(o),s[a]=!1}catch(c){s[a]=!0,i[a]=jXe(c)}})),LR({abi:TR,functionName:"query",result:[s,i]})}function jXe(t){return t.name==="HttpRequestError"&&t.status?F9({abi:TR,errorName:"HttpError",args:[t.status,t.shortMessage]}):F9({abi:[UO],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}var Oh,z9=y(()=>{Th();DO();HW();zW();jW();Oh="x-batch-gateway:true"});var u1e={};Me(u1e,{ccipRequest:()=>V9,offchainLookup:()=>KW,offchainLookupAbiItem:()=>MR,offchainLookupSignature:()=>WW});async function KW(t,{blockNumber:e,blockTag:r,data:n,to:s}){let{args:i}=q4({data:n,abi:[MR]}),[o,a,c,l,u]=i,{ccipRead:f}=t,d=f&&typeof(f==null?void 0:f.request)=="function"?f.request:V9;try{if(!_s(s,o))throw new UR({sender:o,to:s});let p=a.includes(Oh)?await qW({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:h}=await P0(t,{blockNumber:e,blockTag:r,data:Bn([l,Vs([{type:"bytes"},{type:"bytes"}],[p,u])]),to:s});return h}catch(p){throw new kR({callbackSelector:l,cause:p,data:n,extraData:u,sender:o,urls:a})}}async function V9({data:t,sender:e,urls:r}){var s;let n=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){let o=r[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:t,sender:e}:void 0,l=a==="POST"?{"Content-Type":"application/json"}:{};try{let u=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(c),headers:l,method:a}),f;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){n=new Ua({body:c,details:f!=null&&f.error?Wt(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!st(f)){n=new BR({result:f,url:o});continue}return f}catch(u){n=new Ua({body:c,details:u.message,url:o})}}throw n}var WW,MR,GW=y(()=>{V3();l1e();Gu();MO();Wu();ef();si();Go();z9();Oi();WW="0x556f1830",MR={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function P0(t,e){var I,D,A,R,$;let v=e,{account:r=t.account,authorizationList:n,batch:s=!!((I=t.batch)!=null&&I.multicall),blockNumber:i,blockTag:o=(D=t.experimental_blockTag)!=null?D:"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:f,factory:d,factoryData:p,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:w,to:x,value:C,stateOverride:T}=v,U=Ve(v,["account","authorizationList","batch","blockNumber","blockTag","accessList","blobs","blockOverrides","code","data","factory","factoryData","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value","stateOverride"]),B=r?Rt(r):void 0;if(u&&(d||p))throw new ne("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new ne("Cannot provide both `code` & `to` as parameters.");let O=u&&f,H=d&&p&&x&&f,_=O||H,N=O?f1e({code:u,data:f}):H?KXe({data:f,factory:d,factoryData:p,to:x}):f;try{Ps(e);let L=(typeof i=="bigint"?ce(i):void 0)||o,q=l?IR(l):void 0,Z=h3(T),ee=($=(R=(A=t.chain)==null?void 0:A.formatters)==null?void 0:R.transactionRequest)==null?void 0:$.format,re=(ee||ys)(G(S({},Fa(U,{format:ee})),{accessList:a,account:B,authorizationList:n,blobs:c,data:N,gas:h,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:w,to:_?void 0:x,value:C}),"call");if(s&&qXe({request:re})&&!Z&&!q)try{return await WXe(t,G(S({},re),{blockNumber:i,blockTag:o}))}catch(Te){if(!(Te instanceof Ow)&&!(Te instanceof Ph))throw Te}let we=(()=>{let Te=[re,L];return Z&&q?[...Te,Z,q]:Z?[...Te,Z]:q?[...Te,{},q]:Te})(),ie=await t.request({method:"eth_call",params:we});return ie==="0x"?{data:void 0}:{data:ie}}catch(k){let L=GXe(k),{offchainLookup:q,offchainLookupSignature:Z}=await Promise.resolve().then(()=>(GW(),u1e));if(t.ccipRead!==!1&&(L==null?void 0:L.slice(0,10))===Z&&x)return{data:await q(t,{data:L,to:x})};throw _&&(L==null?void 0:L.slice(0,10))==="0x101bb98d"?new s3({factory:d}):NR(k,G(S({},e),{account:B,chain:t.chain}))}}function qXe({request:t}){let s=t,{data:e,to:r}=s,n=Ve(s,["data","to"]);return!(!e||e.startsWith(a1e)||!r||Object.values(n).filter(i=>typeof i!="undefined").length>0)}async function WXe(t,e){var m,g;let{batchSize:r=1024,deployless:n=!1,wait:s=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=(g=t.experimental_blockTag)!=null?g:"latest",data:a,to:c}=e,l=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Va({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Ow})(),f=(typeof i=="bigint"?ce(i):void 0)||o,{schedule:d}=z3({id:`${t.uid}.${f}`,wait:s,shouldSplitBatch(b){return b.reduce((w,{data:x})=>w+(x.length-2),0)>r*2},fn:async b=>{let E=b.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),w=fn({abi:Ih,args:[E],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[S({},l===null?{data:f1e({code:D3,data:w})}:{to:l,data:w}),f]});return fo({abi:Ih,args:[E],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:p,success:h}]=await d({data:a,to:c});if(!h)throw new Nl({data:p});return p==="0x"?{data:void 0}:{data:p}}function f1e(t){let{code:e,data:r}=t;return Nh({abi:y4(["constructor(bytes, bytes)"]),bytecode:U3,args:[e,r]})}function KXe(t){let{data:e,factory:r,factoryData:n,to:s}=t;return Nh({abi:y4(["constructor(address, bytes, address, bytes)"]),bytecode:_R,args:[s,e,r,n]})}function GXe(t){var r;if(!(t instanceof ne))return;let e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}var V3=y(()=>{x4();kW();Kn();Th();c1e();L3();Bt();H3();uh();Ah();H9();Ba();n2();Ze();MW();Vg();Qu();RR();QO();Xu()});async function ns(t,e){let c=e,{abi:r,address:n,args:s,functionName:i}=c,o=Ve(c,["abi","address","args","functionName"]),a=fn({abi:r,args:s,functionName:i});try{let{data:l}=await Pe(t,P0,"call")(G(S({},o),{data:a,to:n}));return fo({abi:r,args:s,functionName:i,data:l||"0x"})}catch(l){throw Xo(l,{abi:r,address:n,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}var tf=y(()=>{Ah();Ba();Tg();xr();V3()});async function $R(t,e){let u=e,{abi:r,address:n,args:s,dataSuffix:i,functionName:o}=u,a=Ve(u,["abi","address","args","dataSuffix","functionName"]),c=a.account?Rt(a.account):t.account,l=fn({abi:r,args:s,functionName:o});try{let{data:f}=await Pe(t,P0,"call")(G(S({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:n},a),{account:c})),d=fo({abi:r,args:s,functionName:o,data:f||"0x"}),p=r.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:G(S({abi:p,address:n,args:s,dataSuffix:i,functionName:o},a),{account:c})}}catch(f){throw Xo(f,{abi:r,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}var ZW=y(()=>{Kn();Ah();Ba();Tg();xr();V3()});function po(t,e,r){let n=++ZXe,s=()=>YW.get(t)||[],i=()=>{let u=s();YW.set(t,u.filter(f=>f.id!==n))},o=()=>{let u=s();if(!u.some(d=>d.id===n))return;let f=d1e.get(t);if(u.length===1&&f){let d=f();d instanceof Promise&&d.catch(()=>{})}i()},a=s();if(YW.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;let c={};for(let u in e)c[u]=((...f)=>{var p,h;let d=s();if(d.length!==0)for(let m of d)(h=(p=m.fns)[u])==null||h.call(p,...f)});let l=r(c);return typeof l=="function"&&d1e.set(t,l),o}var YW,d1e,ZXe,s2=y(()=>{YW=new Map,d1e=new Map,ZXe=0});async function Rw(t){return new Promise(e=>setTimeout(e,t))}var HR=y(()=>{});function Bl(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let s=!0,i=()=>s=!1;return(async()=>{var u;let a;e&&(a=await t({unpoll:i}));let c=(u=await(r==null?void 0:r(a)))!=null?u:n;await Rw(c);let l=async()=>{s&&(await t({unpoll:i}),await Rw(n),l())};l()})(),i}var kw=y(()=>{HR()});function p1e(t){let e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),r=e(t,YXe),n=e(t,JXe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function FR(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){let n=p1e(e),s=n.response.get();if(s&&r>0&&Date.now()-s.created.getTime()<r)return s.data;let i=n.promise.get();i||(i=t(),n.promise.set(i));try{let o=await i;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}var YXe,JXe,JW=y(()=>{YXe=new Map,JXe=new Map});async function _0(t,{cacheTime:e=t.cacheTime}={}){let r=await FR(()=>t.request({method:"eth_blockNumber"}),{cacheKey:QXe(t.uid),cacheTime:e});return BigInt(r)}var QXe,j3=y(()=>{JW();QXe=t=>`blockNumber.${t}`});async function i2(t,{filter:e}){let r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;let s=n.map(i=>ai(i));return!("abi"in e)||!e.abi?s:e2({abi:e.abi,logs:s,strict:r})}var j9=y(()=>{k9();Eh()});async function o2(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}var q9=y(()=>{});function zR(t,e){let{abi:r,address:n,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:f=t.pollingInterval,strict:d}=e;return(typeof u!="undefined"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{let g=d!=null?d:!1,b=Wt(["watchContractEvent",n,s,i,t.uid,o,f,g,a]);return po(b,{onLogs:l,onError:c},E=>{let w;a!==void 0&&(w=a-BigInt(1));let x,C=!1,T=Bl(async()=>{var U;if(!C){try{x=await Pe(t,F4,"createContractEventFilter")({abi:r,address:n,args:s,eventName:o,strict:g,fromBlock:a})}catch(B){}C=!0;return}try{let B;if(x)B=await Pe(t,i2,"getFilterChanges")({filter:x});else{let O=await Pe(t,_0,"getBlockNumber")({});w&&w<O?B=await Pe(t,T3,"getContractEvents")({abi:r,address:n,args:s,eventName:o,fromBlock:w+BigInt(1),toBlock:O,strict:g}):B=[],w=O}if(B.length===0)return;if(i)E.onLogs(B);else for(let O of B)E.onLogs([O])}catch(B){x&&B instanceof Da&&(C=!1),(U=E.onError)==null||U.call(E,B)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await Pe(t,o2,"uninstallFilter")({filter:x}),T()}})})():(()=>{let g=d!=null?d:!1,b=Wt(["watchContractEvent",n,s,i,t.uid,o,f,g]),E=!0,w=()=>E=!1;return po(b,{onLogs:l,onError:c},x=>((async()=>{try{let C=(()=>{if(t.transport.type==="fallback"){let B=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return B?B.value:t.transport}return t.transport})(),T=o?_l({abi:r,eventName:o,args:s}):[],{unsubscribe:U}=await C.subscribe({params:["logs",{address:n,topics:T}],onData(B){var H;if(!E)return;let O=B.result;try{let{eventName:_,args:N}=vh({abi:r,data:O.data,topics:O.topics,strict:d}),I=ai(O,{args:N,eventName:_});x.onLogs([I])}catch(_){let N,I;if(_ instanceof zu||_ instanceof f0){if(d)return;N=_.abiItem.name,I=(H=_.abiItem.inputs)==null?void 0:H.some(v=>!("name"in v&&v.name))}let D=ai(O,{args:I?[]:{},eventName:N});x.onLogs([D])}},onError(B){var O;(O=x.onError)==null||O.call(x,B)}});w=U,E||w()}catch(C){c==null||c(C)}})(),()=>w()))})()}var QW=y(()=>{kn();Ig();R9();ww();Eh();xr();s2();kw();Oi();kO();j3();gR();j9();q9()});var li,Ul,Rh=y(()=>{Bt();li=class extends ne{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},Ul=class extends ne{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}});function a2({chain:t,currentChainId:e}){if(!t)throw new $3;if(e!==t.id)throw new M3({chain:t,currentChainId:e})}var W9=y(()=>{H3()});async function q3(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var VR=y(()=>{});async function c2(t,e){var x,C,T,U;let w=e,{account:r=t.account,assertChainId:n=!0,chain:s=t.chain,accessList:i,authorizationList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,type:m,value:g}=w,b=Ve(w,["account","assertChainId","chain","accessList","authorizationList","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","type","value"]);if(typeof r=="undefined")throw new li({docsPath:"/docs/actions/wallet/sendTransaction"});let E=r?Rt(r):null;try{Ps(e);let B=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await kg({authorization:o[0]}).catch(()=>{throw new ne("`to` is required. Could not infer from `authorizationList`.")})})();if((E==null?void 0:E.type)==="json-rpc"||E===null){let O;s!==null&&(O=await Pe(t,uo,"getChainId")({}),n&&a2({currentChainId:O,chain:s}));let H=(T=(C=(x=t.chain)==null?void 0:x.formatters)==null?void 0:C.transactionRequest)==null?void 0:T.format,N=(H||ys)(G(S({},Fa(b,{format:H})),{accessList:i,account:E,authorizationList:o,blobs:a,chainId:O,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:B,type:m,value:g}),"sendTransaction"),I=XW.get(t.uid),D=I?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:D,params:[N]},{retryCount:0})}catch(v){if(I===!1)throw v;let A=v;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(R=>(XW.set(t.uid,!0),R)).catch(R=>{let $=R;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(XW.set(t.uid,!1),A):$});throw A}}if((E==null?void 0:E.type)==="local"){let O=await Pe(t,S0,"prepareTransactionRequest")(G(S({account:E,accessList:i,authorizationList:o,blobs:a,chain:s,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:E.nonceManager,parameters:[...O9,"sidecars"],type:m,value:g},b),{to:B})),H=(U=s==null?void 0:s.serializers)==null?void 0:U.transaction,_=await E.signTransaction(O,{serializer:H});return await Pe(t,q3,"sendRawTransaction")({serializedTransaction:_})}throw(E==null?void 0:E.type)==="smart"?new Ul({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ul({docsPath:"/docs/actions/wallet/sendTransaction",type:E==null?void 0:E.type})}catch(B){throw B instanceof Ul?B:Xg(B,G(S({},e),{account:E,chain:e.chain||void 0}))}}var XW,K9=y(()=>{Kn();Rh();Bt();E9();W9();N9();Vg();Qu();xr();eg();Xu();xh();C3();VR();XW=new oo(128)});async function kh(t,e){return kh.internal(t,c2,"sendTransaction",e)}var jR=y(()=>{Kn();Rh();Ba();Tg();xr();K9();(function(t){async function e(r,n,s,i){let m=i,{abi:o,account:a=r.account,address:c,args:l,dataSuffix:u,functionName:f}=m,d=Ve(m,["abi","account","address","args","dataSuffix","functionName"]);if(typeof a=="undefined")throw new li({docsPath:"/docs/contract/writeContract"});let p=a?Rt(a):null,h=fn({abi:o,args:l,functionName:f});try{return await Pe(r,n,s)(S({data:`${h}${u?u.replace("0x",""):""}`,to:c,account:p},d))}catch(g){throw Xo(g,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:f,sender:p==null?void 0:p.address})}}t.internal=e})(kh||(kh={}))});function h1e({abi:t,address:e,client:r}){let n=r,[s,i]=n?"public"in n&&"wallet"in n?[n.public,n.wallet]:"public"in n?[n.public,void 0]:"wallet"in n?[void 0,n.wallet]:[n,n]:[void 0,void 0],o=s!=null,a=i!=null,c={},l=!1,u=!1,f=!1;for(let d of t)if(d.type==="function"?d.stateMutability==="view"||d.stateMutability==="pure"?l=!0:u=!0:d.type==="event"&&(f=!0),l&&u&&f)break;return o&&(l&&(c.read=new Proxy({},{get(d,p){return(...h)=>{let{args:m,options:g}=qR(h);return Pe(s,ns,"readContract")(S({abi:t,address:e,functionName:p,args:m},g))}}})),u&&(c.simulate=new Proxy({},{get(d,p){return(...h)=>{let{args:m,options:g}=qR(h);return Pe(s,$R,"simulateContract")(S({abi:t,address:e,functionName:p,args:m},g))}}})),f&&(c.createEventFilter=new Proxy({},{get(d,p){return(...h)=>{let m=t.find(E=>E.type==="event"&&E.name===p),{args:g,options:b}=eK(h,m);return Pe(s,F4,"createContractEventFilter")(S({abi:t,address:e,eventName:p,args:g},b))}}}),c.getEvents=new Proxy({},{get(d,p){return(...h)=>{let m=t.find(E=>E.type==="event"&&E.name===p),{args:g,options:b}=eK(h,m);return Pe(s,T3,"getContractEvents")(S({abi:t,address:e,eventName:p,args:g},b))}}}),c.watchEvent=new Proxy({},{get(d,p){return(...h)=>{let m=t.find(E=>E.type==="event"&&E.name===p),{args:g,options:b}=eK(h,m);return Pe(s,zR,"watchContractEvent")(S({abi:t,address:e,eventName:p,args:g},b))}}}))),a&&u&&(c.write=new Proxy({},{get(d,p){return(...h)=>{let{args:m,options:g}=qR(h);return Pe(i,kh,"writeContract")(S({abi:t,address:e,functionName:p,args:m},g))}}})),(o||a)&&u&&(c.estimateGas=new Proxy({},{get(d,p){return(...h)=>{var E;let{args:m,options:g}=qR(h),b=s!=null?s:i;return Pe(b,hR,"estimateContractGas")(G(S({abi:t,address:e,functionName:p,args:m},g),{account:(E=g.account)!=null?E:i.account}))}}})),c.address=e,c.abi=t,c}function qR(t){var s;let e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(s=e?t[1]:t[0])!=null?s:{};return{args:r,options:n}}function eK(t,e){var i;let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(o=>o.indexed):t.length===2&&(r=!0);let n=r?t[0]:void 0,s=(i=r?t[1]:t[0])!=null?i:{};return{args:n,options:s}}var m1e=y(()=>{xr();kO();AW();gR();tf();ZW();QW();jR()});var W3,tK=y(()=>{Bt();W3=class extends ne{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}});function Bh(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,i)=>{let o=async({count:a=0}={})=>{let c=async({error:l})=>{let u=typeof e=="function"?e({count:a,error:l}):e;u&&await Rw(u),o({count:a+1})};try{let l=await t();s(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});i(l)}};o()})}var G9=y(()=>{HR()});function Bw(t,e){let r=G(S({},t),{blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>ai(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Dt(t.transactionIndex):null,status:t.status?rK[t.status]:null,type:t.type?S9[t.type]||t.type:null});return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}var rK,g1e,Z9=y(()=>{jn();C9();Eh();y3();rK={"0x0":"reverted","0x1":"success"};g1e=jg("transactionReceipt",Bw)});async function WR(t,e){let{account:r=t.account,capabilities:n,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=r?Rt(r):null,f=e.calls.map(d=>{let p=d,h=p.abi?fn({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?Bn([h,p.dataSuffix]):h,to:p.to,value:p.value?ce(p.value):void 0}});try{let d=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:n,chainId:ce(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){let p=d;if(i&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(E=>!E.optional)){let E="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new x0(new ne(E,{details:E}))}if(a&&f.length>1){let b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new v0(new ne(b,{details:b}))}let h=[];for(let b of f){let E=c2(t,{account:u,chain:s,data:b.data,to:b.to,value:b.value?Tt(b.value):void 0});h.push(E),o>0&&await new Promise(w=>setTimeout(w,o))}let m=await Promise.allSettled(h);if(m.every(b=>b.status==="rejected"))throw m[0].reason;let g=m.map(b=>b.status==="fulfilled"?b.value:sK);return{id:Bn([...g,ce(s.id,{size:32}),nK])}}throw Xg(d,G(S({},e),{account:u,chain:e.chain}))}}var nK,sK,KR=y(()=>{Kn();Bt();Ig();Ba();si();jn();Ze();N9();K9();nK="0x5792579257925792579257925792579257925792579257925792579257925792",sK=ce(0,{size:32})});async function GR(t,e){var f;async function r(d){if(d.endsWith(nK.slice(2))){let h=Vn(h0(d,-64,-32)),m=h0(d,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(m.map(E=>sK.slice(2)!==E?t.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),b=g.some(E=>E===null)?100:g.every(E=>(E==null?void 0:E.status)==="0x1")?200:g.every(E=>(E==null?void 0:E.status)==="0x0")?500:600;return{atomic:!1,chainId:Dt(h),receipts:g.filter(Boolean),status:b,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}let u=await r(e.id),{atomic:n=!1,chainId:s,receipts:i,version:o="2.0.0"}=u,a=Ve(u,["atomic","chainId","receipts","version"]),[c,l]=(()=>{let d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return G(S({},a),{atomic:n,chainId:s?Dt(s):void 0,receipts:(f=i==null?void 0:i.map(d=>G(S({},d),{blockNumber:Tt(d.blockNumber),gasUsed:Tt(d.gasUsed),status:rK[d.status]})))!=null?f:[],statusCode:l,status:c,version:o})}var iK=y(()=>{Pl();th();jn();Z9();KR()});async function ZR(t,e){let{id:r,pollingInterval:n=t.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:i=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=Wt(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:f,reject:d}=F3(),p,h=po(l,{resolve:f,reject:d},m=>{let g=Bl(async()=>{let b=E=>{clearTimeout(p),g(),E(),h()};try{let E=await Bh(async()=>{let w=await Pe(t,GR,"getCallsStatus")({id:r});if(c&&w.status==="failure")throw new W3(w);return w},{retryCount:i,delay:o});if(!s(E))return;b(()=>m.resolve(E))}catch(E){b(()=>m.reject(E))}},{interval:n,emitOnBegin:!0});return g});return p=a?setTimeout(()=>{h(),clearTimeout(p),d(new Y9({id:r}))},a):void 0,await u}var Y9,YR=y(()=>{Bt();tK();xr();s2();kw();OR();G9();Oi();iK();Y9=class extends ne{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}});function XR(t=11){if(!QR||JR+t>256*2){QR="",JR=0;for(let e=0;e<256;e++)QR+=(256+Math.random()*256|0).toString(16).substring(1)}return QR.substring(JR,JR+++t)}var JR,QR,oK=y(()=>{JR=256});function l2(t){var w,x,C,T;let{batch:e,chain:r,ccipRead:n,key:s="base",name:i="Base Client",type:o="base"}=t,a=(w=t.experimental_blockTag)!=null?w:typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0,c=(x=r==null?void 0:r.blockTime)!=null?x:12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=(C=t.pollingInterval)!=null?C:l,f=(T=t.cacheTime)!=null?T:u,d=t.account?Rt(t.account):void 0,{config:p,request:h,value:m}=t.transport({account:d,chain:r,pollingInterval:u}),g=S(S({},p),m),b=S({account:d,batch:e,cacheTime:f,ccipRead:n,chain:r,key:s,name:i,pollingInterval:u,request:h,transport:g,type:o,uid:XR()},a?{experimental_blockTag:a}:{});function E(U){return B=>{let O=B(U);for(let _ in b)delete O[_];let H=S(S({},U),O);return Object.assign(H,{extend:E(H)})}}return Object.assign(b,{extend:E(b)})}function y1e(){return null}var J9=y(()=>{Kn();oK()});function K3(t){var r,n,s,i,o,a;if(!(t instanceof ne))return!1;let e=t.walk(c=>c instanceof lh);return e instanceof lh?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((n=e.data)==null?void 0:n.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}var ek=y(()=>{Bt();uh()});function tk(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;let e=`0x${t.slice(1,65)}`;return st(e)?e:null}var aK=y(()=>{Go()});function Uw(t){let e=new Uint8Array(32).fill(0);if(!t)return Ot(e);let r=t.split(".");for(let n=r.length-1;n>=0;n-=1){let s=tk(r[n]),i=s?qn(s):ar(Bc(r[n]),"bytes");e=ar(Bn([e,i]),"bytes")}return Ot(e)}var rk=y(()=>{si();un();Ze();Ra();aK()});function b1e(t){return`[${t.slice(2)}]`}var w1e=y(()=>{});function nk(t){let e=new Uint8Array(32).fill(0);return t?tk(t)||ar(Bc(t)):Ot(e)}var cK=y(()=>{un();Ze();Ra();aK()});function G3(t){let e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let r=new Uint8Array(Bc(e).byteLength+2),n=0,s=e.split(".");for(let i=0;i<s.length;i++){let o=Bc(s[i]);o.byteLength>255&&(o=Bc(b1e(nk(s[i])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var sk=y(()=>{un();w1e();cK()});async function x1e(t,e){let{blockNumber:r,blockTag:n,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Va({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>i.endsWith(d)))return null;let f=s!=null?[Uw(i),BigInt(s)]:[Uw(i)];try{let d=fn({abi:UW,functionName:"addr",args:f}),p={address:l,abi:PR,functionName:"resolveWithGateways",args:[Zr(G3(i)),d,o!=null?o:[Oh]],blockNumber:r,blockTag:n},m=await Pe(t,ns,"readContract")(p);if(m[0]==="0x")return null;let g=fo({abi:UW,args:f,functionName:"addr",data:m[0]});return g==="0x"||Vn(g)==="0x00"?null:g}catch(d){if(a)throw d;if(K3(d))return null;throw d}}var v1e=y(()=>{Th();Ah();Ba();n2();th();Ze();ek();z9();rk();sk();xr();tf()});var ik,N0,u2,Z3,Y3,ok=y(()=>{Bt();ik=class extends ne{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},N0=class extends ne{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},u2=class extends ne{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},Z3=class extends ne{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}},Y3=class extends ne{constructor({chainId:e}){super(`Invalid ENSIP-11 chainId: ${e}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}});async function net(t){try{let e=await fetch(t,{method:"HEAD"});if(e.status===200){let r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response!="undefined"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{let n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function E1e(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function lK({uri:t,gatewayUrls:e}){let r=tet.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};let n=E1e(e==null?void 0:e.ipfs,"https://ipfs.io"),s=E1e(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(XXe),{protocol:o,subpath:a,target:c,subtarget:l=""}=(i==null?void 0:i.groups)||{},u=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||eet.test(t);if(t.startsWith("http")&&!u&&!f){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||f)&&c)return{uri:`${n}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(ret,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new u2({uri:t})}function uK(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new ik({data:t});return t.image||t.image_url||t.image_data}async function A1e({gatewayUrls:t,uri:e}){try{let r=await fetch(e).then(s=>s.json());return await ak({gatewayUrls:t,uri:uK(r)})}catch(r){throw new u2({uri:e})}}async function ak({gatewayUrls:t,uri:e}){let{uri:r,isOnChain:n}=lK({uri:e,gatewayUrls:t});if(n||await net(r))return r;throw new u2({uri:e})}function C1e(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[r,n,s]=e.split("/"),[i,o]=r.split(":"),[a,c]=n.split(":");if(!i||i.toLowerCase()!=="eip155")throw new N0({reason:"Only EIP-155 supported"});if(!o)throw new N0({reason:"Chain ID not found"});if(!c)throw new N0({reason:"Contract address not found"});if(!s)throw new N0({reason:"Token ID not found"});if(!a)throw new N0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function S1e(t,{nft:e}){if(e.namespace==="erc721")return ns(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ns(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Z3({namespace:e.namespace})}var XXe,eet,tet,ret,I1e=y(()=>{tf();ok();XXe=new RegExp("(?<protocol>https?:\\/\\/[^/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?"),eet=new RegExp("^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$"),tet=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ret=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function T1e(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?set(t,{gatewayUrls:e,record:r}):ak({uri:r,gatewayUrls:e})}async function set(t,{gatewayUrls:e,record:r}){let n=C1e(r),s=await S1e(t,{nft:n}),{uri:i,isOnChain:o,isEncoded:a}=lK({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){let l=a?atob(i.replace("data:application/json;base64,","")):i,u=JSON.parse(l);return ak({uri:uK(u),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),A1e({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}var P1e=y(()=>{I1e()});async function ck(t,e){let{blockNumber:r,blockTag:n,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Va({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(f=>i.endsWith(f)))return null;try{let f={address:l,abi:PR,args:[Zr(G3(i)),fn({abi:BW,functionName:"text",args:[Uw(i),s]}),o!=null?o:[Oh]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await Pe(t,ns,"readContract")(f);if(p[0]==="0x")return null;let h=fo({abi:BW,functionName:"text",data:p[0]});return h===""?null:h}catch(f){if(a)throw f;if(K3(f))return null;throw f}}var fK=y(()=>{Th();Ah();Ba();n2();Ze();ek();z9();rk();sk();xr();tf()});async function _1e(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){let c=await Pe(t,ck,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await T1e(t,{record:c,gatewayUrls:n})}catch(l){return null}}var N1e=y(()=>{P1e();xr();fK()});async function O1e(t,e){let{address:r,blockNumber:n,blockTag:s,coinType:i=BigInt(60),gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Va({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{let u={address:l,abi:r1e,args:[r,i,o!=null?o:[Oh]],functionName:"reverseWithGateways",blockNumber:n,blockTag:s},f=Pe(t,ns,"readContract"),[d]=await f(u);return d||null}catch(u){if(a)throw u;if(K3(u))return null;throw u}}var R1e=y(()=>{Th();n2();ek();z9();xr();tf()});async function k1e(t,e){let{blockNumber:r,blockTag:n,name:s}=e,{chain:i}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Va({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(l=>s.endsWith(l)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);let[c]=await Pe(t,ns,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Zr(G3(s))],blockNumber:r,blockTag:n});return c}var B1e=y(()=>{n2();Ze();sk();xr();tf()});async function lk(t,e){var b,E,w;let g=e,{account:r=t.account,blockNumber:n,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:p}=g,h=Ve(g,["account","blockNumber","blockTag","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","to","value"]),m=r?Rt(r):void 0;try{Ps(e);let C=(typeof n=="bigint"?ce(n):void 0)||s,T=(w=(E=(b=t.chain)==null?void 0:b.formatters)==null?void 0:E.transactionRequest)==null?void 0:w.format,B=(T||ys)(G(S({},Fa(h,{format:T})),{account:m,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:p}),"createAccessList"),O=await t.request({method:"eth_createAccessList",params:[B,C]});return{accessList:O.accessList,gasUsed:BigInt(O.gasUsed)}}catch(x){throw NR(x,G(S({},e),{account:m,chain:t.chain}))}}var dK=y(()=>{Kn();Ze();MW();Vg();Qu();Xu()});async function U1e(t){let e=tg(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}var D1e=y(()=>{i9()});async function uk(t,{address:e,args:r,event:n,events:s,fromBlock:i,strict:o,toBlock:a}={}){let c=s!=null?s:n?[n]:void 0,l=tg(t,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(p=>_l({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));let f=await t.request({method:"eth_newFilter",params:[S({address:e,fromBlock:typeof i=="bigint"?ce(i):i,toBlock:typeof a=="bigint"?ce(a):a},u.length?{topics:u}:{})]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:i,id:f,request:l(f),strict:!!o,toBlock:a,type:"event"}}var pK=y(()=>{ww();Ze();i9()});async function fk(t){let e=tg(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}var hK=y(()=>{i9()});async function L1e(t,{address:e,blockNumber:r,blockTag:n=(s=>(s=t.experimental_blockTag)!=null?s:"latest")()}){let i=typeof r=="bigint"?ce(r):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(o)}var M1e=y(()=>{Ze()});async function $1e(t){let e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}var H1e=y(()=>{});async function F1e(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){let s=r!==void 0?ce(r):void 0,i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),Dt(i)}var z1e=y(()=>{jn();Ze()});async function Q9(t,{address:e,blockNumber:r,blockTag:n="latest"}){let s=r!==void 0?ce(r):void 0,i=await t.request({method:"eth_getCode",params:[e,s||n]},{dedupe:!!s});if(i!=="0x")return i}var mK=y(()=>{Ze()});var dk,V1e=y(()=>{Bt();dk=class extends ne{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function j1e(t,e){let{address:r,factory:n,factoryData:s}=e;try{let[i,o,a,c,l,u,f]=await Pe(t,ns,"readContract")({abi:iet,address:r,functionName:"eip712Domain",factory:n,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:f,fields:i}}catch(i){let o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new dk({address:r}):o}}var iet,q1e=y(()=>{V1e();xr();tf();iet=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});function W1e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}var K1e=y(()=>{});async function G1e(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){let i=typeof r=="bigint"?ce(r):void 0,o=await t.request({method:"eth_feeHistory",params:[ce(e),i||n,s]},{dedupe:!!i});return W1e(o)}var Z1e=y(()=>{Ze();K1e()});async function Y1e(t,{filter:e}){var i;let r=(i=e.strict)!=null?i:!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>ai(o));return e.abi?e2({abi:e.abi,logs:s,strict:r}):s}var J1e=y(()=>{k9();Eh()});function Q1e(t,e){if(t.length!==e.length)throw new W1({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let s=t[n],i=e[n];r.push(X1e(s,i))}return Wn(r)}function X1e(t,e,r=!1){if(t==="address"){let o=e;if(!vr(o))throw new Yr({address:o});return io(o.toLowerCase(),{size:r?32:null})}if(t==="string")return Yo(e);if(t==="bytes")return e;if(t==="bool")return io(Q1(e),{size:r?32:1});let n=t.match(H4);if(n){let[o,a,c="256"]=n,l=Number.parseInt(c,10)/8;return ce(e,{size:r?32:l,signed:a==="int"})}let s=t.match(NO);if(s){let[o,a]=s;if(Number.parseInt(a,10)!==(e.length-2)/2)throw new Z1({expectedSize:Number.parseInt(a,10),givenSize:(e.length-2)/2});return io(e,{dir:"right",size:r?32:null})}let i=t.match(Tde);if(i&&Array.isArray(e)){let[o,a]=i,c=[];for(let l=0;l<e.length;l++)c.push(X1e(a,e[l],!0));return c.length===0?"0x":Wn(c)}throw new O4(t)}var ege=y(()=>{kn();Tl();ka();si();J1();Ze();OO()});function X9(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}var gK=y(()=>{});function tge(t){return t.opcode==="CREATE2"?bK(t):yK(t)}function yK(t){let e=qn(zs(t.from)),r=qn(t.nonce);return r[0]===0&&(r=new Uint8Array([])),zs(`0x${ar(na([e,r],"bytes")).slice(26)}`)}function bK(t){let e=qn(zs(t.from)),r=io(X9(t.salt)?t.salt:qn(t.salt),{size:32}),n="bytecodeHash"in t?X9(t.bytecodeHash)?t.bytecodeHash:qn(t.bytecodeHash):ar(t.bytecode,"bytes");return zs(ao(ar(Bn([qn("0xff"),e,r,n])),12))}var rge=y(()=>{si();gK();J1();Pl();un();v9();Ra();Dc()});function pk(t){let{authorizationList:e}=t;if(e)for(let r of e){let{chainId:n}=r,s=r.address;if(!vr(s))throw new Yr({address:s});if(n<0)throw new _h({chainId:n})}f2(t)}function hk(t){let{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new v3;for(let r of e){let n=Jt(r),s=Dt(ao(r,0,1));if(n!==32)throw new cR({hash:r,size:n});if(s!==1)throw new lR({hash:r,version:s})}}f2(t)}function f2(t){let{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=t;if(e<=0)throw new _h({chainId:e});if(s&&!vr(s))throw new Yr({address:s});if(n&&n>qg)throw new $a({maxFeePerGas:n});if(r&&n&&r>n)throw new Rl({maxFeePerGas:n,maxPriorityFeePerGas:r})}function J3(t){let{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(e<=0)throw new _h({chainId:e});if(i&&!vr(i))throw new Yr({address:i});if(r||s)throw new ne("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>qg)throw new $a({maxFeePerGas:n})}function Q3(t){let{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(i&&!vr(i))throw new Yr({address:i});if(typeof e!="undefined"&&e<=0)throw new _h({chainId:e});if(r||s)throw new ne("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>qg)throw new $a({maxFeePerGas:n})}var mk=y(()=>{XO();Tl();Bt();xW();H3();A0();ka();_a();Pl();jn()});function Dw(t){if(!t||t.length===0)return[];let e=[];for(let r=0;r<t.length;r++){let{address:n,storageKeys:s}=t[r];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new X4({storageKey:s[i]});if(!vr(n,{strict:!1}))throw new Yr({address:n});e.push([n,s])}return e}var wK=y(()=>{Tl();Qo();ka()});function gk(t,e){let r=E3(t);return r==="eip1559"?cet(t,e):r==="eip2930"?uet(t,e):r==="eip4844"?aet(t,e):r==="eip7702"?oet(t,e):fet(t,e)}function oet(t,e){let{authorizationList:r,chainId:n,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:f}=t;pk(t);let d=Dw(u),p=nge(r);return Wn(["0x04",na([ce(n),i?ce(i):"0x",l?ce(l):"0x",c?ce(c):"0x",s?ce(s):"0x",o!=null?o:"0x",a?ce(a):"0x",f!=null?f:"0x",d,p,...X3(t,e)])])}function aet(t,e){let{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:f}=t;hk(t);let d=t.blobVersionedHashes,p=t.sidecars;if(t.blobs&&(typeof d=="undefined"||typeof p=="undefined")){let w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(T=>Ot(T)),x=t.kzg,C=Yg({blobs:w,kzg:x});if(typeof d=="undefined"&&(d=x3({commitments:C})),typeof p=="undefined"){let T=Jg({blobs:w,commitments:C,kzg:x});p=Qg({blobs:w,commitments:C,proofs:T})}}let h=Dw(u),m=[ce(r),s?ce(s):"0x",l?ce(l):"0x",c?ce(c):"0x",n?ce(n):"0x",i!=null?i:"0x",o?ce(o):"0x",f!=null?f:"0x",h,a?ce(a):"0x",d!=null?d:[],...X3(t,e)],g=[],b=[],E=[];if(p)for(let w=0;w<p.length;w++){let{blob:x,commitment:C,proof:T}=p[w];g.push(x),b.push(C),E.push(T)}return Wn(["0x03",p?na([m,g,b,E]):na(m)])}function cet(t,e){let{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=t;f2(t);let f=Dw(l),d=[ce(r),s?ce(s):"0x",c?ce(c):"0x",a?ce(a):"0x",n?ce(n):"0x",i!=null?i:"0x",o?ce(o):"0x",u!=null?u:"0x",f,...X3(t,e)];return Wn(["0x02",na(d)])}function uet(t,e){let{chainId:r,gas:n,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:l}=t;J3(t);let u=Dw(c),f=[ce(r),i?ce(i):"0x",l?ce(l):"0x",n?ce(n):"0x",o!=null?o:"0x",a?ce(a):"0x",s!=null?s:"0x",u,...X3(t,e)];return Wn(["0x01",na(f)])}function fet(t,e){let{chainId:r=0,gas:n,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;Q3(t);let l=[i?ce(i):"0x",c?ce(c):"0x",n?ce(n):"0x",o!=null?o:"0x",a?ce(a):"0x",s!=null?s:"0x"];if(e){let u=(()=>{if(e.v>=BigInt(35))return(e.v-BigInt(35))/BigInt(2)>0?e.v:BigInt(27)+(e.v===BigInt(35)?BigInt(0):BigInt(1));if(r>0)return BigInt(r*2)+BigInt(BigInt(35)+e.v-BigInt(27));let p=BigInt(27)+(e.v===BigInt(27)?BigInt(0):BigInt(1));if(e.v!==p)throw new sg({v:e.v});return p})(),f=Vn(e.r),d=Vn(e.s);l=[...l,ce(u),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else r>0&&(l=[...l,ce(r),"0x","0x"]);return na(l)}function X3(t,e){let r=e!=null?e:t,{v:n,yParity:s}=r;if(typeof r.r=="undefined")return[];if(typeof r.s=="undefined")return[];if(typeof n=="undefined"&&typeof s=="undefined")return[];let i=Vn(r.r),o=Vn(r.s);return[typeof s=="number"?s?ce(1):"0x":n===BigInt(0)?"0x":n===BigInt(1)?ce(1):n===BigInt(27)?"0x":ce(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}var yk=y(()=>{Qo();sge();T9();P9();oR();_9();si();th();Ze();v9();mk();fR();wK()});function nge(t){if(!t||t.length===0)return[];let e=[];for(let n of t){let r=n,{chainId:s,nonce:i}=r,o=Ve(r,["chainId","nonce"]),a=n.address;e.push([s?Zr(s):"0x",a,i?Zr(i):"0x",...X3({},o)])}return e}var sge=y(()=>{Ze();yk()});async function ige({address:t,authorization:e,signature:r}){return _s(zs(t),await kg({authorization:e,signature:r}))}var oge=y(()=>{Dc();ef();E9()});function age(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(bk.get(r))return bk.get(r);let n=t().finally(()=>bk.delete(r));return bk.set(r,n),n}var bk,cge=y(()=>{eg();bk=new oo(8192)});function lge(t,e={}){return async(r,n={})=>{var f;let{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}=S(S({},e),n),{method:l}=r;if((f=i==null?void 0:i.exclude)!=null&&f.includes(l))throw new w0(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new w0(new Error("method not supported"),{method:l});let u=s?Yo(`${c}.${Wt(r)}`):void 0;return age(()=>Bh(async()=>{try{return await t(r)}catch(d){let p=d;switch(p.code){case lg.code:throw new lg(p);case ug.code:throw new ug(p);case fg.code:throw new fg(p,{method:r.method});case dg.code:throw new dg(p);case Zu.code:throw new Zu(p);case Da.code:throw new Da(p);case pg.code:throw new pg(p);case hg.code:throw new hg(p);case b0.code:throw new b0(p);case w0.code:throw new w0(p,{method:r.method});case dh.code:throw new dh(p);case mg.code:throw new mg(p);case Yu.code:throw new Yu(p);case gg.code:throw new gg(p);case yg.code:throw new yg(p);case bg.code:throw new bg(p);case wg.code:throw new wg(p);case xg.code:throw new xg(p);case x0.code:throw new x0(p);case vg.code:throw new vg(p);case Eg.code:throw new Eg(p);case Ag.code:throw new Ag(p);case Cg.code:throw new Cg(p);case Sg.code:throw new Sg(p);case v0.code:throw new v0(p);case 5e3:throw new Yu(p);default:throw d instanceof ne?d:new i3(p)}}},{delay:({count:d,error:p})=>{var h;if(p&&p instanceof Ua){let m=(h=p==null?void 0:p.headers)==null?void 0:h.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>det(d)}),{enabled:s,id:u})}}function det(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===dh.code||t.code===Zu.code:t instanceof Ua&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}var uge=y(()=>{Bt();Gu();Ig();Ze();cge();G9();Oi()});function fge(t){let e=S({formatters:void 0,fees:void 0,serializers:void 0},t);function r(n){return s=>{let i=typeof s=="function"?s(n):s,o=S(S({},n),i);return Object.assign(o,{extend:r(o)})}}return Object.assign(e,{extend:r(e)})}function dge(){return{}}var pge=y(()=>{});function hge({chains:t,id:e}){return t.find(r=>r.id===e)}var mge=y(()=>{});function e7(t,e="hex"){let r=(()=>{if(typeof t=="string"){if(t.length>3&&t.length%2!==0)throw new U4(t);return hr(t)}return t})(),n=Ku(r,{recursiveReadLimit:Number.POSITIVE_INFINITY});return yge(n,e)}function yge(t,e="hex"){if(t.bytes.length===0)return e==="hex"?Ot(t.bytes):t.bytes;let r=t.readByte();if(r<128&&t.decrementPosition(1),r<192){let s=gge(t,r,128),i=t.readBytes(s);return e==="hex"?Ot(i):i}let n=gge(t,r,192);return pet(t,n,e)}function gge(t,e,r){if(r===128&&e<128)return 1;if(e<=r+55)return e-r;if(e===r+55+1)return t.readUint8();if(e===r+55+2)return t.readUint16();if(e===r+55+3)return t.readUint24();if(e===r+55+4)return t.readUint32();throw new ne("Invalid RLP prefix")}function pet(t,e,r){let n=t.position,s=[];for(;t.position-n<e;)s.push(yge(t,r));return s}var xK=y(()=>{Bt();hw();V4();un();Ze()});function wk(t){return st(t)&&Jt(t)===32}var vK=y(()=>{Go();_a()});function bge(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var het,wge,met,xge,vge,Ege,Age,get,yet,bet,wet,xk,vk,Cge,Sge=y(()=>{Mq();sh();het=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),wge=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),met=wge.map(t=>(9*t+5)%16),xge=(()=>{let r=[[wge],[met]];for(let n=0;n<4;n++)for(let s of r)s.push(s[n].map(i=>het[i]));return r})(),vge=xge[0],Ege=xge[1],Age=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),get=vge.map((t,e)=>t.map(r=>Age[e][r])),yet=Ege.map((t,e)=>t.map(r=>Age[e][r])),bet=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),wet=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);xk=new Uint32Array(16),vk=class extends o3{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:s,h4:i}=this;return[e,r,n,s,i]}set(e,r,n,s,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,r){for(let p=0;p<16;p++,r+=4)xk[p]=e.getUint32(r,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let p=0;p<5;p++){let h=4-p,m=bet[p],g=wet[p],b=vge[p],E=Ege[p],w=get[p],x=yet[p];for(let C=0;C<16;C++){let T=t9(n+bge(p,i,a,l)+xk[b[C]]+m,w[C])+f|0;n=f,f=l,l=t9(a,10)|0,a=i,i=T}for(let C=0;C<16;C++){let T=t9(s+bge(h,o,c,u)+xk[E[C]]+g,x[C])+d|0;s=d,d=u,u=t9(c,10)|0,c=o,o=T}}this.set(this.h1+a+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){Uc(xk)}destroy(){this.destroyed=!0,Uc(this.buffer),this.set(0,0,0,0,0)}},Cge=M4(()=>new vk)});var Ige,Tge=y(()=>{Sge();Ige=Cge});function Pge(t,e){let r=e||"hex",n=Ige(st(t,{strict:!1})?qn(t):t);return r==="bytes"?n:Zr(n)}var _ge=y(()=>{Tge();Go();un();Ze()});var Nge=y(()=>{n9()});var Oge=y(()=>{_O()});var Rge=y(()=>{n9()});var kge=y(()=>{_O()});function EK(t){let{source:e}=t,r=new Map,n=new oo(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){let l=i({address:o,chainId:a}),u=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});let f=await u;return await e.set({address:o,chainId:a},f),n.set(l,f),f},async increment({address:o,chainId:a}){var u;let c=i({address:o,chainId:a}),l=(u=r.get(c))!=null?u:0;r.set(c,l+1)},async get({address:o,chainId:a,client:c}){var d;let l=i({address:o,chainId:a}),u=s.get(l);return u||(u=(async()=>{var p;try{let h=await e.get({address:o,chainId:a,client:c}),m=(p=n.get(l))!=null?p:0;return m>0&&h<=m?m+1:(n.delete(l),h)}finally{this.reset({address:o,chainId:a})}})(),s.set(l,u)),((d=r.get(l))!=null?d:0)+await u},reset({address:o,chainId:a}){let c=i({address:o,chainId:a});r.delete(c),s.delete(c)}}}function xet(){return{async get(t){let{address:e,client:r}=t;return Zg(r,{address:e,blockTag:"pending"})},set(){}}}var Bge,Uge=y(()=>{I9();eg();Bge=EK({source:xet()})});function e5(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,i)=>{(async()=>{let o;try{let a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():i(e)},r)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}var Ek=y(()=>{});function vet(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var t7,AK=y(()=>{t7=vet()});function Dge(t,e={}){let{url:r,headers:n}=Eet(t);return{async request(s){var h,m,g,b,E;let{body:i,fetchFn:o=(h=e.fetchFn)!=null?h:fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:l=(m=e.timeout)!=null?m:1e4}=s,u=S(S({},(g=e.fetchOptions)!=null?g:{}),(b=s.fetchOptions)!=null?b:{}),{headers:f,method:d,signal:p}=u;try{let w=await e5(async({signal:C})=>{var H,_,N;let T=G(S({},u),{body:Array.isArray(i)?Wt(i.map(I=>{var D;return S({jsonrpc:"2.0",id:(D=I.id)!=null?D:t7.take()},I)})):Wt(S({jsonrpc:"2.0",id:(H=i.id)!=null?H:t7.take()},i)),headers:S(G(S({},n),{"Content-Type":"application/json"}),f),method:d||"POST",signal:p||(l>0?C:null)}),U=new Request(r,T),B=(_=await(a==null?void 0:a(U,T)))!=null?_:G(S({},T),{url:r});return await o((N=B.url)!=null?N:r,B)},{errorInstance:new fh({body:i,url:r}),timeout:l,signal:!0});c&&await c(w);let x;if((E=w.headers.get("Content-Type"))!=null&&E.startsWith("application/json"))x=await w.json();else{x=await w.text();try{x=JSON.parse(x||"{}")}catch(C){if(w.ok)throw C;x={error:x}}}if(!w.ok)throw new Ua({body:i,details:Wt(x.error)||w.statusText,headers:w.headers,status:w.status,url:r});return x}catch(w){throw w instanceof Ua||w instanceof fh?w:new Ua({body:i,cause:w,url:r})}}}}function Eet(t){try{let e=new URL(t),r=(()=>{if(e.username){let n=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(n)}`}}}})();return S({url:e.toString()},r)}catch(e){return{url:t}}}var Lge=y(()=>{Gu();Ek();Oi();AK()});async function Mge(t){let{getSocket:e,keepAlive:r=!0,key:n="socket",reconnect:s=!0,url:i}=t,{interval:o=3e4}=typeof r=="object"?r:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},l=JSON.stringify({keepAlive:r,key:n,url:i,reconnect:s}),u=CK.get(l);if(u)return u;let f=0,{schedule:d}=z3({id:l,fn:async()=>{let m=new Map,g=new Map,b,E,w,x=!1;function C(){if(s&&f<a){if(x)return;x=!0,f++,E==null||E.close(),setTimeout(async()=>{await T().catch(console.error),x=!1},c)}else m.clear(),g.clear()}async function T(){let U=await e({onClose(){var B,O;for(let H of m.values())(B=H.onError)==null||B.call(H,new y0({url:i}));for(let H of g.values())(O=H.onError)==null||O.call(H,new y0({url:i}));C()},onError(B){var O,H;b=B;for(let _ of m.values())(O=_.onError)==null||O.call(_,b);for(let _ of g.values())(H=_.onError)==null||H.call(_,b);C()},onOpen(){b=void 0,f=0},onResponse(B){let O=B.method==="eth_subscription",H=O?B.params.subscription:B.id,_=O?g:m,N=_.get(H);N&&N.onResponse(B),O||_.delete(H)}});if(E=U,r&&(w&&clearInterval(w),w=setInterval(()=>{var B;return(B=E.ping)==null?void 0:B.call(E)},o)),s&&g.size>0){let B=g.entries();for(let[O,{onResponse:H,body:_,onError:N}]of B)_&&(g.delete(O),u==null||u.request({body:_,onResponse:H,onError:N}))}return U}return await T(),b=void 0,u={close(){w&&clearInterval(w),E.close(),CK.delete(l)},get socket(){return E},request({body:U,onError:B,onResponse:O}){var N,I;b&&B&&B(b);let H=(N=U.id)!=null?N:t7.take(),_=D=>{typeof D.id=="number"&&H!==D.id||(U.method==="eth_subscribe"&&typeof D.result=="string"&&g.set(D.result,{onResponse:_,onError:B,body:U}),O(D))};U.method==="eth_unsubscribe"&&g.delete((I=U.params)==null?void 0:I[0]),m.set(H,{onResponse:_,onError:B});try{E.request({body:S({jsonrpc:"2.0",id:H},U)})}catch(D){B==null||B(D)}},requestAsync({body:U,timeout:B=1e4}){return e5(()=>new Promise((O,H)=>this.request({body:U,onError:H,onResponse:O})),{errorInstance:new fh({body:U,url:i}),timeout:B})},requests:m,subscriptions:g,url:i},CK.set(l,u),[u]}}),[p,[h]]=await d();return h}var CK,$ge=y(()=>{Gu();RR();Ek();AK();CK=new Map});function Hge(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Fge=y(()=>{});var zge={};Me(zge,{WebSocket:()=>Aet});var Aet,Vge=y(()=>{Fge();Aet=Hge()});async function t5(t,e={}){let{keepAlive:r,reconnect:n}=e;return Mge({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:a}){let c=await Promise.resolve().then(()=>(Vge(),zge)).then(p=>p.WebSocket),l=new c(t);function u(){l.removeEventListener("close",u),l.removeEventListener("message",f),l.removeEventListener("error",i),l.removeEventListener("open",o),s()}function f({data:p}){if(!(typeof p=="string"&&p.trim().length===0))try{let h=JSON.parse(p);a(h)}catch(h){i(h)}}l.addEventListener("close",u),l.addEventListener("message",f),l.addEventListener("error",i),l.addEventListener("open",o),l.readyState===c.CONNECTING&&await new Promise((p,h)=>{l&&(l.onopen=p,l.onerror=h)});let{close:d}=l;return Object.assign(l,{close(){d.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new Ew({url:l.url,cause:new y0({url:l.url})});let p={jsonrpc:"2.0",id:null,method:"net_version",params:[]};l.send(JSON.stringify(p))}catch(p){i(p)}},request({body:p}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new Ew({body:p,url:l.url,cause:new y0({url:l.url})});return l.send(JSON.stringify(p))}})},keepAlive:r,reconnect:n,url:t})}var SK=y(()=>{Gu();$ge()});async function jge(t){let e=await t5(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}var qge=y(()=>{SK()});var Ak,IK=y(()=>{Ak=`Ethereum Signed Message:
`});function Ck(t){let e=typeof t=="string"?Yo(t):typeof t.raw=="string"?t.raw:Ot(t.raw),r=Yo(`${Ak}${Jt(e)}`);return Bn([r,e])}var TK=y(()=>{IK();si();_a();Ze()});function d2(t,e){return ar(Ck(t),e)}var r7=y(()=>{Ra();TK()});var r5,n5,s5,PK=y(()=>{Oi();Bt();r5=class extends ne{constructor({domain:e}){super(`Invalid domain "${Wt(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},n5=class extends ne{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},s5=class extends ne{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function Sk(t){let{domain:e,message:r,primaryType:n,types:s}=t,i=(c,l)=>{let u=S({},l);for(let f of c){let{name:d,type:p}=f;p==="address"&&(u[d]=u[d].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return i(s[n],r)})();return Wt({domain:o,message:a,primaryType:n,types:s})}function i5(t){let{domain:e,message:r,primaryType:n,types:s}=t,i=(o,a)=>{for(let c of o){let{name:l,type:u}=c,f=a[l],d=u.match(H4);if(d&&(typeof f=="number"||typeof f=="bigint")){let[m,g,b]=d;ce(f,{signed:g==="int",size:Number.parseInt(b,10)/8})}if(u==="address"&&typeof f=="string"&&!vr(f))throw new Yr({address:f});let p=u.match(NO);if(p){let[m,g]=p;if(g&&Jt(f)!==Number.parseInt(g,10))throw new Z1({expectedSize:Number.parseInt(g,10),givenSize:Jt(f)})}let h=s[u];h&&(Cet(u),i(h,f))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new r5({domain:e});i(s.EIP712Domain,e)}if(n!=="EIP712Domain")if(s[n])i(s[n],r);else throw new n5({primaryType:n,types:s})}function Lw({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Wge({domain:t}){return n7({domain:t,types:{EIP712Domain:Lw({domain:t})}})}function Cet(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new s5({type:t})}var Ik=y(()=>{kn();Tl();PK();ka();_a();Ze();OO();s7();Oi()});function o5(t){let{domain:e={},message:r,primaryType:n}=t,s=S({EIP712Domain:Lw({domain:e})},t.types);i5({domain:e,message:r,primaryType:n,types:s});let i=["0x1901"];return e&&i.push(n7({domain:e,types:s})),n!=="EIP712Domain"&&i.push(Tk({data:r,primaryType:n,types:s})),ar(Bn(i))}function n7({domain:t,types:e}){return Tk({data:t,primaryType:"EIP712Domain",types:e})}function Tk({data:t,primaryType:e,types:r}){let n=Kge({data:t,primaryType:e,types:r});return ar(n)}function Kge({data:t,primaryType:e,types:r}){let n=[{type:"bytes32"}],s=[Iet({primaryType:e,types:r})];for(let i of r[e]){let[o,a]=Zge({types:r,name:i.name,type:i.type,value:t[i.name]});n.push(o),s.push(a)}return Vs(n,s)}function Iet({primaryType:t,types:e}){let r=Zr(Tet({primaryType:t,types:e}));return ar(r)}function Tet({primaryType:t,types:e}){let r="",n=Gge({primaryType:t,types:e});n.delete(t);let s=[t,...Array.from(n).sort()];for(let i of s)r+=`${i}(${e[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function Gge({primaryType:t,types:e},r=new Set){let n=t.match(/^\w*/u),s=n==null?void 0:n[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(let i of e[s])Gge({primaryType:i.type,types:e},r);return r}function Zge({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},ar(Kge({data:n,primaryType:r,types:t}))];if(r==="bytes")return[{type:"bytes32"},ar(n)];if(r==="string")return[{type:"bytes32"},ar(Zr(n))];if(r.lastIndexOf("]")===r.length-1){let s=r.slice(0,r.lastIndexOf("[")),i=n.map(o=>Zge({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},ar(Vs(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:r},n]}var s7=y(()=>{Wu();si();Ze();Ra();Ik()});var Pk,Yge,_k=y(()=>{Pk="0x6492649264926492649264926492649264926492649264926492649264926492",Yge="0x0000000000000000000000000000000000000000000000000000000000000000"});function Nk(t){return h0(t,-32)===Pk}var _K=y(()=>{_k();Pl()});var Ok,Jge=y(()=>{Ok=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var Pet,Rk,Qge=y(()=>{Jge();Pet={checksum:new Ok(8192)},Rk=Pet.checksum});function Mw(t,e={}){let{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=PO(qme(t));return r==="Bytes"?n:bs(n)}var kk=y(()=>{Cq();t2();ci()});function Xge(t,e={}){let{compressed:r}=e,{prefix:n,x:s,y:i}=t;if(r===!1||typeof s=="bigint"&&typeof i=="bigint"){if(n!==4)throw new Bk({prefix:n,cause:new kK});return}if(r===!0||typeof s=="bigint"&&typeof i=="undefined"){if(n!==3&&n!==2)throw new Bk({prefix:n,cause:new RK});return}throw new OK({publicKey:t})}function e2e(t){let e=(()=>{if(M9(t))return t2e(t);if(Jme(t))return Net(t);let{prefix:r,x:n,y:s}=t;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r!=null?r:4,x:n,y:s}:{prefix:r,x:n}})();return Xge(e),e}function Net(t){return t2e(bs(t))}function t2e(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new BK({publicKey:t});if(t.length===130){let n=BigInt(Dn(t,0,32)),s=BigInt(Dn(t,32,64));return{prefix:4,x:n,y:s}}if(t.length===132){let n=Number(Dn(t,0,1)),s=BigInt(Dn(t,1,33)),i=BigInt(Dn(t,33,65));return{prefix:n,x:s,y:i}}let e=Number(Dn(t,0,1)),r=BigInt(Dn(t,1,33));return{prefix:e,x:r}}function UK(t,e={}){Xge(t);let{prefix:r,x:n,y:s}=t,{includePrefix:i=!0}=e;return Gn(i?Tr(r,{size:1}):"0x",Tr(n,{size:32}),typeof s=="bigint"?Tr(s,{size:32}):"0x")}var OK,Bk,RK,kK,BK,DK=y(()=>{t2();za();ci();D9();OK=class extends ot{constructor({publicKey:e}){super(`Value \`${r2(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},Bk=class extends ot{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},RK=class extends ot{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},kK=class extends ot{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},BK=class extends ot{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Un(R3(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function $w(t,e={}){let{strict:r=!0}=e;if(!Oet.test(t))throw new Uk({address:t,cause:new LK});if(r){if(t.toLowerCase()===t)return;if(Dk(t)!==t)throw new Uk({address:t,cause:new MK})}}function Dk(t){if(Rk.has(t))return Rk.get(t);$w(t,{strict:!1});let e=t.substring(2).toLowerCase(),r=Mw(Wme(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());let s=`0x${n.join("")}`;return Rk.set(t,s),s}function Ret(t,e={}){let{checksum:r=!1}=e;return $w(t),r?Dk(t):t}function n2e(t,e={}){let r=Mw(`0x${UK(t).slice(4)}`).substring(26);return Ret(`0x${r}`,e)}function Lk(t,e={}){let{strict:r=!0}=e!=null?e:{};try{return $w(t,{strict:r}),!0}catch(n){return!1}}var Oet,Uk,LK,MK,i7=y(()=>{t2();Qge();za();kk();DK();Oet=/^0x[a-fA-F0-9]{40}$/;Uk=class extends ot{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},LK=class extends ot{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},MK=class extends ot{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});var s2e,i2e,$k,a$t,c$t,l$t,u$t,f$t,d$t,p$t,h$t,m$t,g$t,y$t,b$t,w$t,x$t,v$t,E$t,A$t,C$t,S$t,I$t,T$t,P$t,_$t,N$t,O$t,R$t,k$t,B$t,U$t,D$t,L$t,M$t,$$t,H$t,F$t,z$t,V$t,j$t,q$t,W$t,K$t,G$t,Z$t,Y$t,J$t,Q$t,X$t,eHt,tHt,rHt,nHt,sHt,iHt,oHt,aHt,cHt,lHt,uHt,fHt,dHt,pHt,hHt,mHt,gHt,yHt,bHt,wHt,xHt,vHt,EHt,AHt,CHt,SHt,IHt,THt,PHt,_Ht,NHt,OHt,RHt,kHt,BHt,UHt,DHt,LHt,MHt,$Ht,HHt,FHt,zHt,VHt,jHt,qHt,WHt,KHt,$K,Hk=y(()=>{s2e=/^(.*)\[([0-9]*)\]$/,i2e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$k=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a$t=BigInt(2)**(BigInt(8)-BigInt(1))-BigInt(1),c$t=BigInt(2)**(BigInt(16)-BigInt(1))-BigInt(1),l$t=BigInt(2)**(BigInt(24)-BigInt(1))-BigInt(1),u$t=BigInt(2)**(BigInt(32)-BigInt(1))-BigInt(1),f$t=BigInt(2)**(BigInt(40)-BigInt(1))-BigInt(1),d$t=BigInt(2)**(BigInt(48)-BigInt(1))-BigInt(1),p$t=BigInt(2)**(BigInt(56)-BigInt(1))-BigInt(1),h$t=BigInt(2)**(BigInt(64)-BigInt(1))-BigInt(1),m$t=BigInt(2)**(BigInt(72)-BigInt(1))-BigInt(1),g$t=BigInt(2)**(BigInt(80)-BigInt(1))-BigInt(1),y$t=BigInt(2)**(BigInt(88)-BigInt(1))-BigInt(1),b$t=BigInt(2)**(BigInt(96)-BigInt(1))-BigInt(1),w$t=BigInt(2)**(BigInt(104)-BigInt(1))-BigInt(1),x$t=BigInt(2)**(BigInt(112)-BigInt(1))-BigInt(1),v$t=BigInt(2)**(BigInt(120)-BigInt(1))-BigInt(1),E$t=BigInt(2)**(BigInt(128)-BigInt(1))-BigInt(1),A$t=BigInt(2)**(BigInt(136)-BigInt(1))-BigInt(1),C$t=BigInt(2)**(BigInt(144)-BigInt(1))-BigInt(1),S$t=BigInt(2)**(BigInt(152)-BigInt(1))-BigInt(1),I$t=BigInt(2)**(BigInt(160)-BigInt(1))-BigInt(1),T$t=BigInt(2)**(BigInt(168)-BigInt(1))-BigInt(1),P$t=BigInt(2)**(BigInt(176)-BigInt(1))-BigInt(1),_$t=BigInt(2)**(BigInt(184)-BigInt(1))-BigInt(1),N$t=BigInt(2)**(BigInt(192)-BigInt(1))-BigInt(1),O$t=BigInt(2)**(BigInt(200)-BigInt(1))-BigInt(1),R$t=BigInt(2)**(BigInt(208)-BigInt(1))-BigInt(1),k$t=BigInt(2)**(BigInt(216)-BigInt(1))-BigInt(1),B$t=BigInt(2)**(BigInt(224)-BigInt(1))-BigInt(1),U$t=BigInt(2)**(BigInt(232)-BigInt(1))-BigInt(1),D$t=BigInt(2)**(BigInt(240)-BigInt(1))-BigInt(1),L$t=BigInt(2)**(BigInt(248)-BigInt(1))-BigInt(1),M$t=BigInt(2)**(BigInt(256)-BigInt(1))-BigInt(1),$$t=-(BigInt(2)**(BigInt(8)-BigInt(1))),H$t=-(BigInt(2)**(BigInt(16)-BigInt(1))),F$t=-(BigInt(2)**(BigInt(24)-BigInt(1))),z$t=-(BigInt(2)**(BigInt(32)-BigInt(1))),V$t=-(BigInt(2)**(BigInt(40)-BigInt(1))),j$t=-(BigInt(2)**(BigInt(48)-BigInt(1))),q$t=-(BigInt(2)**(BigInt(56)-BigInt(1))),W$t=-(BigInt(2)**(BigInt(64)-BigInt(1))),K$t=-(BigInt(2)**(BigInt(72)-BigInt(1))),G$t=-(BigInt(2)**(BigInt(80)-BigInt(1))),Z$t=-(BigInt(2)**(BigInt(88)-BigInt(1))),Y$t=-(BigInt(2)**(BigInt(96)-BigInt(1))),J$t=-(BigInt(2)**(BigInt(104)-BigInt(1))),Q$t=-(BigInt(2)**(BigInt(112)-BigInt(1))),X$t=-(BigInt(2)**(BigInt(120)-BigInt(1))),eHt=-(BigInt(2)**(BigInt(128)-BigInt(1))),tHt=-(BigInt(2)**(BigInt(136)-BigInt(1))),rHt=-(BigInt(2)**(BigInt(144)-BigInt(1))),nHt=-(BigInt(2)**(BigInt(152)-BigInt(1))),sHt=-(BigInt(2)**(BigInt(160)-BigInt(1))),iHt=-(BigInt(2)**(BigInt(168)-BigInt(1))),oHt=-(BigInt(2)**(BigInt(176)-BigInt(1))),aHt=-(BigInt(2)**(BigInt(184)-BigInt(1))),cHt=-(BigInt(2)**(BigInt(192)-BigInt(1))),lHt=-(BigInt(2)**(BigInt(200)-BigInt(1))),uHt=-(BigInt(2)**(BigInt(208)-BigInt(1))),fHt=-(BigInt(2)**(BigInt(216)-BigInt(1))),dHt=-(BigInt(2)**(BigInt(224)-BigInt(1))),pHt=-(BigInt(2)**(BigInt(232)-BigInt(1))),hHt=-(BigInt(2)**(BigInt(240)-BigInt(1))),mHt=-(BigInt(2)**(BigInt(248)-BigInt(1))),gHt=-(BigInt(2)**(BigInt(256)-BigInt(1))),yHt=BigInt(2)**BigInt(8)-BigInt(1),bHt=BigInt(2)**BigInt(16)-BigInt(1),wHt=BigInt(2)**BigInt(24)-BigInt(1),xHt=BigInt(2)**BigInt(32)-BigInt(1),vHt=BigInt(2)**BigInt(40)-BigInt(1),EHt=BigInt(2)**BigInt(48)-BigInt(1),AHt=BigInt(2)**BigInt(56)-BigInt(1),CHt=BigInt(2)**BigInt(64)-BigInt(1),SHt=BigInt(2)**BigInt(72)-BigInt(1),IHt=BigInt(2)**BigInt(80)-BigInt(1),THt=BigInt(2)**BigInt(88)-BigInt(1),PHt=BigInt(2)**BigInt(96)-BigInt(1),_Ht=BigInt(2)**BigInt(104)-BigInt(1),NHt=BigInt(2)**BigInt(112)-BigInt(1),OHt=BigInt(2)**BigInt(120)-BigInt(1),RHt=BigInt(2)**BigInt(128)-BigInt(1),kHt=BigInt(2)**BigInt(136)-BigInt(1),BHt=BigInt(2)**BigInt(144)-BigInt(1),UHt=BigInt(2)**BigInt(152)-BigInt(1),DHt=BigInt(2)**BigInt(160)-BigInt(1),LHt=BigInt(2)**BigInt(168)-BigInt(1),MHt=BigInt(2)**BigInt(176)-BigInt(1),$Ht=BigInt(2)**BigInt(184)-BigInt(1),HHt=BigInt(2)**BigInt(192)-BigInt(1),FHt=BigInt(2)**BigInt(200)-BigInt(1),zHt=BigInt(2)**BigInt(208)-BigInt(1),VHt=BigInt(2)**BigInt(216)-BigInt(1),jHt=BigInt(2)**BigInt(224)-BigInt(1),qHt=BigInt(2)**BigInt(232)-BigInt(1),WHt=BigInt(2)**BigInt(240)-BigInt(1),KHt=BigInt(2)**BigInt(248)-BigInt(1),$K=BigInt(2)**BigInt(256)-BigInt(1)});function Hw(t,e,r){let{checksumAddress:n,staticPosition:s}=r,i=zK(e.type);if(i){let[o,a]=i;return Bet(t,G(S({},e),{type:a}),{checksumAddress:n,length:o,staticPosition:s})}if(e.type==="tuple")return Met(t,e,{checksumAddress:n,staticPosition:s});if(e.type==="address")return ket(t,{checksum:n});if(e.type==="bool")return Uet(t);if(e.type.startsWith("bytes"))return Det(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Let(t,e);if(e.type==="string")return $et(t,{staticPosition:s});throw new a5(e.type)}function ket(t,e={}){let{checksum:r=!1}=e,n=t.readBytes(32);return[(i=>r?Dk(i):i)(bs(Kme(n,-20))),32]}function Bet(t,e,r){let{checksumAddress:n,length:s,staticPosition:i}=r;if(!s){let c=I0(t.readBytes(HK)),l=i+c,u=l+a2e;t.setPosition(l);let f=I0(t.readBytes(a2e)),d=o7(e),p=0,h=[];for(let m=0;m<f;++m){t.setPosition(u+(d?m*32:p));let[g,b]=Hw(t,e,{checksumAddress:n,staticPosition:u});p+=b,h.push(g)}return t.setPosition(i+32),[h,32]}if(o7(e)){let c=I0(t.readBytes(HK)),l=i+c,u=[];for(let f=0;f<s;++f){t.setPosition(l+f*32);let[d]=Hw(t,e,{checksumAddress:n,staticPosition:l});u.push(d)}return t.setPosition(i+32),[u,32]}let o=0,a=[];for(let c=0;c<s;++c){let[l,u]=Hw(t,e,{checksumAddress:n,staticPosition:i+o});o+=u,a.push(l)}return[a,o]}function Uet(t){return[Zme(t.readBytes(32),{size:32}),32]}function Det(t,e,{staticPosition:r}){let[n,s]=e.type.split("bytes");if(!s){let o=I0(t.readBytes(32));t.setPosition(r+o);let a=I0(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];let c=t.readBytes(a);return t.setPosition(r+32),[bs(c),32]}return[bs(t.readBytes(Number.parseInt(s,10),32)),32]}function Let(t,e){let r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[n>48?Gme(s,{signed:r}):I0(s,{signed:r}),32]}function Met(t,e,r){let{checksumAddress:n,staticPosition:s}=r,i=e.components.length===0||e.components.some(({name:c})=>!c),o=i?[]:{},a=0;if(o7(e)){let c=I0(t.readBytes(HK)),l=s+c;for(let u=0;u<e.components.length;++u){let f=e.components[u];t.setPosition(l+a);let[d,p]=Hw(t,f,{checksumAddress:n,staticPosition:l});a+=p,o[i?u:f==null?void 0:f.name]=d}return t.setPosition(s+32),[o,32]}for(let c=0;c<e.components.length;++c){let l=e.components[c],[u,f]=Hw(t,l,{checksumAddress:n,staticPosition:s});o[i?c:l==null?void 0:l.name]=u,a+=f}return[o,a]}function $et(t,{staticPosition:e}){let r=I0(t.readBytes(32)),n=e+r;t.setPosition(n);let s=I0(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];let i=t.readBytes(s,32),o=Yme(NW(i));return t.setPosition(e+32),[o,32]}function c2e({checksumAddress:t,parameters:e,values:r}){let n=[];for(let s=0;s<e.length;s++)n.push(FK({checksumAddress:t,parameter:e[s],value:r[s]}));return n}function FK({checksumAddress:t=!1,parameter:e,value:r}){var i;let n=e,s=zK(n.type);if(s){let[o,a]=s;return Fet(r,{checksumAddress:t,length:o,parameter:G(S({},n),{type:a})})}if(n.type==="tuple")return Wet(r,{checksumAddress:t,parameter:n});if(n.type==="address")return Het(r,{checksum:t});if(n.type==="bool")return Vet(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){let o=n.type.startsWith("int"),[,,a="256"]=(i=$k.exec(n.type))!=null?i:[];return jet(r,{signed:o,size:Number(a)})}if(n.type.startsWith("bytes"))return zet(r,{type:n.type});if(n.type==="string")return qet(r);throw new a5(n.type)}function Fk(t){let e=0;for(let i=0;i<t.length;i++){let{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Un(a)}let r=[],n=[],s=0;for(let i=0;i<t.length;i++){let{dynamic:o,encoded:a}=t[i];o?(r.push(Tr(e+s,{size:32})),n.push(a),s+=Un(a)):r.push(a)}return Gn(...r,...n)}function Het(t,e){let{checksum:r=!1}=e;return $w(t,{strict:r}),{dynamic:!1,encoded:Sh(t.toLowerCase())}}function Fet(t,e){let{checksumAddress:r,length:n,parameter:s}=e,i=n===null;if(!Array.isArray(t))throw new Vk(t);if(!i&&t.length!==n)throw new zk({expectedLength:n,givenLength:t.length,type:`${s.type}[${n}]`});let o=!1,a=[];for(let c=0;c<t.length;c++){let l=FK({checksumAddress:r,parameter:s,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(i||o){let c=Fk(a);if(i){let l=Tr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Gn(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Gn(...a.map(({encoded:c})=>c))}}function zet(t,{type:e}){let[,r]=e.split("bytes"),n=Un(t);if(!r){let s=t;return n%32!==0&&(s=T0(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Gn(Sh(Tr(n,{size:32})),s)}}if(n!==Number.parseInt(r,10))throw new a7({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:T0(t)}}function Vet(t){if(typeof t!="boolean")throw new ot(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Sh(SR(t))}}function jet(t,{signed:e,size:r}){if(typeof r=="number"){let n=BigInt(2)**(BigInt(r)-(e?BigInt(1):BigInt(0)))-BigInt(1),s=e?-n-BigInt(1):BigInt(0);if(t>n||t<s)throw new L9({max:n.toString(),min:s.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Tr(t,{size:32,signed:e})}}function qet(t){let e=k3(t),r=Math.ceil(Un(e)/32),n=[];for(let s=0;s<r;s++)n.push(T0(Dn(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Gn(T0(Tr(Un(e),{size:32})),...n)}}function Wet(t,e){let{checksumAddress:r,parameter:n}=e,s=!1,i=[];for(let o=0;o<n.components.length;o++){let a=n.components[o],c=Array.isArray(t)?o:a.name,l=FK({checksumAddress:r,parameter:a,value:t[c]});i.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Fk(i):Gn(...i.map(({encoded:o})=>o))}}function zK(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function o7(t){var n;let{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(o7);let r=zK(t.type);return!!(r&&o7(G(S({},t),{type:r[1]})))}var a2e,HK,l2e=y(()=>{c5();i7();t2();za();ci();Hk();a2e=32,HK=32});function qk(t,{recursiveReadLimit:e=8192}={}){let r=Object.create(Get);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}var Get,jk,VK,jK,qK=y(()=>{za();Get={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new jK({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new VK({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new jk({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new jk({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t!=null?t:this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let r=e!=null?e:this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){let e=t!=null?t:this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t!=null?t:this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t!=null?t:this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t!=null?t:this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let r=this.inspectBytes(t);return this.position+=e!=null?e:t,r},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};jk=class extends ot{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}},VK=class extends ot{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}},jK=class extends ot{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}});function l5(t,e,r={}){var l;let{as:n="Array",checksumAddress:s=!1}=r,i=typeof e=="string"?O3(e):e,o=qk(i);if(kl(i)===0&&t.length>0)throw new GK;if(kl(i)&&kl(i)<32)throw new KK({data:typeof e=="string"?e:bs(e),parameters:t,size:kl(i)});let a=0,c=n==="Array"?[]:{};for(let u=0;u<t.length;++u){let f=t[u];o.setPosition(a);let[d,p]=Hw(o,f,{checksumAddress:s,staticPosition:0});a+=p,n==="Array"?c.push(d):c[(l=f.name)!=null?l:u]=d}return c}function p2(t,e,r){let{checksumAddress:n=!1}=r!=null?r:{};if(t.length!==e.length)throw new Wk({expectedLength:t.length,givenLength:e.length});let s=c2e({checksumAddress:n,parameters:t,values:e}),i=Fk(s);return i.length===0?"0x":i}function WK(t,e){if(t.length!==e.length)throw new Wk({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let s=t[n],i=e[n];r.push(WK.encode(s,i))}return Gn(...r)}function l7(t){return Array.isArray(t)&&typeof t[0]=="string"?w4(t):typeof t=="string"?w4(t):t}var KK,GK,zk,a7,Wk,Vk,a5,c5=y(()=>{x4();i7();t2();za();ci();l2e();qK();Hk();(function(t){function e(r,n,s=!1){if(r==="address"){let c=n;return $w(c),Sh(c.toLowerCase(),s?32:0)}if(r==="string")return k3(n);if(r==="bytes")return n;if(r==="bool")return Sh(SR(n),s?32:1);let i=r.match($k);if(i){let[c,l,u="256"]=i,f=Number.parseInt(u,10)/8;return Tr(n,{size:s?32:f,signed:l==="int"})}let o=r.match(i2e);if(o){let[c,l]=o;if(Number.parseInt(l,10)!==(n.length-2)/2)throw new a7({expectedSize:Number.parseInt(l,10),value:n});return T0(n,s?32:0)}let a=r.match(s2e);if(a&&Array.isArray(n)){let[c,l]=a,u=[];for(let f=0;f<n.length;f++)u.push(e(l,n[f],!0));return u.length===0?"0x":Gn(...u)}throw new a5(r)}t.encode=e})(WK||(WK={}));KK=class extends ot{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Xp(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}},GK=class extends ot{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}},zk=class extends ot{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},a7=class extends ot{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Un(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},Wk=class extends ot{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},Vk=class extends ot{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},a5=class extends ot{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function Zet(t,e){let{as:r}=e,n=d2e(t),s=qk(new Uint8Array(n.length));return n.encode(s),r==="Hex"?bs(s.bytes):s.bytes}function f2e(t,e={}){let{as:r="Hex"}=e;return Zet(t,{as:r})}function d2e(t){return Array.isArray(t)?Yet(t.map(e=>d2e(e))):Jet(t)}function Yet(t){let e=t.reduce((s,i)=>s+i.length,0),r=p2e(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(let{encode:i}of t)i(s)}}}function Jet(t){let e=typeof t=="string"?O3(t):t,r=p2e(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function p2e(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=16777215)return 3;if(t<=4294967295)return 4;throw new ot("Length is too large.")}var h2e=y(()=>{t2();za();ci();qK()});function XK(t,e={}){let{recovered:r}=e;if(typeof t.r=="undefined")throw new u7({signature:t});if(typeof t.s=="undefined")throw new u7({signature:t});if(r&&typeof t.yParity=="undefined")throw new u7({signature:t});if(t.r<BigInt(0)||t.r>$K)throw new YK({value:t.r});if(t.s<BigInt(0)||t.s>$K)throw new JK({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new f7({value:t.yParity})}function Xet(t){return m2e(bs(t))}function m2e(t){if(t.length!==130&&t.length!==132)throw new ZK({signature:t});let e=BigInt(Dn(t,0,32)),r=BigInt(Dn(t,32,64)),n=(()=>{let s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return rG(s)}catch(i){throw new f7({value:s})}})();return typeof n=="undefined"?{r:e,s:r}:{r:e,s:r,yParity:n}}function eG(t){if(typeof t.r!="undefined"&&typeof t.s!="undefined")return tG(t)}function tG(t){let e=typeof t=="string"?m2e(t):t instanceof Uint8Array?Xet(t):typeof t.r=="string"?ttt(t):t.v?ett(t):S({r:t.r,s:t.s},typeof t.yParity!="undefined"?{yParity:t.yParity}:{});return XK(e),e}function ett(t){return{r:t.r,s:t.s,yParity:rG(t.v)}}function ttt(t){let e=(()=>{let r=t.v?Number(t.v):void 0,n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=rG(r)),typeof n!="number")throw new f7({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function g2e(t){let{r:e,s:r,yParity:n}=t;return[n?"0x01":"0x",e===BigInt(0)?"0x":RW(Tr(e)),r===BigInt(0)?"0x":RW(Tr(r))]}function rG(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new QK({value:t})}var ZK,u7,YK,JK,f7,QK,nG=y(()=>{za();ci();D9();Hk();ZK=class extends ot{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Un(R3(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},u7=class extends ot{constructor({signature:e}){super(`Signature \`${r2(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},YK=class extends ot{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},JK=class extends ot{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},f7=class extends ot{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},QK=class extends ot{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});function b2e(t,e={}){return typeof t.chainId=="string"?rtt(t):S(S({},t),e.signature)}function rtt(t){let{address:e,chainId:r,nonce:n}=t,s=eG(t);return S({address:e,chainId:Number(r),nonce:BigInt(n)},s)}function w2e(t){return ntt(t,{presign:!0})}function ntt(t,e={}){let{presign:r}=e;return Mw(Gn("0x05",f2e(stt(r?{address:t.address,chainId:t.chainId,nonce:t.nonce}:t))))}function stt(t){let{address:e,chainId:r,nonce:n}=t,s=eG(t);return[r?Tr(r):"0x",e,n?Tr(n):"0x",...s?g2e(s):[]]}var x2e=y(()=>{kk();ci();h2e();nG()});function v2e(t){return n2e(ott(t))}function ott(t){let{payload:e,signature:r}=t,{r:n,s,yParity:i}=r,a=new ra.Signature(BigInt(n),BigInt(s)).addRecoveryBit(i).recoverPublicKey(R3(e).substring(2));return e2e(a)}var E2e=y(()=>{Tw();i7();ci();DK()});var Dl={};Me(Dl,{InvalidWrappedSignatureError:()=>Kk,assert:()=>Gk,from:()=>ctt,magicBytes:()=>sG,suffixParameters:()=>iG,unwrap:()=>A2e,validate:()=>utt,wrap:()=>ltt});function Gk(t){if(typeof t=="string"){if(Dn(t,-32)!==sG)throw new Kk(t)}else XK(t.authorization)}function ctt(t){return typeof t=="string"?A2e(t):t}function A2e(t){Gk(t);let e=ER(Dn(t,-64,-32)),r=Dn(t,-e-64,-64),n=Dn(t,0,-e-64),[s,i,o]=l5(iG,r),a=b2e({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s});return S({authorization:a,signature:n},o&&o!=="0x"?{data:o,to:i}:{})}function ltt(t){var o;let{data:e,signature:r}=t;Gk(t);let n=v2e({payload:w2e(t.authorization),signature:tG(t.authorization)}),s=p2(iG,[G(S({},t.authorization),{delegation:t.authorization.address,chainId:BigInt(t.authorization.chainId)}),(o=t.to)!=null?o:n,e!=null?e:"0x"]),i=Tr(Un(s),{size:32});return Gn(r,s,i,sG)}function utt(t){try{return Gk(t),!0}catch(e){return!1}}var sG,iG,Kk,C2e=y(()=>{c5();x2e();za();ci();E2e();nG();sG="0x8010801080108010801080108010801080108010801080108010801080108010",iG=l7("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");Kk=class extends ot{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}});var d7=y(()=>{C2e()});function Zk(t){return Dl.validate(t)}var oG=y(()=>{d7()});function S2e(t){if(!Nk(t))return{signature:t};let[e,r,n]=Jo([{type:"address"},{type:"bytes"},{type:"bytes"}],t);return{address:e,data:r,signature:n}}var I2e=y(()=>{rg();_K()});function T2e(t){if(!Zk(t))return{signature:t};let s=Dl.unwrap(t),{authorization:e,to:r}=s,n=Ve(s,["authorization","to"]);return S(S({authorization:{address:e.address,chainId:e.chainId,nonce:Number(e.nonce),r:ce(e.r,{size:32}),s:ce(e.s,{size:32}),yParity:e.yParity}},r?{address:r}:{}),n)}var P2e=y(()=>{d7();Ze();oG()});async function Yk({message:t,signature:e}){return Ma({hash:d2(t),signature:e})}var aG=y(()=>{r7();Rg()});async function Jk(t){let{domain:e,message:r,primaryType:n,signature:s,types:i}=t;return Ma({hash:o5({domain:e,message:r,primaryType:n,types:i}),signature:s})}var cG=y(()=>{s7();Rg()});function _2e(t){let{address:e,data:r,signature:n,to:s="hex"}=t,i=Wn([Vs([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,r,n]),Pk]);return s==="hex"?i:hr(i)}var N2e=y(()=>{_k();Wu();si();un()});function O2e(t){let{address:e,data:r,signature:n,to:s="hex"}=t,i=Dl.wrap({authorization:{address:t.authorization.address,chainId:t.authorization.chainId,nonce:BigInt(t.authorization.nonce),r:BigInt(t.authorization.r),s:BigInt(t.authorization.s),yParity:t.authorization.yParity},data:r,signature:n,to:e});return s==="hex"?i:hr(i)}var R2e=y(()=>{d7();un()});async function k2e({address:t,hash:e,signature:r}){return _s(zs(t),await Ma({hash:e,signature:r}))}var B2e=y(()=>{Dc();ef();Rg()});async function U2e({address:t,message:e,signature:r}){return _s(zs(t),await Yk({message:e,signature:r}))}var D2e=y(()=>{Dc();ef();aG()});async function L2e(t){let{address:e,domain:r,message:n,primaryType:s,signature:i,types:o}=t;return _s(zs(e),await Jk({domain:r,message:n,primaryType:s,signature:i,types:o}))}var M2e=y(()=>{Dc();ef();cG()});function Qk(t){let e=h0(t,0,1);if(e==="0x04")return"eip7702";if(e==="0x03")return"eip4844";if(e==="0x02")return"eip1559";if(e==="0x01")return"eip2930";if(e!=="0x"&&Dt(e)>=192)return"legacy";throw new Q4({serializedType:e})}var lG=y(()=>{Qo();Pl();jn()});function Xk(t){let e=Qk(t);return e==="eip1559"?ptt(t):e==="eip2930"?htt(t):e==="eip4844"?dtt(t):e==="eip7702"?ftt(t):mtt(t)}function ftt(t){let e=eB(t),[r,n,s,i,o,a,c,l,u,f,d,p,h]=e;if(e.length!==10&&e.length!==13)throw new g0({attributes:S({chainId:r,nonce:n,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:l,accessList:u,authorizationList:f},e.length>9?{v:d,r:p,s:h}:{}),serializedTransaction:t,type:"eip7702"});let m={chainId:Dt(r),type:"eip7702"};st(a)&&a!=="0x"&&(m.to=a),st(o)&&o!=="0x"&&(m.gas=Tt(o)),st(l)&&l!=="0x"&&(m.data=l),st(n)&&(m.nonce=n==="0x"?0:Dt(n)),st(c)&&c!=="0x"&&(m.value=Tt(c)),st(i)&&i!=="0x"&&(m.maxFeePerGas=Tt(i)),st(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=Tt(s)),u.length!==0&&u!=="0x"&&(m.accessList=tB(u)),f.length!==0&&f!=="0x"&&(m.authorizationList=gtt(f)),pk(m);let g=e.length===13?p7(e):void 0;return S(S({},g),m)}function dtt(t){let e=eB(t),r=e.length===4,n=r?e[0]:e,s=r?e.slice(1):[],[i,o,a,c,l,u,f,d,p,h,m,g,b,E]=n,[w,x,C]=s;if(!(n.length===11||n.length===14))throw new g0({attributes:S({chainId:i,nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:l,to:u,value:f,data:d,accessList:p},n.length>9?{v:g,r:b,s:E}:{}),serializedTransaction:t,type:"eip4844"});let T={blobVersionedHashes:m,chainId:Dt(i),to:u,type:"eip4844"};st(l)&&l!=="0x"&&(T.gas=Tt(l)),st(d)&&d!=="0x"&&(T.data=d),st(o)&&(T.nonce=o==="0x"?0:Dt(o)),st(f)&&f!=="0x"&&(T.value=Tt(f)),st(h)&&h!=="0x"&&(T.maxFeePerBlobGas=Tt(h)),st(c)&&c!=="0x"&&(T.maxFeePerGas=Tt(c)),st(a)&&a!=="0x"&&(T.maxPriorityFeePerGas=Tt(a)),p.length!==0&&p!=="0x"&&(T.accessList=tB(p)),w&&x&&C&&(T.sidecars=Qg({blobs:w,commitments:x,proofs:C})),hk(T);let U=n.length===14?p7(n):void 0;return S(S({},U),T)}function ptt(t){let e=eB(t),[r,n,s,i,o,a,c,l,u,f,d,p]=e;if(!(e.length===9||e.length===12))throw new g0({attributes:S({chainId:r,nonce:n,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:l,accessList:u},e.length>9?{v:f,r:d,s:p}:{}),serializedTransaction:t,type:"eip1559"});let h={chainId:Dt(r),type:"eip1559"};st(a)&&a!=="0x"&&(h.to=a),st(o)&&o!=="0x"&&(h.gas=Tt(o)),st(l)&&l!=="0x"&&(h.data=l),st(n)&&(h.nonce=n==="0x"?0:Dt(n)),st(c)&&c!=="0x"&&(h.value=Tt(c)),st(i)&&i!=="0x"&&(h.maxFeePerGas=Tt(i)),st(s)&&s!=="0x"&&(h.maxPriorityFeePerGas=Tt(s)),u.length!==0&&u!=="0x"&&(h.accessList=tB(u)),f2(h);let m=e.length===12?p7(e):void 0;return S(S({},m),h)}function htt(t){let e=eB(t),[r,n,s,i,o,a,c,l,u,f,d]=e;if(!(e.length===8||e.length===11))throw new g0({attributes:S({chainId:r,nonce:n,gasPrice:s,gas:i,to:o,value:a,data:c,accessList:l},e.length>8?{v:u,r:f,s:d}:{}),serializedTransaction:t,type:"eip2930"});let p={chainId:Dt(r),type:"eip2930"};st(o)&&o!=="0x"&&(p.to=o),st(i)&&i!=="0x"&&(p.gas=Tt(i)),st(c)&&c!=="0x"&&(p.data=c),st(n)&&(p.nonce=n==="0x"?0:Dt(n)),st(a)&&a!=="0x"&&(p.value=Tt(a)),st(s)&&s!=="0x"&&(p.gasPrice=Tt(s)),l.length!==0&&l!=="0x"&&(p.accessList=tB(l)),J3(p);let h=e.length===11?p7(e):void 0;return S(S({},h),p)}function mtt(t){let e=e7(t,"hex"),[r,n,s,i,o,a,c,l,u]=e;if(!(e.length===6||e.length===9))throw new g0({attributes:S({nonce:r,gasPrice:n,gas:s,to:i,value:o,data:a},e.length>6?{v:c,r:l,s:u}:{}),serializedTransaction:t,type:"legacy"});let f={type:"legacy"};if(st(i)&&i!=="0x"&&(f.to=i),st(s)&&s!=="0x"&&(f.gas=Tt(s)),st(a)&&a!=="0x"&&(f.data=a),st(r)&&(f.nonce=r==="0x"?0:Dt(r)),st(o)&&o!=="0x"&&(f.value=Tt(o)),st(n)&&n!=="0x"&&(f.gasPrice=Tt(n)),Q3(f),e.length===6)return f;let d=st(c)&&c!=="0x"?Tt(c):BigInt(0);if(u==="0x"&&l==="0x")return d>0&&(f.chainId=Number(d)),f;let p=d,h=Number((p-BigInt(35))/BigInt(2));if(h>0)f.chainId=h;else if(p!==BigInt(27)&&p!==BigInt(28))throw new sg({v:p});return f.v=p,f.s=u,f.r=l,f.yParity=p%BigInt(2)===BigInt(0)?1:0,f}function eB(t){return e7(`0x${t.slice(4)}`,"hex")}function tB(t){let e=[];for(let r=0;r<t.length;r++){let[n,s]=t[r];if(!vr(n,{strict:!1}))throw new Yr({address:n});e.push({address:n,storageKeys:s.map(i=>wk(i)?i:Vn(i))})}return e}function gtt(t){let e=[];for(let r=0;r<t.length;r++){let[n,s,i,o,a,c]=t[r];e.push(S({address:s,chainId:n==="0x"?0:Dt(n),nonce:i==="0x"?0:Dt(i)},p7([o,a,c])))}return e}function p7(t){let e=t.slice(-3),r=e[0]==="0x"||Tt(e[0])===BigInt(0)?BigInt(27):BigInt(28);return{r:Oa(e[1],{size:32}),s:Oa(e[2],{size:32}),v:r,yParity:r===BigInt(27)?0:1}}var uG=y(()=>{Tl();Qo();ka();_9();Go();J1();th();jn();xK();vK();mk();lG()});var u5,fG=y(()=>{Bt();u5=class extends ne{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function f5(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new u5({value:t});let[r,n="0"]=t.split("."),s=r.startsWith("-");if(s&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+BigInt(1)}`),n="";else if(n.length>e){let[i,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],c=Math.round(+`${o}.${a}`);c>9?n=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):n=`${i}${c}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+BigInt(1)}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${s?"-":""}${r}${n}`)}var rB=y(()=>{fG()});function $2e(t,e="wei"){return f5(t,W4[e])}var H2e=y(()=>{G4();rB()});function F2e(t,e="wei"){return f5(t,K4[e])}var z2e=y(()=>{G4();rB()});var nB=y(()=>{jn();Ze()});function ytt(t){return t.map(e=>G(S({},e),{value:BigInt(e.value)}))}function V2e(t){return G(S({},t),{balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Dt(t.nonce):void 0,storageProof:t.storageProof?ytt(t.storageProof):void 0})}var j2e=y(()=>{nB()});async function q2e(t,{address:e,blockNumber:r,blockTag:n,storageKeys:s}){let i=n!=null?n:"latest",o=r!==void 0?ce(r):void 0,a=await t.request({method:"eth_getProof",params:[e,s,o||i]});return V2e(a)}var W2e=y(()=>{Ze();j2e()});async function K2e(t,{address:e,blockNumber:r,blockTag:n="latest",slot:s}){let i=r!==void 0?ce(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||n]})}var G2e=y(()=>{Ze()});async function d5(t,{blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i,sender:o,nonce:a}){var d,p,h;let c=n||"latest",l=r!==void 0?ce(r):void 0,u=null;if(s?u=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ce(i)]},{dedupe:!0}):(l||c)&&typeof i=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,ce(i)]},{dedupe:!!l}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,ce(a)]},{dedupe:!0})),!u)throw new ig({blockHash:e,blockNumber:r,blockTag:c,hash:s,index:i});return(((h=(p=(d=t.chain)==null?void 0:d.formatters)==null?void 0:p.transaction)==null?void 0:h.format)||wh)(u,"getTransaction")}var sB=y(()=>{Qo();Ze();y3()});async function Z2e(t,{hash:e,transactionReceipt:r}){let[n,s]=await Promise.all([Pe(t,_0,"getBlockNumber")({}),e?Pe(t,d5,"getTransaction")({hash:e}):void 0]),i=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return i?n-i+BigInt(1):BigInt(0)}var Y2e=y(()=>{xr();j3();sB()});async function p5(t,{hash:e}){var s,i,o;let r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new og({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Bw)(r,"getTransactionReceipt")}var dG=y(()=>{Qo();Z9()});async function J2e(t,e){var E,w,x;let{account:r,authorizationList:n,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=(E=e.batchSize)!=null?E:1024,deployless:f=(w=e.deployless)!=null?w:!1}=typeof((x=t.batch)==null?void 0:x.multicall)=="object"?t.batch.multicall:{},d=(()=>{if(e.multicallAddress)return e.multicallAddress;if(f)return null;if(t.chain)return Va({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]],h=0,m=0;for(let C=0;C<l.length;C++){let{abi:T,address:U,args:B,functionName:O}=l[C];try{let H=fn({abi:T,args:B,functionName:O});m+=(H.length-2)/2,u>0&&m>u&&p[h].length>0&&(h++,m=(H.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:H,target:U}]}catch(H){let _=Xo(H,{abi:T,address:U,args:B,docsPath:"/docs/contract/multicall",functionName:O,sender:r});if(!s)throw _;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:U}]}}let g=await Promise.allSettled(p.map(C=>Pe(t,ns,"readContract")(G(S({},d===null?{code:D3}:{address:d}),{abi:Ih,account:r,args:[C],authorizationList:n,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c})))),b=[];for(let C=0;C<g.length;C++){let T=g[C];if(T.status==="rejected"){if(!s)throw T.reason;for(let B=0;B<p[C].length;B++)b.push({status:"failure",error:T.reason,result:void 0});continue}let U=T.value;for(let B=0;B<U.length;B++){let{returnData:O,success:H}=U[B],{callData:_}=p[C][B],{abi:N,address:I,functionName:D,args:v}=l[b.length];try{if(_==="0x")throw new Na;if(!H)throw new Nl({data:O});let A=fo({abi:N,args:v,data:O,functionName:D});b.push(s?{result:A,status:"success"}:A)}catch(A){let R=Xo(A,{abi:N,address:I,args:v,docsPath:"/docs/contract/multicall",functionName:D});if(!s)throw R;b.push({error:R,result:void 0,status:"failure"})}}}if(b.length!==l.length)throw new ne("multicall results mismatch");return b}var Q2e=y(()=>{Th();L3();kn();Bt();uh();Ah();Ba();n2();Tg();xr();tf()});async function h7(t,e){var c;let{blockNumber:r,blockTag:n=(c=t.experimental_blockTag)!=null?c:"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=e;try{let l=[];for(let p of s){let h=p.blockOverrides?IR(p.blockOverrides):void 0,m=p.calls.map(b=>{var T;let E=b,w=E.account?Rt(E.account):void 0,x=E.abi?fn(E):E.data,C=G(S({},E),{account:w,data:E.dataSuffix?Bn([x||"0x",E.dataSuffix]):x,from:(T=E.from)!=null?T:w==null?void 0:w.address});return Ps(C),ys(C)}),g=p.stateOverrides?h3(p.stateOverrides):void 0;l.push({blockOverrides:h,calls:m,stateOverrides:g})}let f=(typeof r=="bigint"?ce(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((p,h)=>G(S({},Pw(p)),{calls:p.calls.map((m,g)=>{var _,N,I;let{abi:b,args:E,functionName:w,to:x}=s[h].calls[g],C=(N=(_=m.error)==null?void 0:_.data)!=null?N:m.returnData,T=BigInt(m.gasUsed),U=(I=m.logs)==null?void 0:I.map(D=>ai(D)),B=m.status==="0x1"?"success":"failure",O=b&&B==="success"&&C!=="0x"?fo({abi:b,data:C,functionName:w}):null,H=(()=>{var v;if(B==="success")return;let D;if(((v=m.error)==null?void 0:v.data)==="0x"?D=new Na:m.error&&(D=new Nl(m.error)),!!D)return Xo(D,{abi:b!=null?b:[],address:x!=null?x:"0x",args:E,functionName:w!=null?w:"<unknown>"})})();return S({data:C,gasUsed:T,logs:U,status:B},B==="success"?{result:O}:{error:H})})}))}catch(l){let u=l,f=zg(u,{});throw f instanceof Ha?u:f}}var pG=y(()=>{kW();Kn();kn();uh();A0();Ah();Ba();si();Ze();Tg();A9();tR();Eh();Qu();QO();Xu()});function oB(t){let e=!0,r="",n=0,s="",i=!1;for(let o=0;o<t.length;o++){let a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=a,r+=a}}if(!i)throw new ot("Unable to normalize signature.");return s}function iB(t,e){let r=typeof t,n=e.type;switch(n){case"address":return Lk(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>iB(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(s=>iB(s,G(S({},e),{type:n.replace(/(\[[0-9]{0,}\])$/,"")}))):!1}}function hG(t,e,r){for(let n in t){let s=t[n],i=e[n];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return hG(s.components,i.components,r[n]);let o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Lk(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?Lk(r[n],{strict:!1}):!1)return o}}var X2e=y(()=>{i7();za()});function aB(t,e={}){let{prepare:r=!0}=e,n=Array.isArray(t)?b4(t):typeof t=="string"?b4(t):t;return S(S({},n),r?{hash:h5(n)}:{})}function m7(t,e,r){let{args:n=[],prepare:s=!0}=r!=null?r:{},i=M9(e,{strict:!1}),o=t.filter(l=>i?l.type==="function"||l.type==="error"?gG(l)===Dn(e,0,4):l.type==="event"?h5(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new h2({name:e});if(o.length===1)return S(S({},o[0]),s?{hash:h5(o[0])}:{});let a;for(let l of o){if(!("inputs"in l))continue;if(!n||n.length===0){if(!l.inputs||l.inputs.length===0)return S(S({},l),s?{hash:h5(l)}:{});continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==n.length)continue;if(n.every((f,d)=>{let p="inputs"in l&&l.inputs[d];return p?iB(f,p):!1})){if(a&&"inputs"in a&&a.inputs){let f=hG(l.inputs,a.inputs,n);if(f)throw new mG({abiItem:l,type:f[0]},{abiItem:a,type:f[1]})}a=l}}let c=(()=>{if(a)return a;let[l,...u]=o;return G(S({},l),{overloads:u})})();if(!c)throw new h2({name:e});return S(S({},c),s?{hash:h5(c)}:{})}function gG(...t){let e=(()=>{if(Array.isArray(t[0])){let[r,n]=t;return m7(r,n)}return t[0]})();return Dn(h5(e),0,4)}function wtt(...t){let e=(()=>{if(Array.isArray(t[0])){let[n,s]=t;return m7(n,s)}return t[0]})(),r=typeof e=="string"?e:Gb(e);return oB(r)}function h5(...t){let e=(()=>{if(Array.isArray(t[0])){let[r,n]=t;return m7(r,n)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Mw(k3(wtt(e)))}var mG,h2,yG=y(()=>{x4();za();kk();ci();X2e();mG=class extends ot{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${oB(Gb(e.abiItem))}\`, and`,`\`${r.type}\` in \`${oB(Gb(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},h2=class extends ot{constructor({name:e,data:r,type:n="item"}){let s=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});function tye(...t){var i;let[e,r]=(()=>{if(Array.isArray(t[0])){let[o,a]=t;return[xtt(o),a]}return t})(),{bytecode:n,args:s}=r;return Gn(n,(i=e.inputs)!=null&&i.length&&(s!=null&&s.length)?p2(e.inputs,s):"0x")}function rye(t){return aB(t)}function xtt(t){let e=t.find(r=>r.type==="constructor");if(!e)throw new h2({name:"constructor"});return e}var nye=y(()=>{yG();c5();ci()});function iye(...t){let[e,r=[]]=(()=>{if(Array.isArray(t[0])){let[l,u,f]=t;return[sye(l,u,{args:f}),f]}let[a,c]=t;return[a,c]})(),{overloads:n}=e,s=n?sye([e,...n],e.name,{args:r}):e,i=Ett(s),o=r.length>0?p2(s.inputs,r):void 0;return o?Gn(i,o):i}function Fw(t,e={}){return aB(t,e)}function sye(t,e,r){let n=m7(t,e,r);if(n.type!=="function")throw new h2({name:e,type:"function"});return n}function Ett(t){return gG(t)}var oye=y(()=>{yG();c5();ci()});var cB,zc,bG=y(()=>{cB="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",zc="0x0000000000000000000000000000000000000000"});async function aye(t,e){var k,L,q,Z,ee,ae,re,we;let{blockNumber:r,blockTag:n,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?Rt(e.account):void 0;if(o&&!l)throw new ne("`account` is required when `traceAssetChanges` is true");let u=l?tye(rye("constructor(bytes, bytes)"),{bytecode:U3,args:[Ctt,iye(Fw("function getBalance(address)"),[l.address])]}):void 0,f=o?await Promise.all(e.calls.map(async ie=>{if(!ie.data&&!ie.abi)return;let{accessList:Te}=await lk(t,G(S({account:l.address},ie),{data:ie.abi?fn(ie):ie.data}));return Te.map(({address:be,storageKeys:De})=>De.length>0?be:null)})).then(ie=>ie.flat().filter(Boolean)):[],d=await h7(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:u}],stateOverrides:i},{calls:f.map((ie,Te)=>({abi:[Fw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:ie,from:zc,nonce:Te})),stateOverrides:[{address:zc,nonce:0}]}]:[],{calls:[...s,{}].map(ie=>G(S({},ie),{from:l==null?void 0:l.address})),stateOverrides:i},...o?[{calls:[{data:u}]},{calls:f.map((ie,Te)=>({abi:[Fw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:ie,from:zc,nonce:Te})),stateOverrides:[{address:zc,nonce:0}]},{calls:f.map((ie,Te)=>({to:ie,abi:[Fw("function decimals() returns (uint256)")],functionName:"decimals",from:zc,nonce:Te})),stateOverrides:[{address:zc,nonce:0}]},{calls:f.map((ie,Te)=>({to:ie,abi:[Fw("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[BigInt(0)],from:zc,nonce:Te})),stateOverrides:[{address:zc,nonce:0}]},{calls:f.map((ie,Te)=>({to:ie,abi:[Fw("function symbol() returns (string)")],functionName:"symbol",from:zc,nonce:Te})),stateOverrides:[{address:zc,nonce:0}]}]:[]],traceTransfers:a,validation:c}),p=o?d[2]:d[0],[h,m,,g,b,E,w,x]=o?d:[],$=p,{calls:C}=$,T=Ve($,["calls"]),U=(k=C.slice(0,-1))!=null?k:[],B=(L=h==null?void 0:h.calls)!=null?L:[],O=(q=m==null?void 0:m.calls)!=null?q:[],H=[...B,...O].map(ie=>ie.status==="success"?Tt(ie.data):null),_=(Z=g==null?void 0:g.calls)!=null?Z:[],N=(ee=b==null?void 0:b.calls)!=null?ee:[],I=[..._,...N].map(ie=>ie.status==="success"?Tt(ie.data):null),D=((ae=E==null?void 0:E.calls)!=null?ae:[]).map(ie=>ie.status==="success"?ie.result:null),v=((re=x==null?void 0:x.calls)!=null?re:[]).map(ie=>ie.status==="success"?ie.result:null),A=((we=w==null?void 0:w.calls)!=null?we:[]).map(ie=>ie.status==="success"?ie.result:null),R=[];for(let[ie,Te]of I.entries()){let be=H[ie];if(typeof Te!="bigint"||typeof be!="bigint")continue;let De=D[ie-1],Et=v[ie-1],Pt=A[ie-1],ut=ie===0?{address:cB,decimals:18,symbol:"ETH"}:{address:f[ie-1],decimals:Pt||De?Number(De!=null?De:1):void 0,symbol:Et!=null?Et:void 0};R.some(Ut=>Ut.token.address===ut.address)||R.push({token:ut,value:{pre:be,post:Te,diff:Te-be}})}return{assetChanges:R,block:T,results:U}}var Ctt,cye=y(()=>{nye();oye();Kn();bG();L3();Bt();Ba();nB();dK();pG();Ctt="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});var m5={};Me(m5,{InvalidWrappedSignatureError:()=>lB,assert:()=>xG,from:()=>Ttt,magicBytes:()=>wG,universalSignatureValidatorAbi:()=>Itt,universalSignatureValidatorBytecode:()=>Stt,unwrap:()=>lye,validate:()=>_tt,wrap:()=>Ptt});function xG(t){if(Dn(t,-32)!==wG)throw new lB(t)}function Ttt(t){return typeof t=="string"?lye(t):t}function lye(t){xG(t);let[e,r,n]=l5(l7("address, bytes, bytes"),t);return{data:r,signature:n,to:e}}function Ptt(t){let{data:e,signature:r,to:n}=t;return Gn(p2(l7("address, bytes, bytes"),[n,e,r]),wG)}function _tt(t){try{return xG(t),!0}catch(e){return!1}}var wG,Stt,Itt,lB,uye=y(()=>{c5();za();ci();wG="0x6492649264926492649264926492649264926492649264926492649264926492",Stt="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Itt=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];lB=class extends ot{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}});var fye=y(()=>{uye()});function g7({r:t,s:e,to:r="hex",v:n,yParity:s}){let i=(()=>{if(s===0||s===1)return s;if(n&&(n===BigInt(27)||n===BigInt(28)||n>=BigInt(35)))return n%BigInt(2)===BigInt(0)?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new ra.Signature(Tt(t),Tt(e)).toCompactHex()}${i===0?"1b":"1c"}`;return r==="hex"?o:hr(o)}var vG=y(()=>{Tw();jn();un()});async function m2(t,e){var c,l,u,f,d,p;let{address:r,chain:n=t.chain,hash:s,erc6492VerifierAddress:i=(u=e.universalSignatureVerifierAddress)!=null?u:(l=(c=n==null?void 0:n.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address,multicallAddress:o=(p=e.multicallAddress)!=null?p:(d=(f=n==null?void 0:n.contracts)==null?void 0:f.multicall3)==null?void 0:d.address}=e;if(n!=null&&n.verifyHash)return await n.verifyHash(t,e);let a=(()=>{let h=e.signature;return st(h)?h:typeof h=="object"&&"r"in h&&"s"in h?g7(h):Ot(h)})();try{return Dl.validate(a)?await Ntt(t,G(S({},e),{multicallAddress:o,signature:a})):await Ott(t,G(S({},e),{verifierAddress:i,signature:a}))}catch(h){try{if(_s(zs(r),await Ma({hash:s,signature:a})))return!0}catch(m){}if(h instanceof Uh)return!1;throw h}}async function Ntt(t,e){var g;let{address:r,blockNumber:n,blockTag:s,hash:i,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:u}=Dl.unwrap(e.signature);if(await Q9(t,{address:r,blockNumber:n,blockTag:s})===Wn(["0xef0100",a.address]))return await Rtt(t,{address:r,blockNumber:n,blockTag:s,hash:i,signature:l});let d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:ce(a.r,{size:32}),s:ce(a.s,{size:32}),yParity:a.yParity};if(!await ige({address:r,authorization:d}))throw new Uh;let h=await Pe(t,ns,"readContract")(G(S({},o?{address:o}:{code:D3}),{authorizationList:[d],abi:Ih,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u!=null?u:r,callData:c}]:[],{allowFailure:!0,target:r,callData:fn({abi:DW,functionName:"isValidSignature",args:[i,l]})}]]})),m=(g=h[h.length-1])==null?void 0:g.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Uh}async function Ott(t,e){let d=e,{address:r,factory:n,factoryData:s,hash:i,signature:o,verifierAddress:a}=d,c=Ve(d,["address","factory","factoryData","hash","signature","verifierAddress"]),l=await(async()=>!n&&!s||m5.validate(o)?o:m5.wrap({data:s,signature:o,to:n}))(),u=S(a?{to:a,data:fn({abi:B3,functionName:"isValidSig",args:[r,i,l]})}:{data:Nh({abi:B3,args:[r,i,l],bytecode:$9})},c),{data:f}=await Pe(t,P0,"call")(u).catch(p=>{throw p instanceof ag?new Uh:p});if(L4(f!=null?f:"0x0"))return!0;throw new Uh}async function Rtt(t,e){let{address:r,blockNumber:n,blockTag:s,hash:i,signature:o}=e;if((await Pe(t,ns,"readContract")({address:r,abi:DW,args:[i,o],blockNumber:n,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof cg?new Uh:c})).startsWith("0x1626ba7e"))return!0;throw new Uh}var Uh,y7=y(()=>{fye();d7();Th();L3();uh();H9();Ba();Dc();ef();oge();si();Go();jn();Ze();xr();Rg();vG();V3();mK();tf();Uh=class extends Error{}});async function dye(t,a){var c=a,{address:e,message:r,factory:n,factoryData:s,signature:i}=c,o=Ve(c,["address","message","factory","factoryData","signature"]);let l=d2(r);return Pe(t,m2,"verifyHash")(S({address:e,factory:n,factoryData:s,hash:l,signature:i},o))}var pye=y(()=>{xr();r7();y7()});async function hye(t,e){let d=e,{address:r,factory:n,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:l}=d,u=Ve(d,["address","factory","factoryData","signature","message","primaryType","types","domain"]),f=o5({message:o,primaryType:a,types:c,domain:l});return Pe(t,m2,"verifyHash")(S({address:r,factory:n,factoryData:s,hash:f,signature:i},u))}var mye=y(()=>{xr();s7();y7()});function uB(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){let a=typeof i!="undefined"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c;return a?(()=>{let f=Wt(["watchBlockNumber",t.uid,e,r,o]);return po(f,{onBlockNumber:n,onError:s},d=>Bl(async()=>{var p;try{let h=await Pe(t,_0,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&r)for(let m=c+BigInt(1);m<h;m++)d.onBlockNumber(m,c),c=m}(c===void 0||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){(p=d.onError)==null||p.call(d,h)}},{emitOnBegin:e,interval:o}))})():(()=>{let f=Wt(["watchBlockNumber",t.uid,e,r]);return po(f,{onBlockNumber:n,onError:s},d=>{let p=!0,h=()=>p=!1;return(async()=>{try{let m=(()=>{if(t.transport.type==="fallback"){let b=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:g}=await m.subscribe({params:["newHeads"],onData(b){var w;if(!p)return;let E=Tt((w=b.result)==null?void 0:w.number);d.onBlockNumber(E,c),c=E},onError(b){var E;(E=d.onError)==null||E.call(d,b)}});h=g,p||h()}catch(m){s==null||s(m)}})(),()=>h()})})()}var EG=y(()=>{jn();xr();s2();kw();Oi();j3()});async function fB(t,e){let{checkReplacement:r=!0,confirmations:n=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:C})=>~~(1<<C)*200,timeout:c=18e4}=e,l=Wt(["waitForTransactionReceipt",t.uid,s]),u=(()=>{var C;return e.pollingInterval?e.pollingInterval:(C=t.chain)!=null&&C.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})(),f,d,p,h=!1,m,g,{promise:b,resolve:E,reject:w}=F3(),x=c?setTimeout(()=>{g==null||g(),m==null||m(),w(new r3({hash:s}))},c):void 0;return m=po(l,{onReplaced:i,resolve:E,reject:w},async C=>{if(p=await Pe(t,p5,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&n<=1){clearTimeout(x),C.resolve(p),m==null||m();return}g=Pe(t,uB,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(T){let U=O=>{clearTimeout(x),g==null||g(),O(),m==null||m()},B=T;if(!h)try{if(p){if(n>1&&(!p.blockNumber||B-p.blockNumber+BigInt(1)<n))return;U(()=>C.resolve(p));return}if(r&&!f&&(h=!0,await Bh(async()=>{f=await Pe(t,d5,"getTransaction")({hash:s}),f.blockNumber&&(B=f.blockNumber)},{delay:a,retryCount:o}),h=!1),p=await Pe(t,p5,"getTransactionReceipt")({hash:s}),n>1&&(!p.blockNumber||B-p.blockNumber+BigInt(1)<n))return;U(()=>C.resolve(p))}catch(O){if(O instanceof ig||O instanceof og){if(!f){h=!1;return}try{d=f,h=!0;let H=await Bh(()=>Pe(t,oi,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:I})=>I instanceof Kg});h=!1;let _=H.transactions.find(({from:I,nonce:D})=>I===d.from&&D===d.nonce);if(!_||(p=await Pe(t,p5,"getTransactionReceipt")({hash:_.hash}),n>1&&(!p.blockNumber||B-p.blockNumber+BigInt(1)<n)))return;let N="replaced";_.to===d.to&&_.value===d.value&&_.input===d.input?N="repriced":_.from===_.to&&_.value===BigInt(0)&&(N="cancelled"),U(()=>{var I;(I=C.onReplaced)==null||I.call(C,{reason:N,replacedTransaction:d,transaction:_,transactionReceipt:p}),C.resolve(p)})}catch(H){U(()=>C.reject(H))}}else U(()=>C.reject(O))}}})}),b}var AG=y(()=>{eR();Qo();xr();s2();OR();G9();Oi();Gg();sB();dG();EG()});function gye(t,{blockTag:e=(l=>(l=t.experimental_blockTag)!=null?l:"latest")(),emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){let u=typeof a!="undefined"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=o!=null?o:!1,d;return u?(()=>{let m=Wt(["watchBlocks",t.uid,e,r,n,f,c]);return po(m,{onBlock:s,onError:i},g=>Bl(async()=>{var b;try{let E=await Pe(t,oi,"getBlock")({blockTag:e,includeTransactions:f});if(E.number!==null&&(d==null?void 0:d.number)!=null){if(E.number===d.number)return;if(E.number-d.number>1&&r)for(let w=(d==null?void 0:d.number)+BigInt(1);w<E.number;w++){let x=await Pe(t,oi,"getBlock")({blockNumber:w,includeTransactions:f});g.onBlock(x,d),d=x}}((d==null?void 0:d.number)==null||e==="pending"&&(E==null?void 0:E.number)==null||E.number!==null&&E.number>d.number)&&(g.onBlock(E,d),d=E)}catch(E){(b=g.onError)==null||b.call(g,E)}},{emitOnBegin:n,interval:c}))})():(()=>{let m=!0,g=!0,b=()=>m=!1;return(async()=>{try{n&&Pe(t,oi,"getBlock")({blockTag:e,includeTransactions:f}).then(x=>{m&&g&&(s(x,void 0),g=!1)}).catch(i);let E=(()=>{if(t.transport.type==="fallback"){let x=t.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:w}=await E.subscribe({params:["newHeads"],async onData(x){var T;if(!m)return;let C=await Pe(t,oi,"getBlock")({blockNumber:(T=x.result)==null?void 0:T.number,includeTransactions:f}).catch(()=>{});m&&(s(C,d),g=!1,d=C)},onError(x){i==null||i(x)}});b=w,m||b()}catch(E){i==null||i(E)}})(),()=>b()})()}var yye=y(()=>{xr();s2();kw();Oi();Gg()});function bye(t,{address:e,args:r,batch:n=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:f}){let d=typeof l!="undefined"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=f!=null?f:!1;return d?(()=>{let g=Wt(["watchEvent",e,r,n,t.uid,s,u,o]);return po(g,{onLogs:c,onError:a},b=>{let E;o!==void 0&&(E=o-BigInt(1));let w,x=!1,C=Bl(async()=>{var T;if(!x){try{w=await Pe(t,uk,"createEventFilter")({address:e,args:r,event:s,events:i,strict:p,fromBlock:o})}catch(U){}x=!0;return}try{let U;if(w)U=await Pe(t,i2,"getFilterChanges")({filter:w});else{let B=await Pe(t,_0,"getBlockNumber")({});E&&E!==B?U=await Pe(t,I3,"getLogs")({address:e,args:r,event:s,events:i,fromBlock:E+BigInt(1),toBlock:B}):U=[],E=B}if(U.length===0)return;if(n)b.onLogs(U);else for(let B of U)b.onLogs([B])}catch(U){w&&U instanceof Da&&(x=!1),(T=b.onError)==null||T.call(b,U)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await Pe(t,o2,"uninstallFilter")({filter:w}),C()}})})():(()=>{let g=!0,b=()=>g=!1;return(async()=>{try{let E=(()=>{if(t.transport.type==="fallback"){let T=t.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),w=i!=null?i:s?[s]:void 0,x=[];w&&(x=[w.flatMap(U=>_l({abi:[U],eventName:U.name,args:r}))],s&&(x=x[0]));let{unsubscribe:C}=await E.subscribe({params:["logs",{address:e,topics:x}],onData(T){var B;if(!g)return;let U=T.result;try{let{eventName:O,args:H}=vh({abi:w!=null?w:[],data:U.data,topics:U.topics,strict:p}),_=ai(U,{args:H,eventName:O});c([_])}catch(O){let H,_;if(O instanceof zu||O instanceof f0){if(f)return;H=O.abiItem.name,_=(B=O.abiItem.inputs)==null?void 0:B.some(I=>!("name"in I&&I.name))}let N=ai(U,{args:_?[]:{},eventName:H});c([N])}},onError(T){a==null||a(T)}});b=C,g||b()}catch(E){a==null||a(E)}})(),()=>b()})()}var wye=y(()=>{kn();Ig();R9();ww();Eh();xr();s2();kw();Oi();pK();j3();j9();mR();q9()});function xye(t,{batch:e=!0,onError:r,onTransactions:n,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s!="undefined"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{let l=Wt(["watchPendingTransactions",t.uid,e,i]);return po(l,{onTransactions:n,onError:r},u=>{let f,d=Bl(async()=>{var p;try{if(!f)try{f=await Pe(t,fk,"createPendingTransactionFilter")({});return}catch(m){throw d(),m}let h=await Pe(t,i2,"getFilterChanges")({filter:f});if(h.length===0)return;if(e)u.onTransactions(h);else for(let m of h)u.onTransactions([m])}catch(h){(p=u.onError)==null||p.call(u,h)}},{emitOnBegin:!0,interval:i});return async()=>{f&&await Pe(t,o2,"uninstallFilter")({filter:f}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{let{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;let p=d.result;n([p])},onError(d){r==null||r(d)}});u=f,l||u()}catch(f){r==null||r(f)}})(),()=>u()})()}var vye=y(()=>{xr();s2();kw();Oi();hK();j9();q9()});function Eye(t){var f,d,h,m,b;let p=(d=(f=t.match(ktt))==null?void 0:f.groups)!=null?d:{},{scheme:e,statement:r}=p,n=Ve(p,["scheme","statement"]),g=(m=(h=t.match(Btt))==null?void 0:h.groups)!=null?m:{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c}=g,l=Ve(g,["chainId","expirationTime","issuedAt","notBefore","requestId"]),u=(b=t.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return S(S(S(S(S(S(S(S(S(S({},n),l),s?{chainId:Number(s)}:{}),i?{expirationTime:new Date(i)}:{}),o?{issuedAt:new Date(o)}:{}),a?{notBefore:new Date(a)}:{}),c?{requestId:c}:{}),u?{resources:u}:{}),e?{scheme:e}:{}),r?{statement:r}:{})}var ktt,Btt,Aye=y(()=>{ktt=new RegExp("^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?"),Btt=new RegExp("(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?")});function Cye(t){let{address:e,domain:r,message:n,nonce:s,scheme:i,time:o=new Date}=t;if(r&&n.domain!==r||s&&n.nonce!==s||i&&n.scheme!==i||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!vr(n.address,{strict:!1})||e&&!_s(n.address,e))return!1}catch(a){return!1}return!0}var Sye=y(()=>{ka();ef()});async function Iye(t,e){let p=e,{address:r,domain:n,message:s,nonce:i,scheme:o,signature:a,time:c=new Date}=p,l=Ve(p,["address","domain","message","nonce","scheme","signature","time"]),u=Eye(s);if(!u.address||!Cye({address:r,domain:n,message:u,nonce:i,scheme:o,time:c}))return!1;let d=d2(s);return m2(t,S({address:u.address,hash:d,signature:a},l))}var Tye=y(()=>{r7();Aye();Sye();y7()});async function g5(t,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:n}){var a,c,l;let s=await t.request({method:"eth_sendRawTransactionSync",params:n?[e,ce(n)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||Bw)(s);if(o.status==="reverted"&&r)throw new t3({receipt:o});return o}var dB=y(()=>{Qo();Z9();nB()});function pB(t){return{call:e=>P0(t,e),createAccessList:e=>lk(t,e),createBlockFilter:()=>U1e(t),createContractEventFilter:e=>F4(t,e),createEventFilter:e=>uk(t,e),createPendingTransactionFilter:()=>fk(t),estimateContractGas:e=>hR(t,e),estimateGas:e=>S3(t,e),getBalance:e=>L1e(t,e),getBlobBaseFee:()=>$1e(t),getBlock:e=>oi(t,e),getBlockNumber:e=>_0(t,e),getBlockTransactionCount:e=>F1e(t,e),getBytecode:e=>Q9(t,e),getChainId:()=>uo(t),getCode:e=>Q9(t,e),getContractEvents:e=>T3(t,e),getEip712Domain:e=>j1e(t,e),getEnsAddress:e=>x1e(t,e),getEnsAvatar:e=>_1e(t,e),getEnsName:e=>O1e(t,e),getEnsResolver:e=>k1e(t,e),getEnsText:e=>ck(t,e),getFeeHistory:e=>G1e(t,e),estimateFeesPerGas:e=>Tme(t,e),getFilterChanges:e=>i2(t,e),getFilterLogs:e=>Y1e(t,e),getGasPrice:()=>b3(t),getLogs:e=>I3(t,e),getProof:e=>q2e(t,e),estimateMaxPriorityFeePerGas:e=>Ime(t,e),fillTransaction:e=>A3(t,e),getStorageAt:e=>K2e(t,e),getTransaction:e=>d5(t,e),getTransactionConfirmations:e=>Z2e(t,e),getTransactionCount:e=>Zg(t,e),getTransactionReceipt:e=>p5(t,e),multicall:e=>J2e(t,e),prepareTransactionRequest:e=>S0(t,e),readContract:e=>ns(t,e),sendRawTransaction:e=>q3(t,e),sendRawTransactionSync:e=>g5(t,e),simulate:e=>h7(t,e),simulateBlocks:e=>h7(t,e),simulateCalls:e=>aye(t,e),simulateContract:e=>$R(t,e),verifyHash:e=>m2(t,e),verifyMessage:e=>dye(t,e),verifySiweMessage:e=>Iye(t,e),verifyTypedData:e=>hye(t,e),uninstallFilter:e=>o2(t,e),waitForTransactionReceipt:e=>fB(t,e),watchBlocks:e=>gye(t,e),watchBlockNumber:e=>uB(t,e),watchContractEvent:e=>zR(t,e),watchEvent:e=>bye(t,e),watchPendingTransactions:e=>xye(t,e)}}var CG=y(()=>{v1e();N1e();R1e();B1e();fK();V3();dK();D1e();kO();pK();hK();AW();bW();pR();yW();dR();M1e();H1e();Gg();j3();z1e();xh();mK();gR();q1e();Z1e();j9();J1e();rR();mR();W2e();G2e();sB();Y2e();I9();dG();Q2e();tf();pG();cye();ZW();q9();y7();pye();mye();AG();EG();yye();QW();wye();vye();Tye();C3();VR();dB()});function Pye(t){let{key:e="public",name:r="Public Client"}=t;return l2(G(S({},t),{key:e,name:r,type:"publicClient"})).extend(pB)}var _ye=y(()=>{J9();CG()});async function Nye(t,{hash:e}){await t.request({method:`${t.mode}_dropTransaction`,params:[e]})}var Oye=y(()=>{});async function Rye(t){return t.request({method:`${t.mode}_dumpState`})}var kye=y(()=>{});async function Bye(t){return t.mode==="ganache"?await t.request({method:"eth_mining"}):await t.request({method:`${t.mode}_getAutomine`})}var Uye=y(()=>{});async function Dye(t){return await t.request({method:"txpool_content"})}var Lye=y(()=>{});async function Mye(t){let{pending:e,queued:r}=await t.request({method:"txpool_status"});return{pending:Dt(e),queued:Dt(r)}}var $ye=y(()=>{jn()});async function Hye(t,{address:e}){await t.request({method:`${t.mode}_impersonateAccount`,params:[e]})}var Fye=y(()=>{});async function zye(t,{seconds:e}){return await t.request({method:"evm_increaseTime",params:[ce(e)]})}var Vye=y(()=>{Ze()});async function jye(t){return await t.request({method:"txpool_inspect"})}var qye=y(()=>{});async function Wye(t,{state:e}){await t.request({method:`${t.mode}_loadState`,params:[e]})}var Kye=y(()=>{});async function Gye(t,{blocks:e,interval:r}){t.mode==="ganache"?await t.request({method:"evm_mine",params:[{blocks:ce(e)}]}):await t.request({method:`${t.mode}_mine`,params:[ce(e),ce(r||0)]})}var Zye=y(()=>{Ze()});async function Yye(t){await t.request({method:`${t.mode}_removeBlockTimestampInterval`})}var Jye=y(()=>{});async function Qye(t,{blockNumber:e,jsonRpcUrl:r}={}){await t.request({method:`${t.mode}_reset`,params:[{forking:{blockNumber:Number(e),jsonRpcUrl:r}}]})}var Xye=y(()=>{});async function ebe(t,{id:e}){await t.request({method:"evm_revert",params:[e]})}var tbe=y(()=>{});async function rbe(t,e){var E,w,x;let b=e,{accessList:r,data:n,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:f}=b,d=Ve(b,["accessList","data","from","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","value"]),p=(x=(w=(E=t.chain)==null?void 0:E.formatters)==null?void 0:w.transactionRequest)==null?void 0:x.format,m=(p||ys)(G(S({},Fa(d,{format:p})),{accessList:r,data:n,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:f}),"sendUnsignedTransaction");return await t.request({method:"eth_sendUnsignedTransaction",params:[m]})}var nbe=y(()=>{Vg();Qu()});async function sbe(t,e){t.mode==="ganache"?e?await t.request({method:"miner_start"}):await t.request({method:"miner_stop"}):await t.request({method:"evm_setAutomine",params:[e]})}var ibe=y(()=>{});async function obe(t,{address:e,value:r}){t.mode==="ganache"?await t.request({method:"evm_setAccountBalance",params:[e,ce(r)]}):await t.request({method:`${t.mode}_setBalance`,params:[e,ce(r)]})}var abe=y(()=>{Ze()});async function cbe(t,{gasLimit:e}){await t.request({method:"evm_setBlockGasLimit",params:[ce(e)]})}var lbe=y(()=>{Ze()});async function ube(t,{interval:e}){let r=t.mode==="hardhat"?e*1e3:e;await t.request({method:`${t.mode}_setBlockTimestampInterval`,params:[r]})}var fbe=y(()=>{});async function dbe(t,{address:e,bytecode:r}){t.mode==="ganache"?await t.request({method:"evm_setAccountCode",params:[e,r]}):await t.request({method:`${t.mode}_setCode`,params:[e,r]})}var pbe=y(()=>{});async function hbe(t,{address:e}){await t.request({method:`${t.mode}_setCoinbase`,params:[e]})}var mbe=y(()=>{});async function gbe(t,{interval:e}){let r=t.mode==="hardhat"?e*1e3:e;await t.request({method:"evm_setIntervalMining",params:[r]})}var ybe=y(()=>{});async function bbe(t,e){await t.request({method:`${t.mode}_setLoggingEnabled`,params:[e]})}var wbe=y(()=>{});async function xbe(t,{gasPrice:e}){await t.request({method:`${t.mode}_setMinGasPrice`,params:[ce(e)]})}var vbe=y(()=>{Ze()});async function Ebe(t,{baseFeePerGas:e}){await t.request({method:`${t.mode}_setNextBlockBaseFeePerGas`,params:[ce(e)]})}var Abe=y(()=>{Ze()});async function Cbe(t,{timestamp:e}){await t.request({method:"evm_setNextBlockTimestamp",params:[ce(e)]})}var Sbe=y(()=>{Ze()});async function Ibe(t,{address:e,nonce:r}){await t.request({method:`${t.mode}_setNonce`,params:[e,ce(r)]})}var Tbe=y(()=>{Ze()});async function Pbe(t,e){await t.request({method:`${t.mode}_setRpcUrl`,params:[e]})}var _be=y(()=>{});async function Nbe(t,{address:e,index:r,value:n}){await t.request({method:`${t.mode}_setStorageAt`,params:[e,typeof r=="number"?ce(r):r,n]})}var Obe=y(()=>{Ze()});async function Rbe(t){return await t.request({method:"evm_snapshot"})}var kbe=y(()=>{});async function Bbe(t,{address:e}){await t.request({method:`${t.mode}_stopImpersonatingAccount`,params:[e]})}var Ube=y(()=>{});function hB({mode:t}){return e=>{let r=e.extend(()=>({mode:t}));return{dropTransaction:n=>Nye(r,n),dumpState:()=>Rye(r),getAutomine:()=>Bye(r),getTxpoolContent:()=>Dye(r),getTxpoolStatus:()=>Mye(r),impersonateAccount:n=>Hye(r,n),increaseTime:n=>zye(r,n),inspectTxpool:()=>jye(r),loadState:n=>Wye(r,n),mine:n=>Gye(r,n),removeBlockTimestampInterval:()=>Yye(r),reset:n=>Qye(r,n),revert:n=>ebe(r,n),sendUnsignedTransaction:n=>rbe(r,n),setAutomine:n=>sbe(r,n),setBalance:n=>obe(r,n),setBlockGasLimit:n=>cbe(r,n),setBlockTimestampInterval:n=>ube(r,n),setCode:n=>dbe(r,n),setCoinbase:n=>hbe(r,n),setIntervalMining:n=>gbe(r,n),setLoggingEnabled:n=>bbe(r,n),setMinGasPrice:n=>xbe(r,n),setNextBlockBaseFeePerGas:n=>Ebe(r,n),setNextBlockTimestamp:n=>Cbe(r,n),setNonce:n=>Ibe(r,n),setRpcUrl:n=>Pbe(r,n),setStorageAt:n=>Nbe(r,n),snapshot:()=>Rbe(r),stopImpersonatingAccount:n=>Bbe(r,n)}}}var SG=y(()=>{Oye();kye();Uye();Lye();$ye();Fye();Vye();qye();Kye();Zye();Jye();Xye();tbe();nbe();ibe();abe();lbe();fbe();pbe();mbe();ybe();wbe();vbe();Abe();Sbe();Tbe();_be();Obe();kbe();Ube()});function Dbe(t){let{key:e="test",name:r="Test Client",mode:n}=t;return l2(G(S({},t),{key:e,name:r,type:"testClient"})).extend(i=>S({mode:n},hB({mode:n})(i)))}var Lbe=y(()=>{J9();SG()});async function Mbe(t,{chain:e}){let{id:r,name:n,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ce(r),chainName:n,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var $be=y(()=>{Ze()});function Hbe(t,e){let a=e,{abi:r,args:n,bytecode:s}=a,i=Ve(a,["abi","args","bytecode"]),o=Nh({abi:r,args:n,bytecode:s});return c2(t,G(S(S({},i),i.authorizationList?{to:null}:{}),{data:o}))}var Fbe=y(()=>{H9();K9()});async function zbe(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>qu(n))}var Vbe=y(()=>{Dc()});async function jbe(t,e={}){let{account:r=t.account,chainId:n}=e,s=r?Rt(r):void 0,i=n?[s==null?void 0:s.address,[ce(n)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(let[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,f]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=f}return typeof n=="number"?a[n]:a}var qbe=y(()=>{Kn();Ze()});async function Wbe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}var Kbe=y(()=>{});async function mB(t,e){var c,l,u;let{account:r=t.account,chainId:n,nonce:s}=e;if(!r)throw new li({docsPath:"/docs/eip7702/prepareAuthorization"});let i=Rt(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Rt(e.executor)})(),a={address:(c=e.contractAddress)!=null?c:e.address,chainId:n,nonce:s};return typeof a.chainId=="undefined"&&(a.chainId=(u=(l=t.chain)==null?void 0:l.id)!=null?u:await Pe(t,uo,"getChainId")({})),typeof a.nonce=="undefined"&&(a.nonce=await Pe(t,Zg,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&_s(o.address,i.address))&&(a.nonce+=1)),a}var IG=y(()=>{Kn();Rh();ef();xr();xh();I9()});async function Gbe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>zs(r))}var Zbe=y(()=>{Dc()});async function Ybe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var Jbe=y(()=>{});async function Qbe(t,e){var o,a;let{chain:r=t.chain}=e,n=(a=e.timeout)!=null?a:Math.max(((o=r==null?void 0:r.blockTime)!=null?o:0)*3,5e3),s=await WR(t,e);return await ZR(t,G(S({},e),{id:s.id,timeout:n}))}var Xbe=y(()=>{KR();YR()});async function gB(t,e){var U,B,O,H,_,N;let T=e,{account:r=t.account,assertChainId:n=!0,chain:s=t.chain,accessList:i,authorizationList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,pollingInterval:m,throwOnReceiptRevert:g,type:b,value:E}=T,w=Ve(T,["account","assertChainId","chain","accessList","authorizationList","blobs","data","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","pollingInterval","throwOnReceiptRevert","type","value"]),x=(B=e.timeout)!=null?B:Math.max(((U=s==null?void 0:s.blockTime)!=null?U:0)*3,5e3);if(typeof r=="undefined")throw new li({docsPath:"/docs/actions/wallet/sendTransactionSync"});let C=r?Rt(r):null;try{Ps(e);let I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await kg({authorization:o[0]}).catch(()=>{throw new ne("`to` is required. Could not infer from `authorizationList`.")})})();if((C==null?void 0:C.type)==="json-rpc"||C===null){let D;s!==null&&(D=await Pe(t,uo,"getChainId")({}),n&&a2({currentChainId:D,chain:s}));let v=(_=(H=(O=t.chain)==null?void 0:O.formatters)==null?void 0:H.transactionRequest)==null?void 0:_.format,R=(v||ys)(G(S({},Fa(w,{format:v})),{accessList:i,account:C,authorizationList:o,blobs:a,chainId:D,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:I,type:b,value:E}),"sendTransaction"),$=TG.get(t.uid),k=$?"wallet_sendTransaction":"eth_sendTransaction",L=await(async()=>{try{return await t.request({method:k,params:[R]},{retryCount:0})}catch(Z){if($===!1)throw Z;let ee=Z;if(ee.name==="InvalidInputRpcError"||ee.name==="InvalidParamsRpcError"||ee.name==="MethodNotFoundRpcError"||ee.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(ae=>(TG.set(t.uid,!0),ae)).catch(ae=>{let re=ae;throw re.name==="MethodNotFoundRpcError"||re.name==="MethodNotSupportedRpcError"?(TG.set(t.uid,!1),ee):re});throw ee}})(),q=await Pe(t,fB,"waitForTransactionReceipt")({checkReplacement:!1,hash:L,pollingInterval:m,timeout:x});if(g&&q.status==="reverted")throw new t3({receipt:q});return q}if((C==null?void 0:C.type)==="local"){let D=await Pe(t,S0,"prepareTransactionRequest")(G(S({account:C,accessList:i,authorizationList:o,blobs:a,chain:s,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:C.nonceManager,parameters:[...O9,"sidecars"],type:b,value:E},w),{to:I})),v=(N=s==null?void 0:s.serializers)==null?void 0:N.transaction,A=await C.signTransaction(D,{serializer:v});return await Pe(t,g5,"sendRawTransactionSync")({serializedTransaction:A,throwOnReceiptRevert:g,timeout:e.timeout})}throw(C==null?void 0:C.type)==="smart"?new Ul({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ul({docsPath:"/docs/actions/wallet/sendTransactionSync",type:C==null?void 0:C.type})}catch(I){throw I instanceof Ul?I:Xg(I,G(S({},e),{account:C,chain:e.chain||void 0}))}}var TG,PG=y(()=>{Kn();Rh();Bt();Qo();E9();W9();N9();Vg();Qu();xr();eg();Xu();xh();AG();C3();dB();TG=new oo(128)});async function ewe(t,e){let{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}var twe=y(()=>{});async function rwe(t,e){let{account:r=t.account}=e;if(!r)throw new li({docsPath:"/docs/eip7702/signAuthorization"});let n=Rt(r);if(!n.signAuthorization)throw new Ul({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let s=await mB(t,e);return n.signAuthorization(s)}var nwe=y(()=>{Kn();Rh();IG()});async function swe(t,{account:e=t.account,message:r}){if(!e)throw new li({docsPath:"/docs/actions/wallet/signMessage"});let n=Rt(e);if(n.signMessage)return n.signMessage({message:r});let s=typeof r=="string"?Yo(r):r.raw instanceof Uint8Array?Zr(r.raw):r.raw;return t.request({method:"personal_sign",params:[s,n.address]},{retryCount:0})}var iwe=y(()=>{Kn();Rh();Ze()});async function owe(t,e){var u,f,d,p;let l=e,{account:r=t.account,chain:n=t.chain}=l,s=Ve(l,["account","chain"]);if(!r)throw new li({docsPath:"/docs/actions/wallet/signTransaction"});let i=Rt(r);Ps(S({account:i},e));let o=await Pe(t,uo,"getChainId")({});n!==null&&a2({currentChainId:o,chain:n});let a=(n==null?void 0:n.formatters)||((u=t.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||ys;return i.signTransaction?i.signTransaction(G(S({},s),{chainId:o}),{serializer:(p=(d=t.chain)==null?void 0:d.serializers)==null?void 0:p.transaction}):await t.request({method:"eth_signTransaction",params:[G(S({},c(G(S({},s),{account:i}),"signTransaction")),{chainId:ce(o),from:i.address})]},{retryCount:0})}var awe=y(()=>{Kn();Rh();W9();Ze();Qu();xr();Xu();xh()});async function cwe(t,e){let{account:r=t.account,domain:n,message:s,primaryType:i}=e;if(!r)throw new li({docsPath:"/docs/actions/wallet/signTypedData"});let o=Rt(r),a=S({EIP712Domain:Lw({domain:n})},e.types);if(i5({domain:n,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:s,primaryType:i,types:a});let c=Sk({domain:n,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}var lwe=y(()=>{Kn();Rh();Ik()});async function uwe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ce(e)}]},{retryCount:0})}var fwe=y(()=>{Ze()});async function dwe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}var pwe=y(()=>{});async function hwe(t,e){return kh.internal(t,gB,"sendTransactionSync",e)}var mwe=y(()=>{PG();jR()});function yB(t){return{addChain:e=>Mbe(t,e),deployContract:e=>Hbe(t,e),fillTransaction:e=>A3(t,e),getAddresses:()=>zbe(t),getCallsStatus:e=>GR(t,e),getCapabilities:e=>jbe(t,e),getChainId:()=>uo(t),getPermissions:()=>Wbe(t),prepareAuthorization:e=>mB(t,e),prepareTransactionRequest:e=>S0(t,e),requestAddresses:()=>Gbe(t),requestPermissions:e=>Ybe(t,e),sendCalls:e=>WR(t,e),sendCallsSync:e=>Qbe(t,e),sendRawTransaction:e=>q3(t,e),sendRawTransactionSync:e=>g5(t,e),sendTransaction:e=>c2(t,e),sendTransactionSync:e=>gB(t,e),showCallsStatus:e=>ewe(t,e),signAuthorization:e=>rwe(t,e),signMessage:e=>swe(t,e),signTransaction:e=>owe(t,e),signTypedData:e=>cwe(t,e),switchChain:e=>uwe(t,e),waitForCallsStatus:e=>ZR(t,e),watchAsset:e=>dwe(t,e),writeContract:e=>kh(t,e),writeContractSync:e=>hwe(t,e)}}var _G=y(()=>{dR();xh();$be();Fbe();Vbe();iK();qbe();Kbe();IG();C3();Zbe();Jbe();KR();Xbe();VR();dB();K9();PG();twe();nwe();iwe();awe();lwe();fwe();YR();pwe();jR();mwe()});function gwe(t){let{key:e="wallet",name:r="Wallet Client",transport:n}=t;return l2(G(S({},t),{key:e,name:r,transport:n,type:"walletClient"})).extend(yB)}var ywe=y(()=>{J9();_G()});function O0({key:t,methods:e,name:r,request:n,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){let l=XR();return{config:{key:t,methods:e,name:r,request:n,retryCount:s,retryDelay:i,timeout:o,type:a},request:lge(n,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}var y5=y(()=>{uge();oK()});function bwe(t,e={}){let{key:r="custom",methods:n,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>{var a;return O0({key:r,methods:n,name:s,request:t.request.bind(t),retryCount:(a=e.retryCount)!=null?a:o,retryDelay:i,type:"custom"})}}var wwe=y(()=>{y5()});function b7(t,e={}){let{key:r="fallback",name:n="Fallback",rank:s=!1,shouldThrow:i=NG,retryCount:o,retryDelay:a}=e;return(d=>{var p=d,{chain:c,pollingInterval:l=4e3,timeout:u}=p,f=Ve(p,["chain","pollingInterval","timeout"]);var b;let h=t,m=()=>{},g=O0({key:r,name:n,async request({method:E,params:w}){let x,C=async(T=0)=>{let U=h[T](G(S({},f),{chain:c,retryCount:0,timeout:u}));try{let B=await U.request({method:E,params:w});return m({method:E,params:w,response:B,transport:U,status:"success"}),B}catch(B){if(m({error:B,method:E,params:w,transport:U,status:"error"}),i(B)||T===h.length-1||(x!=null||(x=h.slice(T+1).some(O=>{let{include:H,exclude:_}=O({chain:c}).config.methods||{};return H?H.includes(E):_?!_.includes(E):!0})),!x))throw B;return C(T+1)}};return C()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:E=>m=E,transports:h.map(E=>E({chain:c,retryCount:0}))});if(s){let E=typeof s=="object"?s:{};Utt({chain:c,interval:(b=E.interval)!=null?b:l,onTransports:w=>h=w,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:h,weights:E.weights})}return g})}function NG(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===b0.code||t.code===Yu.code||Hc.nodeMessage.test(t.message)||t.code===5e3))}function Utt({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){let{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{let d=await Promise.all(o.map(async m=>{let g=m({chain:t,retryCount:0,timeout:i}),b=Date.now(),E,w;try{await(n?n({transport:g}):g.request({method:"net_listening"})),w=1}catch(C){w=0}finally{E=Date.now()}return{latency:E-b,success:w}}));u.push(d),u.length>s&&u.shift();let p=Math.max(...u.map(m=>Math.max(...m.map(({latency:g})=>g)))),h=o.map((m,g)=>{let b=u.map(T=>T[g].latency),w=1-b.reduce((T,U)=>T+U,0)/b.length/p,x=u.map(T=>T[g].success),C=x.reduce((T,U)=>T+U,0)/x.length;return C===0?[0,g]:[l*w+c*C,g]}).sort((m,g)=>g[0]-m[0]);r(h.map(([,m])=>o[m])),await Rw(e),f()};f()}var xwe=y(()=>{A0();Ig();HR();y5()});var g2,bB=y(()=>{Bt();g2=class extends ne{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function zw(t,e={}){let{batch:r,fetchFn:n,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:d,retryCount:p,timeout:h})=>{var C,T;let{batchSize:m=1e3,wait:g=0}=typeof r=="object"?r:{},b=(C=e.retryCount)!=null?C:p,E=(T=h!=null?h:e.timeout)!=null?T:1e4,w=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!w)throw new g2;let x=Dge(w,{fetchFn:n,fetchOptions:s,onRequest:c,onResponse:l,timeout:E});return O0({key:i,methods:o,name:a,async request({method:U,params:B}){let O={method:U,params:B},{schedule:H}=z3({id:w,wait:g,shouldSplitBatch(D){return D.length>m},fn:D=>x.request({body:D}),sort:(D,v)=>D.id-v.id}),_=async D=>r?H(D):[await x.request({body:D})],[{error:N,result:I}]=await _(O);if(f)return{error:N,result:I};if(N)throw new Ol({body:O,error:N,url:w});return I},retryCount:b,retryDelay:u,timeout:E,type:"http"},{fetchOptions:s,url:w})}}var vwe=y(()=>{Gu();bB();RR();Lge();y5()});function Ewe(t,e={}){let{keepAlive:r,key:n="webSocket",methods:s,name:i="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=e;return({chain:c,retryCount:l,timeout:u})=>{var m,g,b;let f=(m=e.retryCount)!=null?m:l,d=(g=u!=null?u:e.timeout)!=null?g:1e4,p=t||((b=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:b[0]),h={keepAlive:r,reconnect:o};if(!p)throw new g2;return O0({key:n,methods:s,name:i,async request({method:E,params:w}){let x={method:E,params:w},C=await t5(p,h),{error:T,result:U}=await C.requestAsync({body:x,timeout:d});if(T)throw new Ol({body:x,error:T,url:p});return U},retryCount:f,retryDelay:a,timeout:d,type:"webSocket"},{getSocket(){return jge(p)},getRpcClient(){return t5(p,h)},async subscribe({params:E,onData:w,onError:x}){let C=await t5(p,h),{result:T}=await new Promise((U,B)=>C.request({body:{method:"eth_subscribe",params:E},onError(O){B(O),x==null||x(O)},onResponse(O){if(O.error){B(O.error),x==null||x(O.error);return}if(typeof O.id=="number"){U(O);return}O.method==="eth_subscription"&&w(O.params)}}));return{subscriptionId:T,async unsubscribe(){return new Promise(U=>C.request({body:{method:"eth_unsubscribe",params:[T]},onResponse:U}))}}}})}}var Awe=y(()=>{Gu();bB();qge();SK();y5()});var wB,Cwe=y(()=>{wB=class extends Error{constructor(e,r){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=r}}});function Swe(t){let{abi:e,bytecode:r,data:n}=t;if(n===r)return{bytecode:r};let s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new j1({docsPath:OG});if(!("inputs"in s))throw new u0({docsPath:OG});if(!s.inputs||s.inputs.length===0)throw new u0({docsPath:OG});return{args:Jo(s.inputs,`0x${n.replace(r,"")}`),bytecode:r}}var OG,Iwe=y(()=>{kn();rg();OG="/docs/contract/decodeDeployData"});function Twe(t){var a;let e=(a=t.to)!=null?a:typeof t.blobs[0]=="string"?"hex":"bytes",r=typeof t.blobs[0]=="string"?t.blobs.map(c=>hr(c)):t.blobs,n=r.reduce((c,l)=>c+l.length,0),s=Ku(new Uint8Array(n)),i=!0;for(let c of r){let l=Ku(c);for(;i&&l.position<c.length;){l.incrementPosition(1);let u=31;c.length-l.position<31&&(u=c.length-l.position);for(let f in Array.from({length:u})){let d=l.readByte();if(d===128&&!l.inspectBytes(l.remaining).includes(128)){i=!1;break}s.pushByte(d)}}}let o=s.bytes.slice(0,s.position);return e==="hex"?Ot(o):o}var Pwe=y(()=>{V4();un();Ze()});function _we(t){var i;let{sidecars:e,version:r}=t,n=(i=t.to)!=null?i:typeof e[0].blob=="string"?"hex":"bytes",s=[];for(let{commitment:o}of e)s.push(w3({commitment:o,to:n,version:r}));return s}var Nwe=y(()=>{iR()});function Owe(t){if(t===1)return BigInt(60);if(t>=Dtt||t<0)throw new Y3({chainId:t});return BigInt((2147483648|t)>>>0)}var Dtt,Rwe=y(()=>{ok();Dtt=2147483648});function xB({blobToKzgCommitment:t,computeBlobKzgProof:e}){return{blobToKzgCommitment:t,computeBlobKzgProof:e}}var RG=y(()=>{});function kwe(t,e){try{t.loadTrustedSetup(e)}catch(r){let n=r;if(!n.message.includes("trusted setup is already loaded"))throw n}return xB(t)}var Bwe=y(()=>{RG()});function Uwe({r:t,yParityAndS:e}){let r=hr(e),n=r[0]&128?1:0,s=r;return n===1&&(s[0]&=127),{r:t,s:Ot(s),yParity:n}}var Dwe=y(()=>{un();Ze()});function kG(t){let{r:e,s:r}=ra.Signature.fromCompact(t.slice(2,130));return{r:ce(e,{size:32}),yParityAndS:ce(r,{size:32})}}var Lwe=y(()=>{Tw();Ze()});function BG(t){let{r:e,s:r}=ra.Signature.fromCompact(t.slice(2,130)),n=+`0x${t.slice(130)}`,[s,i]=(()=>{if(n===0||n===1)return[void 0,n];if(n===27)return[BigInt(n),0];if(n===28)return[BigInt(n),1];throw new Error("Invalid yParityOrV value")})();return typeof s!="undefined"?{r:ce(e,{size:32}),s:ce(r,{size:32}),v:s,yParity:i}:{r:ce(e,{size:32}),s:ce(r,{size:32}),yParity:i}}var Mwe=y(()=>{Tw();Ze()});async function $we(t){let{serializedTransaction:e,signature:r}=t,n=Xk(e),s=r!=null?r:{r:n.r,s:n.s,v:n.v,yParity:n.yParity},i=gk(G(S({},n),{r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0}));return await Ma({hash:ar(i),signature:s})}var Hwe=y(()=>{Ra();uG();yk();Rg()});function UG({r:t,yParityAndS:e}){return`0x${new ra.Signature(Tt(t),Tt(e)).toCompactHex()}`}var Fwe=y(()=>{Tw();jn()});function zwe(t){let{r:e,s:r,v:n,yParity:s}=t,i=Number(s!=null?s:n-BigInt(27)),o=r;if(i===1){let a=hr(r);a[0]|=128,o=Ot(a)}return{r:e,yParityAndS:o}}var Vwe=y(()=>{un();Ze()});var jwe={};Me(jwe,{AbiConstructorNotFoundError:()=>j1,AbiConstructorParamsNotFoundError:()=>u0,AbiDecodingDataSizeInvalidError:()=>vO,AbiDecodingDataSizeTooSmallError:()=>q1,AbiDecodingZeroDataError:()=>Na,AbiEncodingArrayLengthMismatchError:()=>A4,AbiEncodingBytesSizeMismatchError:()=>C4,AbiEncodingLengthMismatchError:()=>W1,AbiErrorInputsNotFoundError:()=>S4,AbiErrorNotFoundError:()=>uw,AbiErrorSignatureNotFoundError:()=>K1,AbiEventNotFoundError:()=>fw,AbiEventSignatureEmptyTopicsError:()=>I4,AbiEventSignatureNotFoundError:()=>T4,AbiFunctionNotFoundError:()=>kc,AbiFunctionOutputsNotFoundError:()=>G1,AbiFunctionSignatureNotFoundError:()=>P4,AccountStateConflictError:()=>Z4,AtomicReadyWalletRejectedUpgradeError:()=>Sg,AtomicityNotSupportedError:()=>v0,BaseError:()=>ne,BaseFeeScalarError:()=>Wg,BlockNotFoundError:()=>Kg,BundleFailedError:()=>W3,BundleTooLargeError:()=>Cg,BytesSizeMismatchError:()=>Z1,CallExecutionError:()=>ag,ChainDisconnectedError:()=>wg,ChainDoesNotSupportContract:()=>Ph,ChainMismatchError:()=>M3,ChainNotFoundError:()=>$3,CircularReferenceError:()=>aw,ClientChainNotConfiguredError:()=>Ow,ContractFunctionExecutionError:()=>cg,ContractFunctionRevertedError:()=>lh,ContractFunctionZeroDataError:()=>n3,CounterfactualDeploymentFailedError:()=>s3,DecodeLogDataMismatch:()=>zu,DecodeLogTopicsMismatch:()=>f0,DuplicateIdError:()=>Eg,EIP1193ProviderRpcError:()=>wB,Eip1559FeesNotSupportedError:()=>C0,EnsAvatarInvalidNftUriError:()=>N0,EnsAvatarUnsupportedNamespaceError:()=>Z3,EnsAvatarUriResolutionError:()=>u2,EnsInvalidChainIdError:()=>Y3,EstimateGasExecutionError:()=>p3,ExecutionRevertedError:()=>Hc,FeeCapTooHighError:()=>$a,FeeCapTooLowError:()=>Bg,FeeConflictError:()=>FO,FilterTypeNotSupportedError:()=>R4,HttpRequestError:()=>Ua,InsufficientFundsError:()=>Mg,IntegerOutOfRangeError:()=>d0,InternalRpcError:()=>Zu,IntrinsicGasTooHighError:()=>$g,IntrinsicGasTooLowError:()=>Hg,InvalidAbiDecodingTypeError:()=>N4,InvalidAbiEncodingTypeError:()=>_4,InvalidAbiItemError:()=>Yb,InvalidAbiParameterError:()=>Qb,InvalidAbiParametersError:()=>Xb,InvalidAbiTypeParameterError:()=>sw,InvalidAddressError:()=>Yr,InvalidArrayError:()=>Y1,InvalidBytesBooleanError:()=>k4,InvalidChainIdError:()=>_h,InvalidDecimalNumberError:()=>u5,InvalidDefinitionTypeError:()=>v4,InvalidDomainError:()=>r5,InvalidFunctionModifierError:()=>nw,InvalidHexBooleanError:()=>B4,InvalidHexValueError:()=>U4,InvalidInputRpcError:()=>Da,InvalidLegacyVError:()=>sg,InvalidModifierError:()=>rw,InvalidParameterError:()=>ew,InvalidParamsRpcError:()=>dg,InvalidParenthesisError:()=>cw,InvalidPrimaryTypeError:()=>n5,InvalidRequestRpcError:()=>ug,InvalidSerializableTransactionError:()=>J4,InvalidSerializedTransactionError:()=>g0,InvalidSerializedTransactionTypeError:()=>Q4,InvalidSignatureError:()=>Rc,InvalidStorageKeySizeError:()=>X4,InvalidStructSignatureError:()=>ow,InvalidStructTypeError:()=>s5,JsonRpcVersionUnsupportedError:()=>mg,LimitExceededRpcError:()=>dh,MaxFeePerGasTooLowError:()=>m3,MethodNotFoundRpcError:()=>fg,MethodNotSupportedRpcError:()=>w0,NonceMaxValueError:()=>Lg,NonceTooHighError:()=>Ug,NonceTooLowError:()=>Dg,ParseRpcError:()=>lg,ProviderDisconnectedError:()=>bg,ProviderRpcError:()=>Ri,RawContractError:()=>Nl,ResourceNotFoundRpcError:()=>pg,ResourceUnavailableRpcError:()=>hg,RpcError:()=>ii,RpcRequestError:()=>Ol,SizeExceedsPaddingSizeError:()=>pw,SizeOverflowError:()=>D4,SliceOffsetOutOfBoundsError:()=>dw,SocketClosedError:()=>y0,SolidityProtectedKeywordError:()=>tw,StateAssignmentConflictError:()=>Y4,SwitchChainError:()=>xg,TimeoutError:()=>fh,TipAboveFeeCapError:()=>Rl,TransactionExecutionError:()=>e3,TransactionNotFoundError:()=>ig,TransactionReceiptNotFoundError:()=>og,TransactionRejectedRpcError:()=>b0,TransactionTypeNotSupportedError:()=>Fg,UnauthorizedProviderError:()=>gg,UnknownBundleIdError:()=>Ag,UnknownNodeError:()=>Ha,UnknownRpcError:()=>i3,UnknownSignatureError:()=>iw,UnknownTypeError:()=>Jb,UnsupportedChainIdError:()=>vg,UnsupportedNonOptionalCapabilityError:()=>x0,UnsupportedPackedAbiType:()=>O4,UnsupportedProviderMethodError:()=>yg,UrlRequiredError:()=>g2,UserRejectedRequestError:()=>Yu,WaitForCallsStatusTimeoutError:()=>Y9,WaitForTransactionReceiptTimeoutError:()=>r3,WebSocketRequestError:()=>Ew,assertCurrentChain:()=>a2,assertRequest:()=>Ps,assertTransactionEIP1559:()=>f2,assertTransactionEIP2930:()=>J3,assertTransactionLegacy:()=>Q3,blobsToCommitments:()=>Yg,blobsToProofs:()=>Jg,boolToBytes:()=>xq,boolToHex:()=>Q1,bytesToBigInt:()=>a9,bytesToBool:()=>c9,bytesToHex:()=>Ot,bytesToNumber:()=>Mc,bytesToRlp:()=>Tpe,bytesToString:()=>l9,ccipFetch:()=>V9,ccipRequest:()=>V9,checksumAddress:()=>qu,commitmentToVersionedHash:()=>w3,commitmentsToVersionedHashes:()=>x3,compactSignatureToHex:()=>UG,compactSignatureToSignature:()=>Uwe,concat:()=>Bn,concatBytes:()=>Tq,concatHex:()=>Wn,createClient:()=>l2,createNonceManager:()=>EK,createPublicClient:()=>Pye,createTestClient:()=>Dbe,createTransport:()=>O0,createWalletClient:()=>gwe,custom:()=>bwe,decodeAbiParameters:()=>Jo,decodeDeployData:()=>Swe,decodeErrorResult:()=>q4,decodeEventLog:()=>vh,decodeFunctionData:()=>DR,decodeFunctionResult:()=>fo,defineBlock:()=>Sme,defineChain:()=>fge,defineKzg:()=>xB,defineTransaction:()=>Cme,defineTransactionReceipt:()=>g1e,defineTransactionRequest:()=>Upe,deploylessCallViaBytecodeBytecode:()=>U3,deploylessCallViaFactoryBytecode:()=>_R,domainSeparator:()=>Wge,encodeAbiParameters:()=>Vs,encodeDeployData:()=>Nh,encodeErrorResult:()=>F9,encodeEventTopics:()=>_l,encodeFunctionData:()=>fn,encodeFunctionResult:()=>LR,encodePacked:()=>Q1e,erc1155Abi:()=>s1e,erc20Abi:()=>Nw,erc20Abi_bytes32:()=>n1e,erc4626Abi:()=>o1e,erc6492SignatureValidatorAbi:()=>B3,erc6492SignatureValidatorByteCode:()=>$9,erc721Abi:()=>i1e,ethAddress:()=>cB,etherUnits:()=>W4,extendSchema:()=>dge,extractChain:()=>hge,fallback:()=>b7,formatBlock:()=>Pw,formatEther:()=>ng,formatGwei:()=>ms,formatLog:()=>ai,formatTransaction:()=>wh,formatTransactionReceipt:()=>Bw,formatTransactionRequest:()=>ys,formatUnits:()=>m0,fromBlobs:()=>Twe,fromBytes:()=>Bde,fromHex:()=>wq,fromRlp:()=>e7,getAbiItem:()=>co,getAddress:()=>zs,getChainContractAddress:()=>Va,getContract:()=>h1e,getContractAddress:()=>tge,getContractError:()=>Xo,getCreate2Address:()=>bK,getCreateAddress:()=>yK,getEventSelector:()=>ju,getEventSignature:()=>ih,getFunctionSelector:()=>Lc,getFunctionSignature:()=>ih,getSerializedTransactionType:()=>Qk,getTransactionType:()=>E3,getTypesForEIP712Domain:()=>Lw,gweiUnits:()=>K4,hashDomain:()=>n7,hashMessage:()=>d2,hashStruct:()=>Tk,hashTypedData:()=>o5,hexToBigInt:()=>Tt,hexToBool:()=>L4,hexToBytes:()=>hr,hexToCompactSignature:()=>kG,hexToNumber:()=>Dt,hexToRlp:()=>Ppe,hexToSignature:()=>BG,hexToString:()=>AO,http:()=>zw,isAddress:()=>vr,isAddressEqual:()=>_s,isBytes:()=>X9,isErc6492Signature:()=>Nk,isErc8010Signature:()=>Zk,isHash:()=>wk,isHex:()=>st,keccak256:()=>ar,labelhash:()=>nk,maxInt104:()=>Zpe,maxInt112:()=>Ype,maxInt120:()=>Jpe,maxInt128:()=>Qpe,maxInt136:()=>Xpe,maxInt144:()=>ehe,maxInt152:()=>the,maxInt16:()=>Mpe,maxInt160:()=>rhe,maxInt168:()=>nhe,maxInt176:()=>she,maxInt184:()=>ihe,maxInt192:()=>ohe,maxInt200:()=>ahe,maxInt208:()=>che,maxInt216:()=>lhe,maxInt224:()=>uhe,maxInt232:()=>fhe,maxInt24:()=>$pe,maxInt240:()=>dhe,maxInt248:()=>phe,maxInt256:()=>hhe,maxInt32:()=>Hpe,maxInt40:()=>Fpe,maxInt48:()=>zpe,maxInt56:()=>Vpe,maxInt64:()=>jpe,maxInt72:()=>qpe,maxInt8:()=>Lpe,maxInt80:()=>Wpe,maxInt88:()=>Kpe,maxInt96:()=>Gpe,maxUint104:()=>ime,maxUint112:()=>ome,maxUint120:()=>ame,maxUint128:()=>cme,maxUint136:()=>lme,maxUint144:()=>ume,maxUint152:()=>fme,maxUint16:()=>Ghe,maxUint160:()=>dme,maxUint168:()=>pme,maxUint176:()=>hme,maxUint184:()=>mme,maxUint192:()=>gme,maxUint200:()=>yme,maxUint208:()=>bme,maxUint216:()=>wme,maxUint224:()=>xme,maxUint232:()=>vme,maxUint24:()=>Zhe,maxUint240:()=>Eme,maxUint248:()=>Ame,maxUint256:()=>qg,maxUint32:()=>Yhe,maxUint40:()=>Jhe,maxUint48:()=>Qhe,maxUint56:()=>Xhe,maxUint64:()=>eme,maxUint72:()=>tme,maxUint8:()=>Khe,maxUint80:()=>rme,maxUint88:()=>nme,maxUint96:()=>sme,minInt104:()=>The,minInt112:()=>Phe,minInt120:()=>_he,minInt128:()=>Nhe,minInt136:()=>Ohe,minInt144:()=>Rhe,minInt152:()=>khe,minInt16:()=>ghe,minInt160:()=>Bhe,minInt168:()=>Uhe,minInt176:()=>Dhe,minInt184:()=>Lhe,minInt192:()=>Mhe,minInt200:()=>$he,minInt208:()=>Hhe,minInt216:()=>Fhe,minInt224:()=>zhe,minInt232:()=>Vhe,minInt24:()=>yhe,minInt240:()=>jhe,minInt248:()=>qhe,minInt256:()=>Whe,minInt32:()=>bhe,minInt40:()=>whe,minInt48:()=>xhe,minInt56:()=>vhe,minInt64:()=>Ehe,minInt72:()=>Ahe,minInt8:()=>mhe,minInt80:()=>Che,minInt88:()=>She,minInt96:()=>Ihe,multicall3Abi:()=>Ih,namehash:()=>Uw,nonceManager:()=>Bge,numberToBytes:()=>vq,numberToHex:()=>ce,offchainLookup:()=>KW,offchainLookupAbiItem:()=>MR,offchainLookupSignature:()=>WW,pad:()=>io,padBytes:()=>bq,padHex:()=>Oa,parseAbi:()=>y4,parseAbiItem:()=>b4,parseAbiParameter:()=>mq,parseAbiParameters:()=>w4,parseCompactSignature:()=>kG,parseErc6492Signature:()=>S2e,parseErc8010Signature:()=>T2e,parseEther:()=>$2e,parseEventLogs:()=>e2,parseGwei:()=>F2e,parseSignature:()=>BG,parseTransaction:()=>Xk,parseUnits:()=>f5,prepareEncodeFunctionData:()=>BO,presignMessagePrefix:()=>Ak,publicActions:()=>pB,recoverAddress:()=>Ma,recoverMessageAddress:()=>Yk,recoverPublicKey:()=>JO,recoverTransactionAddress:()=>$we,recoverTypedDataAddress:()=>Jk,ripemd160:()=>Pge,rpcSchema:()=>y1e,rpcTransactionType:()=>mW,serializeAccessList:()=>Dw,serializeCompactSignature:()=>UG,serializeErc6492Signature:()=>_2e,serializeErc8010Signature:()=>O2e,serializeSignature:()=>g7,serializeTransaction:()=>gk,serializeTypedData:()=>Sk,setErrorConfig:()=>tde,setupKzg:()=>kwe,sha256:()=>sR,shouldThrow:()=>NG,sidecarsToVersionedHashes:()=>_we,signatureToCompactSignature:()=>zwe,signatureToHex:()=>g7,size:()=>Jt,slice:()=>ao,sliceBytes:()=>s9,sliceHex:()=>h0,stringToBytes:()=>Bc,stringToHex:()=>Yo,stringify:()=>Wt,testActions:()=>hB,toBlobSidecars:()=>Qg,toBlobs:()=>uR,toBytes:()=>qn,toCoinType:()=>Owe,toEventHash:()=>oh,toEventSelector:()=>ju,toEventSignature:()=>ih,toFunctionHash:()=>oh,toFunctionSelector:()=>Lc,toFunctionSignature:()=>ih,toHex:()=>Zr,toPrefixedMessage:()=>Ck,toRlp:()=>na,transactionType:()=>S9,trim:()=>Vn,universalSignatureValidatorAbi:()=>B3,universalSignatureValidatorByteCode:()=>$9,validateTypedData:()=>i5,verifyHash:()=>k2e,verifyMessage:()=>U2e,verifyTypedData:()=>L2e,walletActions:()=>yB,webSocket:()=>Ewe,weiUnits:()=>Lde,withCache:()=>FR,withRetry:()=>Bh,withTimeout:()=>e5,zeroAddress:()=>zc,zeroHash:()=>Yge});var b5=y(()=>{x4();m1e();YR();J9();_ye();Lbe();ywe();CG();SG();_G();y5();wwe();xwe();vwe();Awe();Th();bG();_k();L3();XO();IK();G4();kn();Tl();Bt();eR();tK();H3();uh();e9();hw();ok();hW();g3();yq();A0();Gu();Ig();HO();Qo();bB();PK();fG();Cwe();rg();Iwe();MO();R9();HW();Ah();Wu();H9();zW();ww();Ba();jW();ege();ah();k9();Oq();Dc();rge();ka();ef();T9();P9();oR();iR();Pwe();Nwe();_9();vW();GW();W9();pge();mge();n2();si();gK();Go();J1();_a();Pl();th();kq();jn();xK();un();Ze();v9();cK();rk();Rwe();Tg();tR();Eh();y3();Z9();Qu();vK();Ra();_ge();wW();Nge();$4();Oge();Rge();bw();kge();RG();Bwe();Uge();JW();G9();Ek();Dwe();r7();s7();_K();oG();Lwe();I2e();P2e();Mwe();Rg();aG();pW();Hwe();cG();Fwe();N2e();R2e();vG();Vwe();TK();B2e();D2e();M2e();Oi();Xu();mk();lG();fR();uG();wK();yk();Ik();f9();xw();$O();H2e();z2e();rB()});async function w7(...t){let e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}var ja,w5=y(()=>{ja=class{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get(i){var o=i,{headers:e,signal:r,cache:n}=o,s=Ve(o,["headers","signal","cache"]);let a=this.createUrl(s);return(await w7(a,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob(s){var i=s,{headers:e,signal:r}=i,n=Ve(i,["headers","signal"]);let o=this.createUrl(n);return(await w7(o,{method:"GET",headers:e,signal:r})).blob()}async post(i){var o=i,{body:e,headers:r,signal:n}=o,s=Ve(o,["body","headers","signal"]);let a=this.createUrl(s);return(await w7(a,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put(i){var o=i,{body:e,headers:r,signal:n}=o,s=Ve(o,["body","headers","signal"]);let a=this.createUrl(s);return(await w7(a,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete(i){var o=i,{body:e,headers:r,signal:n}=o,s=Ve(o,["body","headers","signal"]);let a=this.createUrl(s);return(await w7(a,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){let n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([s,i])=>{i&&n.searchParams.append(s,i)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}sendBeacon(n){var s=n,{body:e}=s,r=Ve(s,["body"]);let i=this.createUrl(r);return navigator.sendBeacon(i.toString(),e?JSON.stringify(e):void 0)}}});var x7,DG=y(()=>{ws();_c();Is();x7={getFeatureValue(t,e){let r=e==null?void 0:e[t];return r===void 0?ct.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;let e=t;return de.isTelegram()&&(de.isIos()&&(e=e.filter(r=>r!=="google")),de.isMac()&&(e=e.filter(r=>r!=="x")),de.isAndroid()&&(e=e.filter(r=>!["facebook","x"].includes(r)))),de.isMobile()&&(e=e.filter(r=>r!=="facebook")),e},isSocialsEnabled(){var t,e,r,n;return Array.isArray((t=X.state.features)==null?void 0:t.socials)&&((e=X.state.features)==null?void 0:e.socials.length)>0||Array.isArray((r=X.state.remoteFeatures)==null?void 0:r.socials)&&((n=X.state.remoteFeatures)==null?void 0:n.socials.length)>0},isEmailEnabled(){var t,e;return!!((t=X.state.features)!=null&&t.email||(e=X.state.remoteFeatures)!=null&&e.email)}}});var at,X,ws=y(()=>{En();Ss();_c();Is();DG();at=yt({features:ct.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ct.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),X={state:at,subscribeKey(t,e){return qt(at,t,e)},setOptions(t){Object.assign(at,t)},setRemoteFeatures(t){var r,n;if(!t)return;let e=S(S({},at.remoteFeatures),t);at.remoteFeatures=e,(r=at.remoteFeatures)!=null&&r.socials&&(at.remoteFeatures.socials=x7.filterSocialsByPlatform(at.remoteFeatures.socials)),(n=at.features)!=null&&n.pay&&(at.remoteFeatures.email=!1,at.remoteFeatures.socials=!1)},setFeatures(t){var r;if(!t)return;at.features||(at.features=ct.DEFAULT_FEATURES);let e=S(S({},at.features),t);at.features=e,(r=at.features)!=null&&r.pay&&at.remoteFeatures&&(at.remoteFeatures.email=!1,at.remoteFeatures.socials=!1)},setProjectId(t){at.projectId=t},setCustomRpcUrls(t){at.customRpcUrls=t},setAllWallets(t){at.allWallets=t},setIncludeWalletIds(t){at.includeWalletIds=t},setExcludeWalletIds(t){at.excludeWalletIds=t},setFeaturedWalletIds(t){at.featuredWalletIds=t},setTokens(t){at.tokens=t},setTermsConditionsUrl(t){at.termsConditionsUrl=t},setPrivacyPolicyUrl(t){at.privacyPolicyUrl=t},setCustomWallets(t){at.customWallets=t},setIsSiweEnabled(t){at.isSiweEnabled=t},setIsUniversalProvider(t){at.isUniversalProvider=t},setSdkVersion(t){at.sdkVersion=t},setMetadata(t){at.metadata=t},setDisableAppend(t){at.disableAppend=t},setEIP6963Enabled(t){at.enableEIP6963=t},setDebug(t){at.debug=t},setEnableWalletGuide(t){at.enableWalletGuide=t},setEnableAuthLogger(t){at.enableAuthLogger=t},setEnableWallets(t){at.enableWallets=t},setPreferUniversalLinks(t){at.experimental_preferUniversalLinks=t},setSIWX(t){var e;if(t)for(let[r,n]of Object.entries(ct.SIWX_DEFAULTS))(e=t[r])!=null||(t[r]=n);at.siwx=t},setConnectMethodsOrder(t){at.features=G(S({},at.features),{connectMethodsOrder:t})},setWalletFeaturesOrder(t){at.features=G(S({},at.features),{walletFeaturesOrder:t})},setSocialsOrder(t){at.remoteFeatures=G(S({},at.remoteFeatures),{socials:t})},setCollapseWallets(t){at.features=G(S({},at.features),{collapseWallets:t})},setEnableEmbedded(t){at.enableEmbedded=t},setAllowUnsupportedChain(t){at.allowUnsupportedChain=t},setManualWCControl(t){at.manualWCControl=t},setEnableNetworkSwitch(t){at.enableNetworkSwitch=t},setEnableMobileFullScreen(t){at.enableMobileFullScreen=de.isMobile()&&t},setEnableReconnect(t){at.enableReconnect=t},setCoinbasePreference(t){at.coinbasePreference=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(at.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){at.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return at.universalProviderConfigOverride},getSnapshot(){return c0(at)}}});var Vw,js,Ltt,lt,y2=y(()=>{En();Ss();Is();Vw=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),js=yt(S({},Vw)),Ltt={state:js,subscribeKey(t,e){return qt(js,t,e)},showLoading(t,e={}){this._showMessage(S({message:t,variant:"loading"},e))},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){let e=de.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){js.message=Vw.message,js.variant=Vw.variant,js.svg=Vw.svg,js.open=Vw.open,js.autoClose=Vw.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Vw.autoClose}){js.open?(js.open=!1,setTimeout(()=>{js.message=t,js.variant=r,js.svg=e,js.open=!0,js.autoClose=n},150)):(js.message=t,js.variant=r,js.svg=e,js.open=!0,js.autoClose=n)}},lt=Ltt});var Mtt,qwe,sa,tt,Dh=y(()=>{En();_c();Is();w5();Nc();An();ws();y2();Mtt={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},qwe=de.getBlockchainApiUrl(),sa=yt({clientId:null,api:new ja({baseUrl:qwe,clientId:null}),supportedChains:{http:[],ws:[]}}),tt={state:sa,async get(t){let{st:e,sv:r}=tt.getSdkProperties(),n=X.state.projectId,s=G(S({},t.params||{}),{st:e,sv:r,projectId:n});return sa.api.get(G(S({},t),{params:s}))},getSdkProperties(){let{sdkType:t,sdkVersion:e}=X.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{sa.supportedChains.http.length||await tt.getSupportedNetworks()}catch(e){return!1}return sa.supportedChains.http.includes(t)},async getSupportedNetworks(){try{let t=await tt.get({path:"v1/supported-chains"});return sa.supportedChains=t,t}catch(t){return sa.supportedChains}},async fetchIdentity({address:t}){let e=ve.getIdentityFromCacheForAddress(t);if(e)return e;let r=await tt.get({path:`/v1/identity/${t}`,params:{sender:M.state.activeCaipAddress?de.getPlainAddress(M.state.activeCaipAddress):void 0}});return ve.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:s}){var c;if(!await tt.isNetworkSupported((c=M.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};let o=ve.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;let a=await tt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:r,cache:n});return ve.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:s}){var o;return await tt.isNetworkSupported((o=M.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?tt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await tt.isNetworkSupported((r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async getAddressBalance({caipNetworkId:t,address:e}){return sa.api.post({path:`/v1?chainId=${t}&projectId=${X.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:e}}}).then(r=>r.result)},async fetchTokenPrice({addresses:t,caipNetworkId:e=(r=>(r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)()}){if(!await tt.isNetworkSupported(e))return{fungibles:[]};let s=ve.getTokenPriceCacheForAddresses(t);if(s)return s;let i=await sa.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:X.state.projectId},headers:{"Content-Type":"application/json"}});return ve.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:i}),i},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await tt.isNetworkSupported((n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?tt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;let{st:e,sv:r}=tt.getSdkProperties();if(!await tt.isNetworkSupported((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return tt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:s}){var o;if(!await tt.isNetworkSupported((o=M.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return sa.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:ct.CONVERT_SLIPPAGE_TOLERANCE},projectId:X.state.projectId,from:e,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;let{st:n,sv:s}=tt.getSdkProperties();if(!await tt.isNetworkSupported((o=M.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return tt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:s}})},async getBalance(t,e,r){var l;let{st:n,sv:s}=tt.getSdkProperties();if(!await tt.isNetworkSupported((l=M.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return lt.showError("Token Balance Unavailable"),{balances:[]};let o=`${e}:${t}`,a=ve.getBalanceCacheForCaipAddress(o);if(a)return a;let c=await tt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:s}});return ve.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await tt.isNetworkSupported((r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n,s;if(!await tt.isNetworkSupported((n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))return[];let r=(s=M.getAccountData())==null?void 0:s.address;return tt.get({path:`/v1/profile/reverse/${t}`,params:{sender:r,apiVersion:"2"}})},async getEnsNameSuggestions(t){var r;return await tt.isNetworkSupported((r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var i;return await tt.isNetworkSupported((i=M.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?sa.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){var a;return await tt.isNetworkSupported((a=M.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await sa.api.post({path:"/v1/generators/onrampurl",params:{projectId:X.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await tt.isNetworkSupported((e=M.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await tt.get({path:"/v1/onramp/options"})}catch(r){return Mtt}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var s;try{return await tt.isNetworkSupported((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await sa.api.post({path:"/v1/onramp/quote",params:{projectId:X.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch(i){return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await tt.isNetworkSupported((r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var s;return await tt.isNetworkSupported((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?sa.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:X.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){sa.clientId=t,sa.api=new ja({baseUrl:qwe,clientId:t})}}});var b2=y(()=>{WC()});var $tt,Htt,Ftt,ztt,w2,Wwe,Kwe=y(()=>{En();Ss();Is();w5();ws();$tt=Object.freeze({enabled:!0,events:[]}),Htt=new ja({baseUrl:de.getAnalyticsUrl(),clientId:null}),Ftt=5,ztt=60*1e3,w2=yt(S({},$tt)),Wwe={state:w2,subscribeKey(t,e){return qt(w2,t,e)},async sendError(t,e){if(!w2.enabled)return;let r=Date.now();if(w2.events.filter(i=>{let o=new Date(i.properties.timestamp||"").getTime();return r-o<ztt}).length>=Ftt)return;let s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};w2.events.push(s);try{if(typeof window=="undefined")return;let{projectId:i,sdkType:o,sdkVersion:a}=X.state;await Htt.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:de.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(i){}},enable(){w2.enabled=!0},disable(){w2.enabled=!1},clearEvents(){w2.events=[]}}});function Gwe(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?Object.keys(t).length===0?r="Unknown error":r=(t==null?void 0:t.message)||JSON.stringify(t):r=String(t)}catch(s){r="Unknown error",console.error("Error parsing error message",s)}let n=t instanceof Ll?t:new Ll(r,e,t);throw Wwe.sendError(n,n.category),n}function Jr(t,e="INTERNAL_SDK_ERROR"){let r={};return Object.keys(t).forEach(n=>{let s=t[n];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return Gwe(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return Gwe(a,e)}},r[n]=i}else r[n]=s}),r}var Ll,ho=y(()=>{Kwe();Ll=class t extends Error{constructor(e,r,n){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=r,this.originalError=n,n&&n instanceof Error&&(this.originalName=n.name),Object.setPrototypeOf(this,t.prototype);let s=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){let i=n.stack,o=i.indexOf(`
`);if(o>-1){let a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack||(this.stack=`${this.name}: ${this.message}`))}}});var Vc,Vtt,Ns,vB=y(()=>{En();Ss();ho();Vc=yt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Vtt={state:Vc,subscribeNetworkImages(t){return rr(Vc.networkImages,()=>t(Vc.networkImages))},subscribeKey(t,e){return qt(Vc,t,e)},subscribe(t){return rr(Vc,()=>t(Vc))},setWalletImage(t,e){Vc.walletImages[t]=e},setNetworkImage(t,e){Vc.networkImages[t]=e},setChainImage(t,e){Vc.chainImages[t]=e},setConnectorImage(t,e){Vc.connectorImages=G(S({},Vc.connectorImages),{[t]:e})},setTokenImage(t,e){Vc.tokenImages[t]=e},setCurrencyImage(t,e){Vc.currencyImages[t]=e}},Ns=Jr(Vtt)});var Zwe,x5,Vt,LG=y(()=>{En();It();R0();vB();ws();Zwe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},x5=yt({networkImagePromises:{},tokenImagePromises:{}}),Vt={async fetchWalletImage(t){if(t)return await Ce._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;let e=this.getNetworkImageById(t);return e||(x5.networkImagePromises[t]||(x5.networkImagePromises[t]=Ce._fetchNetworkImage(t)),await x5.networkImagePromises[t],this.getNetworkImageById(t))},async fetchTokenImage(t){if(t)return x5.tokenImagePromises[t]||(x5.tokenImagePromises[t]=Ce._fetchTokenImage(t)),await x5.tokenImagePromises[t],this.getTokenImage(t)},getWalletImageById(t){if(t)return Ns.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Ns.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return Ns.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ns.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Ns.state.connectorImages[t.imageId]},getChainImage(t){return Ns.state.networkImages[Zwe[t]]},getTokenImage(t){if(t)return Ns.state.tokenImages[t]},getWalletImageUrl(t){if(!t)return"";let{projectId:e,sdkType:r,sdkVersion:n}=X.state,s=new URL(`${J.W3M_API_URL}/getWalletImage/${t}`);return s.searchParams.set("projectId",e),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getAssetImageUrl(t){if(!t)return"";let{projectId:e,sdkType:r,sdkVersion:n}=X.state,s=new URL(`${J.W3M_API_URL}/public/getAssetImage/${t}`);return s.searchParams.set("projectId",e),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getChainNamespaceImageUrl(t){return this.getAssetImageUrl(Zwe[t])},async getImageByToken(t,e){var n,s;if(t==="native"){let i=(n=J.NATIVE_IMAGE_IDS_BY_NAMESPACE[e])!=null?n:null;return i?Vt.fetchNetworkImage(i):void 0}let[,r]=(s=Object.entries(J.TOKEN_SYMBOLS_BY_ADDRESS).find(([i])=>i.toLowerCase()===t.toLowerCase()))!=null?s:[];if(r)return Vt.fetchTokenImage(r)}}});var jc,Ywe,MG=y(()=>{It();An();jc={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Ywe={handleMobileDeeplinkRedirect(t,e){var s;let r=window.location.href,n=encodeURIComponent(r);if(t===jc.PHANTOM.id&&!("phantom"in window)){let i=r.startsWith("https")?"https":"http",o=r.split("/")[2],a=encodeURIComponent(`${i}://${o}`);window.location.href=`${jc.PHANTOM.url}/ul/browse/${n}?ref=${a}`}if(t===jc.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${jc.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===J.CHAIN.SOLANA&&t===jc.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${jc.COINBASE.url}/dapp?cb_url=${n}`),e===J.CHAIN.BITCOIN&&t===jc.BINANCE.id&&!("binancew3w"in window)){let i=M.state.activeCaipNetwork,o=window.btoa("/pages/browser/index"),a=window.btoa(`url=${n}&defaultChainId=${(s=i==null?void 0:i.id)!=null?s:1}`),c=new URL(jc.BINANCE.deeplink);c.searchParams.set("appId",jc.BINANCE.appId),c.searchParams.set("startPagePath",o),c.searchParams.set("startPageQuery",a);let l=new URL(jc.BINANCE.url);l.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=l.toString()}}}});var jtt,qtt,Wtt,Ktt,Jwe,ss,Be,Ml=y(()=>{En();Is();w5();An();ws();jtt=de.getAnalyticsUrl(),qtt=new ja({baseUrl:jtt,clientId:null}),Wtt=["MODAL_CREATED"],Ktt=45,Jwe=1e3*10,ss=yt({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),Be={state:ss,subscribe(t){return rr(ss,()=>t(ss))},getSdkProperties(){let{projectId:t,sdkType:e,sdkVersion:r}=X.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},shouldFlushEvents(){let t=JSON.stringify(ss.pendingEvents).length/1024>Ktt,e=ss.lastFlush+Jwe<Date.now();return t||e},_setPendingEvent(t){var e,r;try{let n=(e=M.getAccountData())==null?void 0:e.address;if("address"in t.data&&t.data.address&&(n=t.data.address),Wtt.includes(t.data.event)||typeof window=="undefined")return;let s=(r=M.getActiveCaipNetwork())==null?void 0:r.caipNetworkId;this.state.pendingEvents.push({eventId:de.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:G(S({},t.data),{address:n,properties:G(S({},"properties"in t.data?t.data.properties:{}),{caipNetworkId:s})})}),ss.reportedErrors.FORBIDDEN=!1,Be.shouldFlushEvents()&&Be._submitPendingEvents()}catch(n){console.warn("_setPendingEvent",n)}},sendEvent(t){var r;ss.timestamp=Date.now(),ss.data=t;let e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];((r=X.state.features)!=null&&r.analytics||e.includes(t.event))&&Be._setPendingEvent(ss),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(t){ss.walletImpressions.push(t)},_transformPendingEventsForBatch(t){try{return t.filter(e=>e.props.event!=="WALLET_IMPRESSION_V2")}catch(e){return t}},_submitPendingEvents(){if(ss.lastFlush=Date.now(),!(ss.pendingEvents.length===0&&ss.walletImpressions.length===0))try{let t=Be._transformPendingEventsForBatch(ss.pendingEvents);ss.walletImpressions.length&&t.push({eventId:de.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...ss.walletImpressions]}}),qtt.sendBeacon({path:"/batch",params:Be.getSdkProperties(),body:t}),ss.reportedErrors.FORBIDDEN=!1,ss.pendingEvents=[],ss.walletImpressions=[]}catch(t){ss.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){var t,e,r;ss.subscribedToVisibilityChange||typeof document!="undefined"&&(ss.subscribedToVisibilityChange=!0,(t=document==null?void 0:document.addEventListener)==null||t.call(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&Be._submitPendingEvents()}),(e=document==null?void 0:document.addEventListener)==null||e.call(document,"freeze",()=>{Be._submitPendingEvents()}),(r=window==null?void 0:window.addEventListener)==null||r.call(window,"pagehide",()=>{Be._submitPendingEvents()}),setInterval(()=>{Be._submitPendingEvents()},Jwe))}}});var Gtt,ia,Ztt,Qwe,Ytt,kt,Ce,R0=y(()=>{En();Ss();It();LG();Is();w5();MG();Nc();vB();An();ui();Ml();ws();Gtt=de.getApiUrl(),ia=new ja({baseUrl:Gtt,clientId:null}),Ztt=40,Qwe=4,Ytt=20,kt=yt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Ce={state:kt,subscribeKey(t,e){return qt(kt,t,e)},_getSdkProperties(){let{projectId:t,sdkType:e,sdkVersion:r}=X.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return X.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){let e=`${ia.baseUrl}/getWalletImage/${t}`,r=await ia.getBlob({path:e,params:Ce._getSdkProperties()});Ns.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){let e=`${ia.baseUrl}/public/getAssetImage/${t}`,r=await ia.getBlob({path:e,params:Ce._getSdkProperties()});Ns.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){let e=`${ia.baseUrl}/public/getAssetImage/${t}`,r=await ia.getBlob({path:e,params:Ce._getSdkProperties()});Ns.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){let e=`${ia.baseUrl}/public/getCurrencyImage/${t}`,r=await ia.getBlob({path:e,params:Ce._getSdkProperties()});Ns.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){let e=`${ia.baseUrl}/public/getTokenImage/${t}`,r=await ia.getBlob({path:e,params:Ce._getSdkProperties()});Ns.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){let e=t.length,r=de.isMobile()?t==null?void 0:t.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(jc).map(o=>o.id).includes(s.id)):t,n=e-r.length;return{filteredWallets:r,mobileFilteredOutWalletsLength:n}},async fetchProjectConfig(){return(await ia.get({path:"/appkit/v1/config",params:Ce._getSdkProperties()})).features},async fetchUsage(){try{let t=await ia.get({path:"/appkit/v1/project-limits",params:Ce._getSdkProperties()}),{tier:e,isAboveMauLimit:r,isAboveRpcLimit:n}=t.planLimits,s=e==="starter",i=r||n;Ce.state.plan={tier:e,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:n,isAboveMauLimit:r}}}catch(t){console.warn("Failed to fetch usage",t)}},async fetchAllowedOrigins(){try{let{allowedOrigins:t}=await ia.get({path:"/projects/v1/origins",params:Ce._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){let e=t.cause.status;if(e===J.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=J.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){let t=M.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!Vt.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Ce._fetchNetworkImage(r)))},async fetchConnectorImages(){let{connectors:t}=ue.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Ce._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ce._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ce._fetchTokenImage(e)))},async fetchWallets(t){var o,a;let e=(o=t.exclude)!=null?o:[];Ce._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(jc).map(c=>c.id));let n=await ia.get({path:"/getWallets",params:G(S(S({},Ce._getSdkProperties()),t),{page:String(t.page),entries:String(t.entries),include:(a=t.include)==null?void 0:a.join(","),exclude:e.join(",")})}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=Ce._filterWalletsByPlatform(n==null?void 0:n.data);return{data:s||[],count:n==null?void 0:n.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){let t=ue.state.connectors;if(!(t!=null&&t.length))return;let e={page:1,entries:20,badge:"certified"};if(e.names=t.map(s=>s.name).join(","),M.state.activeChain===J.CHAIN.EVM){let s=[...t.flatMap(i=>{var o;return((o=i.connectors)==null?void 0:o.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}))||[]}),...t.map(i=>{var o;return(o=i.info)==null?void 0:o.rdns})].filter(i=>typeof i=="string"&&i.length>0);s.length&&(e.rdns=s.join(","))}let{data:r}=await Ce.fetchWallets(e);kt.explorerWallets=r,ue.extendConnectorsWithExplorerWallets(r);let n=M.getRequestedCaipNetworkIds().join(",");kt.explorerFilteredWallets=r.filter(s=>{var i;return(i=s.chains)==null?void 0:i.some(o=>n.includes(o))})},async fetchFeaturedWallets(){var e;let{featuredWalletIds:t}=X.state;if(t!=null&&t.length){let r=G(S({},Ce._getSdkProperties()),{page:1,entries:(e=t==null?void 0:t.length)!=null?e:Qwe,include:t}),{data:n}=await Ce.fetchWallets(r),s=[...n].sort((o,a)=>t.indexOf(o.id)-t.indexOf(a.id)),i=s.map(o=>o.image_id).filter(Boolean);await Promise.allSettled(i.map(o=>Ce._fetchWalletImage(o))),kt.featured=s,kt.allFeatured=s}},async fetchRecommendedWallets(){try{kt.isFetchingRecommendedWallets=!0;let{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=X.state,n=[...e!=null?e:[],...r!=null?r:[]].filter(Boolean),s=M.getRequestedCaipNetworkIds().join(","),i={page:1,entries:Qwe,include:t,exclude:n,chains:s},{data:o,count:a}=await Ce.fetchWallets(i),c=ve.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>Ce._fetchWalletImage(f))),kt.recommended=o,kt.allRecommended=o,kt.count=a!=null?a:0}catch(t){}finally{kt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){var f;let{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=X.state,s=M.getRequestedCaipNetworkIds().join(","),i=[...kt.recommended.map(({id:d})=>d),...r!=null?r:[],...n!=null?n:[]].filter(Boolean),o={page:t,entries:Ztt,include:e,exclude:i,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await Ce.fetchWallets(o);kt.mobileFilteredOutWalletsLength=l+((f=kt.mobileFilteredOutWalletsLength)!=null?f:0);let u=a.slice(0,Ytt).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>Ce._fetchWalletImage(d))),kt.wallets=de.uniqueBy([...kt.wallets,...Ce._filterOutExtensions(a)],"id").filter(d=>{var p;return(p=d.chains)==null?void 0:p.some(h=>s.includes(h))}),kt.count=c>kt.count?c:kt.count,kt.page=t},async initializeExcludedWallets({ids:t}){let e={page:1,entries:t.length,include:t},{data:r}=await Ce.fetchWallets(e);r&&r.forEach(n=>{kt.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){let{includeWalletIds:r,excludeWalletIds:n}=X.state,s=M.getRequestedCaipNetworkIds().join(",");kt.search=[];let i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:n,chains:s},{data:o}=await Ce.fetchWallets(i);Be.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e!=null?e:"",search:t!=null?t:""}});let a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ce._fetchWalletImage(c)),de.wait(300)]),kt.search=Ce._filterOutExtensions(o)},initPromise(t,e){let r=kt.promises[t];return r||(kt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0,fetchWalletRanks:s=!0}={}){let i=[t&&Ce.initPromise("connectorImages",Ce.fetchConnectorImages),e&&Ce.initPromise("featuredWallets",Ce.fetchFeaturedWallets),r&&Ce.initPromise("recommendedWallets",Ce.fetchRecommendedWallets),n&&Ce.initPromise("networkImages",Ce.fetchNetworkImages),s&&Ce.initPromise("walletRanks",Ce.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=X.state.features)!=null&&t.analytics&&Ce.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:t}=await ia.get({path:"/getAnalyticsConfig",params:Ce._getSdkProperties()});X.setFeatures({analytics:t})}catch(t){X.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){kt.featured=kt.allFeatured,kt.recommended=kt.allRecommended;return}let e=M.getRequestedCaipNetworkIds().join(",");kt.featured=kt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),kt.recommended=kt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),kt.filteredWallets=kt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})},clearFilterByNamespaces(){kt.filteredWallets=[]},setFilterByNamespace(t){if(!t){kt.featured=kt.allFeatured,kt.recommended=kt.allRecommended;return}let e=M.getRequestedCaipNetworkIds().join(",");kt.featured=kt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),kt.recommended=kt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),kt.filteredWallets=kt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})}}});var mo,$G=y(()=>{It();R0();oa();ui();ws();EB();_c();Is();Nc();mo={filterOutDuplicatesByRDNS(t){let e=X.state.enableEIP6963?ue.state.connectors:[],r=ve.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=r.map(a=>a.rdns).filter(Boolean),i=n.concat(s);if(i.includes("io.metamask.mobile")&&de.isMobile()){let a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){let e=ue.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),r=ve.getRecentWallets(),n=e.map(a=>{var c;return a.explorerId||((c=a.explorerWallet)==null?void 0:c.id)||a.id}),s=r.map(a=>a.id),i=n.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){let e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){let{connectors:e}=ue.state,{featuredWalletIds:r}=X.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>{var a;return G(S({},o),{installed:!!o.rdns&&!!n[(a=o.rdns)!=null?a:""]})}).sort((o,a)=>{let c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r!=null&&r.length){let l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;let r=(t==null?void 0:t.connectMethodsOrder)||((c=X.state.features)==null?void 0:c.connectMethodsOrder),n=e||ue.state.connectors;if(r)return r;let{injected:s,announced:i}=xs.getConnectorsByType(n,Ce.state.recommended,Ce.state.featured),o=s.filter(xs.showConnector),a=i.filter(xs.showConnector);return o.length||a.length?["wallet","email","social"]:ct.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){let e=!!t.rdns&&Ce.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&Ce.state.excludedWallets.some(n=>$C.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>G(S({},e),{display_index:r}))},filterWalletsByWcSupport(t){return le.state.wcBasic?t.filter(e=>e.supports_wc):de.isMobile()?t.filter(e=>e.supports_wc||ct.MANDATORY_WALLET_IDS_ON_MOBILE.includes(e.id)):t},getWalletConnectWallets(t){var i;let e=[...Ce.state.featured,...Ce.state.recommended];((i=Ce.state.filteredWallets)==null?void 0:i.length)>0?e.push(...Ce.state.filteredWallets):e.push(...t);let r=de.uniqueBy(e,"id"),n=mo.markWalletsAsInstalled(r),s=mo.filterWalletsByWcSupport(n);return mo.markWalletsWithDisplayIndex(s)}}});var xs,EB=y(()=>{It();R0();An();oa();ui();ws();Is();DG();Nc();$G();xs={getConnectorsByType(t,e,r){let{customWallets:n}=X.state,s=ve.getRecentWallets(),i=mo.filterOutDuplicateWallets(e),o=mo.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;let e=(s=t.info)==null?void 0:s.rdns,r=!!e&&Ce.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&Ce.state.excludedWallets.some(i=>$C.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!de.isMobile()||de.isMobile()&&!e&&!le.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(M.state.chains.values()).some(r=>ue.getConnectorId(r.namespace)===J.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=(l=>(l=X.state.features)==null?void 0:l.connectorTypeOrder)())!=null?u:[])()}){let d=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),p=new Set(d.map(g=>g.type)),h=c.filter(g=>p.has(g)).map(g=>({type:g,isEnabled:!0})),m=d.filter(({type:g})=>!h.some(({type:E})=>E===g));return Array.from(new Set([...h,...m].map(({type:g})=>g)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,r)=>{var n,s;return e.explorerWallet&&r.explorerWallet?((n=e.explorerWallet.order)!=null?n:0)-((s=r.explorerWallet.order)!=null?s:0):e.explorerWallet?-1:r.explorerWallet?1:0})},getPriority(t){return t.id===J.CONNECTOR_ID.BASE_ACCOUNT?0:t.id===J.CONNECTOR_ID.COINBASE||t.id===J.CONNECTOR_ID.COINBASE_SDK?1:2},sortConnectorsByPriority(t){return[...t].sort((e,r)=>xs.getPriority(e)-xs.getPriority(r))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,r;try{if(t.name==="Browser Wallet"&&!de.isMobile())return{accounts:[],chainId:void 0};if(t.id===J.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[n,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(r=t.provider)==null?void 0:r.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:n,chainId:s}}catch(n){return console.warn(`Failed to fetch provider data for ${t.name}`,n),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(t){let e=ve.getRecentWallets(),r=ue.state.connectors.map(o=>{var a;return(a=o.info)==null?void 0:a.rdns}).filter(Boolean),n=e.map(o=>o.rdns).filter(Boolean),s=r.concat(n);if(s.includes("io.metamask.mobile")&&de.isMobile()){let o=s.indexOf("io.metamask.mobile");s[o]="io.metamask"}return t.filter(o=>!s.includes(String(o==null?void 0:o.rdns)))},hasWalletConnector(t){return ue.state.connectors.some(e=>e.id===t.id||e.name===t.name)},isWalletCompatibleWithCurrentChain(t){let e=M.state.activeChain;return e&&t.chains?t.chains.some(r=>{let n=r.split(":")[0];return e===n}):!0},getFilteredRecentWallets(){return ve.getRecentWallets().filter(r=>!mo.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r))},getCappedRecommendedWallets(t){let{connectors:e}=ue.state,{customWallets:r,featuredWalletIds:n}=X.state,s=e.find(E=>E.id==="walletConnect"),i=e.filter(E=>E.type==="INJECTED"||E.type==="ANNOUNCED"||E.type==="MULTI_CHAIN");if(!s&&!i.length&&!(r!=null&&r.length))return[];let o=x7.isEmailEnabled(),a=x7.isSocialsEnabled(),c=i.filter(E=>E.name!=="Browser Wallet"&&E.name!=="WalletConnect"),l=(n==null?void 0:n.length)||0,u=(r==null?void 0:r.length)||0,f=c.length||0,d=o?1:0,p=a?1:0,h=l+u+f+d+p,g=Math.max(0,4-h);return g<=0?[]:mo.filterOutDuplicateWallets(t).slice(0,g)},processConnectorsByType(t,e=!0){let r=xs.sortConnectorsByExplorerWallet([...t]);return e?r.filter(xs.showConnector):r},connectorList(){let t=xs.getConnectorsByType(ue.state.connectors,Ce.state.recommended,Ce.state.featured),e=this.processConnectorsByType(t.announced.filter(p=>p.id!=="walletConnect")),r=this.processConnectorsByType(t.injected),n=this.processConnectorsByType(t.multiChain.filter(p=>p.name!=="WalletConnect"),!1),s=t.custom,i=t.recent,o=this.processConnectorsByType(t.external.filter(p=>p.id!==J.CONNECTOR_ID.COINBASE_SDK&&p.id!==J.CONNECTOR_ID.BASE_ACCOUNT)),a=t.recommended,c=t.featured,l=xs.getConnectorTypeOrder({custom:s,recent:i,announced:e,injected:r,multiChain:n,recommended:a,featured:c,external:o}),u=ue.state.connectors.find(p=>p.id==="walletConnect"),f=de.isMobile(),d=[];for(let p of l)switch(p){case"walletConnect":{!f&&u&&d.push({kind:"connector",subtype:"walletConnect",connector:u});break}case"recent":{xs.getFilteredRecentWallets().forEach(m=>d.push({kind:"wallet",subtype:"recent",wallet:m}));break}case"injected":{n.forEach(h=>d.push({kind:"connector",subtype:"multiChain",connector:h})),e.forEach(h=>d.push({kind:"connector",subtype:"announced",connector:h})),r.forEach(h=>d.push({kind:"connector",subtype:"injected",connector:h}));break}case"featured":{c.forEach(h=>d.push({kind:"wallet",subtype:"featured",wallet:h}));break}case"custom":{xs.getFilteredCustomWallets(s!=null?s:[]).forEach(m=>d.push({kind:"wallet",subtype:"custom",wallet:m}));break}case"external":{o.forEach(h=>d.push({kind:"connector",subtype:"external",connector:h}));break}case"recommended":{xs.getCappedRecommendedWallets(a).forEach(m=>d.push({kind:"wallet",subtype:"recommended",wallet:m}));break}default:console.warn(`Unknown connector type: ${p}`)}return d},hasInjectedConnectors(){return ue.state.connectors.filter(t=>(t.type==="INJECTED"||t.type==="ANNOUNCED"||t.type==="MULTI_CHAIN")&&t.name!=="Browser Wallet"&&t.name!=="WalletConnect").length}}});var Jtt,Vr,Qtt,te,$l=y(()=>{En();Ss();ho();R0();An();ui();Lh();ws();Jtt=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Vr=yt({view:"Connect",history:["Connect"],transactionStack:[]}),Qtt={state:Vr,subscribeKey(t,e){return qt(Vr,t,e)},pushTransactionStack(t){Vr.transactionStack.push(t)},popTransactionStack(t){let e=Vr.transactionStack.pop();if(!e)return;let{onSuccess:r,onError:n,onCancel:s}=e;switch(t){case"success":r==null||r();break;case"error":n==null||n(),te.goBack();break;case"cancel":s==null||s(),te.goBack();break;default:}},push(t,e){let r=t,n=e;Ce.state.plan.hasExceededUsageLimit&&Jtt.includes(t)&&(r="UsageExceeded",n=void 0),r!==Vr.view&&(Vr.view=r,Vr.history.push(r),Vr.data=n)},reset(t,e){Vr.view=t,Vr.history=[t],Vr.data=e},replace(t,e){Vr.history.at(-1)===t||(Vr.view=t,Vr.history[Vr.history.length-1]=t,Vr.data=e)},goBack(){var n,s;let t=M.state.activeCaipAddress,e=te.state.view==="ConnectingFarcaster",r=!t&&e;if(Vr.history.length>1){Vr.history.pop();let[i]=Vr.history.slice(-1);i&&(t&&i==="Connect"?Vr.view="Account":Vr.view=i)}else Ke.close();(n=Vr.data)!=null&&n.wallet&&(Vr.data.wallet=void 0),(s=Vr.data)!=null&&s.redirectView&&(Vr.data.redirectView=void 0),setTimeout(()=>{var i,o,a;if(r){M.setAccountProp("farcasterUrl",void 0,M.state.activeChain);let c=ue.getAuthConnector();(i=c==null?void 0:c.provider)==null||i.reload();let l=c0(X.state);(a=(o=c==null?void 0:c.provider)==null?void 0:o.syncDappData)==null||a.call(o,{metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType})}},100)},goBackToIndex(t){if(Vr.history.length>1){Vr.history=Vr.history.slice(0,t+1);let[e]=Vr.history.slice(-1);e&&(Vr.view=e)}},goBackOrCloseModal(){te.state.history.length>1?te.goBack():Ke.close()}},te=Jr(Qtt)});var Mh,HG,Ln,FG=y(()=>{En();It();ho();ui();Mh=yt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),HG={state:Mh,subscribe(t){return rr(Mh,()=>t(Mh))},setThemeMode(t){Mh.themeMode=t;try{let e=ue.getAuthConnector();if(e){let r=HG.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Kb(r,t)})}}catch(e){console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Mh.themeVariables=S(S({},Mh.themeVariables),t);try{let e=ue.getAuthConnector();if(e){let r=HG.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Kb(Mh.themeVariables,Mh.themeMode)})}}catch(e){console.info("Unable to sync theme to auth connector")}},getSnapshot(){return c0(Mh)}},Ln=Jr(HG)});var Xwe,Xtt,mr,ert,ue,ui=y(()=>{En();Ss();It();b2();Hl();EB();MG();Nc();ho();R0();An();Lh();ws();$l();FG();Xwe=Object.fromEntries(uO.map(t=>[t,void 0])),Xtt=Object.fromEntries(uO.map(t=>[t,!0])),mr=yt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Xwe,filterByNamespaceMap:Xtt}),ert={state:mr,subscribe(t){return rr(mr,()=>{t(mr)})},subscribeKey(t,e){return qt(mr,t,e)},initialize(t){t.forEach(e=>{let r=ve.getConnectedConnectorId(e);r&&ue.setConnectorId(r,e)})},setActiveConnector(t){t&&(mr.activeConnector=Qp(t))},setConnectors(t){t.filter(s=>!mr.allConnectors.some(i=>i.id===s.id&&ue.getConnectorName(i.name)===ue.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&mr.allConnectors.push(Qp(s))});let r=ue.getEnabledNamespaces(),n=ue.getEnabledConnectors(r);mr.connectors=ue.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(mr.filterByNamespaceMap).forEach(e=>{mr.filterByNamespaceMap[e]=!1}),t.forEach(e=>{mr.filterByNamespaceMap[e]=!0}),ue.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){mr.filterByNamespaceMap[t]=e,ue.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let t=ue.getEnabledNamespaces(),e=ue.getEnabledConnectors(t),r=ue.areAllNamespacesEnabled();mr.connectors=ue.mergeMultiChainConnectors(e),r?Ce.clearFilterByNamespaces():Ce.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(mr.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return mr.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(mr.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){let e=ue.generateConnectorMapByName(t),r=[];return e.forEach(n=>{let s=n[0],i=(s==null?void 0:s.id)===J.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(t){let e=new Map;return t.forEach(r=>{let{name:n}=r,s=ue.getConnectorName(n);if(!s)return;let i=e.get(s)||[];i.find(a=>a.chain===r.chain)||i.push(r),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){let e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===J.CONNECTOR_ID.AUTH){let s=t,i=c0(X.state),o=Ln.getSnapshot().themeMode,a=Ln.getSnapshot().themeVariables;(r=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(n=s==null?void 0:s.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Kb(a,o)}),ue.setConnectors([t])}else ue.setConnectors([t])},getAuthConnector(t){var n;let e=t||M.state.activeChain,r=mr.connectors.find(s=>s.id===J.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return mr.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return xs.sortConnectorsByPriority(mr.allConnectors).find(r=>r.id===t)},getConnector({id:t,namespace:e}){let r=e||M.state.activeChain,n=mr.allConnectors.filter(o=>o.chain===r);return xs.sortConnectorsByPriority(n).find(o=>o.id===t||o.explorerId===t)},syncIfAuthConnector(t){var i,o;if(t.id!=="AUTH")return;let e=t,r=c0(X.state),n=Ln.getSnapshot().themeMode,s=Ln.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:Kb(s,n)})},getConnectorsByNamespace(t){let e=mr.allConnectors.filter(r=>r.chain===t);return ue.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return M.checkIfSmartAccountEnabled()&&Cn(t)===On.ACCOUNT_TYPES.EOA},selectWalletConnector(t){var s;let e=(s=te.state.data)==null?void 0:s.redirectView,r=M.state.activeChain,n=r?ue.getConnector({id:t.id,namespace:r}):void 0;Ywe.handleMobileDeeplinkRedirect((n==null?void 0:n.explorerId)||t.id,M.state.activeChain),n?te.push("ConnectingExternal",{connector:n,wallet:t,redirectView:e}):te.push("ConnectingWalletConnect",{wallet:t,redirectView:e})},getConnectors(t){return t?ue.getConnectorsByNamespace(t):ue.mergeMultiChainConnectors(mr.allConnectors)},setFilterByNamespace(t){mr.filterByNamespace=t,mr.connectors=ue.getConnectors(t),Ce.setFilterByNamespace(t)},setConnectorId(t,e){t&&(mr.activeConnectorIds=G(S({},mr.activeConnectorIds),{[e]:t}),ve.setConnectedConnectorId(e,t))},removeConnectorId(t){mr.activeConnectorIds=G(S({},mr.activeConnectorIds),{[t]:void 0}),ve.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return mr.activeConnectorIds[t]},isConnected(t){return t?!!mr.activeConnectorIds[t]:Object.values(mr.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){mr.activeConnectorIds=S({},Xwe)},extendConnectorsWithExplorerWallets(t){mr.allConnectors.forEach(n=>{let s=t.find(i=>{var o;return i.id===n.id||i.rdns&&i.rdns===((o=n.info)==null?void 0:o.rdns)});s&&(n.explorerWallet=s)});let e=ue.getEnabledNamespaces(),r=ue.getEnabledConnectors(e);mr.connectors=ue.mergeMultiChainConnectors(r)},async connect(t={}){let{namespace:e}=t;return ue.setFilterByNamespace(e),te.push("Connect",{addWalletForNamespace:e}),new Promise((r,n)=>{if(e){let s=M.subscribeChainProp("accountState",o=>{o!=null&&o.caipAddress&&(r({caipAddress:o==null?void 0:o.caipAddress}),s())},e),i=Ke.subscribeKey("open",o=>{o||(n(new Error("Modal closed")),i())})}else{let s=M.subscribeKey("activeCaipAddress",o=>{o&&(r({caipAddress:o}),s())}),i=Ke.subscribeKey("open",o=>{o||(n(new Error("Modal closed")),i())})}})}},ue=Jr(ert)});var trt,v5,exe=y(()=>{It();It();b2();An();oa();ui();Ml();Lh();$l();Hl();_c();Is();Nc();trt=1e3,v5={checkNamespaceConnectorId(t,e){return ue.getConnectorId(t)===e},isSocialProvider(t){return ct.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&ue.setActiveConnector(e),s==null||s(de.isMobile()&&t),n){let l=Ke.subscribeKey("open",u=>{u||(te.state.view!==n&&te.replace(n),l(),a(new Error("Modal closed")))})}let c=M.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),r&&Ke.close(),c(),o(St.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{let n=M.subscribeKey("activeCaipAddress",s=>{s&&(Ke.close(),n(),e(St.parseCaipAddress(s)))});le.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:s}){let i,o=!1,a=null,c=e||M.state.activeChain,l=M.subscribeKey("activeCaipAddress",u=>{u&&(r&&Ke.close(),l())});return new Promise((u,f)=>{async function d(h){var m;if((m=h.data)!=null&&m.resultUri)if(h.origin===J.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{let g=ue.getAuthConnector(c);if(g&&!o){i&&i.close(),o=!0;let b=h.data.resultUri;Be.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:t}}),ve.setConnectedSocialProvider(t),await le.connectExternal({id:g.id,type:g.type,socialUri:b},g.chain);let E=M.state.activeCaipAddress;if(!E){f(new Error("Failed to connect"));return}u(St.parseCaipAddress(E)),Be.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}})}}catch(g){Be.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:de.parseError(g)}}),f(new Error("Failed to connect"))}}else Be.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:"Untrusted Origin"}})}async function p(){if(Be.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"){n==null||n();let h=Ke.subscribeKey("open",g=>{!g&&t==="farcaster"&&(f(new Error("Popup closed")),s==null||s(),h())}),m=ue.getAuthConnector();if(m){let g=M.getAccountData(c);if(!(g!=null&&g.farcasterUrl))try{let{url:b}=await m.provider.getFarcasterUri();M.setAccountProp("farcasterUrl",b,c)}catch(b){f(new Error("Failed to connect to farcaster"))}}}else{let h=ue.getAuthConnector();a=de.returnOpenHref(`${J.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(h){let{uri:m}=await h.provider.getSocialRedirectUri({provider:t});if(a&&m){a.location.href=m,i=a;let g=setInterval(()=>{i!=null&&i.closed&&!o&&(f(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),f(new Error("Failed to initiate social connection"))}}catch(m){f(new Error("Failed to initiate social connection")),a==null||a.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((s,i)=>{if(r==null||r(),e){let a=Ke.subscribeKey("open",c=>{c||(te.state.view!==e&&te.replace(e),a(),i(new Error("Modal closed")))})}let o=M.subscribeKey("activeCaipAddress",a=>{a&&(n==null||n(),t&&Ke.close(),o(),s(St.parseCaipAddress(a)))})})},async updateEmail(){var n;let t=ve.getConnectedConnectorId(M.state.activeChain),e=ue.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==J.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");let r=(n=e.provider.getEmail())!=null?n:"";return await Ke.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((s,i)=>{let o=setInterval(()=>{var l;let c=(l=e.provider.getEmail())!=null?l:"";c!==r&&(Ke.close(),clearInterval(o),a(),s({email:c}))},trt),a=Ke.subscribeKey("open",c=>{c||(te.state.view!=="Connect"&&te.push("Connect"),clearInterval(o),a(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return M.checkIfSmartAccountEnabled()&&Cn(t)===On.ACCOUNT_TYPES.EOA}}});function E5(){var n,s;let t=((n=M.state.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((s=M.state.activeCaipNetwork)==null?void 0:s.id)||1,r=ct.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function zG(t){return ct.NATIVE_TOKEN_ADDRESS[t]}function Cn(t){var r;return(r=M.getAccountData(t))==null?void 0:r.preferredAccountType}function jw(t){var e,r;return t?(r=(e=M.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:M.state.activeCaipNetwork}var Hl=y(()=>{An();_c()});var $h,VG=y(()=>{oa();ui();Ml();ws();Is();$h={getConnectionStatus(t,e){let r=ue.state.activeConnectorIds[e],n=le.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){let i=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return G(S({},n),{accounts:i})}return n})},excludeExistingConnections(t,e){let r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a,c;let e=!!((a=X.state.remoteFeatures)!=null&&a.multiWallet),r=ue.state.activeConnectorIds[t],n=le.getConnections(t),i=((c=le.state.recentConnections.get(t))!=null?c:[]).filter(l=>ue.getConnectorById(l.connectorId)),o=$h.excludeExistingConnections([...n.map(l=>l.connectorId),...r?[r]:[]],i);return e?{connections:n,recentConnections:o}:{connections:n.filter(l=>l.connectorId.toLowerCase()===(r==null?void 0:r.toLowerCase())),recentConnections:[]}},onConnectMobile(t){let e=le.state.wcUri;if(t!=null&&t.mobile_link&&e)try{le.setWcError(!1);let{mobile_link:r,link_mode:n,name:s}=t,{redirect:i,redirectUniversalLink:o,href:a}=de.formatNativeUrl(r,e,n),c=i,l=o,u=de.isIframe()?"_top":"_self";le.setWcLinking({name:s,href:a}),le.setRecentWallet(t),X.state.experimental_preferUniversalLinks&&l?de.openHref(l,u):de.openHref(c,u)}catch(r){Be.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:r instanceof Error?r.message:"Error parsing the deep link",uri:e,mobile_link:t.mobile_link,name:t.name}}),le.setWcError(!0)}}}});var A5,go,v7=y(()=>{En();Ss();A5=yt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),go={state:A5,subscribe(t){return rr(A5,()=>t(A5))},subscribeOpen(t){return qt(A5,"open",t)},set(t){Object.assign(A5,S(S({},A5),t))}}});var Mn,rrt,E7,txe=y(()=>{En();b2();Hl();ho();Dh();An();Ml();ws();y2();Mn=yt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),rrt={state:Mn,subscribe(t){return rr(Mn,()=>t(Mn))},setLastNetworkInView(t){Mn.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Mn.loading=!0;try{let r=await tt.fetchTransactions({account:t,cursor:Mn.next,chainId:(e=M.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),n=E7.filterSpamTransactions(r.data),s=E7.filterByConnectedChain(n),i=[...Mn.transactions,...s];Mn.loading=!1,Mn.transactions=i,Mn.transactionsByYear=E7.groupTransactionsByYearAndMonth(Mn.transactionsByYear,s),Mn.empty=i.length===0,Mn.next=r.next?r.next:void 0}catch(r){let n=M.state.activeChain;Be.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:X.state.projectId,cursor:Mn.next,isSmartAccount:Cn(n)===On.ACCOUNT_TYPES.SMART_ACCOUNT}}),lt.showError("Failed to fetch transactions"),Mn.loading=!1,Mn.empty=!0,Mn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){let r=t;return e.forEach(n=>{var l,u;let s=new Date(n.metadata.minedAt).getFullYear(),i=new Date(n.metadata.minedAt).getMonth(),o=(l=r[s])!=null?l:{},c=((u=o[i])!=null?u:[]).filter(f=>f.id!==n.id);r[s]=G(S({},o),{[i]:[...c,n].sort((f,d)=>new Date(d.metadata.minedAt).getTime()-new Date(f.metadata.minedAt).getTime())})}),r},filterSpamTransactions(t){return t.filter(e=>{var n;return!((n=e.transfers)==null?void 0:n.every(s=>{var i;return((i=s.nft_info)==null?void 0:i.flags.is_spam)===!0}))})},filterByConnectedChain(t){var n;let e=(n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Mn.next=void 0},resetTransactions(){Mn.transactions=[],Mn.transactionsByYear={},Mn.lastNetworkInView=void 0,Mn.loading=!1,Mn.empty=!1,Mn.next=void 0}},E7=Jr(rrt,"API_ERROR")});var Kt,qw,nrt,le,oa=y(()=>{En();Ss();It();Hl();VG();exe();Is();Nc();ho();An();ui();Ml();Lh();v7();$l();txe();Kt=yt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"}),nrt={state:Kt,subscribe(t){return rr(Kt,()=>t(Kt))},subscribeKey(t,e){return qt(Kt,t,e)},_getClient(){return Kt._client},setClient(t){Kt._client=Qp(t)},initialize(t){let e=t.filter(r=>!!r.namespace).map(r=>r.namespace);le.syncStorageConnections(e)},syncStorageConnections(t){var n;let e=ve.getConnections(),r=t!=null?t:Array.from(M.state.chains.keys());for(let s of r){let i=(n=e[s])!=null?n:[],o=new Map(Kt.recentConnections);o.set(s,i),Kt.recentConnections=o}},getConnections(t){var e;return t?(e=Kt.connections.get(t))!=null?e:[]:[]},hasAnyConnection(t){let e=le.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){var r,n,s,i;Kt.wcFetchingUri=!0;let e=de.isTelegram()||de.isSafari()&&de.isIos();if(t==="always"||t==="auto"&&e){if(qw){await qw,qw=void 0;return}if(!de.isPairingExpired(Kt==null?void 0:Kt.wcPairingExpiry)){let o=Kt.wcUri;Kt.wcUri=o;return}qw=(n=(r=le._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r).catch(()=>{}),le.state.status="connecting",await qw,qw=void 0,Kt.wcPairingExpiry=void 0,le.state.status="connected"}else await((i=(s=le._getClient())==null?void 0:s.connectWalletConnect)==null?void 0:i.call(s))},async connectExternal(t,e,r=!0){var o,a,c;let n=await((a=(o=le._getClient())==null?void 0:o.connectExternal)==null?void 0:a.call(o,t));r&&M.setActiveNamespace(e);let s=ue.state.allConnectors.find(l=>l.id===(t==null?void 0:t.id)),i=t.type==="AUTH"?"email":"browser";return Be.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:(s==null?void 0:s.name)||"Unknown",view:te.state.view,walletRank:(c=s==null?void 0:s.explorerWallet)==null?void 0:c.order}}),n},async reconnectExternal(t){var r,n;await((n=(r=le._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));let e=t.chain||M.state.activeChain;e&&ue.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var n;if(!e)return;Ke.setLoading(!0,M.state.activeChain);let r=ue.getAuthConnector();r&&(M.setAccountProp("preferredAccountType",t,e),await r.provider.setPreferredAccount(t),ve.setPreferredAccountTypes(Object.entries(M.state.chains).reduce((s,[i,o])=>{let a=i,c=Cn(a);return c!==void 0&&(s[a]=c),s},{})),await le.reconnectExternal(r),Ke.setLoading(!1,M.state.activeChain),Be.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=le._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=le._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=le._getClient())==null?void 0:r.formatUnits(t,e)},updateBalance(t){var e;return(e=le._getClient())==null?void 0:e.updateBalance(t)},async sendTransaction(t){var e;return(e=le._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=le._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=le._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e,r;return(r=(e=le._getClient())==null?void 0:e.walletGetAssets(t))!=null?r:{}},async estimateGas(t){var e;return(e=le._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=le._getClient())==null?void 0:e.writeContract(t)},async writeSolanaTransaction(t){var e;return(e=le._getClient())==null?void 0:e.writeSolanaTransaction(t)},async getEnsAddress(t){var e;return(e=le._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=le._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=le._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){Kt.wcUri=void 0,Kt.wcPairingExpiry=void 0,Kt.wcLinking=void 0,Kt.recentWallet=void 0,Kt.wcFetchingUri=!1,Kt.status="disconnected",E7.resetTransactions(),ve.deleteWalletConnectDeepLink(),ve.deleteRecentWallet(),go.set({connectingWallet:void 0})},resetUri(){Kt.wcUri=void 0,Kt.wcPairingExpiry=void 0,qw=void 0,Kt.wcFetchingUri=!1,go.set({connectingWallet:void 0})},finalizeWcConnection(t){var n,s;let{wcLinking:e,recentWallet:r}=le.state;e&&ve.setWalletConnectDeepLink(e),r&&ve.setAppKitRecent(r),t&&Be.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:((s=(n=te.state.data)==null?void 0:n.wallet)==null?void 0:s.name)||"Unknown",view:te.state.view,walletRank:r==null?void 0:r.order}})},setWcBasic(t){Kt.wcBasic=t},setUri(t){Kt.wcUri=t,Kt.wcFetchingUri=!1,Kt.wcPairingExpiry=de.getPairingExpiry()},setWcLinking(t){Kt.wcLinking=t},setWcError(t){Kt.wcError=t,Kt.wcFetchingUri=!1,Kt.buffering=!1},setRecentWallet(t){Kt.recentWallet=t},setBuffering(t){Kt.buffering=t},setStatus(t){Kt.status=t},setIsSwitchingConnection(t){Kt.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){var n;try{await((n=le._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e,initialDisconnect:r}))}catch(s){throw new Ll("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},async disconnectConnector({id:t,namespace:e}){var r;try{await((r=le._getClient())==null?void 0:r.disconnectConnector({id:t,namespace:e}))}catch(n){throw new Ll("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){let r=new Map(Kt.connections);r.set(e,t),Kt.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){var i,o;let r=M.getAccountData(e),n=(o=(i=r==null?void 0:r.user)==null?void 0:i.accounts)==null?void 0:o.find(a=>a.type==="smartAccount"),s=n&&n.address.toLowerCase()===t.toLowerCase()&&v5.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await le.setPreferredAccountType(s,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){let n=ue.getConnectorById(t.connectorId),s=t.connectorId===J.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)r&&await le.handleAuthAccountSwitch({address:r,namespace:e});else{let i=await le.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e);return i==null?void 0:i.address}return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){var l,u;let s=ue.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===J.CONNECTOR_ID.AUTH,a=t.connectorId===J.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&v5.isSocialProvider(i)){let{address:f}=await v5.connectSocial({social:i,closeModalOnConnect:n,onOpenFarcaster(){Ke.open({view:"ConnectingFarcaster"})},onConnect(){te.replace("ProfileWallets")}});c=f}else{let{address:f}=await v5.connectEmail({closeModalOnConnect:n,onOpen(){Ke.open({view:"EmailLogin"})},onConnect(){te.replace("ProfileWallets")}});c=f}else if(a){let{address:f}=await v5.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:n,onOpen(d){let p=d?"AllWallets":"ConnectingWalletConnect";Ke.state.open?te.push(p):Ke.open({view:p})},onConnect(){te.replace("ProfileWallets")}});c=f}else{let f=await le.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);f&&(c=f.address)}return o&&r&&await le.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:s}){var c;let i,o=(c=M.getAccountData(r))==null?void 0:c.caipAddress;if(o){let{address:l}=St.parseCaipAddress(o);i=l}let a=$h.getConnectionStatus(t,r);switch(a){case"connected":case"active":{let l=await le.handleActiveConnection({connection:t,namespace:r,address:e});if(i&&l){let u=l.toLowerCase()!==i.toLowerCase();s==null||s({address:l,namespace:r,hasSwitchedAccount:u,hasSwitchedWallet:a==="active"})}break}case"disconnected":{let l=await le.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});l&&(s==null||s({address:l,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},le=Jr(nrt)});var AB,rxe=y(()=>{b5();AB={createBalance(t,e){let r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return m0(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){let e=t.split(":");if(e.length<2||!e[1])return"0x0";let r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}}});async function nxe(){if(!jG){let{createPublicClient:t,http:e,defineChain:r}=await Promise.resolve().then(()=>(b5(),jwe));jG={createPublicClient:t,http:e,defineChain:r}}return jG}var jG,CB,sxe=y(()=>{It();ws();CB={getBlockchainApiRpcUrl(t,e){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()},async getViemChain(t){let{defineChain:e}=await nxe(),{chainId:r}=St.parseCaipNetworkId(t.caipNetworkId);return e(G(S({},t),{id:Number(r)}))},async createViemPublicClient(t){let{createPublicClient:e,http:r}=await nxe(),n=X.state.projectId,s=await CB.getViemChain(t);if(!s)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:s,transport:r(CB.getBlockchainApiRpcUrl(t.caipNetworkId,n))})}}});var rf,C5=y(()=>{b5();It();Dh();An();oa();ui();rxe();Nc();sxe();rf={async getMyTokensWithBalance(t={forceUpdate:void 0,caipNetwork:M.state.activeCaipNetwork,address:(e=>(e=M.getAccountData())==null?void 0:e.address)()}){let{forceUpdate:r,caipNetwork:n,address:s}=t,i=ue.getConnectorId("eip155")===J.CONNECTOR_ID.AUTH;if(!s)return[];let o=n?`${n.caipNetworkId}:${s}`:s,a=ve.getBalanceCacheForCaipAddress(o);if(a)return a.balances;if(n&&n.chainNamespace===J.CHAIN.EVM&&i){let l=await this.getEIP155Balances(s,n);if(l)return this.filterLowQualityTokens(l)}let c=await tt.getBalance(s,n==null?void 0:n.caipNetworkId,r);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(t,e){var r,n;try{let s=AB.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await le.getCapabilities(t);if(!((n=(r=i==null?void 0:i[s])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;let o=await le.walletGetAssets({account:t,chainFilter:[s]});if(!AB.isWalletGetAssetsResponse(o))return null;let c=(o[s]||[]).map(l=>AB.createBalance(l,e.caipNetworkId));return ve.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch(s){return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:r}){let n=await CB.createViemPublicClient(r),{address:s}=St.parseCaipAddress(t),[{result:i},{result:o},{result:a},{result:c}]=await n.multicall({contracts:[{address:e,functionName:"name",args:[],abi:Nw},{address:e,functionName:"symbol",args:[],abi:Nw},{address:e,functionName:"balanceOf",args:[s],abi:Nw},{address:e,functionName:"decimals",args:[],abi:Nw}]});return{name:i,symbol:o,decimals:c,balance:a&&c?m0(a,c):"0"}}}});var qG,Ww,WG=y(()=>{qG={adapters:{}},Ww={state:qG,initialize(t){qG.adapters=S({},t)},get(t){return qG.adapters[t]}}});var SB,qa,Mr,IB=y(()=>{En();Ss();SB={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},qa=yt({providers:S({},SB),providerIds:S({},SB)}),Mr={state:qa,subscribeKey(t,e){return qt(qa,t,e)},subscribe(t){return rr(qa,()=>{t(qa)})},subscribeProviders(t){return rr(qa.providers,()=>t(qa.providers))},setProvider(t,e){t&&e&&(qa.providers[t]=Qp(e))},getProvider(t){if(t)return qa.providers[t]},setProviderId(t,e){e&&(qa.providerIds[t]=e)},getProviderId(t){if(t)return qa.providerIds[t]},reset(){qa.providers=S({},SB),qa.providerIds=S({},SB)},resetChain(t){qa.providers[t]=void 0,qa.providerIds[t]=void 0}}});var x2,KG=y(()=>{Dh();An();oa();C5();Hl();x2={async getTokenList(t){var n;let e=await tt.fetchSwapTokens({chainId:t});return((n=e==null?void 0:e.tokens)==null?void 0:n.map(s=>G(S({},s),{eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e,r;let t=M.state.activeCaipNetwork;if(!t)return null;try{if(t.chainNamespace==="solana"){let n=(r=await((e=le)==null?void 0:e.estimateGas({chainNamespace:"solana"})))==null?void 0:r.toString();return{standard:n,fast:n,instant:n}}else return await tt.fetchGasPrice({chainId:t.caipNetworkId})}catch(n){return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){let s=await tt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&r&&n){let i=le.parseUnits(r,n)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){var r;let e=await rf.getMyTokensWithBalance({forceUpdate:t,caipNetwork:M.state.activeCaipNetwork,address:(r=M.getAccountData())==null?void 0:r.address});return M.setAccountProp("tokenBalance",e,M.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>G(S({},e),{address:e!=null&&e.address?e.address:E5(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]},async handleSwapError(t){var e,r;try{let n=t==null?void 0:t.cause;if(!(n!=null&&n.json))return;let s=await n.json(),i=(r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description;return i!=null&&i.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch(n){return}}}});var gr,srt,Lt,GG=y(()=>{En();Ss();It();It();b2();C5();Hl();_c();Is();KG();ho();An();oa();Ml();$l();y2();gr=yt({tokenBalances:[],loading:!1}),srt={state:gr,subscribe(t){return rr(gr,()=>t(gr))},subscribeKey(t,e){return qt(gr,t,e)},setToken(t){t&&(gr.token=Qp(t))},setTokenAmount(t){gr.sendTokenAmount=t},setReceiverAddress(t){gr.receiverAddress=t},setReceiverProfileImageUrl(t){gr.receiverProfileImageUrl=t},setReceiverProfileName(t){gr.receiverProfileName=t},setNetworkBalanceInUsd(t){gr.networkBalanceInUSD=t},setLoading(t){gr.loading=t},getSdkEventProperties(t){var e,r,n;return{message:de.parseError(t),isSmartAccount:Cn(M.state.activeChain)===On.ACCOUNT_TYPES.SMART_ACCOUNT,token:((e=gr.token)==null?void 0:e.symbol)||"",amount:(r=gr.sendTokenAmount)!=null?r:0,network:((n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}},async sendToken(){var t;try{switch(Lt.setLoading(!0),(t=M.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Lt.sendEvmToken();return;case"solana":await Lt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Ko.isUserRejectedRequestError(e)?new qb(e):e}finally{Lt.setLoading(!1)}},async sendEvmToken(){var r,n,s;let t=M.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");let e=Cn(t);if(!Lt.state.sendTokenAmount||!Lt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Lt.state.token)throw new Error("A token is required");if((r=Lt.state.token)!=null&&r.address){Be.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===On.ACCOUNT_TYPES.SMART_ACCOUNT,token:Lt.state.token.address,amount:Lt.state.sendTokenAmount,network:((n=M.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}});let{hash:i}=await Lt.sendERC20Token({receiverAddress:Lt.state.receiverAddress,tokenAddress:Lt.state.token.address,sendTokenAmount:Lt.state.sendTokenAmount,decimals:Lt.state.token.quantity.decimals});i&&(gr.hash=i)}else{Be.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===On.ACCOUNT_TYPES.SMART_ACCOUNT,token:Lt.state.token.symbol||"",amount:Lt.state.sendTokenAmount,network:((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}});let{hash:i}=await Lt.sendNativeToken({receiverAddress:Lt.state.receiverAddress,sendTokenAmount:Lt.state.sendTokenAmount,decimals:Lt.state.token.quantity.decimals});i&&(gr.hash=i)}},async fetchTokenBalance(t){var o,a,c,l;gr.loading=!0;let e=M.state.activeChain,r=(o=M.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=M.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=(l=(c=M.getAccountData(e))==null?void 0:c.caipAddress)!=null?l:M.state.activeCaipAddress,i=s?de.getPlainAddress(s):void 0;if(gr.lastRetry&&!de.isAllowedRetry(gr.lastRetry,30*ct.ONE_SEC_MS))return gr.loading=!1,[];try{if(i&&r&&n){let u=await rf.getMyTokensWithBalance();return gr.tokenBalances=u,gr.lastRetry=void 0,u}}catch(u){gr.lastRetry=Date.now(),t==null||t(u),lt.showError("Token Balance Unavailable")}finally{gr.loading=!1}return[]},fetchNetworkBalance(){if(gr.tokenBalances.length===0)return;let t=x2.mapBalancesToSwapTokens(gr.tokenBalances);if(!t)return;let e=t.find(r=>r.address===E5());e&&(gr.networkBalanceInUSD=e?Nt.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var o,a,c,l;te.pushTransactionStack({});let e=t.receiverAddress,r=(o=M.getAccountData())==null?void 0:o.address,n=le.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i=await le.sendTransaction({chainNamespace:J.CHAIN.EVM,to:e,address:r,data:"0x",value:n!=null?n:BigInt(0)});return Be.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Cn("eip155")===On.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=Lt.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=M.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||"",hash:i||""}}),(l=le._getClient())==null||l.updateBalance("eip155"),Lt.resetSend(),{hash:i}},async sendERC20Token(t){var n,s,i;te.pushTransactionStack({onSuccess(){te.replace("Account")}});let e=le.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),r=(n=M.getAccountData())==null?void 0:n.address;if(r&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){let o=de.getPlainAddress(t.tokenAddress);if(!o)throw new Error("SendController:sendERC20Token - tokenAddress is required");let a=await le.writeContract({fromAddress:r,tokenAddress:o,args:[t.receiverAddress,e!=null?e:BigInt(0)],method:"transfer",abi:zC.getERC20Abi(o),chainNamespace:J.CHAIN.EVM});return Be.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Cn("eip155")===On.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=Lt.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((i=M.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||"",hash:a||""}}),Lt.resetSend(),{hash:a}}return{hash:void 0}},async sendSolanaToken(){var r,n,s;if(!Lt.state.sendTokenAmount||!Lt.state.receiverAddress)throw new Error("An amount and receiver address are required");te.pushTransactionStack({onSuccess(){te.replace("Account")}});let t;Lt.state.token&&Lt.state.token.address!==ct.SOLANA_NATIVE_TOKEN_ADDRESS&&(de.isCaipAddress(Lt.state.token.address)?t=de.getPlainAddress(Lt.state.token.address):t=Lt.state.token.address);let e=await le.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Lt.state.receiverAddress,value:Lt.state.sendTokenAmount});e&&(gr.hash=e),(r=le._getClient())==null||r.updateBalance("solana"),Be.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:((n=Lt.state.token)==null?void 0:n.symbol)||"",amount:Lt.state.sendTokenAmount,network:((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||"",hash:e||""}}),Lt.resetSend()},resetSend(){gr.token=void 0,gr.sendTokenAmount=void 0,gr.receiverAddress=void 0,gr.receiverProfileImageUrl=void 0,gr.receiverProfileName=void 0,gr.loading=!1,gr.tokenBalances=[]}},Lt=Jr(srt)});var ZG,TB,ze,ixe,M,An=y(()=>{En();Ss();It();v0e();C5();_c();Is();Nc();ho();WG();oa();ui();Ml();Lh();ws();IB();v7();GG();y2();ZG={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},TB={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ze=yt({chains:y0e(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),ixe={state:ze,subscribe(t){return rr(ze,()=>{t(ze)})},subscribeKey(t,e){return qt(ze,t,e)},subscribeAccountStateProp(t,e,r){var s;let n=r||ze.activeChain;return n?qt(((s=ze.chains.get(n))==null?void 0:s.accountState)||{},t,e):()=>{}},subscribeChainProp(t,e,r){let n;return rr(ze.chains,()=>{var i;let s=r||ze.activeChain;if(s){let o=(i=ze.chains.get(s))==null?void 0:i[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){var u;let{chainId:n,namespace:s}=ve.getActiveNetworkProps(),i=e==null?void 0:e.find(f=>f.id.toString()===(n==null?void 0:n.toString())),a=t.find(f=>(f==null?void 0:f.namespace)===s)||(t==null?void 0:t[0]),c=t.map(f=>f.namespace).filter(f=>f!==void 0),l=X.state.enableEmbedded?new Set([...c]):new Set([...(u=e==null?void 0:e.map(f=>f.chainNamespace))!=null?u:[]]);((t==null?void 0:t.length)===0||!a)&&(ze.noAdapters=!0),ze.noAdapters||(ze.activeChain=a==null?void 0:a.namespace,ze.activeCaipNetwork=i,M.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),ze.activeChain&&go.set({activeChain:a==null?void 0:a.namespace})),l.forEach(f=>{let d=e==null?void 0:e.filter(m=>m.chainNamespace===f),p=ve.getPreferredAccountTypes()||{},h=S(S({},X.state.defaultAccountTypes),p);M.state.chains.set(f,S({namespace:f,networkState:yt(G(S({},TB),{caipNetwork:d==null?void 0:d[0]})),accountState:yt(G(S({},ZG),{preferredAccountType:h[f]})),caipNetworks:d!=null?d:[]},r)),M.setRequestedCaipNetworks(d!=null?d:[],f)})},removeAdapter(t){var e,r;if(ze.activeChain===t){let n=Array.from(ze.chains.entries()).find(([s])=>s!==t);if(n){let s=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];s&&M.setActiveCaipNetwork(s)}}ze.chains.delete(t)},addAdapter(t,{connectionControllerClient:e},r){var n;if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ze.chains.set(t.namespace,{namespace:t.namespace,networkState:G(S({},TB),{caipNetwork:r[0]}),accountState:S({},ZG),caipNetworks:r,connectionControllerClient:e}),M.setRequestedCaipNetworks((n=r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))!=null?n:[],t.namespace)},addNetwork(t){var r;let e=ze.chains.get(t.chainNamespace);if(e){let n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(s=>s.id===t.id)||n.push(t),ze.chains.set(t.chainNamespace,G(S({},e),{caipNetworks:n})),M.setRequestedCaipNetworks(n,t.chainNamespace),ue.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var n,s,i;let r=ze.chains.get(t);if(r){let o=((n=ze.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((s=r.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=r==null?void 0:r.caipNetworks)!=null&&i[0])&&M.setActiveCaipNetwork(r.caipNetworks[0]),ze.chains.set(t,G(S({},r),{caipNetworks:a})),M.setRequestedCaipNetworks(a||[],t),a.length===0&&ue.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){let r=ze.chains.get(t);r&&(r.networkState=S(S({},r.networkState||TB),e),ze.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");let n=ze.chains.get(t);if(n){let s=S(S({},n.accountState||ZG),e);ze.chains.set(t,G(S({},n),{accountState:s})),(ze.chains.size===1||ze.activeChain===t)&&e.caipAddress&&(ze.activeCaipAddress=e.caipAddress)}},setChainNetworkData(t,e){if(!t)return;let r=ze.chains.get(t);if(r){let n=S(S({},r.networkState||TB),e);ze.chains.set(t,G(S({},r),{networkState:n}))}},setAccountProp(t,e,r,n=!0){M.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){var n,s;ze.activeChain=t;let e=t?ze.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(ze.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ze.activeCaipNetwork=r,M.setChainNetworkData(t,{caipNetwork:r}),ve.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),go.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var i,o;if(!t)return;let e=ze.activeChain===t.chainNamespace;e||M.setIsSwitchingNamespace(!0);let r=ze.chains.get(t.chainNamespace);ze.activeChain=t.chainNamespace,ze.activeCaipNetwork=t,M.setChainNetworkData(t.chainNamespace,{caipNetwork:t});let n=(i=r==null?void 0:r.accountState)==null?void 0:i.address;if(n)ze.activeCaipAddress=`${t.chainNamespace}:${t.id}:${n}`;else if(e&&ze.activeCaipAddress){let{address:a}=St.parseCaipAddress(ze.activeCaipAddress);n=a,ze.activeCaipAddress=`${t.caipNetworkId}:${n}`}else ze.activeCaipAddress=void 0;M.setChainAccountData(t.chainNamespace,{address:n,caipAddress:ze.activeCaipAddress}),Lt.resetSend(),go.set({activeChain:ze.activeChain,selectedNetworkId:(o=ze.activeCaipNetwork)==null?void 0:o.caipNetworkId}),ve.setActiveCaipNetworkId(t.caipNetworkId),!M.checkIfSupportedNetwork(t.chainNamespace)&&X.state.enableNetworkSwitch&&!X.state.allowUnsupportedChain&&!le.state.wcBasic&&M.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;let e=ze.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var s;if(!t)return;let e=t!==M.state.activeChain,r=(s=M.getNetworkData(t))==null?void 0:s.caipNetwork,n=M.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await M.switchActiveNetwork(n)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){var o;let r=M.state.activeChain;if(!r)throw new Error("ChainController:switchActiveNetwork - namespace is required");let n=Mr.getProviderId(ze.activeChain)==="AUTH",s=(o=M.getAccountData(r))==null?void 0:o.address,i=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t.chainNamespace);try{if(s&&t.chainNamespace===r||n&&i){let a=Ww.get(t.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:t})}M.setActiveCaipNetwork(t)}catch(a){if(e)throw a}Be.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})},getConnectionControllerClient(t){let e=t||ze.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");let r=ze.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){var n;let r=(n=ze.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){let e=ze.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return de.sortRequestedNetworks(r,n).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){let t=[];return ze.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let r=M.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){M.setAdapterNetworkState(e,{requestedCaipNetworks:t});let n=M.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(n));ue.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){let t=[];return ze.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let r=M.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){var e,r;return t?(r=(e=ze.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:ze.activeCaipNetwork},getActiveCaipAddress(){return ze.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;let e=ze.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},setApprovedCaipNetworksData(t,e){M.setAdapterNetworkState(t,e)},checkIfSupportedNetwork(t,e){var s;let r=e||((s=ze.activeCaipNetwork)==null?void 0:s.caipNetworkId),n=M.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){if(!ze.activeChain)return!0;let e=M.getRequestedCaipNetworks(ze.activeChain);return e==null?void 0:e.some(r=>r.id===t)},checkIfSmartAccountEnabled(){var n,s;let t=Hb.caipNetworkIdToNumber((n=ze.activeCaipNetwork)==null?void 0:n.caipNetworkId);if(!ze.activeChain||!t)return!1;let r=((s=p4.get(Il.SMART_ACCOUNT_ENABLED_NETWORKS))==null?void 0:s.split(","))||[];return!!(r!=null&&r.includes(t.toString()))},showUnsupportedChainUI(){Ke.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let t=ze.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&ct.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){M.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var s,i;let e=t;if(!e)throw new Error("Chain is required to set account prop");let r=(i=(s=M.state.chains.get(e))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,n=X.state.defaultAccountTypes[e];ze.activeCaipAddress=void 0,M.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ue.removeConnectorId(e)},setIsSwitchingNamespace(t){ze.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;let t=[],e;if(ze.chains.forEach(s=>{J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){let s=t[0];return e=s?(n=(r=ze.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var r;let e=t||ze.activeChain;if(e)return(r=M.state.chains.get(e))==null?void 0:r.accountState},getNetworkData(t){var r;let e=t||ze.activeChain;if(e)return(r=M.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;let r=M.state.chains.get(t),n=(s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(a=>a.id.toString()===(e==null?void 0:e.toString()));return n||((i=r==null?void 0:r.networkState)==null?void 0:i.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){let t=ue.state.filterByNamespace;return(t?[ze.chains.get(t)]:Array.from(ze.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?M.getRequestedCaipNetworks(t):M.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return ixe.getCaipNetworks(e).find(r=>r.id.toString()===t.toString()||r.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){ze.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ze.lastConnectedSIWECaipNetwork},async fetchTokenBalance(t){var o,a;let e=M.getAccountData();if(!e)return[];let r=(o=M.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=M.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=M.state.activeCaipAddress,i=s?de.getPlainAddress(s):void 0;if(M.setAccountProp("balanceLoading",!0,n),e.lastRetry&&!de.isAllowedRetry(e.lastRetry,30*ct.ONE_SEC_MS))return M.setAccountProp("balanceLoading",!1,n),[];try{if(i&&r&&n){let c=await rf.getMyTokensWithBalance();return M.setAccountProp("tokenBalance",c,n),M.setAccountProp("lastRetry",void 0,n),M.setAccountProp("balanceLoading",!1,n),c}}catch(c){M.setAccountProp("lastRetry",Date.now(),n),t==null||t(c),lt.showError("Token Balance Unavailable")}finally{M.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(t){var c;let e=t.chainNamespace,r=!!((c=M.getAccountData(e))!=null&&c.caipAddress),n=M.getAllApprovedCaipNetworkIds(),s=M.getNetworkProp("supportsAllNetworks",e)!==!1,i=ue.getConnectorId(e),o=ue.getAuthConnector(),a=i===J.CONNECTOR_ID.AUTH&&o;return!r||s||a?!1:!(n!=null&&n.includes(t.caipNetworkId))}},M=Jr(ixe)});var oxe,axe=y(()=>{It();An();ui();$l();oxe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){var d,p;let r=M.state.activeCaipNetwork,n=M.state.activeChain,s=te.state.data;if(t.id===(r==null?void 0:r.id))return;let o=!!((d=M.getAccountData(n))!=null&&d.address),a=!!((p=M.getAccountData(t.chainNamespace))!=null&&p.address),c=t.chainNamespace!==n,u=ue.getConnectorId(n)===J.CONNECTOR_ID.AUTH,f=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(h=>h===t.chainNamespace);e||u&&f?te.push("SwitchNetwork",G(S({},s),{network:t})):o&&c&&!a?te.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):te.push("SwitchNetwork",G(S({},s),{network:t}))}}});var Wa,irt,Ke,Lh=y(()=>{En();Ss();Is();axe();ho();R0();An();oa();ui();Ml();ws();v7();$l();Wa=yt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),irt={state:Wa,subscribe(t){return rr(Wa,()=>t(Wa))},subscribeKey(t,e){return qt(Wa,t,e)},async open(t){var o,a;let e=t==null?void 0:t.namespace,r=M.state.activeChain,n=e&&e!==r,s=(o=M.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress,i=M.state.noAdapters;if(le.state.wcBasic?Ce.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Ce.prefetch(),ue.setFilterByNamespace(t==null?void 0:t.namespace),Ke.setLoading(!0,e),e&&n){let c=((a=M.getNetworkData(e))==null?void 0:a.caipNetwork)||M.getRequestedCaipNetworks(e)[0];c&&(i?(await M.switchActiveNetwork(c),te.push("ConnectingWalletConnectBasic")):oxe.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0}))}else X.state.manualWCControl||i&&!s?de.isMobile()?te.reset("AllWallets"):te.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?te.reset(t.view,t.data):s?te.reset("Account"):te.reset("Connect");Wa.open=!0,go.set({open:!0}),Be.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){let t=X.state.enableEmbedded,e=!!M.state.activeCaipAddress;Wa.open&&Be.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Wa.open=!1,te.reset("Connect"),Ke.clearLoading(),t?e?te.replace("Account"):te.push("Connect"):go.set({open:!1}),le.resetUri()},setLoading(t,e){e&&Wa.loadingNamespaceMap.set(e,t),Wa.loading=t,go.set({loading:t})},clearLoading(){Wa.loadingNamespaceMap.clear(),Wa.loading=!1,go.set({loading:!1})},shake(){Wa.shake||(Wa.shake=!0,setTimeout(()=>{Wa.shake=!1},500))}},Ke=Jr(irt)});var A7,YG,ort,Er,art,C7,cxe=y(()=>{En();Ss();It();_c();ho();R0();Dh();An();ws();A7={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},YG={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},ort={providers:oq,selectedProvider:null,error:null,purchaseCurrency:A7,paymentCurrency:YG,purchaseCurrencies:[A7],paymentCurrencies:[],quotesLoading:!1},Er=yt(ort),art={state:Er,subscribe(t){return rr(Er,()=>t(Er))},subscribeKey(t,e){return qt(Er,t,e)},setSelectedProvider(t){var e,r,n;if(t&&t.name==="meld"){let s=M.state.activeChain,i=s===J.CHAIN.SOLANA?"SOL":"USDC",o=s&&(n=(r=(e=M.state.chains.get(s))==null?void 0:e.accountState)==null?void 0:r.address)!=null?n:"",a=new URL(t.url);a.searchParams.append("publicKey",b0e),a.searchParams.append("destinationCurrencyCode",i),a.searchParams.append("walletAddress",o),a.searchParams.append("externalCustomerId",X.state.projectId),Er.selectedProvider=G(S({},t),{url:a.toString()})}else Er.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){let e=t,r=oq.filter(n=>e.includes(n.name));Er.providers=r}else Er.providers=[]},setPurchaseCurrency(t){Er.purchaseCurrency=t},setPaymentCurrency(t){Er.paymentCurrency=t},setPurchaseAmount(t){C7.state.purchaseAmount=t},setPaymentAmount(t){C7.state.paymentAmount=t},async getAvailableCurrencies(){let t=await tt.getOnrampOptions();Er.purchaseCurrencies=t.purchaseCurrencies,Er.paymentCurrencies=t.paymentCurrencies,Er.paymentCurrency=t.paymentCurrencies[0]||YG,Er.purchaseCurrency=t.purchaseCurrencies[0]||A7,await Ce.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ce.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Er.quotesLoading=!0;try{let r=await tt.getOnrampQuote({purchaseCurrency:Er.purchaseCurrency,paymentCurrency:Er.paymentCurrency,amount:((t=Er.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Er.purchaseCurrency)==null?void 0:e.symbol});return Er.quotesLoading=!1,Er.purchaseAmount=Number(r==null?void 0:r.purchaseAmount.amount),r}catch(r){return Er.error=r.message,Er.quotesLoading=!1,null}finally{Er.quotesLoading=!1}},resetState(){Er.selectedProvider=null,Er.error=null,Er.purchaseCurrency=A7,Er.paymentCurrency=YG,Er.purchaseCurrencies=[A7],Er.paymentCurrencies=[],Er.paymentAmount=void 0,Er.purchaseAmount=void 0,Er.quotesLoading=!1}},C7=Jr(art)});var crt,lrt,urt,uir,frt,fir,PB=y(()=>{Mu();t4();iO();crt=pr(Fo(),1),lrt="wc",urt="universal_provider",uir=`${lrt}@2:${urt}:`,frt="https://rpc.walletconnect.org/v1/",fir=`${frt}bundler`});var lxe,uxe=y(()=>{lxe={convertEVMChainIdToCoinType(t){if(t>=2147483648)throw new Error("Invalid chainId");return(2147483648|t)>>>0}}});var Fl,drt,v2,JG=y(()=>{En();Ss();uxe();Nc();ho();Dh();An();oa();ui();$l();Fl=yt({suggestions:[],loading:!1}),drt={state:Fl,subscribe(t){return rr(Fl,()=>t(Fl))},subscribeKey(t,e){return qt(Fl,t,e)},async resolveName(t){var e,r;try{return await tt.lookupEnsName(t)}catch(n){let s=n;throw new Error(((r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await tt.lookupEnsName(t),!0}catch(e){return!1}},async getSuggestions(t){try{Fl.loading=!0,Fl.suggestions=[];let e=await tt.getEnsNameSuggestions(t);return Fl.suggestions=e.suggestions||[],Fl.suggestions}catch(e){let r=v2.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Fl.loading=!1}},async getNamesForAddress(t){try{if(!M.state.activeCaipNetwork)return[];let r=ve.getEnsFromCacheForAddress(t);if(r)return r;let n=await tt.reverseLookupEnsName({address:t});return ve.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){let r=v2.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){var s;let e=M.state.activeCaipNetwork,r=(s=M.getAccountData(e==null?void 0:e.chainNamespace))==null?void 0:s.address,n=ue.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");Fl.loading=!0;try{let i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});te.pushTransactionStack({onCancel(){te.replace("RegisterAccountName")}});let o=await le.signMessage(i);Fl.loading=!1;let a=e.id;if(!a)throw new Error("Network not found");let c=lxe.convertEVMChainIdToCoinType(Number(a));await tt.registerEnsName({coinType:c,address:r,signature:o,message:i}),M.setAccountProp("profileName",t,e.chainNamespace),ve.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),te.replace("RegisterAccountNameSuccess")}catch(i){let o=v2.parseEnsApiError(i,`Error registering name ${t}`);throw te.replace("RegisterAccountName"),new Error(o)}finally{Fl.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,s;let r=t;return((s=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:s.description)||e}},v2=Jr(drt)});function _B(t){try{return new URL(t)}catch(e){return null}}function prt(t){let e=t.split("/"),r=e.length>0&&e[0]!==void 0?e[0]:"",n=r.lastIndexOf(":");return n===-1?{host:r}:{host:r.slice(0,n),port:r.slice(n+1)}}function hrt(t){let e=t.indexOf("://");if(e===-1)return null;let r=t.slice(0,e),n=e+3,s=t.indexOf("/",n);s===-1&&(s=t.length);let i=t.slice(n,s),o=i.lastIndexOf(":");return o===-1?{scheme:r,host:i}:{scheme:r,host:i.slice(0,o),port:i.slice(o+1)}}function fxe(t,e){if(e.includes("://")){let o=_B(e);return o?o.origin===t:!1}let{host:r,port:n}=prt(e),s=t.indexOf("://");if(s!==-1){let o=s+3,a=t.indexOf("/",o);a===-1&&(a=t.length);let c=t.slice(o,a);if(n!==void 0)return`${r}:${n}`===c;let l=c.split(":")[0];return r===l}let i=_B(t);return i?n!==void 0?r===i.hostname&&n===(i.port||void 0):r===i.hostname:!1}function dxe(t,e,r){let n=r,s,i=n.indexOf("://");i!==-1&&(s=n.slice(0,i),n=n.slice(i+3));let o=n.indexOf("/");o!==-1&&(n=n.slice(0,o));let a=n,c,l=a.lastIndexOf(":");l!==-1&&(c=a.slice(l+1),a=a.slice(0,l));let u=a.split(".");for(let m of u)if(m.includes("*")&&m!=="*")return!1;let f=t.protocol.replace(/:$/u,"");if(s&&s!==f||c!==void 0&&c!=="*"&&c!==t.port)return!1;let d=hrt(e),h=(d?d.host:t.hostname).split(".");if(u.length!==h.length)return!1;for(let m=u.length-1;m>=0;m-=1){let g=u[m],b=h[m];if(g!=="*"&&g!==b)return!1}return!0}var pxe=y(()=>{});var mrt,nf,NB=y(()=>{It();JG();pxe();mrt={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},nf={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return mrt[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return S({},t);let r=S({},t),n=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>n.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>n.add(s)),e.events&&Object.keys(e.events).forEach(s=>n.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{let[i]=s.split(":");i&&n.add(i)}),n.forEach(s=>{r[s]||(r[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{r[s]&&(r[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{r[s]&&(r[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{r[s]&&(r[s].events=i)}),e.rpcMap){let s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{let[a,c]=i.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),s.has(a)||(r[a].rpcMap={},s.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){let r=t.reduce((n,s)=>{let{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));let l=`${o}:${i}`,u=n[o];switch(u.chains.push(l),l){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":u.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":u.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break;default:}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;let e=await v2.resolveName(t);return((n=(e!=null&&e.addresses?Object.values(e.addresses):[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{let r=e.chains||[],n=e.accounts.map(s=>{let[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){let e=t,r=typeof e.code=="number",n=r&&e.code===nf.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=r&&e.code===nf.RPC_ERROR_CODE.USER_REJECTED;return n||s}return!1}catch(e){return!1}},isOriginAllowed(t,e,r){let n=[...e,...r];if(e.length===0)return!0;let s=_B(t);if(!s)return n.some(i=>!i.includes("*")&&i===t);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(let i of n)if(i.includes("*")){if(dxe(s,t,i))return!0}else if(fxe(t,i))return!0;return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){r&&t.on("connect",()=>{let a=nf.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),s&&t.on("accountsChanged",a=>{var c,l,u,f,d;try{let p=((u=(l=(c=t.session)==null?void 0:c.namespaces)==null?void 0:l[e])==null?void 0:u.accounts)||[],h=(d=(f=t.rpcProviders)==null?void 0:f[e])==null?void 0:d.getDefaultChain(),m=a.map(g=>{let b=p.find(x=>x.includes(`${e}:${h}:${g}`));if(!b)return;let{chainId:E,chainNamespace:w}=St.parseCaipAddress(b);return{address:g,chainId:E,chainNamespace:w}}).filter(g=>g!==void 0);m.length>0&&s(m)}catch(p){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,p)}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var s,i,o,a;let r=new Set,n=(a=(o=(i=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>St.parseCaipAddress(c)).filter(({address:c})=>r.has(c.toLowerCase())?!1:(r.add(c.toLowerCase()),!0));return n&&n.length>0?n:[]}}});var grt,S7,hxe=y(()=>{PB();It();Hl();Is();NB();An();ui();IB();grt=[J.CONNECTOR_ID.AUTH,J.CONNECTOR_ID.WALLET_CONNECT],S7=class{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>M.getCaipNetworks(r),this.getConnectorId=r=>ue.getConnectorId(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){let n=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(r==null?void 0:r.toString()));e&&n&&this.addConnection({connectorId:J.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:J.CONNECTOR_ID.AUTH,type:"AUTH",name:J.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){let r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){let r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>r.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){M.setAccountProp("status",e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){let n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){let n=this.eventListeners.get(e);n&&n.forEach(s=>s(r))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(r){throw nf.isUserRejectedRequestError(r)?new qb(r):r}}async switchNetwork(e){var i;let{caipNetwork:r}=e,n=Mr.getProviderId(r.chainNamespace),s=Mr.getProvider(r.chainNamespace);if(!s)throw new Error("Provider not found");if(n==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(n==="AUTH"){let o=(i=ue.getAuthConnector())==null?void 0:i.provider;if(!o)throw new Error("Auth provider not found");let a=Cn(r.chainNamespace);await o.switchNetwork({chainId:r.caipNetworkId});let c=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){let e=this.connectors.find(r=>r.id==="walletConnect");if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){let{address:n,chainId:s}=de.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:s,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{let{address:c}=de.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,r,n=!0){var s,i;if(e.length>0){let{address:o}=de.getAccount(e[0]),a=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});o&&((s=this.getConnectorId(J.CHAIN.EVM))==null?void 0:s.toLowerCase())===r.toLowerCase()&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:r,accounts:e.map(c=>{let{address:l}=de.getAccount(c);return{address:l}}),caipNetwork:a==null?void 0:a.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){var r;this.removeProviderListeners(e),this.deleteConnection(e),((r=this.getConnectorId(J.CHAIN.EVM))==null?void 0:r.toLowerCase())===e.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){var o;let n=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),s=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===n);s&&this.addConnection({connectorId:r,accounts:s.accounts,caipNetwork:i}),((o=this.getConnectorId(J.CHAIN.EVM))==null?void 0:o.toLowerCase())===r.toLowerCase()&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(grt.includes(e))return;let n=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",i),r.on("accountsChanged",n),r.on("chainChanged",s),this.providerHandlers[e]={provider:r,disconnect:i,accountsChanged:n,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){let{provider:r,disconnect:n,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",s),r.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var r;let e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){let[n]=e.accounts;this.emit("accountChanged",{address:n==null?void 0:n.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}getConnection({address:e,connectorId:r,connections:n,connectors:s}){if(r){let o=n.find(l=>l.connectorId.toLowerCase()===r.toLowerCase());if(!o)return null;let a=s.find(l=>l.id.toLowerCase()===o.connectorId.toLowerCase()),c=e?o.accounts.find(l=>l.address.toLowerCase()===e.toLowerCase()):o.accounts[0];return G(S({},o),{account:c,connector:a})}let i=n.find(o=>o.accounts.length>0&&s.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(i){let[o]=i.accounts,a=s.find(c=>c.id.toLowerCase()===i.connectorId.toLowerCase());return G(S({},i),{account:o,connector:a})}return null}}});var Kw,fi,OB=y(()=>{PB();It();b2();An();oa();ui();Ml();Lh();ws();$l();y2();Hl();Is();Kw=null,fi={getSIWX(){return X.state.siwx},async initializeIfEnabled(t=M.getActiveCaipAddress()){var i,o,a,c;let e=X.state.siwx;if(!(e&&t))return;let[r,n,s]=t.split(":");if(M.checkIfSupportedNetwork(r,`${r}:${n}`))try{if((i=X.state.remoteFeatures)!=null&&i.emailCapture){let u=(o=M.getAccountData(r))==null?void 0:o.user;await Ke.open({view:"DataCapture",data:{email:(a=u==null?void 0:u.email)!=null?a:void 0}});return}if(Kw&&await Kw,(await e.getSessions(`${r}:${n}`,s)).length)return;await Ke.open({view:"SIWXSignMessage"})}catch(l){console.error("SIWXUtil:initializeIfEnabled",l),Be.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(l)}),await((c=le._getClient())==null?void 0:c.disconnect().catch(console.error)),te.reset("Connect"),lt.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(t=M.getActiveCaipAddress()){if(!X.state.siwx||!t)return!0;let{chainNamespace:r,chainId:n,address:s}=St.parseCaipAddress(t),i=`${r}:${n}`;return(await fi.getSessions({address:s,caipNetworkId:i})).length>0},async requestSignMessage(){let t=X.state.siwx,e=de.getPlainAddress(M.getActiveCaipAddress()),r=jw();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");try{let n=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=n.toString(),i="";t.signMessage?i=await t.signMessage({message:s,chainId:r.caipNetworkId,accountAddress:e}):(ue.getConnectorId(r.chainNamespace)===J.CONNECTOR_ID.AUTH&&te.pushTransactionStack({}),i=await le.signMessage(s)||""),await t.addSession({data:n,message:s,signature:i}),M.setLastConnectedSIWECaipNetwork(r),Ke.close(),Be.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){(!Ke.state.open||te.state.view==="ApproveTransaction")&&await Ke.open({view:"SIWXSignMessage"}),lt.showError("Error signing message"),Be.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(n)}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){var t;try{let e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){let n=M.getLastConnectedSIWECaipNetwork();if(n){let s=await(e==null?void 0:e.getSessions(n==null?void 0:n.caipNetworkId,de.getPlainAddress(M.getActiveCaipAddress())||""));s&&s.length>0?await M.switchActiveNetwork(n):await le.disconnect()}else await le.disconnect()}else Ke.close();Ke.close(),Be.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let t=this.getSIWX(),e=M.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{let s=await(t==null?void 0:t.getSessions(n.caipNetworkId,de.getPlainAddress(M.getActiveCaipAddress())||""));s&&r.push(...s)})),r},async getSessions(t){let e=X.state.siwx,r=t==null?void 0:t.address;if(!r){let s=M.getActiveCaipAddress();r=de.getPlainAddress(s)}let n=t==null?void 0:t.caipNetworkId;if(!n){let s=M.getActiveCaipNetwork();n=s==null?void 0:s.caipNetworkId}return e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){var e;let t=this.getSIWX();if(t){let r=te.state.view==="ApproveTransaction",n=te.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:s}){var f;let i=fi.getSIWX(),o=jw();if(!i||!s.includes(J.CHAIN.EVM)||(f=X.state.remoteFeatures)!=null&&f.emailCapture){let d=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}let a=`${s}:${e}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await fi.addEmbeddedWalletSession(l,u.message,u.signature),M.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Kw)return Kw;let n=fi.getSIWX();return n?(Kw=n.addSession({data:t,message:e,signature:r}).finally(()=>{Kw=null}),Kw):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var l,u,f;let n=fi.getSIWX(),s=jw(),i=new Set(e.map(d=>d.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;let o=await n.createMessage({chainId:((l=jw())==null?void 0:l.caipNetworkId)||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(d=>d!==o.chainId)]});lt.showLoading("Authenticating...",{autoClose:!1});let c=G(S({},a.session.peer.metadata),{name:a.session.peer.metadata.name,icon:(u=a.session.peer.metadata.icons)==null?void 0:u[0],type:"WALLET_CONNECT"});if(M.setAccountProp("connectedWalletInfo",c,Array.from(i)[0]),(f=a==null?void 0:a.auths)!=null&&f.length){let d=a.auths.map(p=>{var m;let h=t.client.formatAuthMessage({request:p.p,iss:p.p.iss});return{data:G(S({},p.p),{accountAddress:p.p.iss.split(":").slice(-1).join(""),chainId:p.p.iss.split(":").slice(2,4).join(":"),uri:(m=p.p.aud)!=null?m:"",version:p.p.version||o.version,expirationTime:p.p.exp,issuedAt:p.p.iat,notBefore:p.p.nbf}),message:h,signature:p.s.s,cacao:p}});try{await n.setSessions(d),s&&M.setLastConnectedSIWECaipNetwork(s),Be.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:fi.getSIWXEventProperties()})}catch(p){throw console.error("SIWX:universalProviderAuth - failed to set sessions",p),Be.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:fi.getSIWXEventProperties(p)}),await t.disconnect().catch(console.error),p}finally{lt.hide()}}return!0},getSIWXEventProperties(t){var r;let e=M.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((r=M.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||"",isSmartAccount:Cn(e)===On.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?de.parseError(t):void 0}},async clearSessions(){let t=this.getSIWX();t&&await t.setSessions([])}}});var I7,yrt,mxe=y(()=>{PB();It();OB();NB();An();ws();I7=class{constructor({provider:e,namespace:r}){this.id=J.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=M.getCaipNetworks.bind(M),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){let r=this.getCaipNetworks(),n=X.state.universalProviderConfigOverride,s=nf.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let e=this.chains.map(r=>r.caipNetworkId);return fi.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:yrt})}},yrt=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"]});var Hh,gxe=y(()=>{It();Hh={getGasPriceInEther(t,e){let r=e*t;return Number(r)/1e18},getGasPriceInUSD(t,e,r){let n=Hh.getGasPriceInEther(e,r);return Nt.bigNumber(t).times(n).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:r,toTokenAmount:n}){let s=Nt.bigNumber(t).times(e),i=Nt.bigNumber(n).times(r);return s.minus(i).div(s).times(100).toNumber()},getMaxSlippage(t,e){let r=Nt.bigNumber(t).div(100);return Nt.multiply(e,r).toNumber()},getProviderFee(t,e=.0085){return Nt.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){let r=e||"0";return Nt.bigNumber(t).eq(0)?!0:Nt.bigNumber(Nt.bigNumber(r)).gt(t)},isInsufficientSourceTokenForSwap(t,e,r){var i,o;let n=(o=(i=r==null?void 0:r.find(a=>a.address===e))==null?void 0:i.quantity)==null?void 0:o.numeric;return Nt.bigNumber(n||"0").lt(t)}}});var sf,brt,$n,QG=y(()=>{En();Ss();It();ho();ws();sf=yt({message:"",variant:"info",open:!1}),brt={state:sf,subscribeKey(t,e){return qt(sf,t,e)},open(t,e){let{debug:r}=X.state,{code:n,displayMessage:s,debugMessage:i}=t;if(s&&r&&(sf.message=s,sf.variant=e,sf.open=!0),i){if(!J.IS_DEVELOPMENT)return;let o=typeof i=="function"?i():i,a=n?{code:n}:void 0;e==="error"?console.error(o,a):e==="warning"?console.warn(o,a):console.info(o,a)}},warn(t,e,r){sf.open=!0,sf.message=t,sf.variant="warning",e&&console.warn(e,r)},close(){sf.open=!1,sf.message="",sf.variant="info"}},$n=Jr(brt)});var yxe,wrt,yo,oe,RB,bt,bxe=y(()=>{En();Ss();It();It();b2();C5();Hl();_c();Is();KG();gxe();ho();QG();Dh();An();oa();ui();Ml();$l();y2();yxe=15e4,wrt=6,yo={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:ct.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},oe=yt(S({},yo)),RB={state:oe,subscribe(t){return rr(oe,()=>t(oe))},subscribeKey(t,e){return qt(oe,t,e)},getParams(){var c,l,u,f,d,p,h,m,g,b;let t=M.state.activeChain,e=(l=(c=M.getAccountData(t))==null?void 0:c.caipAddress)!=null?l:M.state.activeCaipAddress,r=de.getPlainAddress(e),n=E5(),s=ue.getConnectorId(M.state.activeChain);if(!r)throw new Error("No address found to swap the tokens from.");let i=!((u=oe.toToken)!=null&&u.address)||!((f=oe.toToken)!=null&&f.decimals),o=!((d=oe.sourceToken)!=null&&d.address)||!((p=oe.sourceToken)!=null&&p.decimals)||!Nt.bigNumber(oe.sourceTokenAmount).gt(0),a=!oe.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:e,sourceTokenAddress:(h=oe.sourceToken)==null?void 0:h.address,toTokenAddress:(m=oe.toToken)==null?void 0:m.address,toTokenAmount:oe.toTokenAmount,toTokenDecimals:(g=oe.toToken)==null?void 0:g.decimals,sourceTokenAmount:oe.sourceTokenAmount,sourceTokenDecimals:(b=oe.sourceToken)==null?void 0:b.decimals,invalidToToken:i,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:e&&!i&&!o&&!a,isAuthConnector:s===J.CONNECTOR_ID.AUTH}},async setSourceToken(t){if(!t){oe.sourceToken=t,oe.sourceTokenAmount="",oe.sourceTokenPriceInUSD=0;return}oe.sourceToken=t,await bt.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){oe.sourceTokenAmount=t},async setToToken(t){if(!t){oe.toToken=t,oe.toTokenAmount="",oe.toTokenPriceInUSD=0;return}oe.toToken=t,await bt.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){oe.toTokenAmount=t?Nt.toFixed(t,wrt):""},async setTokenPrice(t,e){let r=oe.tokensPriceMap[t]||0;r||(oe.loadingPrices=!0,r=await bt.getAddressPrice(t)),e==="sourceToken"?oe.sourceTokenPriceInUSD=r:e==="toToken"&&(oe.toTokenPriceInUSD=r),oe.loadingPrices&&(oe.loadingPrices=!1),bt.getParams().availableToSwap&&!oe.switchingTokens&&bt.swapTokens()},async switchTokens(){if(!(oe.initializing||!oe.initialized||oe.switchingTokens)){oe.switchingTokens=!0;try{let t=oe.toToken?S({},oe.toToken):void 0,e=oe.sourceToken?S({},oe.sourceToken):void 0,r=t&&oe.toTokenAmount===""?"1":oe.toTokenAmount;bt.setSourceTokenAmount(r),bt.setToTokenAmount(""),await bt.setSourceToken(t),await bt.setToToken(e),oe.switchingTokens=!1,bt.swapTokens()}catch(t){throw oe.switchingTokens=!1,t}}},resetState(){oe.myTokensWithBalance=yo.myTokensWithBalance,oe.tokensPriceMap=yo.tokensPriceMap,oe.initialized=yo.initialized,oe.initializing=yo.initializing,oe.switchingTokens=yo.switchingTokens,oe.sourceToken=yo.sourceToken,oe.sourceTokenAmount=yo.sourceTokenAmount,oe.sourceTokenPriceInUSD=yo.sourceTokenPriceInUSD,oe.toToken=yo.toToken,oe.toTokenAmount=yo.toTokenAmount,oe.toTokenPriceInUSD=yo.toTokenPriceInUSD,oe.networkPrice=yo.networkPrice,oe.networkTokenSymbol=yo.networkTokenSymbol,oe.networkBalanceInUSD=yo.networkBalanceInUSD,oe.inputError=yo.inputError},resetValues(){var r;let{networkAddress:t}=bt.getParams(),e=(r=oe.tokens)==null?void 0:r.find(n=>n.address===t);bt.setSourceToken(e),bt.setToToken(void 0)},getApprovalLoadingState(){return oe.loadingApprovalTransaction},clearError(){oe.transactionError=void 0},async initializeState(){if(!oe.initializing){if(oe.initializing=!0,!oe.initialized)try{await bt.fetchTokens(),oe.initialized=!0}catch(t){oe.initialized=!1,lt.showError("Failed to initialize swap"),te.goBack()}oe.initializing=!1}},async fetchTokens(){var r;let{networkAddress:t}=bt.getParams();await bt.getNetworkTokenPrice(),await bt.getMyTokensWithBalance();let e=(r=oe.myTokensWithBalance)==null?void 0:r.find(n=>n.address===t);e&&(oe.networkTokenSymbol=e.symbol,bt.setSourceToken(e),bt.setSourceTokenAmount("0"))},async getTokenList(){var e,r;let t=(e=M.state.activeCaipNetwork)==null?void 0:e.caipNetworkId;if(!(oe.caipNetworkId===t&&oe.tokens))try{oe.tokensLoading=!0;let n=await x2.getTokenList(t);oe.tokens=n,oe.caipNetworkId=t,oe.popularTokens=n.sort((c,l)=>c.symbol<l.symbol?-1:c.symbol>l.symbol?1:0);let i=(t&&((r=ct.SUGGESTED_TOKENS_BY_CHAIN)==null?void 0:r[t])||[]).map(c=>n.find(l=>l.symbol===c)).filter(c=>!!c),a=(ct.SWAP_SUGGESTED_TOKENS||[]).map(c=>n.find(l=>l.symbol===c)).filter(c=>!!c).filter(c=>!i.some(l=>l.address===c.address));oe.suggestedTokens=[...i,...a]}catch(n){oe.tokens=[],oe.popularTokens=[],oe.suggestedTokens=[]}finally{oe.tokensLoading=!1}},async getAddressPrice(t){var c,l;let e=oe.tokensPriceMap[t];if(e)return e;let r=await tt.fetchTokenPrice({addresses:[t]}),n=(r==null?void 0:r.fungibles)||[],s=[...oe.tokens||[],...oe.myTokensWithBalance||[]],i=(c=s==null?void 0:s.find(u=>u.address===t))==null?void 0:c.symbol,o=((l=n.find(u=>u.symbol.toLowerCase()===(i==null?void 0:i.toLowerCase())))==null?void 0:l.price)||0,a=parseFloat(o.toString());return oe.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){var s;let{networkAddress:t}=bt.getParams(),r=(s=(await tt.fetchTokenPrice({addresses:[t]}).catch(()=>(lt.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)==null?void 0:s[0],n=(r==null?void 0:r.price.toString())||"0";oe.tokensPriceMap[t]=parseFloat(n),oe.networkTokenSymbol=(r==null?void 0:r.symbol)||"",oe.networkPrice=n},async getMyTokensWithBalance(t){var n;let e=await rf.getMyTokensWithBalance({forceUpdate:t,caipNetwork:M.state.activeCaipNetwork,address:(n=M.getAccountData())==null?void 0:n.address}),r=x2.mapBalancesToSwapTokens(e);r&&(await bt.getInitialGasPrice(),bt.setBalances(r))},setBalances(t){let{networkAddress:e}=bt.getParams(),r=M.state.activeCaipNetwork;if(!r)return;let n=t.find(s=>s.address===e);t.forEach(s=>{oe.tokensPriceMap[s.address]=s.price||0}),oe.myTokensWithBalance=t.filter(s=>s.address.startsWith(r.caipNetworkId)),oe.networkBalanceInUSD=n?Nt.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){var e,r,n,s;let t=await x2.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch((r=(e=M.state)==null?void 0:e.activeCaipNetwork)==null?void 0:r.chainNamespace){case J.CHAIN.SOLANA:return oe.gasFee=(n=t.standard)!=null?n:"0",oe.gasPriceInUSD=Nt.multiply(t.standard,oe.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(oe.gasFee),gasPriceInUSD:Number(oe.gasPriceInUSD)};case J.CHAIN.EVM:default:let i=(s=t.standard)!=null?s:"0",o=BigInt(i),a=BigInt(yxe),c=Hh.getGasPriceInUSD(oe.networkPrice,a,o);return oe.gasFee=i,oe.gasPriceInUSD=c,{gasPrice:o,gasPriceInUSD:c}}},async swapTokens(){var i,o,a;let t=(i=M.getAccountData())==null?void 0:i.address,e=oe.sourceToken,r=oe.toToken,n=Nt.bigNumber(oe.sourceTokenAmount).gt(0);if(n||bt.setToTokenAmount(""),!r||!e||oe.loadingPrices||!n||!t)return;oe.loadingQuote=!0;let s=Nt.bigNumber(oe.sourceTokenAmount).times(10**e.decimals).round(0).toFixed(0);try{let c=await tt.fetchSwapQuote({userAddress:t,from:e.address,to:r.address,gasPrice:oe.gasFee,amount:s.toString()});oe.loadingQuote=!1;let l=(a=(o=c==null?void 0:c.quotes)==null?void 0:o[0])==null?void 0:a.toAmount;if(!l){$n.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}let u=Nt.bigNumber(l).div(10**r.decimals).toString();bt.setToTokenAmount(u),bt.hasInsufficientToken(oe.sourceTokenAmount,e.address)?oe.inputError="Insufficient balance":(oe.inputError=void 0,bt.setTransactionDetails())}catch(c){let l=await x2.handleSwapError(c);oe.loadingQuote=!1,oe.inputError=l||"Insufficient balance"}},async getTransaction(){let{fromCaipAddress:t,availableToSwap:e}=bt.getParams(),r=oe.sourceToken,n=oe.toToken;if(!(!t||!e||!r||!n||oe.loadingQuote))try{oe.loadingBuildTransaction=!0;let s=await x2.fetchSwapAllowance({userAddress:t,tokenAddress:r.address,sourceTokenAmount:oe.sourceTokenAmount,sourceTokenDecimals:r.decimals}),i;return s?i=await bt.createSwapTransaction():i=await bt.createAllowanceTransaction(),oe.loadingBuildTransaction=!1,oe.fetchError=!1,i}catch(s){te.goBack(),lt.showError("Failed to check allowance"),oe.loadingBuildTransaction=!1,oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}},async createAllowanceTransaction(){let{fromCaipAddress:t,sourceTokenAddress:e,toTokenAddress:r}=bt.getParams();if(!(!t||!r)){if(!e)throw new Error("createAllowanceTransaction - No source token address found.");try{let n=await tt.generateApproveCalldata({from:e,to:r,userAddress:t}),s=de.getPlainAddress(n.tx.from);if(!s)throw new Error("SwapController:createAllowanceTransaction - address is required");let i={data:n.tx.data,to:s,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:oe.toTokenAmount};return oe.swapTransaction=void 0,oe.approvalTransaction={data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount},{data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount}}catch(n){te.goBack(),lt.showError("Failed to create approval transaction"),oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}}},async createSwapTransaction(){var o;let{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:r}=bt.getParams(),n=oe.sourceToken,s=oe.toToken;if(!e||!r||!n||!s)return;let i=(o=le.parseUnits(r,n.decimals))==null?void 0:o.toString();try{let a=await tt.generateSwapCalldata({userAddress:e,from:n.address,to:s.address,amount:i,disableEstimate:!0}),c=n.address===t,l=BigInt(a.tx.eip155.gas),u=BigInt(a.tx.eip155.gasPrice),f=de.getPlainAddress(a.tx.to);if(!f)throw new Error("SwapController:createSwapTransaction - address is required");let d={data:a.tx.data,to:f,gas:l,gasPrice:u,value:BigInt(c&&i!=null?i:"0"),toAmount:oe.toTokenAmount};return oe.gasPriceInUSD=Hh.getGasPriceInUSD(oe.networkPrice,l,u),oe.approvalTransaction=void 0,oe.swapTransaction=d,d}catch(a){te.goBack(),lt.showError("Failed to create transaction"),oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){lt.showLoading("Approve limit increase in your wallet"),te.replace("SwapPreview")},async sendTransactionForApproval(t){var s,i,o;let{fromAddress:e,isAuthConnector:r}=bt.getParams();oe.loadingApprovalTransaction=!0,r?te.pushTransactionStack({onSuccess:bt.onEmbeddedWalletApprovalSuccess}):lt.showLoading("Approve limit increase in your wallet");try{await le.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:J.CHAIN.EVM}),await bt.swapTokens(),await bt.getTransaction(),oe.approvalTransaction=void 0,oe.loadingApprovalTransaction=!1}catch(a){let c=a;oe.transactionError=c==null?void 0:c.displayMessage,oe.loadingApprovalTransaction=!1,lt.showError((c==null?void 0:c.displayMessage)||"Transaction error"),Be.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(c==null?void 0:c.displayMessage)||(c==null?void 0:c.message)||"Unknown",network:((s=M.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||"",swapFromToken:((i=bt.state.sourceToken)==null?void 0:i.symbol)||"",swapToToken:((o=bt.state.toToken)==null?void 0:o.symbol)||"",swapFromAmount:bt.state.sourceTokenAmount||"",swapToAmount:bt.state.toTokenAmount||"",isSmartAccount:Cn(J.CHAIN.EVM)===On.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){var o,a,c,l,u,f,d,p,h,m,g,b;if(!t)return;let{fromAddress:e,toTokenAmount:r,isAuthConnector:n}=bt.getParams();oe.loadingTransaction=!0;let s=`Swapping ${(o=oe.sourceToken)==null?void 0:o.symbol} to ${Nt.formatNumberToLocalString(r,3)} ${(a=oe.toToken)==null?void 0:a.symbol}`,i=`Swapped ${(c=oe.sourceToken)==null?void 0:c.symbol} to ${Nt.formatNumberToLocalString(r,3)} ${(l=oe.toToken)==null?void 0:l.symbol}`;n?te.pushTransactionStack({onSuccess(){te.replace("Account"),lt.showLoading(s),RB.resetState()}}):lt.showLoading("Confirm transaction in your wallet");try{let E=[(u=oe.sourceToken)==null?void 0:u.address,(f=oe.toToken)==null?void 0:f.address].join(","),w=await le.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:J.CHAIN.EVM});return oe.loadingTransaction=!1,lt.showSuccess(i),Be.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:((d=M.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||"",swapFromToken:((p=bt.state.sourceToken)==null?void 0:p.symbol)||"",swapToToken:((h=bt.state.toToken)==null?void 0:h.symbol)||"",swapFromAmount:bt.state.sourceTokenAmount||"",swapToAmount:bt.state.toTokenAmount||"",isSmartAccount:Cn(J.CHAIN.EVM)===On.ACCOUNT_TYPES.SMART_ACCOUNT}}),RB.resetState(),n||te.replace("Account"),RB.getMyTokensWithBalance(E),w}catch(E){let w=E;oe.transactionError=w==null?void 0:w.displayMessage,oe.loadingTransaction=!1,lt.showError((w==null?void 0:w.displayMessage)||"Transaction error"),Be.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(w==null?void 0:w.displayMessage)||(w==null?void 0:w.message)||"Unknown",network:((m=M.state.activeCaipNetwork)==null?void 0:m.caipNetworkId)||"",swapFromToken:((g=bt.state.sourceToken)==null?void 0:g.symbol)||"",swapToToken:((b=bt.state.toToken)==null?void 0:b.symbol)||"",swapFromAmount:bt.state.sourceTokenAmount||"",swapToAmount:bt.state.toTokenAmount||"",isSmartAccount:Cn(J.CHAIN.EVM)===On.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){return Hh.isInsufficientSourceTokenForSwap(t,e,oe.myTokensWithBalance)},setTransactionDetails(){let{toTokenAddress:t,toTokenDecimals:e}=bt.getParams();!t||!e||(oe.gasPriceInUSD=Hh.getGasPriceInUSD(oe.networkPrice,BigInt(oe.gasFee),BigInt(yxe)),oe.priceImpact=Hh.getPriceImpact({sourceTokenAmount:oe.sourceTokenAmount,sourceTokenPriceInUSD:oe.sourceTokenPriceInUSD,toTokenPriceInUSD:oe.toTokenPriceInUSD,toTokenAmount:oe.toTokenAmount}),oe.maxSlippage=Hh.getMaxSlippage(oe.slippage,oe.toTokenAmount),oe.providerFee=Hh.getProviderFee(oe.sourceTokenAmount))}},bt=Jr(RB)});var of,xrt,aa,wxe=y(()=>{En();Ss();ho();of=yt({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),xrt={state:of,subscribe(t){return rr(of,()=>t(of))},subscribeKey(t,e){return qt(of,t,e)},showTooltip({message:t,triggerRect:e,variant:r}){of.open=!0,of.message=t,of.triggerRect=e,of.variant=r},hide(){of.open=!1,of.message="",of.triggerRect={width:0,height:0,top:0,left:0}}},aa=Jr(xrt)});var XG,eZ,xxe=y(()=>{XG={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},eZ={network:"eip155:84532",asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}}});var T7,vxe=y(()=>{oa();Lh();$l();OB();T7={isUnsupportedChainView(){return te.state.view==="UnsupportedChain"||te.state.view==="SwitchNetwork"&&te.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Ke.shake();return}if(await fi.isSIWXCloseDisabled()){Ke.shake();return}(te.state.view==="DataCapture"||te.state.view==="DataCaptureOtpConfirm")&&le.disconnect(),Ke.close()}}});var At=y(()=>{Lh();$l();An();IB();cxe();WG();hxe();mxe();oa();VG();ui();y2();R0();vB();FG();ws();Dh();v7();Ml();bxe();GG();wxe();JG();QG();LG();_c();$G();Is();EB();Nc();OB();vxe();ho();xxe();w5();Hl();NB()});function vrt(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function qs(t,...e){try{return vrt(t(...e))}catch(r){return Promise.reject(r)}}function Ert(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function Art(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function P7(t){if(Ert(t))return String(t);if(Art(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return P7(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Exe(t){return typeof t=="string"?t:tZ+Srt(t)}function Axe(t){return typeof t!="string"||!t.startsWith(tZ)?t:Crt(t.slice(tZ.length))}function Crt(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Srt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ca(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Cxe(...t){return ca(t.join(":"))}function _7(t){return t=ca(t),t?t+":":""}function Sxe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Ixe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}var tZ,Txe=y(()=>{tZ="base64:"});function Nxe(t={}){let e={mounts:{"":t.driver||Trt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(let u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=ca(u);for(let f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(let l in e.mounts)e.unwatch[l]=await Pxe(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(let l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{let d=new Map,p=h=>{let m=d.get(h.base);return m||(m={driver:h.driver,base:h.base,items:[]},d.set(h.base,m)),m};for(let h of l){let m=typeof h=="string",g=ca(m?h:h.key),b=m?void 0:h.value,E=m||!h.options?u:S(S({},u),h.options),w=r(g);p(w).items.push({key:g,value:b,relativeKey:w.relativeKey,options:E})}return Promise.all([...d.values()].map(h=>f(h))).then(h=>h.flat())},c={hasItem(l,u={}){l=ca(l);let{relativeKey:f,driver:d}=r(l);return qs(d.hasItem,f,u)},getItem(l,u={}){l=ca(l);let{relativeKey:f,driver:d}=r(l);return qs(d.getItem,f,u).then(p=>t0(p))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?qs(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(p=>({key:Cxe(f.base,p.key),value:t0(p.value)}))):Promise.all(f.items.map(d=>qs(f.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:t0(p)})))))},getItemRaw(l,u={}){l=ca(l);let{relativeKey:f,driver:d}=r(l);return d.getItemRaw?qs(d.getItemRaw,f,u):qs(d.getItem,f,u).then(p=>Axe(p))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=ca(l);let{relativeKey:d,driver:p}=r(l);p.setItem&&(await qs(p.setItem,d,P7(u),f),p.watch||s("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return qs(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:P7(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>qs(f.driver.setItem,d.relativeKey,P7(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=ca(l);let{relativeKey:d,driver:p}=r(l);if(p.setItemRaw)await qs(p.setItemRaw,d,u,f);else if(p.setItem)await qs(p.setItem,d,Exe(u),f);else return;p.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=ca(l);let{relativeKey:f,driver:d}=r(l);d.removeItem&&(await qs(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await qs(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=ca(l);let{relativeKey:f,driver:d}=r(l),p=Object.create(null);if(d.getMeta&&Object.assign(p,await qs(d.getMeta,f,u)),!u.nativeOnly){let h=await qs(d.getItem,f+"$",u).then(m=>t0(m));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(p,h))}return p},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var g;l=_7(l);let f=n(l,!0),d=[],p=[],h=!0;for(let b of f){(g=b.driver.flags)!=null&&g.maxDepth||(h=!1);let E=await qs(b.driver.getKeys,b.relativeBase,u);for(let w of E){let x=b.mountpoint+ca(w);d.some(C=>x.startsWith(C))||p.push(x)}d=[b.mountpoint,...d.filter(w=>!w.startsWith(b.mountpoint))]}let m=u.maxDepth!==void 0&&!h;return p.filter(b=>(!m||Sxe(b,u.maxDepth))&&Ixe(b,l))},async clear(l,u={}){l=_7(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return qs(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){let d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(p=>f.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>_xe(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=_7(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Pxe(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,d;l=_7(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((d=(f=e.unwatch)[l])==null||d.call(f),delete e.unwatch[l]),u&&await _xe(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=ca(l)+":";let u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=ca(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Pxe(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function _xe(t){typeof t.dispose=="function"&&await qs(t.dispose)}var Irt,Trt,Oxe=y(()=>{CV();Txe();Irt="memory",Trt=()=>{let t=new Map;return{name:Irt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){var r;return(r=t.get(e))!=null?r:null},getItemRaw(e){var r;return(r=t.get(e))!=null?r:null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}}});function Rrt(t){var e;return[t[0],Qs((e=t[1])!=null?e:"")]}var Prt,_rt,Nrt,Ort,nZ,rZ,kB,sZ,krt,Rxe,Brt,Urt,BB,kxe=y(()=>{Oxe();TV();i1();Prt="idb-keyval",_rt=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s,n;return t.dbName&&t.storeName&&(n=CC(t.dbName,t.storeName)),{name:Prt,options:t,async hasItem(s){return!(typeof await e4(r(s),n)>"u")},async getItem(s){var i;return(i=await e4(r(s),n))!=null?i:null},setItem(s,i){return xN(r(s),i,n)},removeItem(s){return vN(r(s),n)},getKeys(){return AN(n)},clear(){return EN(n)}}},Nrt="WALLET_CONNECT_V2_INDEXED_DB",Ort="keyvaluestorage",nZ=class{constructor(){this.indexedDb=Nxe({driver:_rt({dbName:Nrt,storeName:Ort})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ai(r))}async removeItem(e){await this.indexedDb.removeItem(e)}},rZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kB={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof rZ<"u"&&rZ.localStorage?kB.exports=rZ.localStorage:typeof window<"u"&&window.localStorage?kB.exports=window.localStorage:kB.exports=new e})();sZ=class{constructor(){this.localStorage=kB.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Rrt)}async getItem(e){let r=this.localStorage.getItem(e);if(r!==null)return Qs(r)}async setItem(e,r){this.localStorage.setItem(e,Ai(r))}async removeItem(e){this.localStorage.removeItem(e)}},krt="wc_storage_version",Rxe=1,Brt=async(t,e,r)=>{let n=krt,s=await e.getItem(n);if(s&&s>=Rxe){r(e);return}let i=await t.getKeys();if(!i.length){r(e);return}let o=[];for(;i.length;){let a=i.shift();if(!a)continue;let c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Rxe),r(e),Urt(t,o)},Urt=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})},BB=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let e=new sZ;this.storage=e;try{let r=new nZ;Brt(e,r,this.setInitialized)}catch(r){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}});var Dxe,Drt,Lrt,Bxe,UB,Mrt,$rt,Hrt,DB,LB,MB,$B,HB,FB,zB,VB,jB,qB,Frt,zrt,Uxe,WB,KB,iZ=y(()=>{bN();Dxe=pr(Fo()),Drt=Object.defineProperty,Lrt=(t,e,r)=>e in t?Drt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bxe=(t,e,r)=>Lrt(t,typeof e!="symbol"?e+"":e,r),UB=class extends ei{constructor(e){super(),this.opts=e,Bxe(this,"protocol","wc"),Bxe(this,"version",2)}},Mrt=Object.defineProperty,$rt=(t,e,r)=>e in t?Mrt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hrt=(t,e,r)=>$rt(t,typeof e!="symbol"?e+"":e,r),DB=class extends ei{constructor(e,r){super(),this.core=e,this.logger=r,Hrt(this,"records",new Map)}},LB=class{constructor(e,r){this.logger=e,this.core=r}},MB=class extends ei{constructor(e,r){super(),this.relayer=e,this.logger=r}},$B=class extends ei{constructor(e){super()}},HB=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},FB=class extends ei{constructor(e,r){super(),this.relayer=e,this.logger=r}},zB=class extends ei{constructor(e,r){super(),this.core=e,this.logger=r}},VB=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},jB=class{constructor(e,r){this.projectId=e,this.logger=r}},qB=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},Frt=Object.defineProperty,zrt=(t,e,r)=>e in t?Frt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Uxe=(t,e,r)=>zrt(t,typeof e!="symbol"?e+"":e,r),WB=class{constructor(e){this.opts=e,Uxe(this,"protocol","wc"),Uxe(this,"version",2)}},KB=class{constructor(e){this.client=e}}});var Lxe,Mxe=y(()=>{Lxe="0.1.1"});function $xe(){return Lxe}var Hxe=y(()=>{Mxe()});function Fxe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Fxe(t.cause,e):e?null:t}var $r,S5=y(()=>{Hxe();$r=class t extends Error{constructor(e,r={}){let n=(()=>{var c;if(r.cause instanceof t){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof t&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${s!=null?s:""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${$xe()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return Fxe(this,e)}}});var Gw,zxe=y(()=>{Gw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function Vrt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function k0(t,...e){if(!Vrt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Vxe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zw(t.outputLen),Zw(t.blockLen)}function Fh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GB(t,e){k0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function jxe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function B0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ZB(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function af(t,e){return t<<32-e|t>>>e}function qrt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Wrt(t){for(let e=0;e<t.length;e++)t[e]=qrt(t[e]);return t}function Krt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Yw(t){return typeof t=="string"&&(t=Krt(t)),k0(t),t}function qxe(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];k0(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function YB(t){let e=n=>t().update(Yw(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Wxe(t=32){if(Gw&&typeof Gw.getRandomValues=="function")return Gw.getRandomValues(new Uint8Array(t));if(Gw&&typeof Gw.randomBytes=="function")return Uint8Array.from(Gw.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var jrt,oZ,E2,Jw=y(()=>{zxe();jrt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;oZ=jrt?t=>t:Wrt;E2=class{}});function Grt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function Kxe(t,e,r){return t&e^~t&r}function Gxe(t,e,r){return t&e^t&r^e&r}var JB,zh,Zxe=y(()=>{Jw();JB=class extends E2{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ZB(this.buffer)}update(e){Fh(this),e=Yw(e),k0(e);let{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=ZB(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fh(this),GB(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,B0(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;Grt(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=ZB(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},zh=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225])});function Zrt(t,e=!1){return e?{h:Number(t&QB),l:Number(t>>Yxe&QB)}:{h:Number(t>>Yxe&QB)|0,l:Number(t&QB)|0}}function Jxe(t,e=!1){let r=t.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=Zrt(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}var QB,Yxe,Qxe,Xxe,e6e,t6e,r6e=y(()=>{QB=BigInt(4294967295),Yxe=BigInt(32);Qxe=(t,e,r)=>t<<r|e>>>32-r,Xxe=(t,e,r)=>e<<r|t>>>32-r,e6e=(t,e,r)=>e<<r-32|t>>>64-r,t6e=(t,e,r)=>t<<r-32|e>>>64-r});function nnt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=n6e(l,u,1)^r[a],d=s6e(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=o6e[o],c=n6e(s,i,a),l=s6e(s,i,a),u=i6e[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=tnt[n],t[1]^=rnt[n]}B0(r)}var Yrt,O7,Jrt,Qrt,Xrt,ent,i6e,o6e,a6e,c6e,tnt,rnt,n6e,s6e,aZ,snt,l6e,u6e=y(()=>{r6e();Jw();Yrt=BigInt(0),O7=BigInt(1),Jrt=BigInt(2),Qrt=BigInt(7),Xrt=BigInt(256),ent=BigInt(113),i6e=[],o6e=[],a6e=[];for(let t=0,e=O7,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],i6e.push(2*(5*n+r)),o6e.push((t+1)*(t+2)/2%64);let s=Yrt;for(let i=0;i<7;i++)e=(e<<O7^(e>>Qrt)*ent)%Xrt,e&Jrt&&(s^=O7<<(O7<<BigInt(i))-O7);a6e.push(s)}c6e=Jxe(a6e,!0),tnt=c6e[0],rnt=c6e[1],n6e=(t,e,r)=>r>32?e6e(t,e,r):Qxe(t,e,r),s6e=(t,e,r)=>r>32?t6e(t,e,r):Xxe(t,e,r);aZ=class t extends E2{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Zw(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jxe(this.state)}clone(){return this._cloneInto()}keccak(){oZ(this.state32),nnt(this.state32,this.rounds),oZ(this.state32),this.posOut=0,this.pos=0}update(e){Fh(this),e=Yw(e),k0(e);let{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Fh(this,!1),k0(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,B0(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},snt=(t,e,r)=>YB(()=>new aZ(e,t,r)),l6e=snt(1,136,256/8)});var int,A2,cZ,f6e,d6e=y(()=>{Zxe();Jw();int=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),A2=new Uint32Array(64),cZ=class extends JB{constructor(e=32){super(64,e,8,!1),this.A=zh[0]|0,this.B=zh[1]|0,this.C=zh[2]|0,this.D=zh[3]|0,this.E=zh[4]|0,this.F=zh[5]|0,this.G=zh[6]|0,this.H=zh[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)A2[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=A2[f-15],p=A2[f-2],h=af(d,7)^af(d,18)^d>>>3,m=af(p,17)^af(p,19)^p>>>10;A2[f]=m+A2[f-7]+h+A2[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=af(a,6)^af(a,11)^af(a,25),p=u+d+Kxe(a,c,l)+int[f]+A2[f]|0,m=(af(n,2)^af(n,13)^af(n,22))+Gxe(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){B0(A2)}destroy(){this.set(0,0,0,0,0,0,0,0),B0(this.buffer)}},f6e=YB(()=>new cZ)});function I5(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pZ(t){if(!I5(t))throw new Error("Uint8Array expected")}function T5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function R7(t){let e=t.toString(16);return e.length&1?"0"+e:e}function m6e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?dZ:BigInt("0x"+t)}function P5(t){if(pZ(t),g6e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=ont[t[r]];return e}function p6e(t){if(t>=Vh._0&&t<=Vh._9)return t-Vh._0;if(t>=Vh.A&&t<=Vh.F)return t-(Vh.A-10);if(t>=Vh.a&&t<=Vh.f)return t-(Vh.a-10)}function k7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(g6e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=p6e(t.charCodeAt(i)),a=p6e(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function jh(t){return m6e(P5(t))}function hZ(t){return pZ(t),m6e(P5(Uint8Array.from(t).reverse()))}function Qw(t,e){return k7(t.toString(16).padStart(e*2,"0"))}function mZ(t,e){return Qw(t,e).reverse()}function Ka(t,e,r){let n;if(typeof e=="string")try{n=k7(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(I5(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function B7(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];pZ(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function XB(t,e,r){return lZ(t)&&lZ(e)&&lZ(r)&&e<=t&&t<r}function Xw(t,e,r,n){if(!XB(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function y6e(t){let e;for(e=0;t>dZ;t>>=fZ,e+=1);return e}function b6e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=uZ(t),s=uZ(t),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>r(s,n,...f),c=(f=uZ(0))=>{s=a(h6e([0]),f),n=a(),f.length!==0&&(s=a(h6e([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){n=a();let p=n.slice();d.push(p),f+=n.length}return B7(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}function tx(t,e,r={}){let n=(s,i,o)=>{let a=ant[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return t}function gZ(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}var dZ,fZ,g6e,ont,Vh,lZ,ex,uZ,h6e,ant,eU=y(()=>{dZ=BigInt(0),fZ=BigInt(1);g6e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ont=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Vh={_0:48,_9:57,A:65,F:70,a:97,f:102};lZ=t=>typeof t=="bigint"&&dZ<=t;ex=t=>(fZ<<BigInt(t))-fZ,uZ=t=>new Uint8Array(t),h6e=t=>Uint8Array.from(t);ant={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||I5(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function w6e(t,e){if(yZ(t)>e)throw new tU({givenSize:yZ(t),maxSize:e})}function bZ(t){if(t>=qh.zero&&t<=qh.nine)return t-qh.zero;if(t>=qh.A&&t<=qh.F)return t-(qh.A-10);if(t>=qh.a&&t<=qh.f)return t-(qh.a-10)}function x6e(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new rU({size:t.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let i=0;i<n;i++){let o=r==="right";s[o?i:n-i-1]=t[o?i:t.length-i-1]}return s}var qh,v6e=y(()=>{rx();qh={zero:48,nine:57,A:65,F:70,a:97,f:102}});function nU(t,e){if(zl(t)>e)throw new sU({givenSize:zl(t),maxSize:e})}function E6e(t,e){if(typeof e=="number"&&e>0&&e>zl(t)-1)throw new U7({offset:e,position:"start",size:zl(t)})}function A6e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&zl(t)!==r-e)throw new U7({offset:r,position:"end",size:zl(t)})}function wZ(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;let s=t.replace("0x","");if(s.length>n*2)throw new iU({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function C6e(t,e={}){let{dir:r="left"}=e,n=t.replace("0x",""),s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var xZ=y(()=>{nx()});function C2(t,e,r){return JSON.stringify(t,(n,s)=>typeof e=="function"?e(n,s):typeof s=="bigint"?s.toString()+lnt:s,r)}var lnt,D7=y(()=>{lnt="#__bigint"});function fnt(t,e={}){let{strict:r=!1}=e;if(!t)throw new aU(t);if(typeof t!="string")throw new aU(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new cU(t);if(!t.startsWith("0x"))throw new cU(t)}function lU(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function U0(t){return t instanceof Uint8Array?qc(t):Array.isArray(t)?qc(new Uint8Array(t)):t}function qc(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=unt[t[s]];let n=`0x${r}`;return typeof e.size=="number"?(nU(n,e.size),EZ(n,e.size)):n}function Wc(t,e={}){let{signed:r,size:n}=e,s=BigInt(t),i;n?r?i=(BigInt(1)<<BigInt(n)*BigInt(8)-BigInt(1))-BigInt(1):i=BigInt(2)**(BigInt(n)*BigInt(8))-BigInt(1):typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof i=="bigint"&&r?-i-BigInt(1):0;if(i&&s>i||s<o){let l=typeof t=="bigint"?"n":"";throw new vZ({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}let c=`0x${(r&&s<0?(BigInt(1)<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?dnt(c,n):c}function dnt(t,e){return wZ(t,{dir:"left",size:e})}function EZ(t,e){return wZ(t,{dir:"right",size:e})}function cf(t,e,r,n={}){let{strict:s}=n;E6e(t,e);let i=`0x${t.replace("0x","").slice((e!=null?e:0)*2,(r!=null?r:t.length)*2)}`;return s&&A6e(i,e,r),i}function zl(t){return Math.ceil((t.length-2)/2)}function AZ(t){return C6e(t,{dir:"left"})}function CZ(t,e={}){let{strict:r=!1}=e;try{return fnt(t,{strict:r}),!0}catch(n){return!1}}var unt,vZ,aU,cU,sU,U7,iU,nx=y(()=>{S5();xZ();D7();unt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));vZ=class extends $r{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},aU=class extends $r{constructor(e){super(`Value \`${typeof e=="object"?C2(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},cU=class extends $r{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},sU=class extends $r{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},U7=class extends $r{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},iU=class extends $r{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function hnt(t){if(!(t instanceof Uint8Array)){if(!t)throw new O5(t);if(typeof t!="object")throw new O5(t);if(!("BYTES_PER_ELEMENT"in t))throw new O5(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new O5(t)}}function R5(t){return t instanceof Uint8Array?t:typeof t=="string"?L7(t):mnt(t)}function mnt(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function L7(t,e={}){let{size:r}=e,n=t;r&&(nU(t,r),n=EZ(t,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){let l=bZ(s.charCodeAt(c++)),u=bZ(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new $r(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function I6e(t,e={}){let{size:r}=e,n=pnt.encode(t);return typeof r=="number"?(w6e(n,r),gnt(n,r)):n}function gnt(t,e){return x6e(t,{dir:"right",size:e})}function yZ(t){return t.length}function T6e(t){try{return hnt(t),!0}catch(e){return!1}}var pnt,O5,tU,rU,rx=y(()=>{S5();nx();v6e();xZ();D7();pnt=new TextEncoder;O5=class extends $r{constructor(e){super(`Value \`${typeof e=="object"?C2(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},tU=class extends $r{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},rU=class extends $r{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function SZ(t,e={}){let{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=l6e(R5(t));return r==="Bytes"?n:qc(n)}var P6e=y(()=>{u6e();rx();nx()});var uU,_6e=y(()=>{uU=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var bnt,fU,N6e=y(()=>{_6e();bnt={checksum:new uU(8192)},fU=bnt.checksum});function O6e(t,e={}){let{compressed:r}=e,{prefix:n,x:s,y:i}=t;if(r===!1||typeof s=="bigint"&&typeof i=="bigint"){if(n!==4)throw new dU({prefix:n,cause:new PZ});return}if(r===!0||typeof s=="bigint"&&typeof i=="undefined"){if(n!==3&&n!==2)throw new dU({prefix:n,cause:new TZ});return}throw new IZ({publicKey:t})}function NZ(t){let e=(()=>{if(CZ(t))return R6e(t);if(T6e(t))return xnt(t);let{prefix:r,x:n,y:s}=t;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r!=null?r:4,x:n,y:s}:{prefix:r,x:n}})();return O6e(e),e}function xnt(t){return R6e(qc(t))}function R6e(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new _Z({publicKey:t});if(t.length===130){let n=BigInt(cf(t,0,32)),s=BigInt(cf(t,32,64));return{prefix:4,x:n,y:s}}if(t.length===132){let n=Number(cf(t,0,1)),s=BigInt(cf(t,1,33)),i=BigInt(cf(t,33,65));return{prefix:n,x:s,y:i}}let e=Number(cf(t,0,1)),r=BigInt(cf(t,1,33));return{prefix:e,x:r}}function k6e(t,e={}){return L7(M7(t,e))}function M7(t,e={}){O6e(t);let{prefix:r,x:n,y:s}=t,{includePrefix:i=!0}=e;return lU(i?Wc(r,{size:1}):"0x",Wc(n,{size:32}),typeof s=="bigint"?Wc(s,{size:32}):"0x")}var IZ,dU,TZ,PZ,_Z,OZ=y(()=>{rx();S5();nx();D7();IZ=class extends $r{constructor({publicKey:e}){super(`Value \`${C2(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},dU=class extends $r{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},TZ=class extends $r{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},PZ=class extends $r{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},_Z=class extends $r{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${zl(U0(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function pU(t,e={}){let{strict:r=!0}=e;if(!vnt.test(t))throw new hU({address:t,cause:new RZ});if(r){if(t.toLowerCase()===t)return;if(U6e(t)!==t)throw new hU({address:t,cause:new kZ})}}function U6e(t){if(fU.has(t))return fU.get(t);pU(t,{strict:!1});let e=t.substring(2).toLowerCase(),r=SZ(I6e(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());let s=`0x${n.join("")}`;return fU.set(t,s),s}function Ent(t,e={}){let{checksum:r=!1}=e;return pU(t),r?U6e(t):t}function D6e(t,e={}){let r=SZ(`0x${M7(t).slice(4)}`).substring(26);return Ent(`0x${r}`,e)}function L6e(t,e){return pU(t,{strict:!1}),pU(e,{strict:!1}),t.toLowerCase()===e.toLowerCase()}var vnt,hU,RZ,kZ,M6e=y(()=>{rx();N6e();S5();P6e();OZ();vnt=/^0x[a-fA-F0-9]{40}$/;hU=class extends $r{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},RZ=class extends $r{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},kZ=class extends $r{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});var Rcr,kcr,Bcr,Ucr,Dcr,Lcr,Mcr,$cr,Hcr,Fcr,zcr,Vcr,jcr,qcr,Wcr,Kcr,Gcr,Zcr,Ycr,Jcr,Qcr,Xcr,elr,tlr,rlr,nlr,slr,ilr,olr,alr,clr,llr,ulr,flr,dlr,plr,hlr,mlr,glr,ylr,blr,wlr,xlr,vlr,Elr,Alr,Clr,Slr,Ilr,Tlr,Plr,_lr,Nlr,Olr,Rlr,klr,Blr,Ulr,Dlr,Llr,Mlr,$lr,Hlr,Flr,zlr,Vlr,jlr,qlr,Wlr,Klr,Glr,Zlr,Ylr,Jlr,Qlr,Xlr,eur,tur,rur,nur,sur,iur,our,aur,cur,lur,uur,fur,dur,pur,hur,mur,gur,yur,bur,BZ,$6e=y(()=>{Rcr=BigInt(2)**(BigInt(8)-BigInt(1))-BigInt(1),kcr=BigInt(2)**(BigInt(16)-BigInt(1))-BigInt(1),Bcr=BigInt(2)**(BigInt(24)-BigInt(1))-BigInt(1),Ucr=BigInt(2)**(BigInt(32)-BigInt(1))-BigInt(1),Dcr=BigInt(2)**(BigInt(40)-BigInt(1))-BigInt(1),Lcr=BigInt(2)**(BigInt(48)-BigInt(1))-BigInt(1),Mcr=BigInt(2)**(BigInt(56)-BigInt(1))-BigInt(1),$cr=BigInt(2)**(BigInt(64)-BigInt(1))-BigInt(1),Hcr=BigInt(2)**(BigInt(72)-BigInt(1))-BigInt(1),Fcr=BigInt(2)**(BigInt(80)-BigInt(1))-BigInt(1),zcr=BigInt(2)**(BigInt(88)-BigInt(1))-BigInt(1),Vcr=BigInt(2)**(BigInt(96)-BigInt(1))-BigInt(1),jcr=BigInt(2)**(BigInt(104)-BigInt(1))-BigInt(1),qcr=BigInt(2)**(BigInt(112)-BigInt(1))-BigInt(1),Wcr=BigInt(2)**(BigInt(120)-BigInt(1))-BigInt(1),Kcr=BigInt(2)**(BigInt(128)-BigInt(1))-BigInt(1),Gcr=BigInt(2)**(BigInt(136)-BigInt(1))-BigInt(1),Zcr=BigInt(2)**(BigInt(144)-BigInt(1))-BigInt(1),Ycr=BigInt(2)**(BigInt(152)-BigInt(1))-BigInt(1),Jcr=BigInt(2)**(BigInt(160)-BigInt(1))-BigInt(1),Qcr=BigInt(2)**(BigInt(168)-BigInt(1))-BigInt(1),Xcr=BigInt(2)**(BigInt(176)-BigInt(1))-BigInt(1),elr=BigInt(2)**(BigInt(184)-BigInt(1))-BigInt(1),tlr=BigInt(2)**(BigInt(192)-BigInt(1))-BigInt(1),rlr=BigInt(2)**(BigInt(200)-BigInt(1))-BigInt(1),nlr=BigInt(2)**(BigInt(208)-BigInt(1))-BigInt(1),slr=BigInt(2)**(BigInt(216)-BigInt(1))-BigInt(1),ilr=BigInt(2)**(BigInt(224)-BigInt(1))-BigInt(1),olr=BigInt(2)**(BigInt(232)-BigInt(1))-BigInt(1),alr=BigInt(2)**(BigInt(240)-BigInt(1))-BigInt(1),clr=BigInt(2)**(BigInt(248)-BigInt(1))-BigInt(1),llr=BigInt(2)**(BigInt(256)-BigInt(1))-BigInt(1),ulr=-(BigInt(2)**(BigInt(8)-BigInt(1))),flr=-(BigInt(2)**(BigInt(16)-BigInt(1))),dlr=-(BigInt(2)**(BigInt(24)-BigInt(1))),plr=-(BigInt(2)**(BigInt(32)-BigInt(1))),hlr=-(BigInt(2)**(BigInt(40)-BigInt(1))),mlr=-(BigInt(2)**(BigInt(48)-BigInt(1))),glr=-(BigInt(2)**(BigInt(56)-BigInt(1))),ylr=-(BigInt(2)**(BigInt(64)-BigInt(1))),blr=-(BigInt(2)**(BigInt(72)-BigInt(1))),wlr=-(BigInt(2)**(BigInt(80)-BigInt(1))),xlr=-(BigInt(2)**(BigInt(88)-BigInt(1))),vlr=-(BigInt(2)**(BigInt(96)-BigInt(1))),Elr=-(BigInt(2)**(BigInt(104)-BigInt(1))),Alr=-(BigInt(2)**(BigInt(112)-BigInt(1))),Clr=-(BigInt(2)**(BigInt(120)-BigInt(1))),Slr=-(BigInt(2)**(BigInt(128)-BigInt(1))),Ilr=-(BigInt(2)**(BigInt(136)-BigInt(1))),Tlr=-(BigInt(2)**(BigInt(144)-BigInt(1))),Plr=-(BigInt(2)**(BigInt(152)-BigInt(1))),_lr=-(BigInt(2)**(BigInt(160)-BigInt(1))),Nlr=-(BigInt(2)**(BigInt(168)-BigInt(1))),Olr=-(BigInt(2)**(BigInt(176)-BigInt(1))),Rlr=-(BigInt(2)**(BigInt(184)-BigInt(1))),klr=-(BigInt(2)**(BigInt(192)-BigInt(1))),Blr=-(BigInt(2)**(BigInt(200)-BigInt(1))),Ulr=-(BigInt(2)**(BigInt(208)-BigInt(1))),Dlr=-(BigInt(2)**(BigInt(216)-BigInt(1))),Llr=-(BigInt(2)**(BigInt(224)-BigInt(1))),Mlr=-(BigInt(2)**(BigInt(232)-BigInt(1))),$lr=-(BigInt(2)**(BigInt(240)-BigInt(1))),Hlr=-(BigInt(2)**(BigInt(248)-BigInt(1))),Flr=-(BigInt(2)**(BigInt(256)-BigInt(1))),zlr=BigInt(2)**BigInt(8)-BigInt(1),Vlr=BigInt(2)**BigInt(16)-BigInt(1),jlr=BigInt(2)**BigInt(24)-BigInt(1),qlr=BigInt(2)**BigInt(32)-BigInt(1),Wlr=BigInt(2)**BigInt(40)-BigInt(1),Klr=BigInt(2)**BigInt(48)-BigInt(1),Glr=BigInt(2)**BigInt(56)-BigInt(1),Zlr=BigInt(2)**BigInt(64)-BigInt(1),Ylr=BigInt(2)**BigInt(72)-BigInt(1),Jlr=BigInt(2)**BigInt(80)-BigInt(1),Qlr=BigInt(2)**BigInt(88)-BigInt(1),Xlr=BigInt(2)**BigInt(96)-BigInt(1),eur=BigInt(2)**BigInt(104)-BigInt(1),tur=BigInt(2)**BigInt(112)-BigInt(1),rur=BigInt(2)**BigInt(120)-BigInt(1),nur=BigInt(2)**BigInt(128)-BigInt(1),sur=BigInt(2)**BigInt(136)-BigInt(1),iur=BigInt(2)**BigInt(144)-BigInt(1),our=BigInt(2)**BigInt(152)-BigInt(1),aur=BigInt(2)**BigInt(160)-BigInt(1),cur=BigInt(2)**BigInt(168)-BigInt(1),lur=BigInt(2)**BigInt(176)-BigInt(1),uur=BigInt(2)**BigInt(184)-BigInt(1),fur=BigInt(2)**BigInt(192)-BigInt(1),dur=BigInt(2)**BigInt(200)-BigInt(1),pur=BigInt(2)**BigInt(208)-BigInt(1),hur=BigInt(2)**BigInt(216)-BigInt(1),mur=BigInt(2)**BigInt(224)-BigInt(1),gur=BigInt(2)**BigInt(232)-BigInt(1),yur=BigInt(2)**BigInt(240)-BigInt(1),bur=BigInt(2)**BigInt(248)-BigInt(1),BZ=BigInt(2)**BigInt(256)-BigInt(1)});var mU,UZ,H6e=y(()=>{Jw();mU=class extends E2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Vxe(e);let n=Yw(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),B0(i)}update(e){return Fh(this),this.iHash.update(e),this}digestInto(e){Fh(this),k0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},UZ=(t,e,r)=>new mU(t,e).update(r).digest();UZ.create=(t,e)=>new mU(t,e)});function bo(t,e){let r=t%e;return r>=la?r:e+r}function Kc(t,e,r){let n=t;for(;e-- >la;)n*=n,n%=r;return n}function gU(t,e){if(t===la)throw new Error("invert: expected non-zero number");if(e<=la)throw new Error("invert: expected positive modulus, got "+e);let r=bo(t,e),n=e,s=la,i=wo,o=wo,a=la;for(;r!==la;){let l=n/r,u=n%r,f=s-o*l,d=i-a*l;n=r,r=u,s=o,i=a,o=f,a=d}if(n!==wo)throw new Error("invert: does not exist");return bo(s,e)}function q6e(t,e){let r=(t.ORDER+wo)/z6e,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Int(t,e){let r=(t.ORDER-V6e)/j6e,n=t.mul(e,sx),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,sx),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Tnt(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-wo,r=0;for(;e%sx===la;)e/=sx,r++;let n=sx,s=$7(t);for(;F6e(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return q6e;let i=s.pow(n,e),o=(e+wo)/sx;return function(c,l){if(c.is0(l))return l;if(F6e(c,l)!==1)throw new Error("Cannot find square root");let u=r,f=c.mul(c.ONE,i),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=wo<<BigInt(u-h-1),b=c.pow(f,g);u=h,f=c.sqr(b),d=c.mul(d,f),p=c.mul(p,b)}return p}}function Pnt(t){return t%z6e===Snt?q6e:t%j6e===V6e?Int:Tnt(t)}function DZ(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=_nt.reduce((n,s)=>(n[s]="function",n),e);return tx(t,r)}function Nnt(t,e,r){if(r<la)throw new Error("invalid exponent, negatives unsupported");if(r===la)return t.ONE;if(r===wo)return e;let n=t.ONE,s=e;for(;r>la;)r&wo&&(n=t.mul(n,s)),s=t.sqr(s),r>>=wo;return n}function LZ(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function F6e(t,e){let r=(t.ORDER-wo)/sx,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function MZ(t,e){e!==void 0&&Zw(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function $7(t,e,r=!1,n={}){if(t<=la)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:s,nByteLength:i}=MZ(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:ex(s),ZERO:la,ONE:wo,create:c=>bo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return la<=c&&c<t},is0:c=>c===la,isOdd:c=>(c&wo)===wo,neg:c=>bo(-c,t),eql:(c,l)=>c===l,sqr:c=>bo(c*c,t),add:(c,l)=>bo(c+l,t),sub:(c,l)=>bo(c-l,t),mul:(c,l)=>bo(c*l,t),pow:(c,l)=>Nnt(a,c,l),div:(c,l)=>bo(c*gU(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>gU(c,t),sqrt:n.sqrt||(c=>(o||(o=Pnt(t)),o(a,c))),toBytes:c=>r?mZ(c,i):Qw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?hZ(c):jh(c)},invertBatch:c=>LZ(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function W6e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function $Z(t){let e=W6e(t);return e+Math.ceil(e/2)}function K6e(t,e,r=!1){let n=t.length,s=W6e(e),i=$Z(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=r?hZ(t):jh(t),a=bo(o,e-wo)+wo;return r?mZ(a,s):Qw(a,s)}var la,wo,sx,Snt,z6e,V6e,j6e,_nt,yU=y(()=>{Jw();eU();la=BigInt(0),wo=BigInt(1),sx=BigInt(2),Snt=BigInt(3),z6e=BigInt(4),V6e=BigInt(5),j6e=BigInt(8);_nt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function HZ(t,e){let r=e.negate();return t?r:e}function Y6e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function FZ(t,e){Y6e(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=ex(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function Z6e(t,e,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r,a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=jZ);let l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function Ont(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Rnt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function VZ(t){return J6e.get(t)||1}function Q6e(t,e){return{constTimeNegate:HZ,hasPrecomputes(r){return VZ(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>G6e;)n&jZ&&(s=s.add(i)),i=i.double(),n>>=jZ;return s},precomputeWindow(r,n){let{windows:s,windowSize:i}=FZ(n,e),o=[],a=r,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE,a=FZ(r,e);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:h}=Z6e(s,c,a);s=l,f?o=o.add(HZ(p,n[h])):i=i.add(HZ(d,n[u]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){let o=FZ(r,e);for(let a=0;a<o.windows&&s!==G6e;a++){let{nextN:c,offset:l,isZero:u,isNeg:f}=Z6e(s,a,o);if(s=c,!u){let d=n[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(r,n,s){let i=zZ.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&zZ.set(n,s(i))),i},wNAFCached(r,n,s){let i=VZ(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){let o=VZ(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){Y6e(n,e),J6e.set(r,n),zZ.delete(r)}}}function X6e(t,e,r,n){Ont(r,t),Rnt(n,e);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,a=y6e(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=ex(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<i;m++){let g=n[m],b=Number(g>>BigInt(p)&l);u[b]=u[b].add(r[m])}let h=o;for(let m=u.length-1,g=o;m>0;m--)g=g.add(u[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function qZ(t){return DZ(t.Fp),tx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(G(S(S({},MZ(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}var G6e,jZ,zZ,J6e,e8e=y(()=>{yU();eU();G6e=BigInt(0),jZ=BigInt(1);zZ=new WeakMap,J6e=new WeakMap});function t8e(t){t.lowS!==void 0&&T5("lowS",t.lowS),t.prehash!==void 0&&T5("prehash",t.prehash)}function knt(t){let e=qZ(t);tx(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze(S({},e))}function WZ(t,e){return P5(Qw(t,e))}function Unt(t){let e=knt(t),{Fp:r}=e,n=$7(e.n,e.nBitLength),s=e.toBytes||((w,x,C)=>{let T=x.toAffine();return B7(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),i=e.fromBytes||(w=>{let x=w.subarray(1),C=r.fromBytes(x.subarray(0,r.BYTES)),T=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:C,y:T}});function o(w){let{a:x,b:C}=e,T=r.sqr(w),U=r.mul(T,w);return r.add(r.add(U,r.mul(w,x)),C)}function a(w,x){let C=r.sqr(x),T=o(w);return r.eql(C,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(e.a,KZ),Bnt),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return XB(w,di,e.n)}function f(w){let{allowedPrivateKeyLengths:x,nByteLength:C,wrapPrivateKey:T,n:U}=e;if(x&&typeof w!="bigint"){if(I5(w)&&(w=P5(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(C*2,"0")}let B;try{B=typeof w=="bigint"?w:jh(Ka("private key",w,C))}catch(O){throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof w)}return T&&(B=bo(B,U)),Xw("private key",B,di,U),B}function d(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}let p=gZ((w,x)=>{let{px:C,py:T,pz:U}=w;if(r.eql(U,r.ONE))return{x:C,y:T};let B=w.is0();x==null&&(x=B?r.ONE:r.inv(U));let O=r.mul(C,x),H=r.mul(T,x),_=r.mul(U,x);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:O,y:H}}),h=gZ(w=>{if(w.is0()){if(e.allowInfinityPoint&&!r.is0(w.py))return;throw new Error("bad point: ZERO")}let{x,y:C}=w.toAffine();if(!r.isValid(x)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(x,C))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(x,C,T){if(x==null||!r.isValid(x))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=x,this.py=C,this.pz=T,Object.freeze(this)}static fromAffine(x){let{x:C,y:T}=x||{};if(!x||!r.isValid(C)||!r.isValid(T))throw new Error("invalid affine point");if(x instanceof m)throw new Error("projective point not allowed");let U=B=>r.eql(B,r.ZERO);return U(C)&&U(T)?m.ZERO:new m(C,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let C=LZ(r,x.map(T=>T.pz));return x.map((T,U)=>T.toAffine(C[U])).map(m.fromAffine)}static fromHex(x){let C=m.fromAffine(i(Ka("pointHex",x)));return C.assertValidity(),C}static fromPrivateKey(x){return m.BASE.multiply(f(x))}static msm(x,C){return X6e(m,n,x,C)}_setWindowSize(x){E.setWindowSize(this,x)}assertValidity(){h(this)}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.eql(r.mul(C,H),r.mul(B,U)),N=r.eql(r.mul(T,H),r.mul(O,U));return _&&N}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:C}=e,T=r.mul(C,KZ),{px:U,py:B,pz:O}=this,H=r.ZERO,_=r.ZERO,N=r.ZERO,I=r.mul(U,U),D=r.mul(B,B),v=r.mul(O,O),A=r.mul(U,B);return A=r.add(A,A),N=r.mul(U,O),N=r.add(N,N),H=r.mul(x,N),_=r.mul(T,v),_=r.add(H,_),H=r.sub(D,_),_=r.add(D,_),_=r.mul(H,_),H=r.mul(A,H),N=r.mul(T,N),v=r.mul(x,v),A=r.sub(I,v),A=r.mul(x,A),A=r.add(A,N),N=r.add(I,I),I=r.add(N,I),I=r.add(I,v),I=r.mul(I,A),_=r.add(_,I),v=r.mul(B,O),v=r.add(v,v),I=r.mul(v,A),H=r.sub(H,I),N=r.mul(v,D),N=r.add(N,N),N=r.add(N,N),new m(H,_,N)}add(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.ZERO,N=r.ZERO,I=r.ZERO,D=e.a,v=r.mul(e.b,KZ),A=r.mul(C,B),R=r.mul(T,O),$=r.mul(U,H),k=r.add(C,T),L=r.add(B,O);k=r.mul(k,L),L=r.add(A,R),k=r.sub(k,L),L=r.add(C,U);let q=r.add(B,H);return L=r.mul(L,q),q=r.add(A,$),L=r.sub(L,q),q=r.add(T,U),_=r.add(O,H),q=r.mul(q,_),_=r.add(R,$),q=r.sub(q,_),I=r.mul(D,L),_=r.mul(v,$),I=r.add(_,I),_=r.sub(R,I),I=r.add(R,I),N=r.mul(_,I),R=r.add(A,A),R=r.add(R,A),$=r.mul(D,$),L=r.mul(v,L),R=r.add(R,$),$=r.sub(A,$),$=r.mul(D,$),L=r.add(L,$),A=r.mul(R,L),N=r.add(N,A),A=r.mul(q,L),_=r.mul(k,_),_=r.sub(_,A),A=r.mul(k,R),I=r.mul(q,I),I=r.add(I,A),new m(_,N,I)}subtract(x){return this.add(x.negate())}is0(){return this.equals(m.ZERO)}wNAF(x){return E.wNAFCached(this,x,m.normalizeZ)}multiplyUnsafe(x){let{endo:C,n:T}=e;Xw("scalar",x,Kh,T);let U=m.ZERO;if(x===Kh)return U;if(this.is0()||x===di)return this;if(!C||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,x,m.normalizeZ);let{k1neg:B,k1:O,k2neg:H,k2:_}=C.splitScalar(x),N=U,I=U,D=this;for(;O>Kh||_>Kh;)O&di&&(N=N.add(D)),_&di&&(I=I.add(D)),D=D.double(),O>>=di,_>>=di;return B&&(N=N.negate()),H&&(I=I.negate()),I=new m(r.mul(I.px,C.beta),I.py,I.pz),N.add(I)}multiply(x){let{endo:C,n:T}=e;Xw("scalar",x,di,T);let U,B;if(C){let{k1neg:O,k1:H,k2neg:_,k2:N}=C.splitScalar(x),{p:I,f:D}=this.wNAF(H),{p:v,f:A}=this.wNAF(N);I=E.constTimeNegate(O,I),v=E.constTimeNegate(_,v),v=new m(r.mul(v.px,C.beta),v.py,v.pz),U=I.add(v),B=D.add(A)}else{let{p:O,f:H}=this.wNAF(x);U=O,B=H}return m.normalizeZ([U,B])[0]}multiplyAndAddUnsafe(x,C,T){let U=m.BASE,B=(H,_)=>_===Kh||_===di||!H.equals(U)?H.multiplyUnsafe(_):H.multiply(_),O=B(this,C).add(B(x,T));return O.is0()?void 0:O}toAffine(x){return p(this,x)}isTorsionFree(){let{h:x,isTorsionFree:C}=e;if(x===di)return!0;if(C)return C(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:C}=e;return x===di?this:C?C(m,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return T5("isCompressed",x),this.assertValidity(),s(m,this,x)}toHex(x=!0){return T5("isCompressed",x),P5(this.toRawBytes(x))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);let{endo:g,nBitLength:b}=e,E=Q6e(m,g?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function Dnt(t){let e=qZ(t);return tx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(S({lowS:!0},e))}function r8e(t){let e=Dnt(t),{Fp:r,n,nByteLength:s,nBitLength:i}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(v){return bo(v,n)}function l(v){return gU(v,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=Unt(G(S({},e),{toBytes(v,A,R){let $=A.toAffine(),k=r.toBytes($.x),L=B7;return T5("isCompressed",R),R?L(Uint8Array.from([A.hasEvenY()?2:3]),k):L(Uint8Array.from([4]),k,r.toBytes($.y))},fromBytes(v){let A=v.length,R=v[0],$=v.subarray(1);if(A===o&&(R===2||R===3)){let k=jh($);if(!XB(k,di,r.ORDER))throw new Error("Point is not on curve");let L=d(k),q;try{q=r.sqrt(L)}catch(ae){let re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}let Z=(q&di)===di;return(R&1)===1!==Z&&(q=r.neg(q)),{x:k,y:q}}else if(A===a&&R===4){let k=r.fromBytes($.subarray(0,r.BYTES)),L=r.fromBytes($.subarray(r.BYTES,2*r.BYTES));return{x:k,y:L}}else{let k=o,L=a;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+L+", got "+A)}}}));function h(v){let A=n>>di;return v>A}function m(v){return h(v)?c(-v):v}let g=(v,A,R)=>jh(v.slice(A,R));class b{constructor(A,R,$){Xw("r",A,di,n),Xw("s",R,di,n),this.r=A,this.s=R,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(A){let R=s;return A=Ka("compactSignature",A,R*2),new b(g(A,0,R),g(A,R,2*R))}static fromDER(A){let{r:R,s:$}=Wh.toSig(Ka("DER",A));return new b(R,$)}assertValidity(){}addRecoveryBit(A){return new b(this.r,this.s,A)}recoverPublicKey(A){let{r:R,s:$,recovery:k}=this,L=U(Ka("msgHash",A));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let q=k===2||k===3?R+e.n:R;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=(k&1)===0?"02":"03",ee=u.fromHex(Z+WZ(q,r.BYTES)),ae=l(q),re=c(-L*ae),we=c($*ae),ie=u.BASE.multiplyAndAddUnsafe(ee,re,we);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return k7(this.toDERHex())}toDERHex(){return Wh.hexFromSig(this)}toCompactRawBytes(){return k7(this.toCompactHex())}toCompactHex(){let A=s;return WZ(this.r,A)+WZ(this.s,A)}}let E={isValidPrivateKey(v){try{return f(v),!0}catch(A){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let v=$Z(e.n);return K6e(e.randomBytes(v),e.n)},precompute(v=8,A=u.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function w(v,A=!0){return u.fromPrivateKey(v).toRawBytes(A)}function x(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;let R=Ka("key",v).length,$=r.BYTES,k=$+1,L=2*$+1;if(!(e.allowedPrivateKeyLengths||s===k))return R===k||R===L}function C(v,A,R=!0){if(x(v)===!0)throw new Error("first arg must be private key");if(x(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(v)).toRawBytes(R)}let T=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");let A=jh(v),R=v.length*8-i;return R>0?A>>BigInt(R):A},U=e.bits2int_modN||function(v){return c(T(v))},B=ex(i);function O(v){return Xw("num < 2^"+i,v,Kh,B),Qw(v,s)}function H(v,A,R=_){if(["recovered","canonical"].some(be=>be in R))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:k}=e,{lowS:L,prehash:q,extraEntropy:Z}=R;L==null&&(L=!0),v=Ka("msgHash",v),t8e(R),q&&(v=Ka("prehashed msgHash",$(v)));let ee=U(v),ae=f(A),re=[O(ae),O(ee)];if(Z!=null&&Z!==!1){let be=Z===!0?k(r.BYTES):Z;re.push(Ka("extraEntropy",be))}let we=B7(...re),ie=ee;function Te(be){let De=T(be);if(!p(De))return;let Et=l(De),Pt=u.BASE.multiply(De).toAffine(),ut=c(Pt.x);if(ut===Kh)return;let Ut=c(Et*c(ie+ut*ae));if(Ut===Kh)return;let bn=(Pt.x===ut?0:2)|Number(Pt.y&di),Nn=Ut;return L&&h(Ut)&&(Nn=m(Ut),bn^=1),new b(ut,Nn,bn)}return{seed:we,k2sig:Te}}let _={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function I(v,A,R=_){let{seed:$,k2sig:k}=H(v,A,R),L=e;return b6e(L.hash.outputLen,L.nByteLength,L.hmac)($,k)}u.BASE._setWindowSize(8);function D(v,A,R,$=N){var bn;let k=v;A=Ka("msgHash",A),R=Ka("publicKey",R);let{lowS:L,prehash:q,format:Z}=$;if(t8e($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");let ee=typeof k=="string"||I5(k),ae=!ee&&!Z&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!ee&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,we;try{if(ae&&(re=new b(k.r,k.s)),ee){try{Z!=="compact"&&(re=b.fromDER(k))}catch(Nn){if(!(Nn instanceof Wh.Err))throw Nn}!re&&Z!=="der"&&(re=b.fromCompact(k))}we=u.fromHex(R)}catch(Nn){return!1}if(!re||L&&re.hasHighS())return!1;q&&(A=e.hash(A));let{r:ie,s:Te}=re,be=U(A),De=l(Te),Et=c(be*De),Pt=c(ie*De),ut=(bn=u.BASE.multiplyAndAddUnsafe(we,Et,Pt))==null?void 0:bn.toAffine();return ut?c(ut.x)===ie:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:I,verify:D,ProjectivePoint:u,Signature:b,utils:E}}var GZ,Wh,Kh,di,Our,KZ,Bnt,n8e=y(()=>{e8e();yU();eU();GZ=class extends Error{constructor(e=""){super(e)}},Wh={Err:GZ,_tlv:{encode:(t,e)=>{let{Err:r}=Wh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,s=R7(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?R7(s.length/2|128):"";return R7(t)+i+s+e},decode(t,e){let{Err:r}=Wh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){let{Err:e}=Wh;if(t<Kh)throw new e("integer: negative integers are not allowed");let r=R7(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=Wh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jh(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Wh,s=Ka("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=Wh,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}};Kh=BigInt(0),di=BigInt(1),Our=BigInt(2),KZ=BigInt(3),Bnt=BigInt(4)});function Lnt(t){return{hash:t,hmac:(e,...r)=>UZ(t,e,qxe(...r)),randomBytes:Wxe}}function s8e(t,e){let r=n=>r8e(S(S({},t),Lnt(n)));return G(S({},r(e)),{create:r})}var i8e=y(()=>{H6e();Jw();n8e();});function Hnt(t){let e=c8e,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Kc(u,r,e)*u%e,d=Kc(f,r,e)*u%e,p=Kc(d,ZZ,e)*l%e,h=Kc(p,s,e)*p%e,m=Kc(h,i,e)*h%e,g=Kc(m,a,e)*m%e,b=Kc(g,c,e)*g%e,E=Kc(b,a,e)*m%e,w=Kc(E,r,e)*u%e,x=Kc(w,o,e)*h%e,C=Kc(x,n,e)*l%e,T=Kc(C,ZZ,e);if(!YZ.eql(YZ.sqr(T),t))throw new Error("Cannot find square root");return T}var c8e,o8e,Mnt,$nt,ZZ,a8e,YZ,Gc,JZ=y(()=>{d6e();i8e();yU();c8e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),o8e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mnt=BigInt(0),$nt=BigInt(1),ZZ=BigInt(2),a8e=(t,e)=>(t+e/ZZ)/e;YZ=$7(c8e,void 0,void 0,{sqrt:Hnt}),Gc=s8e({a:Mnt,b:BigInt(7),Fp:YZ,n:o8e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=o8e,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-$nt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=a8e(i*t,e),c=a8e(-n*t,e),l=bo(t-a*r-c*s,e),u=bo(-a*n-c*i,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},f6e)});var H7={};Me(H7,{InvalidRError:()=>wU,InvalidSError:()=>xU,InvalidSerializedSizeError:()=>bU,InvalidVError:()=>vU,InvalidYParityError:()=>ix,MissingPropertiesError:()=>k5,assert:()=>EU,extract:()=>Fnt,from:()=>XZ,fromBytes:()=>l8e,fromDerBytes:()=>znt,fromDerHex:()=>u8e,fromHex:()=>QZ,fromLegacy:()=>f8e,fromRpc:()=>d8e,fromTuple:()=>Vnt,toBytes:()=>jnt,toDerBytes:()=>qnt,toDerHex:()=>Wnt,toHex:()=>p8e,toLegacy:()=>Knt,toRpc:()=>Gnt,toTuple:()=>Znt,vToYParity:()=>AU,validate:()=>Ynt,yParityToV:()=>eY});function EU(t,e={}){let{recovered:r}=e;if(typeof t.r=="undefined")throw new k5({signature:t});if(typeof t.s=="undefined")throw new k5({signature:t});if(r&&typeof t.yParity=="undefined")throw new k5({signature:t});if(t.r<BigInt(0)||t.r>BZ)throw new wU({value:t.r});if(t.s<BigInt(0)||t.s>BZ)throw new xU({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new ix({value:t.yParity})}function l8e(t){return QZ(qc(t))}function QZ(t){if(t.length!==130&&t.length!==132)throw new bU({signature:t});let e=BigInt(cf(t,0,32)),r=BigInt(cf(t,32,64)),n=(()=>{let s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return AU(s)}catch(i){throw new ix({value:s})}})();return typeof n=="undefined"?{r:e,s:r}:{r:e,s:r,yParity:n}}function Fnt(t){if(typeof t.r!="undefined"&&typeof t.s!="undefined")return XZ(t)}function XZ(t){let e=typeof t=="string"?QZ(t):t instanceof Uint8Array?l8e(t):typeof t.r=="string"?d8e(t):t.v?f8e(t):S({r:t.r,s:t.s},typeof t.yParity!="undefined"?{yParity:t.yParity}:{});return EU(e),e}function znt(t){return u8e(qc(t))}function u8e(t){let{r:e,s:r}=Gc.Signature.fromDER(U0(t).slice(2));return{r:e,s:r}}function f8e(t){return{r:t.r,s:t.s,yParity:AU(t.v)}}function d8e(t){let e=(()=>{let r=t.v?Number(t.v):void 0,n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=AU(r)),typeof n!="number")throw new ix({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Vnt(t){let[e,r,n]=t;return XZ({r:r==="0x"?BigInt(0):BigInt(r),s:n==="0x"?BigInt(0):BigInt(n),yParity:e==="0x"?0:Number(e)})}function jnt(t){return L7(p8e(t))}function p8e(t){EU(t);let e=t.r,r=t.s;return lU(Wc(e,{size:32}),Wc(r,{size:32}),typeof t.yParity=="number"?Wc(eY(t.yParity),{size:1}):"0x")}function qnt(t){return new Gc.Signature(t.r,t.s).toDERRawBytes()}function Wnt(t){return`0x${new Gc.Signature(t.r,t.s).toDERHex()}`}function Knt(t){return{r:t.r,s:t.s,v:eY(t.yParity)}}function Gnt(t){let{r:e,s:r,yParity:n}=t;return{r:Wc(e,{size:32}),s:Wc(r,{size:32}),yParity:n===0?"0x0":"0x1"}}function Znt(t){let{r:e,s:r,yParity:n}=t;return[n?"0x01":"0x",e===BigInt(0)?"0x":AZ(Wc(e)),r===BigInt(0)?"0x":AZ(Wc(r))]}function Ynt(t,e={}){try{return EU(t,e),!0}catch(r){return!1}}function AU(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new vU({value:t})}function eY(t){if(t===0)return 27;if(t===1)return 28;throw new ix({value:t})}var bU,k5,wU,xU,ix,vU,h8e=y(()=>{JZ();rx();S5();nx();D7();$6e();bU=class extends $r{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${zl(U0(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},k5=class extends $r{constructor({signature:e}){super(`Signature \`${C2(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},wU=class extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},xU=class extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},ix=class extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},vU=class extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});var m8e,g8e=y(()=>{m8e=!1});var F7={};Me(F7,{createKeyPair:()=>Xnt,getPublicKey:()=>y8e,getSharedSecret:()=>est,noble:()=>Qnt,randomPrivateKey:()=>b8e,recoverAddress:()=>w8e,recoverPublicKey:()=>x8e,sign:()=>tst,verify:()=>rst});function Xnt(t={}){let{as:e="Hex"}=t,r=b8e({as:e}),n=y8e({privateKey:r});return{privateKey:r,publicKey:n}}function y8e(t){let{privateKey:e}=t,r=Gc.ProjectivePoint.fromPrivateKey(U0(e).slice(2));return NZ(r)}function est(t){let{as:e="Hex",privateKey:r,publicKey:n}=t,o=Gc.ProjectivePoint.fromHex(M7(n).slice(2)).multiply(Gc.utils.normPrivateKeyToScalar(U0(r).slice(2))).toRawBytes(!0);return e==="Hex"?qc(o):o}function b8e(t={}){let{as:e="Hex"}=t,r=Gc.utils.randomPrivateKey();return e==="Hex"?qc(r):r}function w8e(t){return D6e(x8e(t))}function x8e(t){let{payload:e,signature:r}=t,{r:n,s,yParity:i}=r,a=new Gc.Signature(BigInt(n),BigInt(s)).addRecoveryBit(i).recoverPublicKey(U0(e).substring(2));return NZ(a)}function tst(t){let{extraEntropy:e=m8e,hash:r,payload:n,privateKey:s}=t,{r:i,s:o,recovery:a}=Gc.sign(R5(n),R5(s),S({extraEntropy:typeof e=="boolean"?e:U0(e).slice(2),lowS:!0},r?{prehash:!0}:{}));return{r:i,s:o,yParity:a}}function rst(t){let{address:e,hash:r,payload:n,publicKey:s,signature:i}=t;return e?L6e(e,w8e({payload:n,signature:i})):Gc.verify(i,R5(n),k6e(s),...r?[{prehash:!0,lowS:!0}]:[])}var Qnt,v8e=y(()=>{JZ();M6e();rx();nx();g8e();OZ();Qnt=Gc});var E8e=y(()=>{v8e();h8e()});function mf(t){let[e,r]=t.split(nst);return{namespace:e,reference:r}}function i4e(t,e){return t.includes(":")?[t]:e.chains||[]}function Y7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function em(){return!(0,pf.getDocument)()&&!!(0,pf.getNavigator)()&&navigator.product===ust}function o4e(){return em()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function a4e(){return em()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function fx(){return!Y7()&&!!(0,pf.getNavigator)()&&!!(0,pf.getDocument)()}function J7(){return em()?Za.reactNative:Y7()?Za.node:fx()?Za.browser:Za.unknown}function kY(){var t;try{return em()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch(e){return}}function dst(t,e){let r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function c4e(t){var e,r;let n=BY();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),lst(C8e(C8e({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),t||n}}function BY(){return(0,n4e.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function pst(){if(J7()===Za.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=AP();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function hst(){var t;let e=J7();return e===Za.browser?[e,((t=(0,pf.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function UY(t,e,r){let n=pst(),s=hst();return[[t,e].join("-"),[fst,r].join("-"),n,s].join("/")}function l4e({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){let l=r.split("?"),u=UY(t,e,n),f={auth:s,ua:u,projectId:i,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=dst(l[1]||"",f);return l[0]+"?"+d}function ox(t,e){return t.filter(r=>e.includes(r)).length===t.length}function LU(t){return Object.fromEntries(t.entries())}function MU(t){return new Map(Object.entries(t))}function tm(t=Qh.FIVE_MINUTES,e){let r=(0,Qh.toMiliseconds)(t||Qh.FIVE_MINUTES),n,s,i,o;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{let l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,s=c})}}function gf(t,e,r){return new Promise(async(n,s)=>{let i=setTimeout(()=>s(new Error(r)),e);try{let o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function u4e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function f4e(t){return u4e("topic",t)}function d4e(t){return u4e("id",t)}function $U(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Zn(t,e){return(0,Qh.fromMiliseconds)((e||Date.now())+(0,Qh.toMiliseconds)(t))}function Yc(t){return Date.now()>=(0,Qh.toMiliseconds)(t)}function Hr(t,e){return`${t}${e?`:${e}`:""}`}function ff(t=[],e=[]){return[...new Set([...t,...e])]}async function p4e({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;let s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;let o=mst(i,t,e),a=J7();if(a===Za.browser){if(!((n=(0,pf.getDocument)())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}gst(o)}else a===Za.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function mst(t,e,r){let n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){let i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${wst(n,!0)}`}else s=`${s}/wc?${n}`;return s}function gst(t){let e="_self";bst()?e="_top":(yst()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function h4e(t,e){let r="";try{if(fx()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function DY(t,e){if(!t.includes(e))return null;let r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function LY(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Q7(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function yst(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function bst(){try{return window.self!==window.top}catch(t){return!1}}function wst(t,e=!1){let r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function m4e(t){return Buffer.from(t,"base64").toString("utf-8")}function g4e(t){return new Promise(e=>setTimeout(e,t))}function y4e(t,e=!1){return e?{h:Number(t&CU),l:Number(t>>I8e&CU)}:{h:Number(t>>I8e&CU)|0,l:Number(t&CU)|0}}function b4e(t,e=!1){let r=t.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=y4e(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}function uf(t,e,r,n){let s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}function HU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Xh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hf(t,...e){if(!HU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function FU(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xh(t.outputLen),Xh(t.blockLen)}function D2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HY(t,e){hf(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function K7(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Vl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tY(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function D0(t,e){return t<<32-e|t>>>e}function x4e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Nst(t){for(let e=0;e<t.length;e++)t[e]=x4e(t[e]);return t}function L5(t){if(hf(t),v4e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ost[t[r]];return e}function _8e(t){if(t>=Gh._0&&t<=Gh._9)return t-Gh._0;if(t>=Gh.A&&t<=Gh.F)return t-(Gh.A-10);if(t>=Gh.a&&t<=Gh.f)return t-(Gh.a-10)}function NU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(v4e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=_8e(t.charCodeAt(i)),a=_8e(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function E4e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function df(t){return typeof t=="string"&&(t=E4e(t)),hf(t),t}function B2(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];hf(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}function X7(t){let e=n=>t().update(df(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Rst(t){let e=(n,s)=>t(s).update(df(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function dx(t=32){if(B5&&typeof B5.getRandomValues=="function")return B5.getRandomValues(new Uint8Array(t));if(B5&&typeof B5.randomBytes=="function")return Uint8Array.from(B5.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Hst(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=N8e(l,u,1)^r[a],d=O8e(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=C4e[o],c=N8e(s,i,a),l=O8e(s,i,a),u=A4e[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Mst[n],t[1]^=$st[n]}Vl(r)}function Vst(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function jst(t,e,r){return t&e^~t&r}function qst(t,e,r){return t&e^t&r^e&r}function _2(t,e,r,n,s,i){let o=s[i],a=s[i+1],c=qe[2*t],l=qe[2*t+1],u=qe[2*e],f=qe[2*e+1],d=qe[2*r],p=qe[2*r+1],h=qe[2*n],m=qe[2*n+1],g=MY(c,u,o);l=$Y(g,l,f,a),c=g|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:xst(m,h),Dl:vst(m)},{h:p,l:d}=uf(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:O2(f,u,24),Bl:R2(f,u,24)},qe[2*t]=c,qe[2*t+1]=l,qe[2*e]=u,qe[2*e+1]=f,qe[2*r]=d,qe[2*r+1]=p,qe[2*n]=h,qe[2*n+1]=m}function N2(t,e,r,n,s,i){let o=s[i],a=s[i+1],c=qe[2*t],l=qe[2*t+1],u=qe[2*e],f=qe[2*e+1],d=qe[2*r],p=qe[2*r+1],h=qe[2*n],m=qe[2*n+1],g=MY(c,u,o);l=$Y(g,l,f,a),c=g|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:O2(m,h,16),Dl:R2(m,h,16)},{h:p,l:d}=uf(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:j7(f,u,63),Bl:q7(f,u,63)},qe[2*t]=c,qe[2*t+1]=l,qe[2*e]=u,qe[2*e+1]=f,qe[2*r]=d,qe[2*r+1]=p,qe[2*n]=h,qe[2*n+1]=m}function Xst(t,e={},r,n,s){if(Xh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}function P4e(t){let e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(zst(r)).toString("hex")}async function rit(t,e,r,n,s,i){switch(r.t){case"eip191":return await nit(t,e,r.s);case"eip1271":return await sit(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function nit(t,e,r){let n=H7.fromHex(r);return F7.recoverAddress({payload:P4e(e),signature:n}).toLowerCase()===t.toLowerCase()}async function sit(t,e,r,n,s,i){let o=mf(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:P4e(e)).substring(2),d=a+f+c+u+l,p=await fetch(`${i||tit}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:iit(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:h}=await p.json();return h?h.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function iit(){return Date.now()+Math.floor(Math.random()*1e3)}function _4e(t){let e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);let n=r[0];if(n===0)throw new Error("No signatures found");let s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");let i=Buffer.from(t,"base64").slice(1,65);return wa.encode(i)}function N4e(t){let e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);let s=eit(n,{dkLen:32});return wa.encode(s)}function FY(t){let e=new Uint8Array(zU(oit(t)));return wa.encode(e)}function oit(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function zY(t){let e=Buffer.from(t,"base64"),r=FA(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");let n=LA(r),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(n)]),o=Jst(i);return c_.encode(o).replace(/=+$/,"")}function rY(t){let e=[],r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function O4e(t){let e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(rY(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(rY(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(rY(n.length)),s.push(n);let i=Buffer.concat(s),o=zU(i);return Buffer.from(o).toString("hex").toUpperCase()}function R4e(t){var e,r;let n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);let s=(r=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}async function VY(t){let{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=jY(s,s.iss),o=eS(s.iss);return await rit(o,i,n,jU(s.iss),r)}function bit(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function wit(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ux(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{let n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{let i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function xit(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:vit(e,r,n)}}}function vit(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));let n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function B4e(t){return ux(t),`urn:recap:${bit(t).replace(/=/g,"")}`}function Z7(t){let e=wit(t.replace("urn:recap:",""));return ux(e),e}function U4e(t,e,r){let n=xit(t,e,r);return B4e(n)}function Eit(t){return t&&t.includes("urn:recap:")}function D4e(t,e){let r=Z7(t),n=Z7(e),s=Ait(r,n);return B4e(s)}function Ait(t,e){ux(t),ux(e);let r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[s]=pit(dit({},n.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),n}function Cit(t="",e){ux(e);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;let n=[],s=0;Object.keys(e.att).forEach(a=>{let c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));let l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});let u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});let i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function qY(t){var e;let r=Z7(t);ux(r);let n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function WY(t){let e=Z7(t);ux(e);let r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function tS(t){if(!t)return;let e=t==null?void 0:t[t.length-1];return Eit(e)?e:void 0}function L4e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xY(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function nY(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ga(t,...e){if(!L4e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function B8e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Sit(t,e){Ga(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function U2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function H5(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Iit(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pit(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function vY(t){if(typeof t=="string")t=Pit(t);else if(L4e(t))t=EY(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function _it(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Nit(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function U8e(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!kit(e))throw new Error("invalid output, must be aligned");return e}function D8e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function Rit(t,e,r){xY(r);let n=new Uint8Array(16),s=Iit(n);return D8e(s,0,BigInt(e),r),D8e(s,8,BigInt(t),r),n}function kit(t){return t.byteOffset%4===0}function EY(t){return Uint8Array.from(t)}function Pr(t,e){return t<<e|t>>>32-e}function AY(t){return t.byteOffset%4===0}function $it(t,e,r,n,s,i,o,a){let c=s.length,l=new Uint8Array(SU),u=U2(l),f=AY(s)&&AY(i),d=f?U2(s):L8e,p=f?U2(i):L8e;for(let h=0;h<c;o++){if(t(e,r,n,u,o,a),o>=$4e)throw new Error("arx: counter overflow");let m=Math.min(SU,c-h);if(f&&m===SU){let g=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<Mit;b++)E=g+b,p[E]=d[E]^u[b];h+=SU;continue}for(let g=0,b;g<m;g++)b=h+g,i[b]=s[b]^l[g];h+=m}}function Hit(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=_it({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return nY(s),nY(o),xY(i),xY(r),(a,c,l,u,f=0)=>{Ga(a),Ga(c),Ga(l);let d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Ga(u),nY(f),f<0||f>=$4e)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);let p=[],h=a.length,m,g;if(h===32)p.push(m=EY(a)),g=Lit;else if(h===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),g=Dit,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);AY(c)||p.push(c=EY(c));let b=U2(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(g,b,U2(c.subarray(0,16)),b),c=c.subarray(16)}let E=16-s;if(E!==c.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){let x=new Uint8Array(12);x.set(c,i?0:12-c.length),c=x,p.push(c)}let w=U2(c);return $it(t,g,b,w,l,u,f,o),H5(...p),u}}function Fit(t){let e=(n,s)=>t(s).update(vY(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Vit(t,e,r,n,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],p=e[3],h=e[4],m=e[5],g=e[6],b=e[7],E=s,w=r[0],x=r[1],C=r[2],T=o,U=a,B=c,O=l,H=u,_=f,N=d,I=p,D=h,v=m,A=g,R=b,$=E,k=w,L=x,q=C;for(let ee=0;ee<i;ee+=2)T=T+H|0,$=Pr($^T,16),D=D+$|0,H=Pr(H^D,12),T=T+H|0,$=Pr($^T,8),D=D+$|0,H=Pr(H^D,7),U=U+_|0,k=Pr(k^U,16),v=v+k|0,_=Pr(_^v,12),U=U+_|0,k=Pr(k^U,8),v=v+k|0,_=Pr(_^v,7),B=B+N|0,L=Pr(L^B,16),A=A+L|0,N=Pr(N^A,12),B=B+N|0,L=Pr(L^B,8),A=A+L|0,N=Pr(N^A,7),O=O+I|0,q=Pr(q^O,16),R=R+q|0,I=Pr(I^R,12),O=O+I|0,q=Pr(q^O,8),R=R+q|0,I=Pr(I^R,7),T=T+_|0,q=Pr(q^T,16),A=A+q|0,_=Pr(_^A,12),T=T+_|0,q=Pr(q^T,8),A=A+q|0,_=Pr(_^A,7),U=U+N|0,$=Pr($^U,16),R=R+$|0,N=Pr(N^R,12),U=U+N|0,$=Pr($^U,8),R=R+$|0,N=Pr(N^R,7),B=B+I|0,k=Pr(k^B,16),D=D+k|0,I=Pr(I^D,12),B=B+I|0,k=Pr(k^B,8),D=D+k|0,I=Pr(I^D,7),O=O+H|0,L=Pr(L^O,16),v=v+L|0,H=Pr(H^v,12),O=O+H|0,L=Pr(L^O,8),v=v+L|0,H=Pr(H^v,7);let Z=0;n[Z++]=o+T|0,n[Z++]=a+U|0,n[Z++]=c+B|0,n[Z++]=l+O|0,n[Z++]=u+H|0,n[Z++]=f+_|0,n[Z++]=d+N|0,n[Z++]=p+I|0,n[Z++]=h+D|0,n[Z++]=m+v|0,n[Z++]=g+A|0,n[Z++]=b+R|0,n[Z++]=E+$|0,n[Z++]=w+k|0,n[Z++]=x+L|0,n[Z++]=C+q|0}function $8e(t,e,r,n,s){let i=t(e,r,Wit),o=zit.create(i);s&&M8e(o,s),M8e(o,n);let a=Rit(n.length,s?s.length:0,!0);o.update(a);let c=o.digest();return H5(i,a),c}function Git(t,e,r){return FU(t),r===void 0&&(r=new Uint8Array(t.outputLen)),qU(t,df(r),df(e))}function Zit(t,e,r,n=32){FU(t),Xh(n);let s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(n/s);r===void 0&&(r=H8e);let o=new Uint8Array(i*s),a=qU.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)sY[0]=u+1,c.update(u===0?H8e:l).update(r).update(sY).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Vl(l,sY),o.slice(0,n)}function kU(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function ax(t,e,r=""){let n=HU(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){let o=r&&`"${r}" `,a=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function IU(t){let e=t.toString(16);return e.length&1?"0"+e:e}function F4e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KY:BigInt("0x"+t)}function KU(t){return F4e(L5(t))}function BU(t){return hf(t),F4e(L5(Uint8Array.from(t).reverse()))}function GY(t,e){return NU(t.toString(16).padStart(e*2,"0"))}function ZY(t,e){return GY(t,e).reverse()}function Ao(t,e,r){let n;if(typeof e=="string")try{n=NU(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(HU(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function Jit(t,e,r){return iY(t)&&iY(e)&&iY(r)&&e<=t&&t<r}function IY(t,e,r,n){if(!Jit(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function z4e(t){let e;for(e=0;t>KY;t>>=SY,e+=1);return e}function Qit(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=d=>new Uint8Array(d),s=d=>Uint8Array.of(d),i=n(t),o=n(t),a=0,c=()=>{i.fill(1),o.fill(0),a=0},l=(...d)=>r(o,i,...d),u=(d=n(0))=>{o=l(s(0),d),i=l(),d.length!==0&&(o=l(s(1),d),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){i=l();let h=i.slice();p.push(h),d+=i.length}return B2(...p)};return(d,p)=>{c(),u(d);let h;for(;!(h=p(f()));)u();return c(),h}}function GU(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,o){let a=t[s];if(o&&a===void 0)return;let c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function F8e(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}function Zc(t,e){let r=t%e;return r>=Ya?r:e+r}function lf(t,e,r){let n=t;for(;e-- >Ya;)n*=n,n%=r;return n}function z8e(t,e){if(t===Ya)throw new Error("invert: expected non-zero number");if(e<=Ya)throw new Error("invert: expected positive modulus, got "+e);let r=Zc(t,e),n=e,s=Ya,i=ua;for(;r!==Ya;){let o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==ua)throw new Error("invert: does not exist");return Zc(s,e)}function YY(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function G4e(t,e){let r=(t.ORDER+ua)/j4e,n=t.pow(e,r);return YY(t,n,e),n}function tot(t,e){let r=(t.ORDER-q4e)/W4e,n=t.mul(e,cx),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,cx),s),a=t.mul(i,t.sub(o,t.ONE));return YY(t,a,e),a}function rot(t){let e=$2(t),r=Z4e(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),o=(t+Xit)/K4e;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,n),f=a.mul(l,s),d=a.mul(l,i),p=a.eql(a.sqr(u),c),h=a.eql(a.sqr(f),c);l=a.cmov(l,u,p),u=a.cmov(d,f,h);let m=a.eql(a.sqr(u),c),g=a.cmov(l,u,m);return YY(a,g,c),g}}function Z4e(t){if(t<V4e)throw new Error("sqrt is not defined for small field");let e=t-ua,r=0;for(;e%cx===Ya;)e/=cx,r++;let n=cx,s=$2(t);for(;V8e(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return G4e;let i=s.pow(n,e),o=(e+ua)/cx;return function(a,c){if(a.is0(c))return c;if(V8e(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,i),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let p=1,h=a.sqr(f);for(;!a.eql(h,a.ONE);)if(p++,h=a.sqr(h),p===l)throw new Error("Cannot find square root");let m=ua<<BigInt(l-p-1),g=a.pow(u,m);l=p,u=a.sqr(g),f=a.mul(f,u),d=a.mul(d,g)}return d}}function not(t){return t%j4e===V4e?G4e:t%W4e===q4e?tot:t%K4e===eot?rot(t):Z4e(t)}function iot(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=sot.reduce((n,s)=>(n[s]="function",n),e);return GU(t,r),t}function oot(t,e,r){if(r<Ya)throw new Error("invalid exponent, negatives unsupported");if(r===Ya)return t.ONE;if(r===ua)return e;let n=t.ONE,s=e;for(;r>Ya;)r&ua&&(n=t.mul(n,s)),s=t.sqr(s),r>>=ua;return n}function Y4e(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function V8e(t,e){let r=(t.ORDER-ua)/cx,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function J4e(t,e){e!==void 0&&Xh(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function $2(t,e,r=!1,n={}){if(t<=Ya)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let d=e;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(r=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);let{nBitLength:c,nByteLength:l}=J4e(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,f=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:rS(c),ZERO:Ya,ONE:ua,allowedLengths:a,create:d=>Zc(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ya<=d&&d<t},is0:d=>d===Ya,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&ua)===ua,neg:d=>Zc(-d,t),eql:(d,p)=>d===p,sqr:d=>Zc(d*d,t),add:(d,p)=>Zc(d+p,t),sub:(d,p)=>Zc(d-p,t),mul:(d,p)=>Zc(d*p,t),pow:(d,p)=>oot(f,d,p),div:(d,p)=>Zc(d*z8e(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>z8e(d,t),sqrt:i||(d=>(u||(u=not(t)),u(f,d))),toBytes:d=>r?ZY(d,l):GY(d,l),fromBytes:(d,p=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);let m=new Uint8Array(l);m.set(d,r?0:m.length-d.length),d=m}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let h=r?BU(d):KU(d);if(o&&(h=Zc(h,t)),!p&&!f.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:d=>Y4e(f,d),cmov:(d,p,h)=>h?p:d});return Object.freeze(f)}function Q4e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function X4e(t){let e=Q4e(t);return e+Math.ceil(e/2)}function aot(t,e,r=!1){let n=t.length,s=Q4e(e),i=X4e(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=r?BU(t):KU(t),a=Zc(o,e-ua)+ua;return r?ZY(a,s):GY(a,s)}function UU(t,e){let r=e.negate();return t?r:e}function oY(t,e){let r=Y4e(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function e3e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function aY(t,e){e3e(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=rS(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function j8e(t,e,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r,a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=lx);let l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function cot(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function lot(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function lY(t){return t3e.get(t)||1}function q8e(t){if(t!==F5)throw new Error("invalid wNAF")}function uot(t,e,r,n){let s=e,i=t.ZERO,o=t.ZERO;for(;r>F5||n>F5;)r&lx&&(i=i.add(s)),n&lx&&(o=o.add(s)),s=s.double(),r>>=lx,n>>=lx;return{p1:i,p2:o}}function fot(t,e,r,n){cot(r,t),lot(n,e);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,a=z4e(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=rS(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<i;m++){let g=n[m],b=Number(g>>BigInt(p)&l);u[b]=u[b].add(r[m])}let h=o;for(let m=u.length-1,g=o;m>0;m--)g=g.add(u[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function W8e(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return iot(e),e}else return $2(t,{isLE:r})}function dot(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let a of["p","n","h"]){let c=e[a];if(!(typeof c=="bigint"&&c>F5))throw new Error(`CURVE.${a} must be positive bigint`)}let s=W8e(e.p,r.Fp,n),i=W8e(e.n,r.Fn,n),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let a of o)if(!s.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}function pot(t){return GU(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(S({},t))}function hot(t){let e=pot(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");let c=o||dx,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),p=a?TU**BigInt(254):TU**BigInt(447),h=a?BigInt(8)*TU**BigInt(251)-U5:BigInt(4)*TU**BigInt(445)-U5,m=p+h+U5,g=N=>Zc(N,r),b=E(f);function E(N){return ZY(g(N),u)}function w(N){let I=Ao("u coordinate",N,u);return a&&(I[31]&=127),g(BU(I))}function x(N){return BU(s(Ao("scalar",N,u)))}function C(N,I){let D=B(w(I),x(N));if(D===V7)throw new Error("invalid private or public key received");return E(D)}function T(N){return C(N,b)}function U(N,I,D){let v=g(N*(I-D));return I=g(I-v),D=g(D+v),{x_2:I,x_3:D}}function B(N,I){IY("u",N,V7,r),IY("scalar",I,p,m);let D=I,v=N,A=U5,R=V7,$=N,k=U5,L=V7;for(let Z=BigInt(l-1);Z>=V7;Z--){let ee=D>>Z&U5;L^=ee,{x_2:A,x_3:$}=U(L,A,$),{x_2:R,x_3:k}=U(L,R,k),L=ee;let ae=A+R,re=g(ae*ae),we=A-R,ie=g(we*we),Te=re-ie,be=$+k,De=$-k,Et=g(De*ae),Pt=g(be*we),ut=Et+Pt,Ut=Et-Pt;$=g(ut*ut),k=g(v*g(Ut*Ut)),A=g(re*ie),R=g(Te*(re+g(d*Te)))}({x_2:A,x_3:$}=U(L,A,$)),{x_2:R,x_3:k}=U(L,R,k);let q=i(R);return g(A*q)}let O={secretKey:u,publicKey:u,seed:u},H=(N=c(u))=>(hf(N,O.seed),N);function _(N){let I=H(N);return{secretKey:I,publicKey:T(I)}}return{keygen:_,getSharedSecret:(N,I)=>C(N,I),getPublicKey:N=>T(N),scalarMult:C,scalarMultBase:T,utils:{randomSecretKey:H,randomPrivateKey:H},GuBytes:b.slice(),lengths:O}}function xot(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=r3e,o=t*t%i*t%i,a=lf(o,K8e,i)*o%i,c=lf(a,mot,i)*t%i,l=lf(c,yot,i)*c%i,u=lf(l,e,i)*l%i,f=lf(u,r,i)*u%i,d=lf(f,n,i)*f%i,p=lf(d,s,i)*d%i,h=lf(p,s,i)*d%i,m=lf(h,e,i)*l%i;return{pow_p_5_8:lf(m,K8e,i)*t%i,b2:o}}function vot(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Aot(t,e,r){let[[n,s],[i,o]]=e,a=G8e(o*t,r),c=G8e(-s*t,r),l=t-a*n-c*i,u=-a*s-c*o,f=l<Jh,d=u<Jh;f&&(l=-l),d&&(u=-u);let p=rS(Math.ceil(z4e(r)/2))+M5;if(l<Jh||l>=p||u<Jh||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}function _Y(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function uY(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return kU(r.lowS,"lowS"),kU(r.prehash,"prehash"),r.format!==void 0&&_Y(r.format),r}function D5(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let s=Ao("private key",e);try{n=t.fromBytes(s)}catch(i){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Sot(t,e={}){let r=dot("weierstrass",t,e),{Fp:n,Fn:s}=r,i=r.CURVE,{h:o,n:a}=i;GU(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=i3e(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(N,I,D){let{x:v,y:A}=I.toAffine(),R=n.toBytes(v);if(kU(D,"isCompressed"),D){u();let $=!n.isOdd(A);return B2(s3e($),R)}else return B2(Uint8Array.of(4),R,n.toBytes(A))}function d(N){ax(N,void 0,"Point");let{publicKey:I,publicKeyUncompressed:D}=l,v=N.length,A=N[0],R=N.subarray(1);if(v===I&&(A===2||A===3)){let $=n.fromBytes(R);if(!n.isValid($))throw new Error("bad point: is not on curve, wrong x");let k=m($),L;try{L=n.sqrt(k)}catch(Z){let ee=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+ee)}u();let q=n.isOdd(L);return(A&1)===1!==q&&(L=n.neg(L)),{x:$,y:L}}else if(v===D&&A===4){let $=n.BYTES,k=n.fromBytes(R.subarray(0,$)),L=n.fromBytes(R.subarray($,$*2));if(!g(k,L))throw new Error("bad point: is not on curve");return{x:k,y:L}}else throw new Error(`bad point: got length ${v}, expected compressed=${I} or uncompressed=${D}`)}let p=e.toBytes||f,h=e.fromBytes||d;function m(N){let I=n.sqr(N),D=n.mul(I,N);return n.add(n.add(D,n.mul(N,i.a)),i.b)}function g(N,I){let D=n.sqr(I),v=m(N);return n.eql(D,v)}if(!g(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let b=n.mul(n.pow(i.a,PU),Cot),E=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(b,E)))throw new Error("bad curve params: a or b");function w(N,I,D=!1){if(!n.isValid(I)||D&&n.is0(I))throw new Error(`bad point coordinate ${N}`);return I}function x(N){if(!(N instanceof O))throw new Error("ProjectivePoint expected")}function C(N){if(!c||!c.basises)throw new Error("no endo");return Aot(N,c.basises,s.ORDER)}let T=F8e((N,I)=>{let{X:D,Y:v,Z:A}=N;if(n.eql(A,n.ONE))return{x:D,y:v};let R=N.is0();I==null&&(I=R?n.ONE:n.inv(A));let $=n.mul(D,I),k=n.mul(v,I),L=n.mul(A,I);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:$,y:k}}),U=F8e(N=>{if(N.is0()){if(e.allowInfinityPoint&&!n.is0(N.Y))return;throw new Error("bad point: ZERO")}let{x:I,y:D}=N.toAffine();if(!n.isValid(I)||!n.isValid(D))throw new Error("bad point: x or y not field elements");if(!g(I,D))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function B(N,I,D,v,A){return D=new O(n.mul(D.X,N),D.Y,D.Z),I=UU(v,I),D=UU(A,D),I.add(D)}class O{constructor(I,D,v){this.X=w("x",I),this.Y=w("y",D,!0),this.Z=w("z",v),Object.freeze(this)}static CURVE(){return i}static fromAffine(I){let{x:D,y:v}=I||{};if(!I||!n.isValid(D)||!n.isValid(v))throw new Error("invalid affine point");if(I instanceof O)throw new Error("projective point not allowed");return n.is0(D)&&n.is0(v)?O.ZERO:new O(D,v,n.ONE)}static fromBytes(I){let D=O.fromAffine(h(ax(I,void 0,"point")));return D.assertValidity(),D}static fromHex(I){return O.fromBytes(Ao("pointHex",I))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(I=8,D=!0){return _.createCache(this,I),D||this.multiply(PU),this}assertValidity(){U(this)}hasEvenY(){let{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){x(I);let{X:D,Y:v,Z:A}=this,{X:R,Y:$,Z:k}=I,L=n.eql(n.mul(D,k),n.mul(R,A)),q=n.eql(n.mul(v,k),n.mul($,A));return L&&q}negate(){return new O(this.X,n.neg(this.Y),this.Z)}double(){let{a:I,b:D}=i,v=n.mul(D,PU),{X:A,Y:R,Z:$}=this,k=n.ZERO,L=n.ZERO,q=n.ZERO,Z=n.mul(A,A),ee=n.mul(R,R),ae=n.mul($,$),re=n.mul(A,R);return re=n.add(re,re),q=n.mul(A,$),q=n.add(q,q),k=n.mul(I,q),L=n.mul(v,ae),L=n.add(k,L),k=n.sub(ee,L),L=n.add(ee,L),L=n.mul(k,L),k=n.mul(re,k),q=n.mul(v,q),ae=n.mul(I,ae),re=n.sub(Z,ae),re=n.mul(I,re),re=n.add(re,q),q=n.add(Z,Z),Z=n.add(q,Z),Z=n.add(Z,ae),Z=n.mul(Z,re),L=n.add(L,Z),ae=n.mul(R,$),ae=n.add(ae,ae),Z=n.mul(ae,re),k=n.sub(k,Z),q=n.mul(ae,ee),q=n.add(q,q),q=n.add(q,q),new O(k,L,q)}add(I){x(I);let{X:D,Y:v,Z:A}=this,{X:R,Y:$,Z:k}=I,L=n.ZERO,q=n.ZERO,Z=n.ZERO,ee=i.a,ae=n.mul(i.b,PU),re=n.mul(D,R),we=n.mul(v,$),ie=n.mul(A,k),Te=n.add(D,v),be=n.add(R,$);Te=n.mul(Te,be),be=n.add(re,we),Te=n.sub(Te,be),be=n.add(D,A);let De=n.add(R,k);return be=n.mul(be,De),De=n.add(re,ie),be=n.sub(be,De),De=n.add(v,A),L=n.add($,k),De=n.mul(De,L),L=n.add(we,ie),De=n.sub(De,L),Z=n.mul(ee,be),L=n.mul(ae,ie),Z=n.add(L,Z),L=n.sub(we,Z),Z=n.add(we,Z),q=n.mul(L,Z),we=n.add(re,re),we=n.add(we,re),ie=n.mul(ee,ie),be=n.mul(ae,be),we=n.add(we,ie),ie=n.sub(re,ie),ie=n.mul(ee,ie),be=n.add(be,ie),re=n.mul(we,be),q=n.add(q,re),re=n.mul(De,be),L=n.mul(Te,L),L=n.sub(L,re),re=n.mul(Te,we),Z=n.mul(De,Z),Z=n.add(Z,re),new O(L,q,Z)}subtract(I){return this.add(I.negate())}is0(){return this.equals(O.ZERO)}multiply(I){let{endo:D}=e;if(!s.isValidNot0(I))throw new Error("invalid scalar: out of range");let v,A,R=$=>_.cached(this,$,k=>oY(O,k));if(D){let{k1neg:$,k1:k,k2neg:L,k2:q}=C(I),{p:Z,f:ee}=R(k),{p:ae,f:re}=R(q);A=ee.add(re),v=B(D.beta,Z,ae,$,L)}else{let{p:$,f:k}=R(I);v=$,A=k}return oY(O,[v,A])[0]}multiplyUnsafe(I){let{endo:D}=e,v=this;if(!s.isValid(I))throw new Error("invalid scalar: out of range");if(I===Jh||v.is0())return O.ZERO;if(I===M5)return v;if(_.hasCache(this))return this.multiply(I);if(D){let{k1neg:A,k1:R,k2neg:$,k2:k}=C(I),{p1:L,p2:q}=uot(O,v,R,k);return B(D.beta,L,q,A,$)}else return _.unsafe(v,I)}multiplyAndAddUnsafe(I,D,v){let A=this.multiplyUnsafe(D).add(I.multiplyUnsafe(v));return A.is0()?void 0:A}toAffine(I){return T(this,I)}isTorsionFree(){let{isTorsionFree:I}=e;return o===M5?!0:I?I(O,this):_.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:I}=e;return o===M5?this:I?I(O,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(I=!0){return kU(I,"isCompressed"),this.assertValidity(),p(O,this,I)}toHex(I=!0){return L5(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(I=!0){return this.toBytes(I)}_setWindowSize(I){this.precompute(I)}static normalizeZ(I){return oY(O,I)}static msm(I,D){return fot(O,s,I,D)}static fromPrivateKey(I){return O.BASE.multiply(D5(s,I))}}O.BASE=new O(i.Gx,i.Gy,n.ONE),O.ZERO=new O(n.ZERO,n.ONE,n.ZERO),O.Fp=n,O.Fn=s;let H=s.BITS,_=new TY(O,e.endo?Math.ceil(H/2):H);return O.BASE.precompute(8),O}function s3e(t){return Uint8Array.of(t?2:3)}function i3e(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Iot(t,e={}){let{Fn:r}=t,n=e.randomBytes||dx,s=Object.assign(i3e(t.Fp,r),{seed:X4e(r.ORDER)});function i(d){try{return!!D5(r,d)}catch(p){return!1}}function o(d,p){let{publicKey:h,publicKeyUncompressed:m}=s;try{let g=d.length;return p===!0&&g!==h||p===!1&&g!==m?!1:!!t.fromBytes(d)}catch(g){return!1}}function a(d=n(s.seed)){return aot(ax(d,s.seed,"seed"),r.ORDER)}function c(d,p=!0){return t.BASE.multiply(D5(r,d)).toBytes(p)}function l(d){let p=a(d);return{secretKey:p,publicKey:c(p)}}function u(d){if(typeof d=="bigint")return!1;if(d instanceof t)return!0;let{secretKey:p,publicKey:h,publicKeyUncompressed:m}=s;if(r.allowedLengths||p===h)return;let g=Ao("key",d).length;return g===h||g===m}function f(d,p,h=!0){if(u(d)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");let m=D5(r,d);return t.fromHex(p).multiply(m).toBytes(h)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:d=>D5(r,d),precompute(d=8,p=t.BASE){return p.precompute(d,!1)}},lengths:s})}function Tot(t,e,r={}){FU(e),GU(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||dx,s=r.hmac||((D,...v)=>qU(e,D,B2(...v))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p}=Iot(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function g(D){let v=a>>M5;return D>v}function b(D,v){if(!o.isValidNot0(v))throw new Error(`invalid signature ${D}: out of range 1..Point.Fn.ORDER`);return v}function E(D,v){_Y(v);let A=p.signature,R=v==="compact"?A:v==="recovered"?A+1:void 0;return ax(D,R,`${v} signature`)}class w{constructor(v,A,R){this.r=b("r",v),this.s=b("s",A),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(v,A=m){E(v,A);let R;if(A==="der"){let{r:q,s:Z}=Yh.toSig(ax(v));return new w(q,Z)}A==="recovered"&&(R=v[0],A="compact",v=v.subarray(1));let $=o.BYTES,k=v.subarray(0,$),L=v.subarray($,$*2);return new w(o.fromBytes(k),o.fromBytes(L),R)}static fromHex(v,A){return this.fromBytes(NU(v),A)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){let A=i.ORDER,{r:R,s:$,recovery:k}=this;if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");if(a*n3e<A&&k>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=k===2||k===3?R+a:R;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");let q=i.toBytes(L),Z=t.fromBytes(B2(s3e((k&1)===0),q)),ee=o.inv(L),ae=C(Ao("msgHash",v)),re=o.create(-ae*ee),we=o.create($*ee),ie=t.BASE.multiplyUnsafe(re).add(Z.multiplyUnsafe(we));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return g(this.s)}toBytes(v=m){if(_Y(v),v==="der")return NU(Yh.hexFromSig(this));let A=o.toBytes(this.r),R=o.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return B2(Uint8Array.of(this.recovery),A,R)}return B2(A,R)}toHex(v){return L5(this.toBytes(v))}assertValidity(){}static fromCompact(v){return w.fromBytes(Ao("sig",v),"compact")}static fromDER(v){return w.fromBytes(Ao("sig",v),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return L5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return L5(this.toBytes("compact"))}}let x=r.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");let v=KU(D),A=D.length*8-c;return A>0?v>>BigInt(A):v},C=r.bits2int_modN||function(D){return o.create(x(D))},T=rS(c);function U(D){return IY("num < 2^"+c,D,Jh,T),o.toBytes(D)}function B(D,v){return ax(D,void 0,"message"),v?ax(e(D),void 0,"prehashed message"):D}function O(D,v,A){if(["recovered","canonical"].some(we=>we in A))throw new Error("sign() legacy options not supported");let{lowS:R,prehash:$,extraEntropy:k}=uY(A,h);D=B(D,$);let L=C(D),q=D5(o,v),Z=[U(q),U(L)];if(k!=null&&k!==!1){let we=k===!0?n(p.secretKey):k;Z.push(Ao("extraEntropy",we))}let ee=B2(...Z),ae=L;function re(we){let ie=x(we);if(!o.isValidNot0(ie))return;let Te=o.inv(ie),be=t.BASE.multiply(ie).toAffine(),De=o.create(be.x);if(De===Jh)return;let Et=o.create(Te*o.create(ae+De*q));if(Et===Jh)return;let Pt=(be.x===De?0:2)|Number(be.y&M5),ut=Et;return R&&g(Et)&&(ut=o.neg(Et),Pt^=1),new w(De,ut,Pt)}return{seed:ee,k2sig:re}}function H(D,v,A={}){D=Ao("message",D);let{seed:R,k2sig:$}=O(D,v,A);return Qit(e.outputLen,o.BYTES,s)(R,$)}function _(D){let v,A=typeof D=="string"||HU(D),R=!A&&D!==null&&typeof D=="object"&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!A&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)v=new w(D.r,D.s);else if(A){try{v=w.fromBytes(Ao("sig",D),"der")}catch($){if(!($ instanceof Yh.Err))throw $}if(!v)try{v=w.fromBytes(Ao("sig",D),"compact")}catch($){return!1}}return v||!1}function N(D,v,A,R={}){let{lowS:$,prehash:k,format:L}=uY(R,h);if(A=Ao("publicKey",A),v=B(Ao("message",v),k),"strict"in R)throw new Error("options.strict was renamed to lowS");let q=L===void 0?_(D):w.fromBytes(Ao("sig",D),L);if(q===!1)return!1;try{let Z=t.fromBytes(A);if($&&q.hasHighS())return!1;let{r:ee,s:ae}=q,re=C(v),we=o.inv(ae),ie=o.create(re*we),Te=o.create(ee*we),be=t.BASE.multiplyUnsafe(ie).add(Z.multiplyUnsafe(Te));return be.is0()?!1:o.create(be.x)===ee}catch(Z){return!1}}function I(D,v,A={}){let{prehash:R}=uY(A,h);return v=B(v,R),w.fromBytes(D,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p,Point:t,sign:H,verify:N,recoverPublicKey:I,Signature:w,hash:e})}function Pot(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0,s=$2(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function _ot(t){let{CURVE:e,curveOpts:r}=Pot(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function Not(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,J4e(r.Fn.ORDER,r.Fn.BITS))})}function Oot(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=_ot(t),i=Sot(e,r),o=Tot(i,n,s);return Not(t,o)}function OY(t,e){let r=n=>Oot(G(S({},t),{hash:n}));return G(S({},r(e)),{create:r})}function f3e(){let t=PY.utils.randomPrivateKey(),e=PY.getPublicKey(t);return{privateKey:wr(t,Co),publicKey:wr(e,Co)}}function ZU(){let t=dx(JY);return wr(t,Co)}function d3e(t,e){let r=PY.getSharedSecret(cn(t,Co),cn(e,Co)),n=Yit(WU,r,void 0,void 0,JY);return wr(n,Co)}function V5(t){let e=WU(cn(t,Co));return wr(e,Co)}function Ja(t){let e=WU(cn(t,nS));return wr(e,Co)}function p3e(t){return cn(`${t}`,l3e)}function L2(t){return Number(wr(t,l3e))}function h3e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function m3e(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function g3e(t){let e=p3e(typeof t.type<"u"?t.type:u3e);if(L2(e)===yf&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?cn(t.senderPublicKey,Co):void 0,n=typeof t.iv<"u"?cn(t.iv,Co):dx(W7),s=cn(t.symKey,Co),i=H4e(s,n).encrypt(cn(t.message,nS)),o=x3e({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===rm?h3e(o):o}function y3e(t){let e=cn(t.symKey,Co),{sealed:r,iv:n}=j5({encoded:t.encoded,encoding:t.encoding}),s=H4e(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return wr(s,nS)}function b3e(t,e){let r=p3e(z5),n=dx(W7),s=cn(t,nS),i=x3e({type:r,sealed:s,iv:n});return e===rm?h3e(i):i}function w3e(t,e){let{sealed:r}=j5({encoded:t,encoding:e});return wr(r,nS)}function x3e(t){if(L2(t.type)===z5)return wr(bc([t.type,t.sealed]),So);if(L2(t.type)===yf){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return wr(bc([t.type,t.senderPublicKey,t.iv,t.sealed]),So)}return wr(bc([t.type,t.iv,t.sealed]),So)}function j5(t){let e=(t.encoding||So)===rm?m3e(t.encoded):t.encoded,r=cn(e,So),n=r.slice(Lot,Z8e),s=Z8e;if(L2(n)===yf){let c=s+JY,l=c+W7,u=r.slice(s,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(L2(n)===z5){let c=r.slice(s),l=dx(W7);return{type:n,sealed:c,iv:l}}let i=s+W7,o=r.slice(s,i),a=r.slice(i);return{type:n,sealed:a,iv:o}}function v3e(t,e){let r=j5({encoded:t,encoding:e==null?void 0:e.encoding});return QY({type:L2(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?wr(r.senderPublicKey,Co):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function QY(t){let e=(t==null?void 0:t.type)||u3e;if(e===yf){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function XY(t){return t.type===yf&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function eJ(t){return t.type===z5}function Mot(t){let e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return bc([new Uint8Array([4]),e,r])}function E3e(t,e){let[r,n,s]=t.split("."),i=Buffer.from(m3e(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");let o=i.slice(0,32),a=i.slice(32,64),c=`${r}.${n}`,l=WU(c),u=Mot(e);if(!Dot.verify(bc([o,a]),l,u))throw new Error("Invalid signature");return Yf(t).payload}function sS(t){return(t==null?void 0:t.relay)||{protocol:$ot}}function px(t){let e=U_[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Wot(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){let i=s.replace(n,""),o=t[s];r[i]=o}}),r}function tJ(t){if(!t.includes("wc:")){let l=m4e(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Kot(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Wot(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Kot(t){return t.startsWith("//")?t.substring(2):t}function Got(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(s=>{let i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function rJ(t){let e=new URLSearchParams,r=fY(fY(qot(fY({},Got(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function iS(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function q5(t){let e=[];return t.forEach(r=>{let[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function nJ(t){let e=[];return Object.values(t).forEach(r=>{e.push(...q5(r.accounts))}),[...new Set(e)]}function A3e(t){let e=[];return Object.values(t).forEach(r=>{e.push(...r.methods)}),[...new Set(e)]}function C3e(t){let e=[];return Object.values(t).forEach(r=>{e.push(...r.events)}),[...new Set(e)]}function rat(t,e){let r=[];return Object.values(t).forEach(n=>{q5(n.accounts).includes(e)&&r.push(...n.methods)}),r}function nat(t,e){let r=[];return Object.values(t).forEach(n=>{q5(n.accounts).includes(e)&&r.push(...n.events)}),r}function oS(t){return t.includes(":")}function hx(t){return oS(t)?t.split(":")[0]:t}function e4e(t){var e,r,n;let s={};if(!jl(t))return s;for(let[i,o]of Object.entries(t)){let a=oS(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=hx(i);s[u]=tat(eat({},s[u]),{chains:ff(a,(e=s[u])==null?void 0:e.chains),methods:ff(c,(r=s[u])==null?void 0:r.methods),events:ff(l,(n=s[u])==null?void 0:n.events)})}return s}function sat(t){let e={};return t==null||t.forEach(r=>{var n;let[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function sJ(t,e){e=e.map(n=>n.replace("did:pkh:",""));let r=sat(e);for(let[n,s]of Object.entries(r))s.methods?s.methods=ff(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}function S3e(t,e){var r,n,s,i,o,a;let c=e4e(t),l=e4e(e),u={},f=Object.keys(c).concat(Object.keys(l));for(let d of f)u[d]={chains:ff((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:ff((s=c[d])==null?void 0:s.methods,(i=l[d])==null?void 0:i.methods),events:ff((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}function He(t,e){let{message:r,code:n}=oat[t];return{message:e?`${r} ${e}`:r,code:n}}function dn(t,e){let{message:r,code:n}=iat[t];return{message:e?`${r} ${e}`:r,code:n}}function bf(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function jl(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function vs(t){return typeof t>"u"}function is(t,e){return e&&vs(t)?!0:typeof t=="string"&&!!t.trim().length}function iJ(t,e){return e&&vs(t)?!0:typeof t=="number"&&!isNaN(t)}function I3e(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r),i=!0;return ox(s,n)?(n.forEach(o=>{let{accounts:a,methods:c,events:l}=t.namespaces[o],u=q5(a),f=r[o];(!ox(i4e(o,f),u)||!ox(f.methods,c)||!ox(f.events,l))&&(i=!1)}),i):!1}function DU(t){return is(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function aat(t){if(is(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&DU(r)}}return!1}function T3e(t){function e(r){try{return typeof new URL(r)<"u"}catch(n){return!1}}try{if(is(t,!1)){if(e(t))return!0;let r=m4e(t);return e(r)}}catch(r){}return!1}function P3e(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function _3e(t){return t==null?void 0:t.topic}function N3e(t,e){let r=null;return is(t==null?void 0:t.publicKey,!1)||(r=He("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function t4e(t){let e=!0;return bf(t)?t.length&&(e=t.every(r=>is(r,!1))):e=!1,e}function cat(t,e,r){let n=null;return bf(e)&&e.length?e.forEach(s=>{n||DU(s)||(n=dn("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):DU(t)||(n=dn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function lat(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;let o=cat(s,i4e(s,i),`${e} ${r}`);o&&(n=o)}),n}function uat(t,e){let r=null;return bf(t)?t.forEach(n=>{r||aat(n)||(r=dn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=dn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function fat(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let s=uat(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function dat(t,e){let r=null;return t4e(t==null?void 0:t.methods)?t4e(t==null?void 0:t.events)||(r=dn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=dn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function O3e(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let s=dat(n,`${e}, namespace`);s&&(r=s)}),r}function R3e(t,e,r){let n=null;if(t&&jl(t)){let s=O3e(t,e);s&&(n=s);let i=lat(t,e,r);i&&(n=i)}else n=He("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function YU(t,e){let r=null;if(t&&jl(t)){let n=O3e(t,e);n&&(r=n);let s=fat(t,e);s&&(r=s)}else r=He("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function oJ(t){return is(t.protocol,!0)}function k3e(t,e){let r=!1;return e&&!t?r=!0:t&&bf(t)&&t.length&&t.forEach(n=>{r=oJ(n)}),r}function B3e(t){return typeof t=="number"}function Io(t){return typeof t<"u"&&typeof t!==null}function U3e(t){return!(!t||typeof t!="object"||!t.code||!iJ(t.code,!1)||!t.message||!is(t.message,!1))}function D3e(t){return!(vs(t)||!is(t.method,!1))}function L3e(t){return!(vs(t)||vs(t.result)&&vs(t.error)||!iJ(t.id,!1)||!is(t.jsonrpc,!1))}function M3e(t){return!(vs(t)||!is(t.name,!1))}function aJ(t,e){return!(!DU(e)||!nJ(t).includes(e))}function $3e(t,e,r){return is(r,!1)?rat(t,e).includes(r):!1}function H3e(t,e,r){return is(r,!1)?nat(t,e).includes(r):!1}function cJ(t,e,r){let n=null,s=pat(t),i=hat(e),o=Object.keys(s),a=Object.keys(i),c=r4e(Object.keys(t)),l=r4e(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),ox(o,a)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;let d=q5(e[f].accounts);d.includes(f)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(ox(s[f].methods,i[f].methods)?ox(s[f].events,i[f].events)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function pat(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function r4e(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function hat(t){let e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{let n=q5(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function F3e(t,e){return iJ(t,!1)&&t<=e.max&&t>=e.min}function lJ(){let t=J7();return new Promise(e=>{switch(t){case Za.browser:e(mat());break;case Za.reactNative:e(gat());break;case Za.node:e(yat());break;default:e(!0)}})}function mat(){return fx()&&(navigator==null?void 0:navigator.onLine)}async function gat(){if(em()&&typeof global<"u"&&global!=null&&global.NetInfo){let t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function yat(){return!0}function z3e(t){switch(J7()){case Za.browser:bat(t);break;case Za.reactNative:wat(t);break;case Za.node:break}}function bat(t){!em()&&fx()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function wat(t){em()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function V3e(){var t;return fx()&&(0,pf.getDocument)()?((t=(0,pf.getDocument)())==null?void 0:t.visibilityState)==="visible":!0}function xat(t){let e=wa.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function vat({publicKey:t,signature:e,payload:r}){var n;let s=RY(r.method),i=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=Cat(r.address),a=r.era==="00"?new Uint8Array([0]):RY(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");let c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Aat(r.tip)}`),f=Iat(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...s]),p=Sat(d.length+1);return new Uint8Array([...p,i,...d])}function Eat(t){let e=RY(t),r=(0,s4e.blake2b)(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function RY(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Aat(t){return t.startsWith("0x")?t.slice(2):t}function Cat(t){let e=wa.decode(t)[0];return e===42?0:e===60?2:1}function Sat(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){let e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){let e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Iat(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){let e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){let e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function j3e(t){let e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=xat(t.transaction.address),n=vat({publicKey:r,signature:e,payload:t.transaction}),s=Buffer.from(n).toString("hex");return Eat(s)}function W5({logger:t,name:e}){let r=typeof t=="string"?Xf({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}var Qh,pf,n4e,s4e,nst,sst,ist,ost,A8e,ast,cst,pY,C8e,lst,S8e,ust,Za,fst,_U,CU,I8e,T8e,P8e,O2,R2,j7,q7,xst,vst,Est,Ast,Cst,Sst,MY,$Y,Ist,Tst,Pst,_st,B5,w4e,Zh,k2,v4e,Ost,Gh,$5,kst,z7,Bst,Ust,Dst,Lst,A4e,C4e,S4e,I4e,Mst,$st,N8e,O8e,hY,Fst,zst,OU,S2,xo,vo,Wst,I2,mY,T4e,Kst,Gst,T2,P2,G7,gY,Eo,yY,zU,Zst,Yst,Jst,Qst,Ws,qe,bY,wY,eit,tit,ait,cit,lit,R8e,uit,fit,k8e,dit,pit,k4e,hit,mit,VU,git,yit,jU,eS,jY,Tit,Oit,M4e,Bit,Uit,Dit,Lit,SU,Mit,$4e,L8e,Bi,CY,zit,jit,qit,M8e,Wit,Kit,H4e,RU,qU,sY,H8e,Yit,WU,KY,SY,iY,rS,Ya,ua,cx,V4e,j4e,q4e,Xit,W4e,eot,K4e,sot,F5,lx,cY,t3e,TY,V7,U5,TU,mot,K8e,got,yot,bot,r3e,wot,Eot,PY,G8e,NY,Yh,Jh,M5,n3e,PU,Cot,o3e,a3e,c3e,Rot,kot,Bot,Uot,Dot,l3e,Co,So,rm,nS,u3e,yf,z5,Lot,Z8e,W7,JY,$ot,Hot,Fot,zot,Y8e,Vot,jot,J8e,fY,qot,Zot,Yot,Jot,Q8e,Qot,Xot,X8e,eat,tat,iat,oat,dY,M2,JU=y(()=>{H$();Qh=pr(Np(),1),pf=pr(v8(),1),n4e=pr(K$(),1);E8e();l_();JH();VH();Cb();QA();QF();s4e=pr(rz(),1);y1();nst=":";sst=Object.defineProperty,ist=Object.defineProperties,ost=Object.getOwnPropertyDescriptors,A8e=Object.getOwnPropertySymbols,ast=Object.prototype.hasOwnProperty,cst=Object.prototype.propertyIsEnumerable,pY=(t,e,r)=>e in t?sst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C8e=(t,e)=>{for(var r in e||(e={}))ast.call(e,r)&&pY(t,r,e[r]);if(A8e)for(var r of A8e(e))cst.call(e,r)&&pY(t,r,e[r]);return t},lst=(t,e)=>ist(t,ost(e)),S8e=(t,e,r)=>pY(t,typeof e!="symbol"?e+"":e,r),ust="ReactNative",Za={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},fst="js";_U=class{constructor({limit:e}){S8e(this,"limit"),S8e(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}},CU=BigInt(2**32-1),I8e=BigInt(32);T8e=(t,e,r)=>t>>>r,P8e=(t,e,r)=>t<<32-r|e>>>r,O2=(t,e,r)=>t>>>r|e<<32-r,R2=(t,e,r)=>t<<32-r|e>>>r,j7=(t,e,r)=>t<<64-r|e>>>r-32,q7=(t,e,r)=>t>>>r-32|e<<64-r,xst=(t,e)=>e,vst=(t,e)=>t,Est=(t,e,r)=>t<<r|e>>>32-r,Ast=(t,e,r)=>e<<r|t>>>32-r,Cst=(t,e,r)=>e<<r-32|t>>>64-r,Sst=(t,e,r)=>t<<r-32|e>>>64-r;MY=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),$Y=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Ist=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Tst=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Pst=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),_st=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,B5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;w4e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Zh=w4e?t=>t:t=>x4e(t);k2=w4e?t=>t:Nst,v4e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ost=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Gh={_0:48,_9:57,A:65,F:70,a:97,f:102};$5=class{};kst=BigInt(0),z7=BigInt(1),Bst=BigInt(2),Ust=BigInt(7),Dst=BigInt(256),Lst=BigInt(113),A4e=[],C4e=[],S4e=[];for(let t=0,e=z7,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],A4e.push(2*(5*n+r)),C4e.push((t+1)*(t+2)/2%64);let s=kst;for(let i=0;i<7;i++)e=(e<<z7^(e>>Ust)*Lst)%Dst,e&Bst&&(s^=z7<<(z7<<BigInt(i))-z7);S4e.push(s)}I4e=b4e(S4e,!0),Mst=I4e[0],$st=I4e[1],N8e=(t,e,r)=>r>32?Cst(t,e,r):Est(t,e,r),O8e=(t,e,r)=>r>32?Sst(t,e,r):Ast(t,e,r);hY=class t extends $5{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Xh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=K7(this.state)}clone(){return this._cloneInto()}keccak(){k2(this.state32),Hst(this.state32,this.rounds),k2(this.state32),this.posOut=0,this.pos=0}update(e){D2(this),e=df(e),hf(e);let{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){D2(this,!1),hf(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Vl(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},Fst=(t,e,r)=>X7(()=>new hY(e,t,r)),zst=Fst(1,136,256/8);OU=class extends $5{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=tY(this.buffer)}update(e){D2(this),e=df(e),hf(e);let{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=tY(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){D2(this),HY(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,Vl(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;Vst(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=tY(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},S2=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xo=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),vo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Wst=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),I2=new Uint32Array(64),mY=class extends OU{constructor(e=32){super(64,e,8,!1),this.A=S2[0]|0,this.B=S2[1]|0,this.C=S2[2]|0,this.D=S2[3]|0,this.E=S2[4]|0,this.F=S2[5]|0,this.G=S2[6]|0,this.H=S2[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)I2[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=I2[f-15],p=I2[f-2],h=D0(d,7)^D0(d,18)^d>>>3,m=D0(p,17)^D0(p,19)^p>>>10;I2[f]=m+I2[f-7]+h+I2[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=D0(a,6)^D0(a,11)^D0(a,25),p=u+d+jst(a,c,l)+Wst[f]+I2[f]|0,h=(D0(n,2)^D0(n,13)^D0(n,22))+qst(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+h|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){Vl(I2)}destroy(){this.set(0,0,0,0,0,0,0,0),Vl(this.buffer)}},T4e=b4e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Kst=T4e[0],Gst=T4e[1],T2=new Uint32Array(80),P2=new Uint32Array(80),G7=class extends OU{constructor(e=64){super(128,e,16,!1),this.Ah=vo[0]|0,this.Al=vo[1]|0,this.Bh=vo[2]|0,this.Bl=vo[3]|0,this.Ch=vo[4]|0,this.Cl=vo[5]|0,this.Dh=vo[6]|0,this.Dl=vo[7]|0,this.Eh=vo[8]|0,this.El=vo[9]|0,this.Fh=vo[10]|0,this.Fl=vo[11]|0,this.Gh=vo[12]|0,this.Gl=vo[13]|0,this.Hh=vo[14]|0,this.Hl=vo[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let w=0;w<16;w++,r+=4)T2[w]=e.getUint32(r),P2[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){let x=T2[w-15]|0,C=P2[w-15]|0,T=O2(x,C,1)^O2(x,C,8)^T8e(x,C,7),U=R2(x,C,1)^R2(x,C,8)^P8e(x,C,7),B=T2[w-2]|0,O=P2[w-2]|0,H=O2(B,O,19)^j7(B,O,61)^T8e(B,O,6),_=R2(B,O,19)^q7(B,O,61)^P8e(B,O,6),N=Ist(U,_,P2[w-7],P2[w-16]),I=Tst(N,T,H,T2[w-7],T2[w-16]);T2[w]=I|0,P2[w]=N|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:b,Hl:E}=this;for(let w=0;w<80;w++){let x=O2(f,d,14)^O2(f,d,18)^j7(f,d,41),C=R2(f,d,14)^R2(f,d,18)^q7(f,d,41),T=f&p^~f&m,U=d&h^~d&g,B=Pst(E,C,U,Gst[w],P2[w]),O=_st(B,b,x,T,Kst[w],T2[w]),H=B|0,_=O2(n,s,28)^j7(n,s,34)^j7(n,s,39),N=R2(n,s,28)^q7(n,s,34)^q7(n,s,39),I=n&i^n&a^i&a,D=s&o^s&c^o&c;b=m|0,E=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=uf(l|0,u|0,O|0,H|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let v=MY(H,N,D);n=$Y(v,O,_,I),s=v|0}({h:n,l:s}=uf(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=uf(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=uf(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=uf(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=uf(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=uf(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=uf(this.Gh|0,this.Gl|0,m|0,g|0),{h:b,l:E}=uf(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,s,i,o,a,c,l,u,f,d,p,h,m,g,b,E)}roundClean(){Vl(T2,P2)}destroy(){Vl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},gY=class extends G7{constructor(){super(48),this.Ah=xo[0]|0,this.Al=xo[1]|0,this.Bh=xo[2]|0,this.Bl=xo[3]|0,this.Ch=xo[4]|0,this.Cl=xo[5]|0,this.Dh=xo[6]|0,this.Dl=xo[7]|0,this.Eh=xo[8]|0,this.El=xo[9]|0,this.Fh=xo[10]|0,this.Fl=xo[11]|0,this.Gh=xo[12]|0,this.Gl=xo[13]|0,this.Hh=xo[14]|0,this.Hl=xo[15]|0}},Eo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),yY=class extends G7{constructor(){super(32),this.Ah=Eo[0]|0,this.Al=Eo[1]|0,this.Bh=Eo[2]|0,this.Bl=Eo[3]|0,this.Ch=Eo[4]|0,this.Cl=Eo[5]|0,this.Dh=Eo[6]|0,this.Dl=Eo[7]|0,this.Eh=Eo[8]|0,this.El=Eo[9]|0,this.Fh=Eo[10]|0,this.Fl=Eo[11]|0,this.Gh=Eo[12]|0,this.Gl=Eo[13]|0,this.Hh=Eo[14]|0,this.Hl=Eo[15]|0}},zU=X7(()=>new mY),Zst=X7(()=>new G7),Yst=X7(()=>new gY),Jst=X7(()=>new yY),Qst=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ws=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),qe=new Uint32Array(32);bY=class extends $5{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Xh(e),Xh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=K7(this.buffer)}update(e){D2(this),e=df(e),hf(e);let{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(k2(s),this.compress(s,0,!1),k2(s),this.pos=0);let l=Math.min(r-this.pos,i-c),u=o+c;if(l===r&&!(u%4)&&c+l<i){let f=new Uint32Array(a,u,Math.floor((i-c)/4));k2(f);for(let d=0;c+r<i;d+=s.length,c+=r)this.length+=r,this.compress(f,d,!1);k2(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){D2(this),HY(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,Vl(this.buffer.subarray(r)),k2(n),this.compress(n,0,!0),k2(n);let s=K7(e);this.get().forEach((i,o)=>s[o]=Zh(i))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},wY=class extends bY{constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Ws[0]|0,this.v0h=Ws[1]|0,this.v1l=Ws[2]|0,this.v1h=Ws[3]|0,this.v2l=Ws[4]|0,this.v2h=Ws[5]|0,this.v3l=Ws[6]|0,this.v3h=Ws[7]|0,this.v4l=Ws[8]|0,this.v4h=Ws[9]|0,this.v5l=Ws[10]|0,this.v5h=Ws[11]|0,this.v6l=Ws[12]|0,this.v6h=Ws[13]|0,this.v7l=Ws[14]|0,this.v7h=Ws[15]|0,Xst(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,o=0;if(n!==void 0&&(n=df(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=df(i);let a=K7(i);this.v4l^=Zh(a[0]),this.v4h^=Zh(a[1]),this.v5l^=Zh(a[2]),this.v5h^=Zh(a[3])}if(s!==void 0){s=df(s);let a=K7(s);this.v6l^=Zh(a[0]),this.v6h^=Zh(a[1]),this.v7l^=Zh(a[2]),this.v7h^=Zh(a[3])}if(n!==void 0){let a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:p,v6h:h,v7l:m,v7h:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=p|0,this.v6h=h|0,this.v7l=m|0,this.v7h=g|0}compress(e,r,n){this.get().forEach((c,l)=>qe[l]=c),qe.set(Ws,16);let{h:s,l:i}=y4e(BigInt(this.length));qe[24]=Ws[8]^i,qe[25]=Ws[9]^s,n&&(qe[28]=~qe[28],qe[29]=~qe[29]);let o=0,a=Qst;for(let c=0;c<12;c++)_2(0,4,8,12,e,r+2*a[o++]),N2(0,4,8,12,e,r+2*a[o++]),_2(1,5,9,13,e,r+2*a[o++]),N2(1,5,9,13,e,r+2*a[o++]),_2(2,6,10,14,e,r+2*a[o++]),N2(2,6,10,14,e,r+2*a[o++]),_2(3,7,11,15,e,r+2*a[o++]),N2(3,7,11,15,e,r+2*a[o++]),_2(0,5,10,15,e,r+2*a[o++]),N2(0,5,10,15,e,r+2*a[o++]),_2(1,6,11,12,e,r+2*a[o++]),N2(1,6,11,12,e,r+2*a[o++]),_2(2,7,8,13,e,r+2*a[o++]),N2(2,7,8,13,e,r+2*a[o++]),_2(3,4,9,14,e,r+2*a[o++]),N2(3,4,9,14,e,r+2*a[o++]);this.v0l^=qe[0]^qe[16],this.v0h^=qe[1]^qe[17],this.v1l^=qe[2]^qe[18],this.v1h^=qe[3]^qe[19],this.v2l^=qe[4]^qe[20],this.v2h^=qe[5]^qe[21],this.v3l^=qe[6]^qe[22],this.v3h^=qe[7]^qe[23],this.v4l^=qe[8]^qe[24],this.v4h^=qe[9]^qe[25],this.v5l^=qe[10]^qe[26],this.v5h^=qe[11]^qe[27],this.v6l^=qe[12]^qe[28],this.v6h^=qe[13]^qe[29],this.v7l^=qe[14]^qe[30],this.v7h^=qe[15]^qe[31],Vl(qe)}destroy(){this.destroyed=!0,Vl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},eit=Rst(t=>new wY(t)),tit="https://rpc.walletconnect.org/v1";ait=Object.defineProperty,cit=Object.defineProperties,lit=Object.getOwnPropertyDescriptors,R8e=Object.getOwnPropertySymbols,uit=Object.prototype.hasOwnProperty,fit=Object.prototype.propertyIsEnumerable,k8e=(t,e,r)=>e in t?ait(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dit=(t,e)=>{for(var r in e||(e={}))uit.call(e,r)&&k8e(t,r,e[r]);if(R8e)for(var r of R8e(e))fit.call(e,r)&&k8e(t,r,e[r]);return t},pit=(t,e)=>cit(t,lit(e)),k4e="did:pkh:",hit={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},mit=t=>t?hit[t]||t:"",VU=t=>t==null?void 0:t.split(":"),git=t=>{let e=t&&VU(t);if(e)return t.includes(k4e)?e[3]:e[1]},yit=t=>{let e=t&&VU(t);if(e)return t.includes(k4e)?e[2]:e[0]},jU=t=>{let e=t&&VU(t);if(e)return e[2]+":"+e[3]},eS=t=>{let e=t&&VU(t);if(e)return e.pop()};jY=(t,e)=>{let r=yit(e);if(!r)throw new Error("Invalid issuer: "+e);let n=`${t.domain} wants you to sign in with your ${mit(r)} account:`,s=eS(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${git(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=tS(t.resources);if(m){let g=Z7(m);i=Cit(i,g)}return[n,s,"",i,"",o,a,c,l,u,f,d,p,h].filter(g=>g!=null).join(`
`)};Tit=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Oit=(t,e)=>{function r(n,...s){if(Ga(n),!Tit)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){let l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Ga(l):Ga(l,t.nonceLength)}let i=t.tagLength;i&&s[1]!==void 0&&Ga(s[1]);let o=e(n,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Ga(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Ga(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Ga(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};M4e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Bit=M4e("expand 16-byte k"),Uit=M4e("expand 32-byte k"),Dit=U2(Bit),Lit=U2(Uit);SU=64,Mit=16,$4e=2**32-1,L8e=new Uint32Array;Bi=(t,e)=>t[e++]&255|(t[e++]&255)<<8,CY=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=vY(e),Ga(e,32);let r=Bi(e,0),n=Bi(e,2),s=Bi(e,4),i=Bi(e,6),o=Bi(e,8),a=Bi(e,10),c=Bi(e,12),l=Bi(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Bi(e,16+2*u)}process(e,r,n=!1){let s=n?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],p=o[6],h=o[7],m=o[8],g=o[9],b=Bi(e,r+0),E=Bi(e,r+2),w=Bi(e,r+4),x=Bi(e,r+6),C=Bi(e,r+8),T=Bi(e,r+10),U=Bi(e,r+12),B=Bi(e,r+14),O=i[0]+(b&8191),H=i[1]+((b>>>13|E<<3)&8191),_=i[2]+((E>>>10|w<<6)&8191),N=i[3]+((w>>>7|x<<9)&8191),I=i[4]+((x>>>4|C<<12)&8191),D=i[5]+(C>>>1&8191),v=i[6]+((C>>>14|T<<2)&8191),A=i[7]+((T>>>11|U<<5)&8191),R=i[8]+((U>>>8|B<<8)&8191),$=i[9]+(B>>>5|s),k=0,L=k+O*a+H*(5*g)+_*(5*m)+N*(5*h)+I*(5*p);k=L>>>13,L&=8191,L+=D*(5*d)+v*(5*f)+A*(5*u)+R*(5*l)+$*(5*c),k+=L>>>13,L&=8191;let q=k+O*c+H*a+_*(5*g)+N*(5*m)+I*(5*h);k=q>>>13,q&=8191,q+=D*(5*p)+v*(5*d)+A*(5*f)+R*(5*u)+$*(5*l),k+=q>>>13,q&=8191;let Z=k+O*l+H*c+_*a+N*(5*g)+I*(5*m);k=Z>>>13,Z&=8191,Z+=D*(5*h)+v*(5*p)+A*(5*d)+R*(5*f)+$*(5*u),k+=Z>>>13,Z&=8191;let ee=k+O*u+H*l+_*c+N*a+I*(5*g);k=ee>>>13,ee&=8191,ee+=D*(5*m)+v*(5*h)+A*(5*p)+R*(5*d)+$*(5*f),k+=ee>>>13,ee&=8191;let ae=k+O*f+H*u+_*l+N*c+I*a;k=ae>>>13,ae&=8191,ae+=D*(5*g)+v*(5*m)+A*(5*h)+R*(5*p)+$*(5*d),k+=ae>>>13,ae&=8191;let re=k+O*d+H*f+_*u+N*l+I*c;k=re>>>13,re&=8191,re+=D*a+v*(5*g)+A*(5*m)+R*(5*h)+$*(5*p),k+=re>>>13,re&=8191;let we=k+O*p+H*d+_*f+N*u+I*l;k=we>>>13,we&=8191,we+=D*c+v*a+A*(5*g)+R*(5*m)+$*(5*h),k+=we>>>13,we&=8191;let ie=k+O*h+H*p+_*d+N*f+I*u;k=ie>>>13,ie&=8191,ie+=D*l+v*c+A*a+R*(5*g)+$*(5*m),k+=ie>>>13,ie&=8191;let Te=k+O*m+H*h+_*p+N*d+I*f;k=Te>>>13,Te&=8191,Te+=D*u+v*l+A*c+R*a+$*(5*g),k+=Te>>>13,Te&=8191;let be=k+O*g+H*m+_*h+N*p+I*d;k=be>>>13,be&=8191,be+=D*f+v*u+A*l+R*c+$*a,k+=be>>>13,be&=8191,k=(k<<2)+k|0,k=k+L|0,L=k&8191,k=k>>>13,q+=k,i[0]=L,i[1]=q,i[2]=Z,i[3]=ee,i[4]=ae,i[5]=re,i[6]=we,i[7]=ie,i[8]=Te,i[9]=be}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;H5(n)}update(e){B8e(this),e=vY(e),Ga(e);let{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){H5(this.h,this.r,this.buffer,this.pad)}digestInto(e){B8e(this),Sit(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};zit=Fit(t=>new CY(t));jit=Hit(Vit,{counterRight:!1,counterLength:4,allowShortKeys:!1}),qit=new Uint8Array(16),M8e=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(qit.subarray(r))},Wit=new Uint8Array(32);Kit=t=>(e,r,n)=>({encrypt(s,i){let o=s.length;i=U8e(o+16,i,!1),i.set(s);let a=i.subarray(0,-16);t(e,r,a,a,1);let c=$8e(t,e,r,a,n);return i.set(c,o),H5(c),i},decrypt(s,i){i=U8e(s.length-16,i,!1);let o=s.subarray(0,-16),a=s.subarray(-16),c=$8e(t,e,r,o,n);if(!Nit(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),H5(c),i}}),H4e=Oit({blockSize:64,nonceLength:12,tagLength:16},Kit(jit)),RU=class extends $5{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,FU(e);let n=df(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Vl(i)}update(e){return D2(this),this.iHash.update(e),this}digestInto(e){D2(this),hf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},qU=(t,e,r)=>new RU(t,e).update(r).digest();qU.create=(t,e)=>new RU(t,e);sY=Uint8Array.from([0]),H8e=Uint8Array.of();Yit=(t,e,r,n,s)=>Zit(t,Git(t,e,r),n,s),WU=zU,KY=BigInt(0),SY=BigInt(1);iY=t=>typeof t=="bigint"&&KY<=t;rS=t=>(SY<<BigInt(t))-SY;Ya=BigInt(0),ua=BigInt(1),cx=BigInt(2),V4e=BigInt(3),j4e=BigInt(4),q4e=BigInt(5),Xit=BigInt(7),W4e=BigInt(8),eot=BigInt(9),K4e=BigInt(16);sot=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];F5=BigInt(0),lx=BigInt(1);cY=new WeakMap,t3e=new WeakMap;TY=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>F5;)r&lx&&(n=n.add(s)),s=s.double(),r>>=lx;return n}precomputeWindow(e,r){let{windows:n,windowSize:s}=aY(r,this.bits),i=[],o=e,a=o;for(let c=0;c<n;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE,o=aY(e,this.bits);for(let a=0;a<o.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:p}=j8e(n,a,o);n=c,u?i=i.add(UU(d,r[p])):s=s.add(UU(f,r[l]))}return q8e(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){let i=aY(e,this.bits);for(let o=0;o<i.windows&&n!==F5;o++){let{nextN:a,offset:c,isZero:l,isNeg:u}=j8e(n,o,i);if(n=a,!l){let f=r[c];s=s.add(u?f.negate():f)}}return q8e(n),s}getPrecomputes(e,r,n){let s=cY.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),cY.set(r,s))),s}cached(e,r,n){let s=lY(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){let i=lY(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){e3e(r,this.bits),t3e.set(e,r),cY.delete(e)}hasCache(e){return lY(e)!==1}};BigInt(0),BigInt(1),BigInt(2),BigInt(8),E4e("HashToScalar-");V7=BigInt(0),U5=BigInt(1),TU=BigInt(2);mot=BigInt(1),K8e=BigInt(2),got=BigInt(3),yot=BigInt(5),bot=BigInt(8),r3e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),wot={p:r3e,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:bot,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};Eot=$2(wot.p,{isLE:!0}),PY=(()=>{let t=Eot.ORDER;return hot({P:t,type:"x25519",powPminus2:e=>{let{pow_p_5_8:r,b2:n}=xot(e);return Zc(lf(r,got,t)*n,t)},adjustScalarBytes:vot})})(),G8e=(t,e)=>(t+(t>=0?e:-e)/n3e)/e;NY=class extends Error{constructor(e=""){super(e)}},Yh={Err:NY,_tlv:{encode:(t,e)=>{let{Err:r}=Yh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,s=IU(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?IU(s.length/2|128):"";return IU(t)+i+s+e},decode(t,e){let{Err:r}=Yh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){let{Err:e}=Yh;if(t<Jh)throw new e("integer: negative integers are not allowed");let r=IU(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=Yh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return KU(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Yh,s=Ao("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=Yh,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},Jh=BigInt(0),M5=BigInt(1),n3e=BigInt(2),PU=BigInt(3),Cot=BigInt(4);o3e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},a3e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},c3e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Rot=$2(o3e.p),kot=$2(a3e.p),Bot=$2(c3e.p),Uot=OY(G(S({},o3e),{Fp:Rot,lowS:!1}),zU);OY(G(S({},a3e),{Fp:kot,lowS:!1}),Yst),OY(G(S({},c3e),{Fp:Bot,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),Zst);Dot=Uot,l3e="base10",Co="base16",So="base64pad",rm="base64url",nS="utf8",u3e=0,yf=1,z5=2,Lot=0,Z8e=1,W7=12,JY=32;$ot="irn";Hot=Object.defineProperty,Fot=Object.defineProperties,zot=Object.getOwnPropertyDescriptors,Y8e=Object.getOwnPropertySymbols,Vot=Object.prototype.hasOwnProperty,jot=Object.prototype.propertyIsEnumerable,J8e=(t,e,r)=>e in t?Hot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fY=(t,e)=>{for(var r in e||(e={}))Vot.call(e,r)&&J8e(t,r,e[r]);if(Y8e)for(var r of Y8e(e))jot.call(e,r)&&J8e(t,r,e[r]);return t},qot=(t,e)=>Fot(t,zot(e));Zot=Object.defineProperty,Yot=Object.defineProperties,Jot=Object.getOwnPropertyDescriptors,Q8e=Object.getOwnPropertySymbols,Qot=Object.prototype.hasOwnProperty,Xot=Object.prototype.propertyIsEnumerable,X8e=(t,e,r)=>e in t?Zot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eat=(t,e)=>{for(var r in e||(e={}))Qot.call(e,r)&&X8e(t,r,e[r]);if(Q8e)for(var r of Q8e(e))Xot.call(e,r)&&X8e(t,r,e[r]);return t},tat=(t,e)=>Yot(t,Jot(e));iat={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},oat={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};dY={},M2=class{static get(e){return dY[e]}static set(e,r){dY[e]=r}static delete(e){delete dY[e]}}});function act(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,b=0,E=h.length;b!==E&&h[b]===0;)b++,m++;for(var w=(E-b)*u+1>>>0,x=new Uint8Array(w);b!==E;){for(var C=h[b],T=0,U=w-1;(C!==0||T<g)&&U!==-1;U--,T++)C+=256*x[U]>>>0,x[U]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");g=T,b++}for(var B=w-g;B!==w&&x[B]===0;)B++;for(var O=c.repeat(m);B<w;++B)O+=t.charAt(x[B]);return O}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,b=0;h[m]===c;)g++,m++;for(var E=(h.length-m)*l+1>>>0,w=new Uint8Array(E);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var C=0,T=E-1;(x!==0||C<b)&&T!==-1;T--,C++)x+=a*w[T]>>>0,w[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");b=C,m++}if(h[m]!==" "){for(var U=E-b;U!==E&&w[U]===0;)U++;for(var B=new Uint8Array(g+(E-U)),O=g;U!==E;)B[O++]=w[U++];return B}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}function Gct(t){return t.reduce((e,r)=>(e+=Wct[r],e),"")}function Zct(t){let e=[];for(let r of t){let n=Kct[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}function A5e(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tlt;)e[r++]=t&255|K3e,t/=128;for(;t&elt;)e[r++]=t&255|K3e,t>>>=7;return e[r]=t|0,A5e.bytes=r-n+1,e}function bJ(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw bJ.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&G3e)<<s:(o&G3e)*Math.pow(2,s),s+=7}while(o>=nlt);return bJ.bytes=i-n,r}function _5e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Elt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_5e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function N5e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}function Clt(t,e="utf8"){let r=Alt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_5e(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Jlt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function i5e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function o5e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Eut(){}function c5e(t){if(!t||typeof t!="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Aut(t,e,r){return uS(t,e,void 0,void 0,void 0,void 0,r)}function uS(t,e,r,n,s,i,o){let a=o(t,e,r,n,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return fS(t,e,i,o)}return fS(t,e,i,o)}function fS(t,e,r,n){if(Object.is(t,e))return!0;let s=o5e(t),i=o5e(e);if(s===a5e&&(s=dJ),i===a5e&&(i=dJ),s!==i)return!1;switch(s){case Xlt:return t.toString()===e.toString();case eut:{let c=t.valueOf(),l=e.valueOf();return Jlt(c,l)}case tut:case nut:case rut:return Object.is(t.valueOf(),e.valueOf());case Qlt:return t.source===e.source&&t.flags===e.flags;case aut:return t===e}r=r!=null?r:new Map;let o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case sut:{if(t.size!==e.size)return!1;for(let[c,l]of t.entries())if(!e.has(c)||!uS(l,e.get(c),c,t,e,r,n))return!1;return!0}case iut:{if(t.size!==e.size)return!1;let c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){let f=c[u],d=l.findIndex(p=>uS(f,p,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case out:case fut:case dut:case put:case hut:case mut:case gut:case yut:case but:case wut:case xut:case vut:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!uS(t[c],e[c],c,t,e,r,n))return!1;return!0}case cut:return t.byteLength!==e.byteLength?!1:fS(new Uint8Array(t),new Uint8Array(e),r,n);case uut:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:fS(new Uint8Array(t),new Uint8Array(e),r,n);case lut:return t.name===e.name&&t.message===e.message;case dJ:{if(!(fS(t.constructor,e.constructor,r,n)||c5e(t)&&c5e(e)))return!1;let c=[...Object.keys(t),...i5e(t)],l=[...Object.keys(e),...i5e(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;let p=e[f];if(!uS(d,p,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Cut(t,e){return Aut(t,e,Eut)}var nm,pt,m5e,g5e,y5e,XU,$0,Tat,Pat,_at,q3e,Nat,Oat,Rat,kat,Bat,Uat,Dat,VJ,Lat,b5e,Mat,Es,$at,ql,Hat,pJ,In,QU,Fat,zat,W3e,Qc,Vat,jat,gfr,qat,Wat,aS,H2,wf,Kat,Gat,Zat,Xc,Yat,Jat,Qat,w5e,Z5,Xat,ect,tct,rct,xf,M0,Kl,F2,z2,Y5,nct,sct,ict,oct,cct,lct,x5e,uct,fct,hJ,mJ,gJ,v5e,yJ,eD,dS,dct,pct,Di,hct,mct,gct,yct,bct,wct,xct,vct,Ect,Act,Cct,Sct,Ict,Tct,Pct,_ct,Nct,Oct,Rct,kct,Bct,Uct,Dct,Lct,Mct,$ct,Hct,Fct,zct,Vct,jct,qct,E5e,Wct,Kct,Yct,Jct,Qct,K3e,Xct,elt,tlt,rlt,nlt,G3e,slt,ilt,olt,alt,clt,llt,ult,flt,dlt,plt,hlt,C5e,Z3e,Y3e,wJ,xJ,S5e,vJ,I5e,mlt,glt,ylt,T5e,blt,P5e,wlt,xlt,vlt,J3e,Q3e,uJ,Alt,Slt,Ilt,L0,EJ,Tlt,Plt,pi,AJ,_lt,Nlt,Olt,X3e,Rlt,klt,CJ,Blt,Ult,Jc,SJ,Dlt,Llt,Mlt,e5e,$lt,Hlt,IJ,K5,t5e,Wl,TJ,Flt,zlt,G5,PJ,Vlt,jlt,qlt,r5e,Wlt,Klt,_J,cS,fJ,pn,NJ,Glt,n5e,Zlt,Ylt,OJ,s5e,_r,RJ,Qlt,Xlt,eut,tut,a5e,rut,nut,sut,iut,out,aut,cut,dJ,lut,uut,fut,dut,put,hut,mut,gut,yut,but,wut,xut,vut,Sut,l5e,Iut,Tut,kJ,u5e,Qa,H0,Put,_ut,cr,BJ,Nut,Out,Ui,UJ,Rut,kut,To,DJ,But,Uut,Os,LJ,Dut,Lut,f5e,MJ,Mut,d5e,$ut,Hut,$J,lS,hi,HJ,Fut,p5e,zut,Vut,FJ,h5e,Sn,zJ,O5e,R5e=y(()=>{nm=pr(Fo(),1);AV();kxe();y1();iZ();pt=pr(Np(),1);i1();Cb();Cb();JU();QA();t4();Mu();FV();m5e=pr(v8(),1),g5e="wc",y5e=2,XU="core",$0=`${g5e}@2:${XU}:`,Tat={name:XU,logger:"error"},Pat={database:":memory:"},_at="crypto",q3e="client_ed25519_seed",Nat=pt.ONE_DAY,Oat="keychain",Rat="0.3",kat="messages",Bat="0.3",Uat=pt.SIX_HOURS,Dat="publisher",VJ="irn",Lat="error",b5e="wss://relay.walletconnect.org",Mat="relayer",Es={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},$at="_subscription",ql={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Hat=.1,pJ="2.23.2",In={link_mode:"link_mode",relay:"relay"},QU={inbound:"inbound",outbound:"outbound"},Fat="0.3",zat="WALLETCONNECT_CLIENT_ID",W3e="WALLETCONNECT_LINK_MODE_APPS",Qc={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Vat="subscription",jat="0.3",gfr=pt.FIVE_SECONDS*1e3,qat="pairing",Wat="0.3",aS={wc_pairingDelete:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:0},res:{ttl:pt.ONE_DAY,prompt:!1,tag:0}}},H2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},wf={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Kat="history",Gat="0.3",Zat="expirer",Xc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Yat="0.3",Jat="verify-api",Qat="https://verify.walletconnect.com",w5e="https://verify.walletconnect.org",Z5=w5e,Xat=`${Z5}/v3`,ect=[Qat,w5e],tct="echo",rct="https://echo.walletconnect.com",xf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},M0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Kl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},F2={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},z2={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Y5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},nct=.1,sct="event-client",ict=86400,oct="https://pulse.walletconnect.org/batch";cct=act,lct=cct,x5e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},uct=t=>new TextEncoder().encode(t),fct=t=>new TextDecoder().decode(t),hJ=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},mJ=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return v5e(this,e)}},gJ=class{constructor(e){this.decoders=e}or(e){return v5e(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},v5e=(t,e)=>new gJ(S(S({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),yJ=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new hJ(e,r,n),this.decoder=new mJ(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},eD=({name:t,prefix:e,encode:r,decode:n})=>new yJ(t,e,r,n),dS=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:s}=lct(r,e);return eD({prefix:t,name:e,encode:n,decode:i=>x5e(s(i))})},dct=(t,e,r,n)=>{let s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;let o=new Uint8Array(i*r/8|0),a=0,c=0,l=0;for(let u=0;u<i;++u){let f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},pct=(t,e,r)=>{let n=e[e.length-1]==="=",s=(1<<r)-1,i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>eD({prefix:e,name:t,encode(s){return pct(s,n,r)},decode(s){return dct(s,n,r,t)}}),hct=eD({prefix:"\0",name:"identity",encode:t=>fct(t),decode:t=>uct(t)}),mct=Object.freeze({__proto__:null,identity:hct}),gct=Di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yct=Object.freeze({__proto__:null,base2:gct}),bct=Di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),wct=Object.freeze({__proto__:null,base8:bct}),xct=dS({prefix:"9",name:"base10",alphabet:"0123456789"}),vct=Object.freeze({__proto__:null,base10:xct}),Ect=Di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Act=Di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Cct=Object.freeze({__proto__:null,base16:Ect,base16upper:Act}),Sct=Di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ict=Di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tct=Di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pct=Di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_ct=Di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nct=Di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Oct=Di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rct=Di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kct=Di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Bct=Object.freeze({__proto__:null,base32:Sct,base32upper:Ict,base32pad:Tct,base32padupper:Pct,base32hex:_ct,base32hexupper:Nct,base32hexpad:Oct,base32hexpadupper:Rct,base32z:kct}),Uct=dS({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Dct=dS({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lct=Object.freeze({__proto__:null,base36:Uct,base36upper:Dct}),Mct=dS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$ct=dS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Hct=Object.freeze({__proto__:null,base58btc:Mct,base58flickr:$ct}),Fct=Di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zct=Di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Vct=Di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jct=Di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),qct=Object.freeze({__proto__:null,base64:Fct,base64pad:zct,base64url:Vct,base64urlpad:jct}),E5e=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Wct=E5e.reduce((t,e,r)=>(t[r]=e,t),[]),Kct=E5e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);Yct=eD({prefix:"\u{1F680}",name:"base256emoji",encode:Gct,decode:Zct}),Jct=Object.freeze({__proto__:null,base256emoji:Yct}),Qct=A5e,K3e=128,Xct=127,elt=~Xct,tlt=Math.pow(2,31);rlt=bJ,nlt=128,G3e=127;slt=Math.pow(2,7),ilt=Math.pow(2,14),olt=Math.pow(2,21),alt=Math.pow(2,28),clt=Math.pow(2,35),llt=Math.pow(2,42),ult=Math.pow(2,49),flt=Math.pow(2,56),dlt=Math.pow(2,63),plt=function(t){return t<slt?1:t<ilt?2:t<olt?3:t<alt?4:t<clt?5:t<llt?6:t<ult?7:t<flt?8:t<dlt?9:10},hlt={encode:Qct,decode:rlt,encodingLength:plt},C5e=hlt,Z3e=(t,e,r=0)=>(C5e.encode(t,e,r),e),Y3e=t=>C5e.encodingLength(t),wJ=(t,e)=>{let r=e.byteLength,n=Y3e(t),s=n+Y3e(r),i=new Uint8Array(s+r);return Z3e(t,i,0),Z3e(r,i,n),i.set(e,s),new xJ(t,r,e,i)},xJ=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}},S5e=({name:t,code:e,encode:r})=>new vJ(t,e,r),vJ=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?wJ(this.code,r):r.then(n=>wJ(this.code,n))}else throw Error("Unknown type, must be binary type")}},I5e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mlt=S5e({name:"sha2-256",code:18,encode:I5e("SHA-256")}),glt=S5e({name:"sha2-512",code:19,encode:I5e("SHA-512")}),ylt=Object.freeze({__proto__:null,sha256:mlt,sha512:glt}),T5e=0,blt="identity",P5e=x5e,wlt=t=>wJ(T5e,P5e(t)),xlt={code:T5e,name:blt,encode:P5e,digest:wlt},vlt=Object.freeze({__proto__:null,identity:xlt});new TextEncoder,new TextDecoder;J3e=S(S(S(S(S(S(S(S(S(S({},mct),yct),wct),vct),Cct),Bct),Lct),Hct),qct),Jct);S(S({},ylt),vlt);Q3e=N5e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),uJ=N5e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Elt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Alt=S({utf8:Q3e,"utf-8":Q3e,hex:J3e.base16,latin1:uJ,ascii:uJ,binary:uJ},J3e);Slt=Object.defineProperty,Ilt=(t,e,r)=>e in t?Slt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L0=(t,e,r)=>Ilt(t,typeof e!="symbol"?e+"":e,r),EJ=class{constructor(e,r){this.core=e,this.logger=r,L0(this,"keychain",new Map),L0(this,"name",Oat),L0(this,"version",Rat),L0(this,"initialized",!1),L0(this,"storagePrefix",$0),L0(this,"init",async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),L0(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),L0(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),L0(this,"get",n=>{this.isInitialized();let s=this.keychain.get(n);if(typeof s>"u"){let{message:i}=He("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),L0(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,LU(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?MU(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},Tlt=Object.defineProperty,Plt=(t,e,r)=>e in t?Tlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pi=(t,e,r)=>Plt(t,typeof e!="symbol"?e+"":e,r),AJ=class{constructor(e,r,n){this.core=e,this.logger=r,pi(this,"name",_at),pi(this,"keychain"),pi(this,"randomSessionIdentifier",ZU()),pi(this,"initialized",!1),pi(this,"clientId"),pi(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),pi(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),pi(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let s=await this.getClientSeed(),i=R8(s),o=jA(i.publicKey);return this.clientId=o,o}),pi(this,"generateKeyPair",()=>{this.isInitialized();let s=f3e();return this.setPrivateKey(s.publicKey,s.privateKey)}),pi(this,"signJWT",async s=>{this.isInitialized();let i=await this.getClientSeed(),o=R8(i),a=this.randomSessionIdentifier;return await T_(a,s,Nat,o)}),pi(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();let a=this.getPrivateKey(s),c=d3e(a,i);return this.setSymKey(c,o)}),pi(this,"setSymKey",async(s,i)=>{this.isInitialized();let o=i||V5(s);return await this.keychain.set(o,s),o}),pi(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),pi(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),pi(this,"encode",async(s,i,o)=>{this.isInitialized();let a=QY(o),c=Ai(i);if(eJ(a))return b3e(c,o==null?void 0:o.encoding);if(XY(a)){let d=a.senderPublicKey,p=a.receiverPublicKey;s=await this.generateSharedKey(d,p)}let l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return g3e({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),pi(this,"decode",async(s,i,o)=>{this.isInitialized();let a=v3e(i,o);if(eJ(a)){let c=w3e(i,o==null?void 0:o.encoding);return Qs(c)}if(XY(a)){let c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(s),l=y3e({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Qs(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),pi(this,"getPayloadType",(s,i=So)=>{let o=j5({encoded:s,encoding:i});return L2(o.type)}),pi(this,"getPayloadSenderPublicKey",(s,i=So)=>{let o=j5({encoded:s,encoding:i});return o.senderPublicKey?wr(o.senderPublicKey,Co):void 0}),this.core=e,this.logger=tn(r,this.name),this.keychain=n||new EJ(this.core,this.logger)}get context(){return Ur(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(q3e)}catch(r){e=ZU(),await this.keychain.set(q3e,e)}return Clt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},_lt=Object.defineProperty,Nlt=Object.defineProperties,Olt=Object.getOwnPropertyDescriptors,X3e=Object.getOwnPropertySymbols,Rlt=Object.prototype.hasOwnProperty,klt=Object.prototype.propertyIsEnumerable,CJ=(t,e,r)=>e in t?_lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Blt=(t,e)=>{for(var r in e||(e={}))Rlt.call(e,r)&&CJ(t,r,e[r]);if(X3e)for(var r of X3e(e))klt.call(e,r)&&CJ(t,r,e[r]);return t},Ult=(t,e)=>Nlt(t,Olt(e)),Jc=(t,e,r)=>CJ(t,typeof e!="symbol"?e+"":e,r),SJ=class extends LB{constructor(e,r){super(e,r),this.logger=e,this.core=r,Jc(this,"messages",new Map),Jc(this,"messagesWithoutClientAck",new Map),Jc(this,"name",kat),Jc(this,"version",Bat),Jc(this,"initialized",!1),Jc(this,"storagePrefix",$0),Jc(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);let s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Jc(this,"set",async(n,s,i)=>{this.isInitialized();let o=Ja(s),a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(n,a),i===QU.inbound){let c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Ult(Blt({},c),{[o]:s}))}return await this.persist(),o}),Jc(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Jc(this,"getWithoutAck",n=>{this.isInitialized();let s={};for(let i of n){let o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Jc(this,"has",(n,s)=>{this.isInitialized();let i=this.get(n),o=Ja(s);return typeof i[o]<"u"}),Jc(this,"ack",async(n,s)=>{this.isInitialized();let i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;let o=Ja(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Jc(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=tn(e,this.name),this.core=r}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,LU(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,LU(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?MU(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?MU(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},Dlt=Object.defineProperty,Llt=Object.defineProperties,Mlt=Object.getOwnPropertyDescriptors,e5e=Object.getOwnPropertySymbols,$lt=Object.prototype.hasOwnProperty,Hlt=Object.prototype.propertyIsEnumerable,IJ=(t,e,r)=>e in t?Dlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K5=(t,e)=>{for(var r in e||(e={}))$lt.call(e,r)&&IJ(t,r,e[r]);if(e5e)for(var r of e5e(e))Hlt.call(e,r)&&IJ(t,r,e[r]);return t},t5e=(t,e)=>Llt(t,Mlt(e)),Wl=(t,e,r)=>IJ(t,typeof e!="symbol"?e+"":e,r),TJ=class extends MB{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Wl(this,"events",new nm.EventEmitter),Wl(this,"name",Dat),Wl(this,"queue",new Map),Wl(this,"publishTimeout",(0,pt.toMiliseconds)(pt.ONE_MINUTE)),Wl(this,"initialPublishTimeout",(0,pt.toMiliseconds)(pt.ONE_SECOND*15)),Wl(this,"needsTransportRestart",!1),Wl(this,"publish",async(n,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});let f=(i==null?void 0:i.ttl)||Uat,d=(i==null?void 0:i.prompt)||!1,p=(i==null?void 0:i.tag)||0,h=(i==null?void 0:i.id)||ps().toString(),m=px(sS().protocol),g={id:h,method:(i==null?void 0:i.publishMethod)||m.publish,params:K5({topic:n,message:s,ttl:f,prompt:d,tag:p,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},b=`Failed to publish payload, please try again. id:${h} tag:${p}`;try{vs((o=g.params)==null?void 0:o.prompt)&&((a=g.params)==null||delete a.prompt),vs((c=g.params)==null?void 0:c.tag)&&((l=g.params)==null||delete l.tag);let E=new Promise(async w=>{let x=({id:T})=>{var U;((U=g.id)==null?void 0:U.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Es.publish,x),w())};this.relayer.events.on(Es.publish,x);let C=gf(new Promise((T,U)=>{this.rpcPublish(g,i).then(T).catch(B=>{this.logger.warn(B,B==null?void 0:B.message),U(B)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${p}`);try{await C,this.events.removeListener(Es.publish,x)}catch(T){this.queue.set(h,{request:g,opts:i,attempt:1}),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:s,opts:i}}),await gf(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(u=i==null?void 0:i.internal)!=null&&u.throwOnFailedPublish)throw E}finally{this.queue.delete(h)}}),Wl(this,"publishCustom",async n=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});let{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:p,prompt:h,tag:m,ttl:g=pt.FIVE_MINUTES}=u,b=u.id||ps().toString(),E=px(sS().protocol),w=p||E.publish,x={id:b,method:w,params:K5(t5e(K5({},l),{ttl:g,prompt:h,tag:m,attestation:f}),d)},C=`Failed to publish custom payload, please try again. id:${b} tag:${m}`;try{vs((s=x.params)==null?void 0:s.prompt)&&((i=x.params)==null||delete i.prompt),vs((o=x.params)==null?void 0:o.tag)&&((a=x.params)==null||delete a.tag);let T=new Promise(async U=>{let B=({id:H})=>{var _;((_=x.id)==null?void 0:_.toString())===H.toString()&&(this.removeRequestFromQueue(H),this.relayer.events.removeListener(Es.publish,B),U())};this.relayer.events.on(Es.publish,B);let O=gf(new Promise((H,_)=>{this.rpcPublish(x,u).then(H).catch(N=>{this.logger.warn(N,N==null?void 0:N.message),_(N)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${w} id:${b} tag:${m}`);try{await O,this.events.removeListener(Es.publish,B)}catch(H){this.queue.set(b,{request:x,opts:u,attempt:1}),this.logger.warn(H,H==null?void 0:H.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:l,opts:u}}),await gf(T,this.publishTimeout,C)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(b)}}),Wl(this,"on",(n,s)=>{this.events.on(n,s)}),Wl(this,"once",(n,s)=>{this.events.once(n,s)}),Wl(this,"off",(n,s)=>{this.events.off(n,s)}),Wl(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=tn(r,this.name),this.registerEventListeners()}get context(){return Ur(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let n=await this.relayer.request(e);return this.relayer.events.emit(Es.publish,K5(K5({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;let s=e.attempt+1;this.queue.set(r,t5e(K5({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(qo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Es.connection_stalled);return}this.checkQueue()}),this.relayer.on(Es.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},Flt=Object.defineProperty,zlt=(t,e,r)=>e in t?Flt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G5=(t,e,r)=>zlt(t,typeof e!="symbol"?e+"":e,r),PJ=class{constructor(){G5(this,"map",new Map),G5(this,"set",(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),G5(this,"get",e=>this.map.get(e)||[]),G5(this,"exists",(e,r)=>this.get(e).includes(r)),G5(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),G5(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},Vlt=Object.defineProperty,jlt=Object.defineProperties,qlt=Object.getOwnPropertyDescriptors,r5e=Object.getOwnPropertySymbols,Wlt=Object.prototype.hasOwnProperty,Klt=Object.prototype.propertyIsEnumerable,_J=(t,e,r)=>e in t?Vlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cS=(t,e)=>{for(var r in e||(e={}))Wlt.call(e,r)&&_J(t,r,e[r]);if(r5e)for(var r of r5e(e))Klt.call(e,r)&&_J(t,r,e[r]);return t},fJ=(t,e)=>jlt(t,qlt(e)),pn=(t,e,r)=>_J(t,typeof e!="symbol"?e+"":e,r),NJ=class extends FB{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,pn(this,"subscriptions",new Map),pn(this,"topicMap",new PJ),pn(this,"events",new nm.EventEmitter),pn(this,"name",Vat),pn(this,"version",jat),pn(this,"pending",new Map),pn(this,"cached",[]),pn(this,"initialized",!1),pn(this,"storagePrefix",$0),pn(this,"subscribeTimeout",(0,pt.toMiliseconds)(pt.ONE_MINUTE)),pn(this,"initialSubscribeTimeout",(0,pt.toMiliseconds)(pt.ONE_SECOND*15)),pn(this,"clientId"),pn(this,"batchSubscribeTopicsLimit",500),pn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),pn(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{let o=sS(s),a={topic:n,relay:o,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,a);let c=await this.rpcSubscribe(n,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),pn(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),pn(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),pn(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),pn(this,"on",(n,s)=>{this.events.on(n,s)}),pn(this,"once",(n,s)=>{this.events.once(n,s)}),pn(this,"off",(n,s)=>{this.events.off(n,s)}),pn(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),pn(this,"start",async()=>{await this.onConnect()}),pn(this,"stop",async()=>{await this.onDisconnect()}),pn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),pn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),pn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(qo.pulse,async()=>{await this.checkPending()}),this.events.on(Qc.created,async n=>{let s=Qc.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Qc.deleted,async n=>{let s=Qc.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=tn(r,this.name),this.clientId=""}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch(s){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let s=sS(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);let i=dn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;let o=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===In.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});let a={method:px(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===In.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},(0,pt.toMiliseconds)(pt.ONE_SECOND)),o;let l=new Promise(async f=>{let d=p=>{p.topic===e&&(this.events.removeListener(Qc.created,d),f(p.id))};this.events.on(Qc.created,d);try{let p=await gf(new Promise((h,m)=>{this.relayer.request(a).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),m(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Qc.created,d),f(p)}catch(p){}}),u=await gf(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Es.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:px(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await gf(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(s){this.relayer.events.emit(Es.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let r=e[0].relay,n={method:px(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await gf(new Promise((i,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(i){this.relayer.events.emit(Es.connection_stalled)}return s}rpcUnsubscribe(e,r,n){let s={method:px(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,fJ(cS({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,cS({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,cS({},r)),this.topicMap.set(r.topic,e),this.events.emit(Qc.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Qc.deleted,fJ(cS({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Qc.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){let s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Qc.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){let{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>fJ(cS({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await g4e((0,pt.toMiliseconds)(pt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ja(e+await this.getClientId())}},Glt=Object.defineProperty,n5e=Object.getOwnPropertySymbols,Zlt=Object.prototype.hasOwnProperty,Ylt=Object.prototype.propertyIsEnumerable,OJ=(t,e,r)=>e in t?Glt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s5e=(t,e)=>{for(var r in e||(e={}))Zlt.call(e,r)&&OJ(t,r,e[r]);if(n5e)for(var r of n5e(e))Ylt.call(e,r)&&OJ(t,r,e[r]);return t},_r=(t,e,r)=>OJ(t,typeof e!="symbol"?e+"":e,r),RJ=class extends $B{constructor(e){var r;super(e),_r(this,"protocol","wc"),_r(this,"version",2),_r(this,"core"),_r(this,"logger"),_r(this,"events",new nm.EventEmitter),_r(this,"provider"),_r(this,"messages"),_r(this,"subscriber"),_r(this,"publisher"),_r(this,"name",Mat),_r(this,"transportExplicitlyClosed",!1),_r(this,"initialized",!1),_r(this,"connectionAttemptInProgress",!1),_r(this,"relayUrl"),_r(this,"projectId"),_r(this,"packageName"),_r(this,"bundleId"),_r(this,"hasExperiencedNetworkDisruption",!1),_r(this,"pingTimeout"),_r(this,"heartBeatTimeout",(0,pt.toMiliseconds)(pt.THIRTY_SECONDS+pt.FIVE_SECONDS)),_r(this,"reconnectTimeout"),_r(this,"connectPromise"),_r(this,"reconnectInProgress",!1),_r(this,"requestsInFlight",[]),_r(this,"connectTimeout",(0,pt.toMiliseconds)(pt.ONE_SECOND*15)),_r(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");let o=n.id||ps().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");let a=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);let c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),_r(this,"resetPingTimeout",()=>{Y7()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),_r(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),_r(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(Es.connect)}),_r(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),_r(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Es.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),_r(this,"registerProviderListeners",()=>{this.provider.on(ql.payload,this.onPayloadHandler),this.provider.on(ql.connect,this.onConnectHandler),this.provider.on(ql.disconnect,this.onDisconnectHandler),this.provider.on(ql.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=W5({logger:(r=e.logger)!=null?r:Lat,name:this.name}),this.messages=new SJ(this.logger,e.core),this.subscriber=new NJ(this,this.logger),this.publisher=new TJ(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||b5e,o4e()?this.packageName=kY():a4e()&&(this.bundleId=kY()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Ur(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:In.relay},QU.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();let o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish,a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c,l=u=>{u.topic===e&&(this.subscriber.off(Qc.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Qc.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,s5e({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await gf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await lJ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){let{topic:n}=e;if(!r.sessionExists){let s=Zn(pt.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(Es.message,e),await this.recordMessageEvent(e,QU.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{let i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ql.disconnect,i),await gf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ql.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{let c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ql.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ql.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();let s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,(0,pt.toMiliseconds)(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(Y7())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Cc(new r4(l4e({sdkVersion:pJ,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){let{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;let s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Lu(e)){if(!e.method.endsWith($at))return;let r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,a={topic:n,message:s,publishedAt:i,transportType:In.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(s5e({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Ec(e)&&this.events.emit(Es.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,QU.inbound),this.events.emit(Es.message,e))}async acknowledgePayload(e){let r=ti(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(ql.payload,this.onPayloadHandler),this.provider.off(ql.connect,this.onConnectHandler),this.provider.off(ql.disconnect,this.onDisconnectHandler),this.provider.off(ql.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await lJ();z3e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(qo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&V3e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Es.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,pt.toMiliseconds)(Hat)))))}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};Qlt="[object RegExp]",Xlt="[object String]",eut="[object Number]",tut="[object Boolean]",a5e="[object Arguments]",rut="[object Symbol]",nut="[object Date]",sut="[object Map]",iut="[object Set]",out="[object Array]",aut="[object Function]",cut="[object ArrayBuffer]",dJ="[object Object]",lut="[object Error]",uut="[object DataView]",fut="[object Uint8Array]",dut="[object Uint8ClampedArray]",put="[object Uint16Array]",hut="[object Uint32Array]",mut="[object BigUint64Array]",gut="[object Int8Array]",yut="[object Int16Array]",but="[object Int32Array]",wut="[object BigInt64Array]",xut="[object Float32Array]",vut="[object Float64Array]";Sut=Object.defineProperty,l5e=Object.getOwnPropertySymbols,Iut=Object.prototype.hasOwnProperty,Tut=Object.prototype.propertyIsEnumerable,kJ=(t,e,r)=>e in t?Sut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u5e=(t,e)=>{for(var r in e||(e={}))Iut.call(e,r)&&kJ(t,r,e[r]);if(l5e)for(var r of l5e(e))Tut.call(e,r)&&kJ(t,r,e[r]);return t},Qa=(t,e,r)=>kJ(t,typeof e!="symbol"?e+"":e,r),H0=class extends HB{constructor(e,r,n,s=$0,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,Qa(this,"map",new Map),Qa(this,"version",Fat),Qa(this,"cached",[]),Qa(this,"initialized",!1),Qa(this,"getKey"),Qa(this,"storagePrefix",$0),Qa(this,"recentlyDeleted",[]),Qa(this,"recentlyDeletedLimit",200),Qa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!vs(o)?this.map.set(this.getKey(o),o):P3e(o)?this.map.set(o.id,o):_3e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Qa(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Qa(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Qa(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Cut(a[c],o[c]))):this.values)),Qa(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let c=u5e(u5e({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Qa(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=tn(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){let{message:s}=He("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}let{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},Put=Object.defineProperty,_ut=(t,e,r)=>e in t?Put(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cr=(t,e,r)=>_ut(t,typeof e!="symbol"?e+"":e,r),BJ=class{constructor(e,r){this.core=e,this.logger=r,cr(this,"name",qat),cr(this,"version",Wat),cr(this,"events",new nm.default),cr(this,"pairings"),cr(this,"initialized",!1),cr(this,"storagePrefix",$0),cr(this,"ignoredPayloadTypes",[yf]),cr(this,"registeredMethods",[]),cr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),cr(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),cr(this,"create",async n=>{this.isInitialized();let s=ZU(),i=await this.core.crypto.setSymKey(s),o=Zn(pt.FIVE_MINUTES),a={protocol:VJ},c={topic:i,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=rJ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(H2.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:l}}),cr(this,"pair",async n=>{this.isInitialized();let s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[xf.pairing_started]}});this.isValidPair(n,s);let{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=tJ(n.uri);s.props.properties.topic=i,s.addTrace(xf.pairing_uri_validation_success),s.addTrace(xf.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(xf.existing_pairing),u.active)throw s.setError(M0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(xf.pairing_not_expired)}let f=c||Zn(pt.FIVE_MINUTES),d={topic:i,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(xf.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(H2.create,d),s.addTrace(xf.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(xf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(p){s.setError(M0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(p){throw s.setError(M0.subscribe_pairing_topic_failure),p}return s.addTrace(xf.subscribe_pairing_topic_success),d}),cr(this,"activate",async({topic:n})=>{this.isInitialized();let s=Zn(pt.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),cr(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:s}=n;if(this.pairings.keys.includes(s)){let i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=tm();this.events.once(Hr("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),cr(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),cr(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),cr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),cr(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",dn("USER_DISCONNECTED")),await this.deletePairing(s))}),cr(this,"formatUriFromPairing",n=>{this.isInitialized();let{topic:s,relay:i,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(s);return rJ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),cr(this,"sendRequest",async(n,s,i)=>{let o=zr(s,i),a=await this.core.crypto.encode(n,o),c=aS[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),cr(this,"sendResult",async(n,s,i)=>{let o=ti(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=aS[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),cr(this,"sendError",async(n,s,i)=>{let o=vc(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=aS[c]?aS[c].res:aS.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),cr(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,dn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),cr(this,"cleanup",async()=>{let n=this.pairings.getAll().filter(s=>Yc(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),cr(this,"onRelayEventRequest",async n=>{let{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),cr(this,"onRelayEventResponse",async n=>{let{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;return o==="wc_pairingPing"?this.onPairingPingResponse(s,i):this.onUnknownRpcMethodResponse(o)}),cr(this,"onPairingPingRequest",async(n,s)=>{let{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(H2.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),cr(this,"onPairingPingResponse",(n,s)=>{let{id:i}=s;setTimeout(()=>{Rn(s)?this.events.emit(Hr("pairing_ping",i),{}):rn(s)&&this.events.emit(Hr("pairing_ping",i),{error:s.error})},500)}),cr(this,"onPairingDeleteRequest",async(n,s)=>{let{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(H2.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),cr(this,"onUnknownRpcMethodRequest",async(n,s)=>{let{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;let a=dn("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),cr(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(dn("WC_METHOD_UNSUPPORTED",n))}),cr(this,"isValidPair",(n,s)=>{var i;if(!Io(n)){let{message:a}=He("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(M0.malformed_pairing_uri),new Error(a)}if(!T3e(n.uri)){let{message:a}=He("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(M0.malformed_pairing_uri),new Error(a)}let o=tJ(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){let{message:a}=He("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(M0.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){let{message:a}=He("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(M0.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,pt.toMiliseconds)(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(M0.pairing_expired);let{message:a}=He("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),cr(this,"isValidPing",async n=>{if(!Io(n)){let{message:i}=He("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}let{topic:s}=n;await this.isValidPairingTopic(s)}),cr(this,"isValidDisconnect",async n=>{if(!Io(n)){let{message:i}=He("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}let{topic:s}=n;await this.isValidPairingTopic(s)}),cr(this,"isValidPairingTopic",async n=>{if(!is(n,!1)){let{message:s}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){let{message:s}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Yc(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:s}=He("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=tn(r,this.name),this.pairings=new H0(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ur(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Es.message,async e=>{let{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==In.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{let i=await this.core.crypto.decode(r,n);Lu(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Ec(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Xc.expired,async e=>{let{topic:r}=$U(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(H2.expire,{topic:r}))})}},Nut=Object.defineProperty,Out=(t,e,r)=>e in t?Nut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ui=(t,e,r)=>Out(t,typeof e!="symbol"?e+"":e,r),UJ=class extends DB{constructor(e,r){super(e,r),this.core=e,this.logger=r,Ui(this,"records",new Map),Ui(this,"events",new nm.EventEmitter),Ui(this,"name",Kat),Ui(this,"version",Gat),Ui(this,"cached",[]),Ui(this,"initialized",!1),Ui(this,"storagePrefix",$0),Ui(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ui(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;let o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:Zn(pt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(wf.created,o)}),Ui(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=rn(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(wf.updated,s))}),Ui(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Ui(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(wf.deleted,i)}}),this.persist()}),Ui(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Ui(this,"on",(n,s)=>{this.events.on(n,s)}),Ui(this,"once",(n,s)=>{this.events.once(n,s)}),Ui(this,"off",(n,s)=>{this.events.off(n,s)}),Ui(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:zr(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(wf.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(wf.created,e=>{let r=wf.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(wf.updated,e=>{let r=wf.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(wf.deleted,e=>{let r=wf.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(qo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{(0,pt.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(wf.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},Rut=Object.defineProperty,kut=(t,e,r)=>e in t?Rut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,To=(t,e,r)=>kut(t,typeof e!="symbol"?e+"":e,r),DJ=class extends zB{constructor(e,r){super(e,r),this.core=e,this.logger=r,To(this,"expirations",new Map),To(this,"events",new nm.EventEmitter),To(this,"name",Zat),To(this,"version",Yat),To(this,"cached",[]),To(this,"initialized",!1),To(this,"storagePrefix",$0),To(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),To(this,"has",n=>{try{let s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch(s){return!1}}),To(this,"set",(n,s)=>{this.isInitialized();let i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Xc.created,{target:i,expiration:o})}),To(this,"get",n=>{this.isInitialized();let s=this.formatTarget(n);return this.getExpiration(s)}),To(this,"del",n=>{if(this.isInitialized(),this.has(n)){let s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Xc.deleted,{target:s,expiration:i})}}),To(this,"on",(n,s)=>{this.events.on(n,s)}),To(this,"once",(n,s)=>{this.events.once(n,s)}),To(this,"off",(n,s)=>{this.events.off(n,s)}),To(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return f4e(e);if(typeof e=="number")return d4e(e);let{message:r}=He("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Xc.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;(0,pt.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Xc.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(qo.pulse,()=>this.checkExpirations()),this.events.on(Xc.created,e=>{let r=Xc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Xc.expired,e=>{let r=Xc.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Xc.deleted,e=>{let r=Xc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}},But=Object.defineProperty,Uut=(t,e,r)=>e in t?But(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Os=(t,e,r)=>Uut(t,typeof e!="symbol"?e+"":e,r),LJ=class extends VB{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Os(this,"name",Jat),Os(this,"abortController"),Os(this,"isDevEnv"),Os(this,"verifyUrlV3",Xat),Os(this,"storagePrefix",$0),Os(this,"version",y5e),Os(this,"publicKey"),Os(this,"fetchPromise"),Os(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,pt.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Os(this,"register",async s=>{if(!fx()||this.isDevEnv)return;let i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{let l=(0,m5e.getDocument)(),u=this.startAbortTimer(pt.ONE_SECOND*5),f=await new Promise((d,p)=>{let h=()=>{window.removeEventListener("message",g),l.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",h,{signal:this.abortController.signal});let g=b=>{if(b.data&&typeof b.data=="string")try{let E=JSON.parse(b.data);if(E.type==="verify_attestation"){if(Yf(E.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",g),d(E.attestation===null?"":E.attestation)}}catch(E){this.logger.warn(E)}};l.body.appendChild(m),window.addEventListener("message",g,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(l){this.logger.warn(l)}return""}),Os(this,"resolve",async s=>{if(this.isDevEnv)return"";let{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(Yf(i).payload.id!==a)return;let l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;let c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Os(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);let o=this.startAbortTimer(pt.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Os(this,"getVerifyUrl",s=>{let i=s||Z5;return ect.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Z5}`),i=Z5),i}),Os(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let s=this.startAbortTimer(pt.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Os(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Os(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Os(this,"isValidJwtAttestation",async s=>{let i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}let o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Os(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Os(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{let o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});let s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Os(this,"validateAttestation",(s,i)=>{let o=E3e(s,i.publicKey),a={hasExpired:(0,pt.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=tn(r,this.name),this.abortController=new AbortController,this.isDevEnv=Q7(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ur(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,pt.toMiliseconds)(e))}},Dut=Object.defineProperty,Lut=(t,e,r)=>e in t?Dut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f5e=(t,e,r)=>Lut(t,typeof e!="symbol"?e+"":e,r),MJ=class extends jB{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,f5e(this,"context",tct),f5e(this,"registerDeviceToken",async n=>{let{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=n,c=`${rct}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=tn(r,this.context)}},Mut=Object.defineProperty,d5e=Object.getOwnPropertySymbols,$ut=Object.prototype.hasOwnProperty,Hut=Object.prototype.propertyIsEnumerable,$J=(t,e,r)=>e in t?Mut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lS=(t,e)=>{for(var r in e||(e={}))$ut.call(e,r)&&$J(t,r,e[r]);if(d5e)for(var r of d5e(e))Hut.call(e,r)&&$J(t,r,e[r]);return t},hi=(t,e,r)=>$J(t,typeof e!="symbol"?e+"":e,r),HJ=class extends qB{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,hi(this,"context",sct),hi(this,"storagePrefix",$0),hi(this,"storageVersion",nct),hi(this,"events",new Map),hi(this,"shouldPersist",!1),hi(this,"init",async()=>{if(!Q7())try{let s={eventId:LY(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:UY(this.core.relayer.protocol,this.core.relayer.version,pJ)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),hi(this,"createEvent",s=>{let{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=LY(),u=this.core.projectId||"",f=Date.now(),d=lS({eventId:l,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),hi(this,"getEvent",s=>{let{eventId:i,topic:o}=s;if(i)return this.events.get(i);let a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return lS(lS({},a),this.setMethods(a.eventId))}),hi(this,"deleteEvent",s=>{let{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),hi(this,"setEventListeners",()=>{this.core.heartbeat.on(qo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,pt.fromMiliseconds)(Date.now())-(0,pt.fromMiliseconds)(s.timestamp)>ict&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),hi(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),hi(this,"addTrace",(s,i)=>{let o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),hi(this,"setError",(s,i)=>{let o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),hi(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),hi(this,"restore",async()=>{try{let s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,lS(lS({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),hi(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let s=[];for(let[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(let i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),hi(this,"sendEvent",async s=>{let i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${oct}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${pJ}${i}`,{method:"POST",body:JSON.stringify(s)})}),hi(this,"getAppDomain",()=>BY().url),this.logger=tn(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},Fut=Object.defineProperty,p5e=Object.getOwnPropertySymbols,zut=Object.prototype.hasOwnProperty,Vut=Object.prototype.propertyIsEnumerable,FJ=(t,e,r)=>e in t?Fut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,h5e=(t,e)=>{for(var r in e||(e={}))zut.call(e,r)&&FJ(t,r,e[r]);if(p5e)for(var r of p5e(e))Vut.call(e,r)&&FJ(t,r,e[r]);return t},Sn=(t,e,r)=>FJ(t,typeof e!="symbol"?e+"":e,r),zJ=class t extends UB{constructor(e){var r;super(e),Sn(this,"protocol",g5e),Sn(this,"version",y5e),Sn(this,"name",XU),Sn(this,"relayUrl"),Sn(this,"projectId"),Sn(this,"customStoragePrefix"),Sn(this,"events",new nm.EventEmitter),Sn(this,"logger"),Sn(this,"heartbeat"),Sn(this,"relayer"),Sn(this,"crypto"),Sn(this,"storage"),Sn(this,"history"),Sn(this,"expirer"),Sn(this,"pairing"),Sn(this,"verify"),Sn(this,"echoClient"),Sn(this,"linkModeSupportedApps"),Sn(this,"eventClient"),Sn(this,"initialized",!1),Sn(this,"logChunkController"),Sn(this,"on",(a,c)=>this.events.on(a,c)),Sn(this,"once",(a,c)=>this.events.once(a,c)),Sn(this,"off",(a,c)=>this.events.off(a,c)),Sn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Sn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;let u={topic:a,message:c,publishedAt:Date.now(),transportType:In.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||b5e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let s=$8({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Tat.logger,name:XU}),{logger:i,chunkLoggerController:o}=Xf({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=tn(i,this.name),this.heartbeat=new X8,this.crypto=new AJ(this,this.logger,e==null?void 0:e.keychain),this.history=new UJ(this,this.logger),this.expirer=new DJ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new BB(h5e(h5e({},Pat),e==null?void 0:e.storageOptions)),this.relayer=new RJ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new BJ(this,this.logger),this.verify=new LJ(this,this.logger,this.storage),this.echoClient=new MJ(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new HJ(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(zat,n),r}get context(){return Ur(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(W3e,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(W3e)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch(e){return!0}}},O5e=zJ});var rD,Gt,D5e,L5e,M5e,nQ,jJ,k5e,jut,B5e,qut,J5,Wut,Li,qJ,F0,Kut,Gut,Zut,Yut,Jut,Qut,Xut,eft,nD,tD,tft,rft,nft,U5e,sft,ift,KJ,Fr,Mi,ke,GJ,ZJ,YJ,JJ,QJ,XJ,eQ,oft,aft,WJ,tQ,cft,lft,lr,rQ,$5e,H5e=y(()=>{rD=pr(Fo(),1);R5e();iZ();JU();y1();Gt=pr(Np(),1);Mu();D5e="wc",L5e=2,M5e="client",nQ=`${D5e}@${L5e}:${M5e}:`,jJ={name:M5e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},k5e="WALLETCONNECT_DEEPLINK_CHOICE",jut="proposal",B5e="Proposal expired",qut="session",J5=Gt.SEVEN_DAYS,Wut="engine",Li={wc_sessionPropose:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Gt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Gt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1119}}},qJ={min:Gt.FIVE_MINUTES,max:Gt.SEVEN_DAYS},F0={idle:"IDLE",active:"ACTIVE"},Kut={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Gut="request",Zut=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Yut="wc",Jut="auth",Qut="authKeys",Xut="pairingTopics",eft="requests",nD=`${Yut}@${1.5}:${Jut}:`,tD=`${nD}:PUB_KEY`,tft=Object.defineProperty,rft=Object.defineProperties,nft=Object.getOwnPropertyDescriptors,U5e=Object.getOwnPropertySymbols,sft=Object.prototype.hasOwnProperty,ift=Object.prototype.propertyIsEnumerable,KJ=(t,e,r)=>e in t?tft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fr=(t,e)=>{for(var r in e||(e={}))sft.call(e,r)&&KJ(t,r,e[r]);if(U5e)for(var r of U5e(e))ift.call(e,r)&&KJ(t,r,e[r]);return t},Mi=(t,e)=>rft(t,nft(e)),ke=(t,e,r)=>KJ(t,typeof e!="symbol"?e+"":e,r),GJ=class extends KB{constructor(e){super(e),ke(this,"name",Wut),ke(this,"events",new rD.default),ke(this,"initialized",!1),ke(this,"requestQueue",{state:F0.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:F0.idle,queue:[]}),ke(this,"emittedSessionRequests",new _U({limit:500})),ke(this,"requestQueueDelay",Gt.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Li)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Gt.toMiliseconds)(this.requestQueueDelay)))}),ke(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();let s=Mi(Fr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=S3e(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};let{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:f,walletPay:d}=s,p=((n=f==null?void 0:f[0])==null?void 0:n.ttl)||Li.wc_sessionPropose.req.ttl||Gt.FIVE_MINUTES;this.validateRequestExpiry(p);let h=i,m,g=!1;try{if(h){let O=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),O}if(!h||!g){let{topic:O,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=O,m=H}if(!h){let{message:O}=He("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(O)}let b=await this.client.core.crypto.generateKeyPair(),E=Zn(p),w=Fr(Mi(Fr(Fr({requiredNamespaces:o,optionalNamespaces:a,relays:u!=null?u:[{protocol:VJ}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:h},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:ds()}),(f||d)&&{requests:{authentication:f==null?void 0:f.map(O=>{let{domain:H,chains:_,nonce:N,uri:I,exp:D,nbf:v,type:A,statement:R,requestId:$,resources:k,signatureTypes:L}=O;return{domain:H,chains:_,nonce:N,type:A!=null?A:"caip122",aud:I,version:"1",iat:new Date().toISOString(),exp:D,nbf:v,statement:R,requestId:$,resources:k,signatureTypes:L}}),walletPay:d}}),x=Hr("session_connect",w.id),{reject:C,resolve:T,done:U}=tm(p,B5e),B=({id:O})=>{O===w.id&&(this.client.events.off("proposal_expire",B),this.pendingSessions.delete(w.id),this.events.emit(x,{error:{message:B5e,code:0}}))};return this.client.events.on("proposal_expire",B),this.events.once(x,({error:O,session:H})=>{this.client.events.off("proposal_expire",B),O?C(O):H&&T(H)}),await this.setProposal(w.id,w),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}).catch(O=>{throw this.deleteProposal(w.id),O}),{uri:m,approval:U}}),ke(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ke(this,"approve",async r=>{var n,s,i;let o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Kl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(H){throw o.setError(F2.no_internet_connection),H}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(H){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(F2.proposal_not_found),H}try{await this.isValidApprove(r)}catch(H){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(F2.session_approve_namespace_validation_failure),H}let{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d,proposalRequestsResponses:p}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});let{pairingTopic:m,proposer:g,requiredNamespaces:b,optionalNamespaces:E}=h,w=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});w||(w=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Kl.session_approve_started,properties:{topic:m,trace:[Kl.session_approve_started,Kl.session_namespaces_validation_success]}}));let x=await this.client.core.crypto.generateKeyPair(),C=g.publicKey,T=await this.client.core.crypto.generateSharedKey(x,C),U=Mi(Fr(Fr(Fr({relay:{protocol:c!=null?c:"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:Zn(J5)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{proposalRequestsResponses:p}),B=In.relay;w.addTrace(Kl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:B,internal:{skipSubscribe:!0}})}catch(H){throw w.setError(F2.subscribe_session_topic_failure),H}w.addTrace(Kl.subscribe_session_topic_success);let O=Mi(Fr({},U),{topic:T,requiredNamespaces:b,optionalNamespaces:E,pairingTopic:m,acknowledged:!1,self:U.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x,transportType:In.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(T,O),w.addTrace(Kl.store_session);try{await this.sendApproveSession({sessionTopic:T,proposal:h,pairingProposalResponse:{relay:{protocol:c!=null?c:"irn"},responderPublicKey:x},sessionSettleRequest:U,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:Fr({correlationId:a},this.getTVFApproveParams(O))}}),w.addTrace(Kl.session_approve_publish_success)}catch(H){throw this.client.logger.error(H),this.client.session.delete(T,dn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),H}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(T,Zn(J5)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),ke(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}let{id:n,reason:s}=r,i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&await this.sendError({id:n,topic:i,error:s,rpcOpts:Li.wc_sessionPropose.reject}),await this.deleteProposal(n)}),ke(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}let{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:a}=tm(Gt.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=ds(),l=ps().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Hr("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:i}}),ke(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,s=ds(),{done:i,resolve:o,reject:a}=tm(Gt.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(Hr("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Zn(J5)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ke(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(g){throw this.client.logger.error("request() -> isValidRequest() failed"),g}let{chainId:n,request:s,topic:i,expiry:o=Li.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(i);(a==null?void 0:a.transportType)===In.relay&&await this.confirmOnlineStateOrThrow();let c=ds(),l=ps().toString(),{done:u,resolve:f,reject:d}=tm(o,"Request expired. Please try again.");this.events.once(Hr("session_request",c),({error:g,result:b})=>{g?d(g):f(b)});let p="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:p,params:{request:Mi(Fr({},s),{expiryTimestamp:Zn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:h}).catch(g=>d(g)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await u();let m={request:Mi(Fr({},s),{expiryTimestamp:Zn(o)}),chainId:n};return await Promise.all([new Promise(async g=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),g()}),new Promise(async g=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){let E=await h4e(this.client.core.storage,k5e);await p4e({id:c,topic:i,wcDeepLink:E})}g()}),u()]).then(g=>g[2])}),ke(this,"respond",async r=>{var n,s;this.isInitialized();let i=this.client.core.eventClient.createEvent({properties:{topic:(r==null?void 0:r.topic)||((s=(n=r==null?void 0:r.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[Kl.session_request_response_started]}});try{await this.isValidRespond(r)}catch(f){throw i.addTrace(f==null?void 0:f.message),i.setError(F2.session_request_response_validation_failure),f}i.addTrace(Kl.session_request_response_validation_success);let{topic:o,response:a}=r,{id:c}=a,l=this.client.session.get(o);l.transportType===In.relay&&await this.confirmOnlineStateOrThrow();let u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{i.addTrace(Kl.session_request_response_publish_started),Rn(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):rn(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(r)}catch(f){throw i.addTrace(f==null?void 0:f.message),i.setError(F2.session_request_response_publish_failure),f}}),ke(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}let{topic:n}=r;if(this.client.session.keys.includes(n)){let s=ds(),i=ps().toString(),{done:o,resolve:a,reject:c}=tm(Gt.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(Hr("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ke(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:s,chainId:i}=r,o=ps().toString(),a=ds();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ke(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:dn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:s}=He("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),ke(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>I3e(n,r)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);let i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?In.link_mode:In.relay;o===In.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:p,nbf:h,methods:m=[],expiry:g}=r,b=[...r.resources||[]],{topic:E,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:w}});let x=await this.client.core.crypto.generateKeyPair(),C=V5(x);if(await Promise.all([this.client.auth.authKeys.set(tD,{responseTopic:C,publicKey:x}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:E})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${E}`),m.length>0){let{namespace:k}=mf(a[0]),L=U4e(k,"request",m);tS(b)&&(L=D4e(L,b.pop())),b.push(L)}let T=g&&g>Li.wc_sessionAuthenticate.req.ttl?g:Li.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:d!=null?d:"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:p,nbf:h,resources:b},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Zn(T)},B={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},O={requiredNamespaces:{},optionalNamespaces:B,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Zn(Li.wc_sessionPropose.req.ttl),id:ds()},{done:H,resolve:_,reject:N}=tm(T,"Request expired"),I=ds(),D=Hr("session_connect",O.id),v=Hr("session_request",I),A=async({error:k,session:L})=>{this.events.off(v,R),k?N(k):L&&_({session:L})},R=async k=>{var L,q,Z;if(await this.deletePendingAuthRequest(I,{message:"fulfilled",code:0}),k.error){let be=dn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return k.error.code===be.code?void 0:(this.events.off(D,A),N(k.error.message))}await this.deleteProposal(O.id),this.events.off(D,A);let{cacaos:ee,responder:ae}=k.result,re=[],we=[];for(let be of ee){await VY({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),N(dn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:De}=be,Et=tS(De.resources),Pt=[jU(De.iss)],ut=eS(De.iss);if(Et){let Ut=qY(Et),bn=WY(Et);re.push(...Ut),Pt.push(...bn)}for(let Ut of Pt)we.push(`${Ut}:${ut}`)}let ie=await this.client.core.crypto.generateSharedKey(x,ae.publicKey),Te;re.length>0&&(Te={topic:ie,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:ae,controller:ae.publicKey,expiry:Zn(J5),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:sJ([...new Set(re)],[...new Set(we)]),transportType:o},await this.client.core.relayer.subscribe(ie,{transportType:o}),await this.client.session.set(ie,Te),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:ae.metadata}),Te=this.client.session.get(ie)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(q=ae.metadata.redirect)!=null&&q.linkMode&&(Z=ae.metadata.redirect)!=null&&Z.universal&&n&&(this.client.core.addLinkModeSupportedApp(ae.metadata.redirect.universal),this.client.session.update(ie,{transportType:In.link_mode})),_({auths:ee,session:Te})};this.events.once(D,A),this.events.once(v,R);let $;try{if(i){let k=zr("wc_sessionAuthenticate",U,I);this.client.core.history.set(E,k);let L=await this.client.core.crypto.encode("",k,{type:z5,encoding:rm});$=iS(n,E,L)}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:U,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:I}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:O,expiry:Li.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:O.id})])}catch(k){throw this.events.off(D,A),this.events.off(v,R),k}return await this.setProposal(O.id,O),await this.setAuthRequest(I,{request:Mi(Fr({},U),{verifyContext:{}}),pairingTopic:E,transportType:o}),{uri:$!=null?$:w,response:H}}),ke(this,"approveSessionAuthenticate",async r=>{let{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[z2.authenticated_session_approve_started]}});try{this.isInitialized()}catch(g){throw i.setError(Y5.no_internet_connection),g}let o=this.getPendingAuthRequest(n);if(!o)throw i.setError(Y5.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let a=o.transportType||In.relay;a===In.relay&&await this.confirmOnlineStateOrThrow();let c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=V5(c),f={type:yf,receiverPublicKey:c,senderPublicKey:l},d=[],p=[];for(let g of s){if(!await VY({cacao:g,projectId:this.client.core.projectId})){i.setError(Y5.invalid_cacao);let C=dn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:C,encodeOpts:f}),new Error(C.message)}i.addTrace(z2.cacaos_verified);let{p:b}=g,E=tS(b.resources),w=[jU(b.iss)],x=eS(b.iss);if(E){let C=qY(E),T=WY(E);d.push(...C),w.push(...T)}for(let C of w)p.push(`${C}:${x}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(z2.create_authenticated_session_topic);let m;if((d==null?void 0:d.length)>0){m={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Zn(J5),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:sJ([...new Set(d)],[...new Set(p)]),transportType:a},i.addTrace(z2.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:a})}catch(g){throw i.setError(Y5.subscribe_authenticated_session_topic_failure),g}i.addTrace(z2.subscribe_authenticated_session_topic_success),await this.client.session.set(h,m),i.addTrace(z2.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(z2.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(g){throw i.setError(Y5.authenticated_session_approve_publish_failure),g}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),ke(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();let{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===In.relay&&await this.confirmOnlineStateOrThrow();let o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=V5(o),l={type:yf,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:Li.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),ke(this,"formatAuthMessage",r=>{this.isInitialized();let{request:n,iss:s}=r;return jY(n,s)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ke(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ke(this,"deleteSession",async r=>{var n;let{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,dn("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(k5e).catch(l=>this.client.logger.warn(l)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=F0.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===s).map(l=>this.deletePendingSessionRequest(l.id,dn("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ke(this,"deleteProposal",async(r,n)=>{if(n)try{let s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(F2.proposal_expired)}catch(s){}await Promise.all([this.client.proposal.delete(r,dn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ke(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=F0.idle,this.client.events.emit("session_request_expire",{id:r}))}),ke(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),ke(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ke(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Zn(Li.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ke(this,"setAuthRequest",async(r,n)=>{let{request:s,pairingTopic:i,transportType:o=In.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ke(this,"setPendingSessionRequest",async r=>{let{id:n,topic:s,params:i,verifyContext:o}=r,a=i.request.expiryTimestamp||Zn(Li.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),ke(this,"sendRequest",async r=>{let{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,p=zr(s,i,c),h,m=!!u;try{let E=m?rm:So;h=await this.client.core.crypto.encode(n,p,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),E}let g;if(Zut.includes(s)){let E=Ja(JSON.stringify(p)),w=Ja(h);g=await this.client.core.verify.register({id:w,decryptedId:E})}let b=Fr(Fr({},Li[s].req),d);if(b.attestation=g,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(n,p),m){let E=iS(u,n,h);await global.Linking.openURL(E,this.client.name)}else b.tvf=Mi(Fr({},f),{correlationId:p.id}),l?(b.internal=Mi(Fr({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,b)):this.client.core.relayer.publish(n,h,b).catch(E=>this.client.logger.error(E));return p.id}),ke(this,"sendProposeSession",async r=>{let{proposal:n,publishOpts:s}=r,i=zr("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,i);let o=await this.client.core.crypto.encode(n.pairingTopic,i,{encoding:So}),a=Ja(JSON.stringify(i)),c=Ja(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Mi(Fr({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),ke(this,"sendApproveSession",async r=>{let{sessionTopic:n,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=r,c=ti(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:So}),u=zr("wc_sessionSettle",o,a==null?void 0:a.id),f=await this.client.core.crypto.encode(n,u,{encoding:So});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Mi(Fr({},a),{publishMethod:"wc_approveSession"})})}),ke(this,"sendResult",async r=>{let{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=ti(n,i),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let h=f?rm:So;u=await this.client.core.crypto.encode(s,l,Mi(Fr({},a||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),h}let d,p;try{d=await this.client.core.history.get(s,n);let h=d.request;try{p=this.getTVFParams(n,h.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),h}if(f){let h=iS(c,s,u);await global.Linking.openURL(h,this.client.name)}else{let h=d.request.method,m=Li[h].res;m.tvf=Mi(Fr({},p),{correlationId:n}),o?(m.internal=Mi(Fr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(g=>this.client.logger.error(g))}await this.client.core.history.resolve(l)}),ke(this,"sendError",async r=>{let{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=vc(n,i),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let p=f?rm:So;u=await this.client.core.crypto.encode(s,l,Mi(Fr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),p}let d;try{d=await this.client.core.history.get(s,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),p}if(f){let p=iS(c,s,u);await global.Linking.openURL(p,this.client.name)}else{let p=d.request.method,h=a||Li[p].res;this.client.core.relayer.publish(s,u,h)}await this.client.core.history.resolve(l)}),ke(this,"cleanup",async()=>{let r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;Yc(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Yc(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),ke(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ke(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===F0.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=F0.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=F0.idle}),ke(this,"processRequest",async r=>{let{topic:n,payload:s,attestation:i,transportType:o,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ke(this,"onRelayEventResponse",async r=>{let{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ke(this,"onRelayEventUnknownPayload",r=>{let{topic:n}=r,{message:s}=He("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ke(this,"shouldIgnorePairingRequest",r=>{let{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async r=>{let{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:a,id:c}=s;try{let l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(M0.proposal_listener_not_found)),this.isValidConnect(Fr({},s.params));let u=a.expiryTimestamp||Zn(Li.wc_sessionPropose.req.ttl),f=Fr({id:c,pairingTopic:n,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,f);let d=await this.getVerifyContext({attestationId:i,hash:Ja(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});l==null||l.addTrace(xf.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Li.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ke(this,"onSessionProposeResponse",async(r,n,s)=>{let{id:i}=n;if(Rn(n)){let{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});let a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:r,proposalId:i,publicKey:c});let f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(rn(n)){await this.deleteProposal(i);let o=Hr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ke(this,"onSessionSettleRequest",async(r,n)=>{let{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);let{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d,proposalRequestsResponses:p}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);let m=this.client.proposal.get(h.proposalId),g=Mi(Fr(Fr(Fr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:In.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Hr("session_connect",h.proposalId),{session:g})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionSettleResponse",async(r,n)=>{let{id:s}=n;Rn(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Hr("session_approve",s),{})):rn(n)&&(await this.client.session.delete(r,dn("USER_DISCONNECTED")),this.events.emit(Hr("session_approve",s),{error:n.error}))}),ke(this,"onSessionUpdateRequest",async(r,n)=>{let{params:s,id:i}=n;try{let o=`${r}_session_update`,a=M2.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:dn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Fr({topic:r},s));try{M2.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0})}catch(c){throw M2.delete(o),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ke(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(r,n)=>{let{id:s}=n,i=Hr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Hr("session_update",s),{}):rn(n)&&this.events.emit(Hr("session_update",s),{error:n.error})}),ke(this,"onSessionExtendRequest",async(r,n)=>{let{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Zn(J5)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),ke(this,"onSessionExtendResponse",(r,n)=>{let{id:s}=n,i=Hr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Hr("session_extend",s),{}):rn(n)&&this.events.emit(Hr("session_extend",s),{error:n.error})}),ke(this,"onSessionPingRequest",async(r,n)=>{let{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),ke(this,"onSessionPingResponse",(r,n)=>{let{id:s}=n,i=Hr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Rn(n)?this.events.emit(Hr("session_ping",s),{}):rn(n)&&this.events.emit(Hr("session_ping",s),{error:n.error})},500)}),ke(this,"onSessionDeleteRequest",async(r,n)=>{let{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:dn("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(i){this.client.logger.error(i)}}),ke(this,"onSessionRequest",async r=>{var n,s,i;let{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(Fr({topic:o},d));let p=this.client.session.get(o),h=await this.getVerifyContext({attestationId:c,hash:Ja(JSON.stringify(zr("wc_sessionRequest",d,f))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),m={id:f,topic:o,params:d,verifyContext:h};await this.setPendingSessionRequest(m),u===In.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=p.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:f,topic:o,error:p}),this.client.logger.error(p)}}),ke(this,"onSessionRequestResponse",(r,n)=>{let{id:s}=n,i=Hr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Hr("session_request",s),{result:n.result}):rn(n)&&this.events.emit(Hr("session_request",s),{error:n.error})}),ke(this,"onSessionEventRequest",async(r,n)=>{let{id:s,params:i}=n;try{let o=`${r}_session_event_${i.event.name}`,a=M2.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Fr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),M2.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionAuthenticateResponse",(r,n)=>{let{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Rn(n)?this.events.emit(Hr("session_request",s),{result:n.result}):rn(n)&&this.events.emit(Hr("session_request",s),{error:n.error})}),ke(this,"onSessionAuthenticateRequest",async r=>{var n;let{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=r;try{let{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:o,hash:Ja(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:p,pairingTopic:s,transportType:c}),c===In.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);let u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),p={type:yf,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:p,rpcOpts:Li.wc_sessionAuthenticate.autoReject,appLink:d})}}),ke(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ke(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=F0.idle,this.processSessionRequestQueue()},(0,Gt.toMiliseconds)(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{let s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{this.events.emit(Hr("session_request",i.request.id),{error:n})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===F0.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ke(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=F0.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),ke(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:zr("wc_sessionPropose",Mi(Fr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),ke(this,"isValidConnect",async r=>{if(!Io(r)){let{message:l}=He("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}let{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=r;if(vs(n)||await this.isValidPairingTopic(n),!k3e(c,!0)){let{message:l}=He("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(s&&!vs(s)&&jl(s)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!vs(i)&&jl(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),o&&!vs(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!vs(a)){this.validateSessionProps(a,"scopedProperties");let l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ke(this,"validateNamespaces",(r,n)=>{let s=R3e(r,"connect()",n);if(s)throw new Error(s.message)}),ke(this,"isValidApprove",async r=>{if(!Io(r))throw new Error(He("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let c=this.client.proposal.get(n),l=YU(s,"approve()");if(l)throw new Error(l.message);let u=cJ(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!is(i,!0)){let{message:f}=He("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(o&&!vs(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!vs(a)){this.validateSessionProps(a,"scopedProperties");let f=new Set(Object.keys(s));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ke(this,"isValidReject",async r=>{if(!Io(r)){let{message:i}=He("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}let{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!U3e(s)){let{message:i}=He("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ke(this,"isValidSessionSettleRequest",r=>{if(!Io(r)){let{message:l}=He("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!oJ(n)){let{message:l}=He("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=N3e(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=YU(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Yc(o)){let{message:l}=He("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ke(this,"isValidUpdate",async r=>{if(!Io(r)){let{message:c}=He("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let i=this.client.session.get(n),o=YU(s,"update()");if(o)throw new Error(o.message);let a=cJ(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ke(this,"isValidExtend",async r=>{if(!Io(r)){let{message:s}=He("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ke(this,"isValidRequest",async r=>{if(!Io(r)){let{message:c}=He("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!aJ(a,i)){let{message:c}=He("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!D3e(s)){let{message:c}=He("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!$3e(a,i,s.method)){let{message:c}=He("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),ke(this,"isValidRespond",async r=>{var n;if(!Io(r)){let{message:a}=He("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!L3e(i)){let{message:a}=He("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}let o=this.client.pendingRequest.get(i.id);if(o.topic!==s){let{message:a}=He("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${o.topic}, received topic: ${s}`);throw new Error(a)}}),ke(this,"isValidPing",async r=>{if(!Io(r)){let{message:s}=He("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ke(this,"isValidEmit",async r=>{if(!Io(r)){let{message:a}=He("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!aJ(o,i)){let{message:a}=He("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!M3e(s)){let{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!H3e(o,i,s.name)){let{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ke(this,"isValidDisconnect",async r=>{if(!Io(r)){let{message:s}=He("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ke(this,"isValidAuthenticate",r=>{let{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!is(s,!1))throw new Error("uri is required parameter");if(!is(i,!1))throw new Error("domain is required parameter");if(!is(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>mf(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=mf(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async r=>{let{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Z5,validation:"UNKNOWN",origin:o.url||""}};try{if(a===In.link_mode){let u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ke(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){let{message:o}=He("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),ke(this,"getPendingAuthRequest",r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ke(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0,i=this.recentlyDeletedLimit/2;for(let o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ke(this,"checkRecentlyDeleted",r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:s}=He("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),ke(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,a,c,l,u,f,d;return!r||n!==In.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((d=r==null?void 0:r.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),ke(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=DY(r,"topic")||"",s=decodeURIComponent(DY(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:In.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),ke(this,"registerLinkModeListeners",async()=>{var r;if(Q7()||em()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ke(this,"getTVFApproveParams",r=>{try{let n=nJ(r.namespaces),s=A3e(r.namespaces),i=C3e(r.namespaces),o=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:i,sessionProperties:o,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),ke(this,"getTVFParams",(r,n,s)=>{var i,o,a;if(!((i=n.request)!=null&&i.method))return{};let c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{let l=this.extractTxHashesFromResult(n.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),ke(this,"isValidContractData",r=>{var n;if(!r)return!1;try{let s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;let i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch(s){}return!1}),ke(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];let i=r.method,o=Kut[i];if(i==="sui_signTransaction")return[N4e(n.transactionBytes)];if(i==="near_signTransaction")return[FY(n)];if(i==="near_signTransactions")return n.map(c=>FY(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[j3e({transaction:r.params.transactionPayload,signature:n.signature})];if(i==="algo_signTxn")return bf(n)?n.map(c=>zY(c)):[zY(n)];if(i==="cosmos_signDirect")return[O4e(n)];if(i==="wallet_sendCalls")return R4e(n);if(typeof n=="string")return[n];let a=n[o.key];if(bf(a))return i==="solana_signAllTransactions"?a.map(c=>_4e(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(let[n,s]of Object.entries(r))for(let i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch(o){this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Es.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(tD)?this.client.auth.authKeys.get(tD):{responseTopic:void 0,publicKey:void 0};try{let a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===In.link_mode?rm:So});Lu(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:i,encryptedId:Ja(n)})):Ec(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:i}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:i})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Xc.expired,async e=>{let{topic:r,id:n}=$U(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,He("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,He("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(H2.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(H2.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!is(e,!1)){let{message:r}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Yc(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=He("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!is(e,!1)){let{message:r}=He("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:r}=He("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Yc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:r}=He("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){let{message:r}=He("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(is(e,!1)){let{message:r}=He("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=He("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!B3e(e)){let{message:r}=He("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=He("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Yc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:r}=He("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}validateRequestExpiry(e){if(e&&!F3e(e,qJ)){let{message:r}=He("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${qJ.min} and ${qJ.max}`);throw new Error(r)}}},ZJ=class extends H0{constructor(e,r){super(e,r,jut,nQ),this.core=e,this.logger=r}},YJ=class extends H0{constructor(e,r){super(e,r,qut,nQ),this.core=e,this.logger=r}},JJ=class extends H0{constructor(e,r){super(e,r,Gut,nQ,n=>n.id),this.core=e,this.logger=r}},QJ=class extends H0{constructor(e,r){super(e,r,Qut,nD,()=>tD),this.core=e,this.logger=r}},XJ=class extends H0{constructor(e,r){super(e,r,Xut,nD),this.core=e,this.logger=r}},eQ=class extends H0{constructor(e,r){super(e,r,eft,nD,n=>n.id),this.core=e,this.logger=r}},oft=Object.defineProperty,aft=(t,e,r)=>e in t?oft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,WJ=(t,e,r)=>aft(t,typeof e!="symbol"?e+"":e,r),tQ=class{constructor(e,r){this.core=e,this.logger=r,WJ(this,"authKeys"),WJ(this,"pairingTopics"),WJ(this,"requests"),this.authKeys=new QJ(this.core,this.logger),this.pairingTopics=new XJ(this.core,this.logger),this.requests=new eQ(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},cft=Object.defineProperty,lft=(t,e,r)=>e in t?cft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lr=(t,e,r)=>lft(t,typeof e!="symbol"?e+"":e,r),rQ=class t extends WB{constructor(e){super(e),lr(this,"protocol",D5e),lr(this,"version",L5e),lr(this,"name",jJ.name),lr(this,"metadata"),lr(this,"core"),lr(this,"logger"),lr(this,"events",new rD.EventEmitter),lr(this,"engine"),lr(this,"session"),lr(this,"proposal"),lr(this,"pendingRequest"),lr(this,"auth"),lr(this,"signConfig"),lr(this,"on",(n,s)=>this.events.on(n,s)),lr(this,"once",(n,s)=>this.events.once(n,s)),lr(this,"off",(n,s)=>this.events.off(n,s)),lr(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),lr(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),lr(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),lr(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),lr(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),lr(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||jJ.name,this.metadata=c4e(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;let r=W5({logger:(e==null?void 0:e.logger)||jJ.logger,name:this.name});this.logger=r,this.core=(e==null?void 0:e.core)||new O5e(e),this.session=new YJ(this.core,this.logger),this.proposal=new ZJ(this.core,this.logger),this.pendingRequest=new JJ(this.core,this.logger),this.engine=new GJ(this),this.auth=new tQ(this.core,this.logger)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return Ur(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},$5e=rQ});function gQ(t){return t==null||typeof t!="object"&&typeof t!="function"}function ave(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function cve(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function yQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pft(t,e){return X5(t,void 0,t,new Map,e)}function X5(t,e,r,n=new Map,s=void 0){let i=s==null?void 0:s(t,e,r,n);if(i!=null)return i;if(gQ(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){let o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=X5(t[a],a,r,n,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){let o=new Map;n.set(t,o);for(let[a,c]of t)o.set(a,X5(c,a,r,n,s));return o}if(t instanceof Set){let o=new Set;n.set(t,o);for(let a of t)o.add(X5(a,void 0,r,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(yQ(t)){let o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=X5(t[a],a,r,n,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){let o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),gx(o,t,r,n,s),o}if(typeof File<"u"&&t instanceof File){let o=new File([t],t.name,{type:t.type});return n.set(t,o),gx(o,t,r,n,s),o}if(t instanceof Blob){let o=new Blob([t],{type:t.type});return n.set(t,o),gx(o,t,r,n,s),o}if(t instanceof Error){let o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,gx(o,t,r,n,s),o}if(typeof t=="object"&&_ft(t)){let o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),gx(o,t,r,n,s),o}return t}function gx(t,e,r=t,n,s){let i=[...Object.keys(e),...ave(e)];for(let o=0;o<i.length;o++){let a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=X5(e[a],a,r,n,s))}}function _ft(t){switch(cve(t)){case dve:case mft:case gft:case bft:case fve:case dft:case Ift:case Tft:case Aft:case Cft:case Sft:case pft:case uve:case yft:case uft:case hft:case lve:case fft:case wft:case xft:case vft:case Eft:return!0;default:return!1}}function Nft(t,e){return Pft(t,(r,n,s,i)=>{let o=e==null?void 0:e(r,n,s,i);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case uve:case lve:case fve:{let a=new t.constructor(t==null?void 0:t.valueOf());return gx(a,t),a}case dve:{let a={};return gx(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function F5e(t){return Nft(t)}function z5e(t){return t!==null&&typeof t=="object"&&cve(t)==="[object Arguments]"}function V5e(t){return typeof t=="object"&&t!==null}function Oft(){}function Rft(t){return yQ(t)}function kft(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){let n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Bft(t){if(gQ(t))return t;if(Array.isArray(t)||yQ(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);let e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){let n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){let n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){let n=Object.create(e);return Object.assign(n,t)}return t}function Uft(t,...e){let r=e.slice(0,-1),n=e[e.length-1],s=t;for(let i=0;i<r.length;i++){let o=r[i];s=uQ(s,o,n,new Map)}return s}function uQ(t,e,r,n){var i;if(gQ(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Bft(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let o=0;o<e.length;o++)e[o]=(i=e[o])!=null?i:void 0}let s=[...Object.keys(e),...ave(e)];for(let o=0;o<s.length;o++){let a=s[o],c=e[a],l=t[a];if(z5e(c)&&(c=S({},c)),z5e(l)&&(l=S({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=F5e(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){let f=[],d=Reflect.ownKeys(l);for(let p=0;p<d.length;p++){let h=d[p];f[h]=l[h]}l=f}else l=[];let u=r(l,c,a,t,e,n);u!=null?t[a]=u:Array.isArray(c)||V5e(l)&&V5e(c)?t[a]=uQ(l,c,r,n):l==null&&kft(c)?t[a]=uQ({},c,r,n):l==null&&Rft(c)?t[a]=F5e(c):(l===void 0||c!==void 0)&&(t[a]=c)}return t}function Dft(t,...e){return Uft(t,...e,Oft)}function gve(t,e,r){var n;let s=mf(t);return((n=e.rpcMap)==null?void 0:n[s.reference])||`${hve}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function Kft(t){return t.includes(":")?t.split(":")[1]:t}function yve(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Gft(t,e){let r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];let n=[];return r.forEach(s=>{let i=e.namespaces[s].accounts;n.push(...i)}),n}function K5e(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,s;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((s=r==null?void 0:r.chains)==null?void 0:s.length)>0}))}function oD(t={},e={}){let r=K5e(G5e(t)),n=K5e(G5e(e));return Dft(r,n)}function G5e(t){var e,r,n,s,i;let o={};if(!jl(t))return o;for(let[a,c]of Object.entries(t)){let l=oS(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},p=hx(a);o[p]=Wft(iD(iD({},o[p]),c),{chains:ff(l,(e=o[p])==null?void 0:e.chains),methods:ff(u,(r=o[p])==null?void 0:r.methods),events:ff(f,(n=o[p])==null?void 0:n.events)}),(jl(d)||jl(((s=o[p])==null?void 0:s.rpcMap)||{}))&&(o[p].rpcMap=iD(iD({},d),(i=o[p])==null?void 0:i.rpcMap))}return o}function Z5e(t){return t.includes(":")?t.split(":")[2]:t}function Y5e(t){let e={};for(let[r,n]of Object.entries(t)){let s=n.methods||[],i=n.events||[],o=n.accounts||[],a=oS(r)?[r]:n.chains?n.chains:yve(n.accounts);e[r]={chains:a,methods:s,events:i,accounts:o}}return e}function sQ(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function Zft(t){try{let e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch(e){return!1}}async function p0t(t,e){let r=mf(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(f=>h0t(r.reference,f,e))),i=s.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);s.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));let o=!i.length||i.some(f=>!f),a=i.every(f=>(f==null?void 0:f.status)==="0x1"),c=i.every(f=>(f==null?void 0:f.status)==="0x0"),l=i.some(f=>(f==null?void 0:f.status)==="0x0"),u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:i,status:u}}async function h0t(t,e,r){return await r(parseInt(t)).request(zr("eth_getTransactionReceipt",[e]))}async function m0t({sendCalls:t,storage:e}){let r=await e.getItem(ev);await e.setItem(ev,d0t(f0t({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:Zn(Hft)}}))}async function g0t({resultId:t,storage:e}){let r=await e.getItem(ev);if(r){delete r[t],await e.setItem(ev,r);for(let n in r)Yc(r[n].expiry)&&delete r[n];await e.setItem(ev,r)}}async function y0t({resultId:t,storage:e}){let r=await e.getItem(ev),n=r==null?void 0:r[t];if(n&&!Yc(n.expiry))return n;await g0t({resultId:t,storage:e})}var ove,uft,lve,uve,fve,dve,fft,dft,pft,hft,mft,gft,yft,bft,wft,xft,vft,Eft,Aft,Cft,Sft,Ift,Tft,j5e,Lft,Mft,pve,sD,hve,mve,$ft,ev,Hft,bQ,Fft,zft,Vft,q5e,jft,qft,W5e,iD,Wft,bve,tv,iQ,Yft,J5e,Jft,Qft,Q5e,X5e,eve,Xft,e0t,oQ,tve,t0t,r0t,n0t,s0t,i0t,aQ,fQ,o0t,a0t,c0t,rve,l0t,u0t,nve,f0t,d0t,b0t,w0t,x0t,sve,v0t,E0t,dQ,cQ,lQ,mx,pQ,A0t,C0t,Q5,hQ,S0t,I0t,T0t,ive,P0t,_0t,mQ,pS,aD,el,cD,wve=y(()=>{H5e();JU();Mu();t4();iO();ove=pr(Fo(),1);uft="[object RegExp]",lve="[object String]",uve="[object Number]",fve="[object Boolean]",dve="[object Arguments]",fft="[object Symbol]",dft="[object Date]",pft="[object Map]",hft="[object Set]",mft="[object Array]",gft="[object ArrayBuffer]",yft="[object Object]",bft="[object DataView]",wft="[object Uint8Array]",xft="[object Uint8ClampedArray]",vft="[object Uint16Array]",Eft="[object Uint32Array]",Aft="[object Int8Array]",Cft="[object Int16Array]",Sft="[object Int32Array]",Ift="[object Float32Array]",Tft="[object Float64Array]";j5e="error",Lft="wss://relay.walletconnect.org",Mft="wc",pve="universal_provider",sD=`${Mft}@2:${pve}:`,hve="https://rpc.walletconnect.org/v1/",mve="generic",$ft=`${hve}bundler`,ev="call_status",Hft=86400,bQ={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},Fft=Object.defineProperty,zft=Object.defineProperties,Vft=Object.getOwnPropertyDescriptors,q5e=Object.getOwnPropertySymbols,jft=Object.prototype.hasOwnProperty,qft=Object.prototype.propertyIsEnumerable,W5e=(t,e,r)=>e in t?Fft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iD=(t,e)=>{for(var r in e||(e={}))jft.call(e,r)&&W5e(t,r,e[r]);if(q5e)for(var r of q5e(e))qft.call(e,r)&&W5e(t,r,e[r]);return t},Wft=(t,e)=>zft(t,Vft(e));bve={},tv=t=>bve[t],iQ=(t,e)=>{bve[t]=e},Yft=Object.defineProperty,J5e=Object.getOwnPropertySymbols,Jft=Object.prototype.hasOwnProperty,Qft=Object.prototype.propertyIsEnumerable,Q5e=(t,e,r)=>e in t?Yft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,X5e=(t,e)=>{for(var r in e||(e={}))Jft.call(e,r)&&Q5e(t,r,e[r]);if(J5e)for(var r of J5e(e))Qft.call(e,r)&&Q5e(t,r,e[r]);return t},eve="eip155",Xft=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],e0t=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,oQ=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,tve=t=>Object.keys(t).filter(e=>Xft.includes(e)).reduce((e,r)=>(e[r]=t0t(t[r]),e),{}),t0t=t=>typeof t=="string"&&Zft(t)?JSON.parse(t):t,r0t=(t,e,r)=>{let{sessionProperties:n={},scopedProperties:s={}}=t,i={};if(!jl(s)&&!jl(n))return;let o=tve(n);for(let a of r){let c=e0t(a);if(!c)continue;i[oQ(c)]=o;let l=s==null?void 0:s[`${eve}:${c}`];if(l){let u=l==null?void 0:l[`${eve}:${c}:${e}`];i[oQ(c)]=X5e(X5e({},i[oQ(c)]),tve(u||l))}}for(let[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0},n0t=Object.defineProperty,s0t=(t,e,r)=>e in t?n0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i0t=(t,e,r)=>s0t(t,typeof e!="symbol"?e+"":e,r),fQ=class t{constructor(e){i0t(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return aQ||(aQ=new t(e)),aQ}},o0t=Object.defineProperty,a0t=Object.defineProperties,c0t=Object.getOwnPropertyDescriptors,rve=Object.getOwnPropertySymbols,l0t=Object.prototype.hasOwnProperty,u0t=Object.prototype.propertyIsEnumerable,nve=(t,e,r)=>e in t?o0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f0t=(t,e)=>{for(var r in e||(e={}))l0t.call(e,r)&&nve(t,r,e[r]);if(rve)for(var r of rve(e))u0t.call(e,r)&&nve(t,r,e[r]);return t},d0t=(t,e)=>a0t(t,c0t(e));b0t=Object.defineProperty,w0t=Object.defineProperties,x0t=Object.getOwnPropertyDescriptors,sve=Object.getOwnPropertySymbols,v0t=Object.prototype.hasOwnProperty,E0t=Object.prototype.propertyIsEnumerable,dQ=(t,e,r)=>e in t?b0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cQ=(t,e)=>{for(var r in e||(e={}))v0t.call(e,r)&&dQ(t,r,e[r]);if(sve)for(var r of sve(e))E0t.call(e,r)&&dQ(t,r,e[r]);return t},lQ=(t,e)=>w0t(t,x0t(e)),mx=(t,e,r)=>dQ(t,typeof e!="symbol"?e+"":e,r),pQ=class{constructor(e){mx(this,"name","eip155"),mx(this,"client"),mx(this,"chainId"),mx(this,"namespace"),mx(this,"httpProviders"),mx(this,"events"),mx(this,"storage"),this.namespace=e.namespace,this.events=tv("events"),this.client=tv("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=fQ.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);let n=this.chainId;this.chainId=parseInt(e),this.events.emit(bQ.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){let n=r||gve(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new Sl(n,tv("disableProviderPing")))}setHttpProvider(e,r){let n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){let e={};return this.namespace.chains.forEach(r=>{var n;let s=parseInt(Kft(r));e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){let r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=lQ(cQ({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;let i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,s,i,o;let a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},f=c.length>0?c.join(","):`0x${this.chainId.toString(16)}`,d=`${a}${f}`,p=u==null?void 0:u[d];if(p)return p;let h;try{h=r0t(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;let m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:lQ(cQ({},l.sessionProperties||{}),{capabilities:lQ(cQ({},u||{}),{[d]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n,s;let i=this.client.session.get(e.topic),o=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(o){let l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}let a=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}let c=await y0t({resultId:(s=e.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await p0t(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;let s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(zr("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,r){return`${$ft}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,s;let i=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=i==null?void 0:i.id,c=(i==null?void 0:i.capabilities)||{},l=(n=c==null?void 0:c.caip345)==null?void 0:n.caip2,u=(s=c==null?void 0:c.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await m0t({sendCalls:{request:o,result:i},storage:this.storage}),i}},A0t=Object.defineProperty,C0t=(t,e,r)=>e in t?A0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q5=(t,e,r)=>C0t(t,typeof e!="symbol"?e+"":e,r),hQ=class{constructor(e){Q5(this,"name",mve),Q5(this,"client"),Q5(this,"httpProviders"),Q5(this,"events"),Q5(this,"namespace"),Q5(this,"chainId"),this.namespace=e.namespace,this.events=tv("events"),this.client=tv("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);let n=this.chainId;this.chainId=e,this.events.emit(bQ.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return mf(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;let n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{var i,o;let a=mf(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(e){let r=mf(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){let n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){let n=r||gve(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new Sl(n,tv("disableProviderPing")))}},S0t=Object.defineProperty,I0t=Object.defineProperties,T0t=Object.getOwnPropertyDescriptors,ive=Object.getOwnPropertySymbols,P0t=Object.prototype.hasOwnProperty,_0t=Object.prototype.propertyIsEnumerable,mQ=(t,e,r)=>e in t?S0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pS=(t,e)=>{for(var r in e||(e={}))P0t.call(e,r)&&mQ(t,r,e[r]);if(ive)for(var r of ive(e))_0t.call(e,r)&&mQ(t,r,e[r]);return t},aD=(t,e)=>I0t(t,T0t(e)),el=(t,e,r)=>mQ(t,typeof e!="symbol"?e+"":e,r),cD=class t{constructor(e){el(this,"client"),el(this,"namespaces"),el(this,"optionalNamespaces"),el(this,"sessionProperties"),el(this,"scopedProperties"),el(this,"events",new ove.default),el(this,"rpcProviders",{}),el(this,"session"),el(this,"providerOpts"),el(this,"logger"),el(this,"uri"),el(this,"disableProviderPing",!1),el(this,"connectParams");var r,n;this.providerOpts=e,this.logger=W5({logger:(r=e.logger)!=null?r:j5e,name:(n=this.providerOpts.name)!=null?n:pve}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){let r=new t(e);return await r.initialize(),r}async request(e,r,n){let[s,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:pS({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,s){let i=new Date().getTime();this.request(e,n,s).then(o=>r(null,ti(i,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:dn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:n,response:s}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));let i=await s();if(this.session=i.session,this.session){let o=Y5e(this.session.namespaces);this.namespaces=oD(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){var r,n;let{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));let o=await i();this.session=o;let a=Y5e(o.namespaces);return this.namespaces=oD(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;let[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let r=this.client.pairing.getAll();if(!bf(r))return;for(let n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await $5e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||j5e,relayUrl:this.providerOpts.relayUrl||Lft,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{let n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(r=>hx(r)))];iQ("client",this.client),iQ("events",this.events),iQ("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;let n=Gft(r,this.session);if((n==null?void 0:n.length)===0)return;let s=yve(n),i=oD(this.namespaces,this.optionalNamespaces),o=aD(pS({},i[r]),{accounts:n,chains:s});r==="eip155"?this.rpcProviders[r]=new pQ({namespace:o}):this.rpcProviders[r]=new hQ({namespace:o})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;let{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;let{params:n,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;let{event:i}=n;if(i.name==="accountsChanged"){let o=i.data;o&&bf(o)&&this.events.emit("accountsChanged",o.map(Z5e))}else if(i.name==="chainChanged"){let o=n.chainId,a=n.event.data,c=hx(o),l=sQ(o)!==sQ(a)?`${c}:${sQ(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,s;if(e!==((n=this.session)==null?void 0:n.topic))return;let{namespaces:i}=r,o=(s=this.client)==null?void 0:s.session.get(e);this.session=aD(pS({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",aD(pS({},dn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(bQ.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(aD(pS({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[mve]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){let{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=oD(r,n),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){let[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>hx(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];let s=hx(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;let[s,i]=this.validateChain(e);i&&(this.updateNamespaceChain(s,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var s,i;try{if(n===r)return;let o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;let a=o.filter(c=>c.includes(`${r}:`)).map(Z5e);if(!bf(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,r){if(!this.namespaces)return;let n=this.namespaces[e]?e:`${e}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;let s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${sD}/${e}${s}`,r)}async getFromStore(e){var r;let n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${sD}/${e}${n}`)}async deleteFromStore(e){var r;let n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${sD}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;let r=await this.client.core.storage.getKeys();for(let n of r)n.startsWith(sD)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}}});var lD,xve=y(()=>{lD={interpolate(t,e,r){if(t.length!==2||e.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");let n=t[0]||0,s=t[1]||0,i=e[0]||0,o=e[1]||0;return r<n?i:r>s?o:(o-i)/(s-n)*(r-n)+i}}});var uD,fD,wQ,vve,hS,Xa,Qr,Eve,xQ,vQ=y(()=>{uD=globalThis,fD=uD.ShadowRoot&&(uD.ShadyCSS===void 0||uD.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wQ=Symbol(),vve=new WeakMap,hS=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==wQ)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o,r=this.t;if(fD&&e===void 0){let n=r!==void 0&&r.length===1;n&&(e=vve.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&vve.set(r,e))}return e}toString(){return this.cssText}},Xa=t=>new hS(typeof t=="string"?t:t+"",void 0,wQ),Qr=(t,...e)=>{let r=t.length===1?t[0]:e.reduce((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new hS(r,t,wQ)},Eve=(t,e)=>{if(fD)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of e){let n=document.createElement("style"),s=uD.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},xQ=fD?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(let n of e.cssRules)r+=n.cssText;return Xa(r)})(t):t});var N0t,O0t,R0t,k0t,B0t,U0t,V2,Ave,D0t,EQ,mS,gS,dD,Cve,Sve,Ive,sm,Tve,yS=y(()=>{vQ();vQ();({is:N0t,defineProperty:O0t,getOwnPropertyDescriptor:R0t,getOwnPropertyNames:k0t,getOwnPropertySymbols:B0t,getPrototypeOf:U0t}=Object),V2=globalThis,Ave=V2.trustedTypes,D0t=Ave?Ave.emptyScript:"",EQ=V2.reactiveElementPolyfillSupport,mS=(t,e)=>t,gS={toAttribute(t,e){switch(e){case Boolean:t=t?D0t:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(n){r=null}}return r}},dD=(t,e)=>!N0t(t,e),Cve={attribute:!0,type:String,converter:gS,reflect:!1,useDefault:!1,hasChanged:dD};(Sve=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(Ive=V2.litPropertyMetadata)!=null||(V2.litPropertyMetadata=new WeakMap);sm=class extends HTMLElement{static addInitializer(e){var r;this._$Ei(),((r=this.l)!=null?r:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Cve){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){let n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&O0t(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){var o;let{get:s,set:i}=(o=R0t(this.prototype,e))!=null?o:{get(){return this[r]},set(a){this[r]=a}};return{get:s,set(a){let c=s==null?void 0:s.call(this);i==null||i.call(this,a),this.requestUpdate(e,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var r;return(r=this.elementProperties.get(e))!=null?r:Cve}static _$Ei(){if(this.hasOwnProperty(mS("elementProperties")))return;let e=U0t(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(mS("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(mS("properties"))){let r=this.properties,n=[...k0t(r),...B0t(r)];for(let s of n)this.createProperty(s,r[s])}let e=this[Symbol.metadata];if(e!==null){let r=litPropertyMetadata.get(e);if(r!==void 0)for(let[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(let[r,n]of this.elementProperties){let s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let r=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let s of n)r.unshift(xQ(s))}else e!==void 0&&r.push(xQ(e));return r}static _$Eu(e,r){let n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$EO)!=null?r:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){let e=new Map,r=this.constructor.elementProperties;for(let n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var r;let e=(r=this.shadowRoot)!=null?r:this.attachShadow(this.constructor.shadowRootOptions);return Eve(e,this.constructor.elementStyles),e}connectedCallback(){var e,r;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostConnected)==null?void 0:s.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var i;let n=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,n);if(s!==void 0&&n.reflect===!0){let o=(((i=n.converter)==null?void 0:i.toAttribute)!==void 0?n.converter:gS).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,r){var i,o,a;let n=this.constructor,s=n._$Eh.get(e);if(s!==void 0&&this._$Em!==s){let c=n.getPropertyOptions(s),l=typeof c.converter=="function"?{fromAttribute:c.converter}:((i=c.converter)==null?void 0:i.fromAttribute)!==void 0?c.converter:gS;this._$Em=s;let u=l.fromAttribute(r,c.type);this[s]=(a=u!=null?u:(o=this._$Ej)==null?void 0:o.get(s))!=null?a:u,this._$Em=null}}requestUpdate(e,r,n,s=!1,i){var o,a;if(e!==void 0){let c=this.constructor;if(s===!1&&(i=this[e]),n!=null||(n=c.getPropertyOptions(e)),!(((o=n.hasChanged)!=null?o:dD)(i,r)||n.useDefault&&n.reflect&&i===((a=this._$Ej)==null?void 0:a.get(e))&&!this.hasAttribute(c._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:s,wrapped:i},o){var a,c,l;n&&!((a=this._$Ej)!=null?a:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,(c=o!=null?o:r)!=null?c:this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),s===!0&&this._$Em!==e&&((l=this._$Eq)!=null?l:this._$Eq=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n,s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((n=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,a]of this._$Ep)this[o]=a;this._$Ep=void 0}let i=this.constructor.elementProperties;if(i.size>0)for(let[o,a]of i){let{wrapped:c}=a,l=this[o];c!==!0||this._$AL.has(o)||l===void 0||this.C(o,void 0,a,l)}}let e=!1,r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(s=this._$EO)==null||s.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};sm.elementStyles=[],sm.shadowRootOptions={mode:"open"},sm[mS("elementProperties")]=new Map,sm[mS("finalized")]=new Map,EQ==null||EQ({ReactiveElement:sm}),((Tve=V2.reactiveElementVersions)!=null?Tve:V2.reactiveElementVersions=[]).push("2.1.2")});function $ve(t,e){if(!TQ(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _ve!==void 0?_ve.createHTML(e):e}function xx(t,e,r=t,n){var o,a,c;if(e===om)return e;let s=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl,i=vS(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,r,n)),n!==void 0?((c=r._$Co)!=null?c:r._$Co=[])[n]=s:r._$Cl=s),s!==void 0&&(e=xx(t,s._$AS(t,e.values),s,n)),e}var wS,Pve,pD,_ve,SQ,im,IQ,L0t,wx,xS,vS,TQ,Dve,AQ,bS,Nve,Ove,yx,Rve,kve,Lve,PQ,z,Je,Mve,om,Yn,Bve,bx,Hve,ES,hD,rv,vx,mD,gD,yD,bD,Fve,CQ,Uve,zve,am=y(()=>{wS=globalThis,Pve=t=>t,pD=wS.trustedTypes,_ve=pD?pD.createPolicy("lit-html",{createHTML:t=>t}):void 0,SQ="$lit$",im=`lit$${Math.random().toFixed(9).slice(2)}$`,IQ="?"+im,L0t=`<${IQ}>`,wx=document,xS=()=>wx.createComment(""),vS=t=>t===null||typeof t!="object"&&typeof t!="function",TQ=Array.isArray,Dve=t=>TQ(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",AQ=`[ 	
\f\r]`,bS=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Nve=/-->/g,Ove=/>/g,yx=RegExp(`>|${AQ}(?:([^\\s"'>=/]+)(${AQ}*=${AQ}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Rve=/'/g,kve=/"/g,Lve=/^(?:script|style|textarea|title)$/i,PQ=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),z=PQ(1),Je=PQ(2),Mve=PQ(3),om=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),Bve=new WeakMap,bx=wx.createTreeWalker(wx,129);Hve=(t,e)=>{let r=t.length-1,n=[],s,i=e===2?"<svg>":e===3?"<math>":"",o=bS;for(let a=0;a<r;a++){let c=t[a],l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===bS?u[1]==="!--"?o=Nve:u[1]!==void 0?o=Ove:u[2]!==void 0?(Lve.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=yx):u[3]!==void 0&&(o=yx):o===yx?u[0]===">"?(o=s!=null?s:bS,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?yx:u[3]==='"'?kve:Rve):o===kve||o===Rve?o=yx:o===Nve||o===Ove?o=bS:(o=yx,s=void 0);let p=o===yx&&t[a+1].startsWith("/>")?" ":"";i+=o===bS?c+L0t:f>=0?(n.push(l),c.slice(0,f)+SQ+c.slice(f)+im+p):c+im+(f===-2?a:p)}return[$ve(t,i+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]},ES=class t{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0,a=e.length-1,c=this.parts,[l,u]=Hve(e,r);if(this.el=t.createElement(l,n),bx.currentNode=this.el.content,r===2||r===3){let f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=bx.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(let f of s.getAttributeNames())if(f.endsWith(SQ)){let d=u[o++],p=s.getAttribute(f).split(im),h=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:h[2],strings:p,ctor:h[1]==="."?mD:h[1]==="?"?gD:h[1]==="@"?yD:vx}),s.removeAttribute(f)}else f.startsWith(im)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(Lve.test(s.tagName)){let f=s.textContent.split(im),d=f.length-1;if(d>0){s.textContent=pD?pD.emptyScript:"";for(let p=0;p<d;p++)s.append(f[p],xS()),bx.nextNode(),c.push({type:2,index:++i});s.append(f[d],xS())}}}else if(s.nodeType===8)if(s.data===IQ)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(im,f+1))!==-1;)c.push({type:7,index:i}),f+=im.length-1}i++}}static createElement(e,r){let n=wx.createElement("template");return n.innerHTML=e,n}};hD=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var l;let{el:{content:r},parts:n}=this._$AD,s=((l=e==null?void 0:e.creationScope)!=null?l:wx).importNode(r,!0);bx.currentNode=s;let i=bx.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new rv(i,i.nextSibling,this,e):c.type===1?u=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(u=new bD(i,this,e)),this._$AV.push(u),c=n[++a]}o!==(c==null?void 0:c.index)&&(i=bx.nextNode(),o++)}return bx.currentNode=wx,s}p(e){let r=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}},rv=class t{get _$AU(){var e,r;return(r=(e=this._$AM)==null?void 0:e._$AU)!=null?r:this._$Cv}constructor(e,r,n,s){var i;this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(i=s==null?void 0:s.isConnected)!=null?i:!0}get parentNode(){let e=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=xx(this,e,r),vS(e)?e===Yn||e==null||e===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):e!==this._$AH&&e!==om&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Dve(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Yn&&vS(this._$AH)?this._$AA.nextSibling.data=e:this.T(wx.createTextNode(e)),this._$AH=e}$(e){var i;let{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=ES.createElement($ve(n.h,n.h[0]),this.options)),n);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(r);else{let o=new hD(s,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=Bve.get(e.strings);return r===void 0&&Bve.set(e.strings,r=new ES(e)),r}k(e){TQ(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,n,s=0;for(let i of e)s===r.length?r.push(n=new t(this.O(xS()),this.O(xS()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e!==this._$AB;){let s=Pve(e).nextSibling;Pve(e).remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}},vx=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Yn}_$AI(e,r=this,n,s){let i=this.strings,o=!1;if(i===void 0)e=xx(this,e,r,0),o=!vS(e)||e!==this._$AH&&e!==om,o&&(this._$AH=e);else{let a=e,c,l;for(e=i[0],c=0;c<i.length-1;c++)l=xx(this,a[n+c],r,c),l===om&&(l=this._$AH[c]),o||(o=!vS(l)||l!==this._$AH[c]),l===Yn?e=Yn:e!==Yn&&(e+=(l!=null?l:"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},mD=class extends vx{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Yn?void 0:e}},gD=class extends vx{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Yn)}},yD=class extends vx{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){var o;if((e=(o=xx(this,e,r,0))!=null?o:Yn)===om)return;let n=this._$AH,s=e===Yn&&n!==Yn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==Yn&&(n===Yn||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)==null?void 0:r.host)!=null?n:this.element,e):this._$AH.handleEvent(e)}},bD=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){xx(this,e)}},Fve={M:SQ,P:im,A:IQ,C:1,L:Hve,R:hD,D:Dve,V:xx,I:rv,H:vx,N:gD,U:yD,B:mD,F:bD},CQ=wS.litHtmlPolyfillSupport;CQ==null||CQ(ES,rv),((Uve=wS.litHtmlVersions)!=null?Uve:wS.litHtmlVersions=[]).push("3.3.2");zve=(t,e,r)=>{var i,o;let n=(i=r==null?void 0:r.renderBefore)!=null?i:e,s=n._$litPart$;if(s===void 0){let a=(o=r==null?void 0:r.renderBefore)!=null?o:null;n._$litPart$=s=new rv(e.insertBefore(xS(),a),a,void 0,r!=null?r:{})}return s._$AI(t),s}});var Ex,pe,Vve,_Q,jve,qve=y(()=>{yS();yS();am();am();Ex=globalThis,pe=class extends sm{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r,n;let e=super.createRenderRoot();return(n=(r=this.renderOptions).renderBefore)!=null||(r.renderBefore=e.firstChild),e}update(e){let r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=zve(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return om}};pe._$litElement$=!0,pe.finalized=!0,(Vve=Ex.litElementHydrateSupport)==null||Vve.call(Ex,{LitElement:pe});_Q=Ex.litElementPolyfillSupport;_Q==null||_Q({LitElement:pe});((jve=Ex.litElementVersions)!=null?jve:Ex.litElementVersions=[]).push("4.2.2")});var Wve=y(()=>{});var Ae=y(()=>{yS();am();qve();Wve()});var Kve,AS,Gve,Zve,M0t,$0t,H0t,F0t,z0t,V0t,wD,NQ=y(()=>{Kve={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},AS={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Gve={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Zve={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},M0t={regular:"KHTeka",mono:"KHTekaMono"},$0t={regular:"400",medium:"500"},H0t={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},F0t={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},z0t={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},V0t={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},wD={colors:Kve,fontFamily:M0t,fontWeight:$0t,textSize:H0t,typography:F0t,tokens:{core:AS.core,theme:AS.dark},borderRadius:Gve,spacing:Zve,durations:V0t,easings:z0t}});function xD(t){var r,n,s,i,o,a,c,l,u,f,d,p;if(!t)return{};let e={};return e["font-family"]=(n=(r=t["--apkt-font-family"])!=null?r:t["--w3m-font-family"])!=null?n:"KHTeka",e.accent=(i=(s=t["--apkt-accent"])!=null?s:t["--w3m-accent"])!=null?i:"#0988F0",e["color-mix"]=(a=(o=t["--apkt-color-mix"])!=null?o:t["--w3m-color-mix"])!=null?a:"#000",e["color-mix-strength"]=(l=(c=t["--apkt-color-mix-strength"])!=null?c:t["--w3m-color-mix-strength"])!=null?l:0,e["font-size-master"]=(f=(u=t["--apkt-font-size-master"])!=null?u:t["--w3m-font-size-master"])!=null?f:"10px",e["border-radius-master"]=(p=(d=t["--apkt-border-radius-master"])!=null?d:t["--w3m-border-radius-master"])!=null?p:"4px",t["--apkt-z-index"]!==void 0?e["z-index"]=t["--apkt-z-index"]:t["--w3m-z-index"]!==void 0&&(e["z-index"]=t["--w3m-z-index"]),e}function Ee(t,...e){return Qr(t,...e.map(r=>typeof r=="function"?Xa(r(sr)):Xa(r)))}var Yve,z0,sr,Zt=y(()=>{Ae();NQ();Yve="--apkt";z0={createCSSVariables(t){let e={},r={};function n(i,o,a=""){for(let[c,l]of Object.entries(i)){let u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${Yve}-${u}`)}}function s(i,o){for(let[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),s(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){let r={};function n(s,i,o){for(let[a,c]of Object.entries(s)){let l=o?`${o}-${a}`:a,u=i[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${Yve}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){let r=G(S({},wD),{tokens:G(S({},wD.tokens),{theme:t==="light"?AS.light:AS.dark})}),{cssVariables:n}=z0.createCSSVariables(r),s=z0.assignCSSVariables(n,r),i=z0.generateW3MVariables(e),o=z0.generateW3MOverrides(e),a=z0.generateScaledVariables(e),c=z0.generateBaseVariables(s),l=S(S(S(S(S({},s),c),i),o),a),u=z0.applyColorMixToVariables(e,l),f=S(S({},l),u);return`:root {${Object.entries(f).map(([p,h])=>`${p}:${h.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};let e=xD(t),r={};return r["--w3m-font-family"]=e["font-family"],r["--w3m-accent"]=e.accent,r["--w3m-color-mix"]=e["color-mix"],r["--w3m-color-mix-strength"]=`${e["color-mix-strength"]}%`,r["--w3m-font-size-master"]=e["font-size-master"],r["--w3m-border-radius-master"]=e["border-radius-master"],r},generateW3MOverrides(t){if(!t)return{};let e=xD(t),r={};if(t["--apkt-accent"]||t["--w3m-accent"]){let n=e.accent;r["--apkt-tokens-core-iconAccentPrimary"]=n,r["--apkt-tokens-core-borderAccentPrimary"]=n,r["--apkt-tokens-core-textAccentPrimary"]=n,r["--apkt-tokens-core-backgroundAccentPrimary"]=n}return(t["--apkt-font-family"]||t["--w3m-font-family"])&&(r["--apkt-fontFamily-regular"]=e["font-family"]),e["z-index"]!==void 0&&(r["--apkt-tokens-core-zIndex"]=`${e["z-index"]}`),r},generateScaledVariables(t){if(!t)return{};let e=xD(t),r={};if(t["--apkt-font-size-master"]||t["--w3m-font-size-master"]){let n=parseFloat(e["font-size-master"].replace("px",""));r["--apkt-textSize-h1"]=`${Number(n)*5}px`,r["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,r["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,r["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,r["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,r["--apkt-textSize-h6"]=`${Number(n)*2}px`,r["--apkt-textSize-large"]=`${Number(n)*1.6}px`,r["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,r["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(t["--apkt-border-radius-master"]||t["--w3m-border-radius-master"]){let n=parseFloat(e["border-radius-master"].replace("px",""));r["--apkt-borderRadius-1"]=`${Number(n)}px`,r["--apkt-borderRadius-2"]=`${Number(n)*2}px`,r["--apkt-borderRadius-3"]=`${Number(n)*3}px`,r["--apkt-borderRadius-4"]=`${Number(n)*4}px`,r["--apkt-borderRadius-5"]=`${Number(n)*5}px`,r["--apkt-borderRadius-6"]=`${Number(n)*6}px`,r["--apkt-borderRadius-8"]=`${Number(n)*8}px`,r["--apkt-borderRadius-16"]=`${Number(n)*16}px`,r["--apkt-borderRadius-20"]=`${Number(n)*20}px`,r["--apkt-borderRadius-32"]=`${Number(n)*32}px`,r["--apkt-borderRadius-64"]=`${Number(n)*64}px`,r["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return r},generateColorMixCSS(t,e){if(!(t!=null&&t["--w3m-color-mix"])||!t["--w3m-color-mix-strength"])return"";let r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";let s=Object.keys(e||{}).filter(o=>{let a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{let a=(e==null?void 0:e[o])||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){let e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);let n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){let r={};e!=null&&e["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e!=null&&e["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");let n=xD(t),s=n["color-mix"],i=n["color-mix-strength"];if(!i||i===0)return r;let o=Object.keys(e||{}).filter(a=>{let c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),l=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!l});return o.length===0||o.forEach(a=>{let c=(e==null?void 0:e[a])||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?r[a]=`color-mix(in srgb, ${s} ${i}%, ${c})`:r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base, ${c}))`)}),r}},{cssVariablesVarPrefix:sr}=z0.createCSSVariables(wD)});function ED(t,e="dark"){Ax&&document.head.removeChild(Ax),Ax=document.createElement("style"),Ax.textContent=z0.createRootStyles(e,t),document.head.appendChild(Ax)}function OQ(t,e="dark"){if(vD=t,Cx=document.createElement("style"),V0=document.createElement("style"),tl=document.createElement("style"),Cx.textContent=nv(t).core.cssText,V0.textContent=nv(t).dark.cssText,tl.textContent=nv(t).light.cssText,document.head.appendChild(Cx),document.head.appendChild(V0),document.head.appendChild(tl),ED(t,e),CS(e),!((t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"])))for(let[n,s]of Object.entries(cm)){let i=document.createElement("link");i.rel="preload",i.href=s,i.as="font",i.type=n.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}CS(e)}function CS(t="dark"){V0&&tl&&Ax&&(t==="light"?(ED(vD,t),V0.removeAttribute("media"),tl.media="enabled"):(ED(vD,t),tl.removeAttribute("media"),V0.media="enabled"))}function RQ(t){var e,r,n;if(vD=t,Cx&&V0&&tl){Cx.textContent=nv(t).core.cssText,V0.textContent=nv(t).dark.cssText,tl.textContent=nv(t).light.cssText;let s=(t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"]);s&&(Cx.textContent=(e=Cx.textContent)==null?void 0:e.replace("font-family: KHTeka",`font-family: ${s}`),V0.textContent=(r=V0.textContent)==null?void 0:r.replace("font-family: KHTeka",`font-family: ${s}`),tl.textContent=(n=tl.textContent)==null?void 0:n.replace("font-family: KHTeka",`font-family: ${s}`))}if(Ax){let s=(tl==null?void 0:tl.media)==="enabled"?"light":"dark";ED(t,s)}}function nv(t){let e=!!(t!=null&&t["--apkt-font-family"]||t!=null&&t["--w3m-font-family"]);return{core:Qr`
      ${e?Qr``:Qr`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Xa(cm["KHTeka-400-woff2"])}) format('woff2'),
                url(${Xa(cm["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Xa(cm["KHTeka-300-woff2"])}) format('woff2'),
                url(${Xa(cm["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Xa(cm["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Xa(cm["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Xa(cm["KHTeka-400-woff2"])}) format('woff2'),
                url(${Xa(cm["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Qr`
      :root {
      }
    `,light:Qr`
      :root {
      }
    `}}var Ax,Cx,V0,tl,vD,cm,Ye,yr,nr=y(()=>{Ae();Zt();cm={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};Ye=Qr`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,yr=Qr`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`});var jr,sv=y(()=>{jr={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--apkt-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--apkt-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},formatCurrency(t=0,e={}){let r=Number(t);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",S({style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2},e)).format(r)},getHostName(t){try{return new URL(t).hostname}catch(e){return""}},getTruncateString({string:t,charsStart:e,charsEnd:r,truncate:n}){return t.length<=e+r?t:n==="end"?`${t.substring(0,e)}...`:n==="start"?`...${t.substring(t.length-r)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(r))}`},generateAvatarColors(t){let r=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(r),s=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(s==null?void 0:s.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){let u=this.tintColor(n,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){let e=parseInt(t,16),r=e>>16&255,n=e>>8&255,s=e&255;return[r,n,s]},tintColor(t,e){let[r,n,s]=t,i=Math.round(r+(255-r)*e),o=Math.round(n+(255-n)*e),a=Math.round(s+(255-s)*e);return[i,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){var e;return t||(typeof window!="undefined"&&window.matchMedia&&typeof window.matchMedia=="function"?(e=window.matchMedia("(prefers-color-scheme: dark)"))!=null&&e.matches?"dark":"light":"dark")},splitBalance(t){let e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,r){return t.toString().length>=e?Number(t).toFixed(r):t},cssDurationToNumber(t){return t.endsWith("s")?Number(t.replace("s",""))*1e3:t.endsWith("ms")?Number(t.replace("ms","")):0},maskInput({value:t,decimals:e,integers:r}){if(t=t.replace(",","."),t===".")return"0.";let[n="",s]=t.split(".").map(u=>u.replace(/[^0-9]/gu,"")),i=r?n.substring(0,r):n,o=i.length===2?String(Number(i)):i,a=typeof e=="number"?s==null?void 0:s.substring(0,e):s,c=typeof e!="number"||e>0,l=typeof a=="string"&&c?[o,a].join("."):o;return l!=null?l:""},capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}}});var Jve=y(()=>{sv()});function j0t(t,e){let{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(s){customElements.get(t)||customElements.define(t,s)}}}function q0t(t,e){return customElements.get(t)||customElements.define(t,e),e}function fe(t){return function(r){return typeof r=="function"?q0t(t,r):j0t(t,r)}}var Qt=y(()=>{});var rt=y(()=>{xve();nr();sv();Jve();Qt();NQ();Zt()});var hn,AD=y(()=>{It();hn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:J.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}}});var Qve,Xve=y(()=>{It();AD();Qve={ConnectorExplorerIds:{[J.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[J.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[J.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[hn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[hn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[hn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[hn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[hn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[hn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[hn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[hn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[hn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[hn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[hn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[hn.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[hn.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[J.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[J.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[J.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[J.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[J.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[J.CONNECTOR_ID.INJECTED]:"Browser Wallet",[J.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[J.CONNECTOR_ID.COINBASE]:"Coinbase",[J.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[J.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[J.CONNECTOR_ID.LEDGER]:"Ledger",[J.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[J.CONNECTOR_ID.INJECTED]:"INJECTED",[J.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[J.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[J.CONNECTOR_ID.AUTH]:"AUTH",[hn.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}});var Hn,eEe=y(()=>{It();At();AD();Hn={getCaipTokens(t){if(!t)return;let e={};return Object.entries(t).forEach(([r,n])=>{e[`${hn.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){let t=M.state.activeChain;return J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ue.getConnectorId(e)===J.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(s=>{async function i(){return n+=1,await t()?s(!0):n>=r?s(!1):(setTimeout(i,e),null)}i()})},userChainIdToChainNamespace(t){if(typeof t=="number")return J.CHAIN.EVM;let[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?J.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]},getConnectorStorageInfo(t,e){var s;let n=(s=ve.getConnections()[e])!=null?s:[];return{hasDisconnected:ve.isConnectorDisconnected(t,e),hasConnected:n.some(i=>Hn.isLowerCaseMatch(i.connectorId,t))}}}});var W0t,fa,tEe=y(()=>{It();At();W0t=new AbortController,fa={EmbeddedWalletAbortController:W0t,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Wb()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${X.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system\u2019s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}}});var CD,rEe=y(()=>{At();CD={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:XG.asset,84532:eZ.asset}},getTokenSymbolByAddress(t){var r;if(!t)return;let[e]=(r=Object.entries(CD.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,s])=>Object.values(s).includes(t)))!=null?r:[];return e}}});var kQ,nEe=y(()=>{y1();kQ={createLogger(t,e="error"){let r=$8({level:e}),{logger:n}=Xf({opts:r});return n.error=(...s)=>{for(let i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},n}}});function UQ(t,e){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}var K0t,BQ,j0,sEe=y(()=>{b5();It();At();Xve();K0t="rpc.walletconnect.org";BQ=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],j0={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===K0t}catch(n){r=!1}if(r){let n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:J.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${J.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var s,i,o;let n=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return BQ.includes(e)?UQ(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var d,p,h,m,g,b,E;let s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=(p=(d=t.rpcUrls)==null?void 0:d.default)==null?void 0:p.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,r),c=((b=(g=(m=t==null?void 0:t.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:g.http)==null?void 0:b[0])||o,l=((E=n==null?void 0:n[i])==null?void 0:E.map(w=>w.url))||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),G(S({},t),{chainNamespace:s,caipNetworkId:i,assets:{imageId:Qve.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:G(S({},t.rpcUrls),{default:{http:u},chainDefault:{http:f}})})},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(s=>j0.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){var s,i,o;let n=[];return r==null||r.forEach(a=>{n.push(zw(a.url,a.config))}),BQ.includes(t.caipNetworkId)&&n.push(zw(UQ(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{n.push(zw(a))}),b7(n)},extendWagmiTransports(t,e,r){if(BQ.includes(t.caipNetworkId)){let n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return b7([r,zw(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:J.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;let e=ve.getActiveCaipNetworkId(),r=M.getAllRequestedCaipNetworks(),n=Array.from(((c=M.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?n.includes(s):!1,o=r==null?void 0:r.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}}});var vf=y(()=>{AD();eEe();tEe();rEe();nEe();sEe()});var SS,iEe=y(()=>{SS={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603}});var SD,oEe=y(()=>{l_();b5();It();At();At();iEe();SD=class extends S7{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new I7({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async writeSolanaTransaction(){return Promise.resolve({hash:""})}async getAccounts({namespace:e}){var s,i,o,a;let r=this.provider,n=((a=(o=(i=(s=r==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{let[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:n.map(c=>de.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var o,a,c,l,u;if(!(e.caipNetwork&&ct.BALANCE_SUPPORTED_CHAINS.includes((o=e.caipNetwork)==null?void 0:o.chainNamespace))||(a=e.caipNetwork)!=null&&a.testnet)return{balance:"0.00",symbol:((c=e.caipNetwork)==null?void 0:c.nativeCurrency.symbol)||""};let n=M.getAccountData();if(n!=null&&n.balanceLoading&&e.chainId===((l=M.state.activeCaipNetwork)==null?void 0:l.id))return{balance:(n==null?void 0:n.balance)||"0.00",symbol:(n==null?void 0:n.balanceSymbol)||""};let i=(await M.fetchTokenBalance()).find(f=>{var d,p;return f.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&f.symbol===((p=e.caipNetwork)==null?void 0:p.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;let{provider:r,message:n,address:s}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=M.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===J.CHAIN.SOLANA?i=(await r.request({method:"solana_signMessage",params:{message:wa.encode(new TextEncoder().encode(n)),pubkey:s}},(a=M.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await r.request({method:"personal_sign",params:[n,s]},(c=M.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return BigInt(0)}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;let{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===J.CHAIN.EVM)try{await((s=n.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Zr(r.id)}]}))}catch(u){if(u.code===SS.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===SS.ERROR_INVALID_CHAIN_ID||u.code===SS.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===SS.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=n.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Zr(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch(f){throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){let e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}});var G0t,ID,aEe,cEe=y(()=>{At();vf();G0t=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication","headless"],ID={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;let e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;let e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?ct.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;let e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?ct.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;let e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?ct.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?ct.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{var e;return t.isEnabled&&((e=t.config)!=null?e:[])},processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ct.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ct.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ct.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t=="undefined"?ct.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t},headless:{apiFeatureName:"headless",localFeatureName:"headless",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ct.DEFAULT_REMOTE_FEATURES.headless}},aEe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){let r=ID[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,s){let i=ID[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(n){let a=this.getApiConfig(i.apiFeatureName,r);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return ID[t].processApi(e)},processFallbackFeature(t,e){return ID[t].processFallback(e)},async fetchRemoteFeatures(t){var o;let e=(o=t.basic)!=null?o:!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,s=!1;try{n=await Ce.fetchProjectConfig(),s=n!=null}catch(a){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",a)}let i=s&&!e?ct.DEFAULT_REMOTE_FEATURES:ct.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(let a of G0t){let c=this.processFeature(a,r,n,s,e);Object.assign(i,{[a]:c})}}catch(a){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",a),ct.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){let a=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;$n.open({debugMessage:fa.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(a)},"warning")}return i}}});var IS,DQ=y(()=>{It();An();IS=class{constructor(e){this.getNonce=e.getNonce}async createMessage(e){let r={accountAddress:e.accountAddress,chainId:e.chainId,version:"1",domain:typeof document=="undefined"?"Unknown Domain":document.location.host,uri:typeof document=="undefined"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(e),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(r,{toString:()=>this.stringify(r)})}stringify(e){var n;let r=this.getNetworkName(e.chainId);return[`${e.domain} wants you to sign in with your ${r} account:`,e.accountAddress,e.statement?`
${e.statement}
`:"",`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,e.issuedAt&&`Issued At: ${e.issuedAt}`,e.expirationTime&&`Expiration Time: ${e.expirationTime}`,e.notBefore&&`Not Before: ${e.notBefore}`,e.requestId&&`Request ID: ${e.requestId}`,((n=e.resources)==null?void 0:n.length)&&e.resources.reduce((s,i)=>`${s}
- ${i}`,"Resources:")].filter(s=>typeof s=="string").join(`
`).trim()}getNetworkName(e){let r=M.getAllRequestedCaipNetworks();return Hb.getNetworkNameByCaipNetworkId(r,e)}stringifyDate(e){return e.toISOString()}}});function Z0t(t){let e=t.split(".");if(e.length!==3)throw new Error("Invalid token");let r=e[1];if(typeof r!="string")throw new Error("Invalid token");let n=r.replace(/-/gu,"+").replace(/_/gu,"/"),s=n.padEnd(n.length+(4-n.length%4)%4,"=");return JSON.parse(atob(s))}var LQ,lEe=y(()=>{It();R0();Dh();An();Hl();DQ();LQ=class{constructor(e={}){var r;this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=e.localAuthStorageKey||et.SIWX_AUTH_TOKEN,this.localNonceStorageKey=e.localNonceStorageKey||et.SIWX_NONCE_TOKEN,this.required=(r=e.required)!=null?r:!0,this.messenger=new IS({getNonce:this.getNonce.bind(this)})}async createMessage(e){return this.messenger.createMessage(e)}async addSession(e){let r=await this.request({method:"POST",key:"authenticate",body:{data:e.data,message:e.message,signature:e.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(r.token,this.localAuthStorageKey),this.emit("sessionChanged",e),this.setAppKitAccountUser(Z0t(r.token)),this.otpUuid=null}async getSessions(e,r){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];let n=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!n)return[];let s=n.address.toLowerCase()===r.toLowerCase(),i=n.caip2Network===e;if(!s||!i)return[];let o={data:{accountAddress:n.address,chainId:n.caip2Network},message:"",signature:""};return this.emit("sessionChanged",o),this.setAppKitAccountUser(n),[o]}catch(n){return[]}}async revokeSession(e,r){return Promise.resolve(this.clearStorageTokens())}async setSessions(e){if(e.length===0)this.clearStorageTokens();else{let r=e.find(n=>{var s;return n.data.chainId===((s=jw())==null?void 0:s.caipNetworkId)})||e[0];await this.addSession(r)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(e=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:e},headers:["auth"]})}on(e,r){return this.listeners[e].push(r),()=>{this.listeners[e]=this.listeners[e].filter(n=>n!==r)}}removeAllListeners(){Object.keys(this.listeners).forEach(r=>{this.listeners[r]=[]})}async requestEmailOtp({email:e,account:r}){let n=await this.request({method:"POST",key:"otp",body:{email:e,account:r}});return this.otpUuid=n.uuid,this.messenger.resources=[`email:${e}`],n}confirmEmailOtp({code:e}){return this.request({method:"PUT",key:"otp",body:{code:e},headers:["otp"]})}async request({method:e,key:r,query:n,body:s,headers:i}){var f;let{projectId:o,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${J.W3M_API_URL}/auth/v1/${String(r)}`);l.searchParams.set("projectId",o),l.searchParams.set("st",a),l.searchParams.set("sv",c),n&&Object.entries(n).forEach(([d,p])=>l.searchParams.set(d,String(p)));let u=await fetch(l,{method:e,body:s?JSON.stringify(s):void 0,headers:Array.isArray(i)?i.reduce((d,p)=>{switch(p){case"nonce":d["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":d.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(d["x-otp"]=this.otpUuid);break;default:break}return d},{}):void 0});if(!u.ok)throw new Error(await u.text());return(f=u.headers.get("content-type"))!=null&&f.includes("application/json")?u.json():null}getStorageToken(e){return Ge.getItem(e)}setStorageToken(e,r){Ge.setItem(r,e)}clearStorageTokens(){this.otpUuid=null,Ge.removeItem(this.localAuthStorageKey),Ge.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){let{nonce:e,token:r}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(r,this.localNonceStorageKey),e}getClientId(){return tt.state.clientId}getWalletInfo(){var i;let e=(i=M.getAccountData())==null?void 0:i.connectedWalletInfo;if(!e)return;if("social"in e&&"identifier"in e){let o=e.social,a=e.identifier;return{type:"social",social:o,identifier:a}}let{name:r,icon:n}=e,s="unknown";switch(e.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":s="extension";break;case"WALLET_CONNECT":s="walletconnect";break;default:s="unknown"}return{type:s,name:r,icon:n}}getSDKProperties(){return Ce._getSdkProperties()}emit(e,r){this.listeners[e].forEach(n=>n(r))}setAppKitAccountUser(e){let{email:r}=e;r&&Object.values(J.CHAIN).forEach(n=>{M.setAccountProp("user",{email:r},n)})}}});var uEe=y(()=>{lEe();DQ()});var fEe={};Me(fEe,{ReownAuthentication:()=>LQ,ReownAuthenticationMessenger:()=>IS});var dEe=y(()=>{uEe()});var TD,pEe=y(()=>{wve();It();At();rt();vf();oEe();cEe();TD=class{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{var s,i,o;if(r){let a=(s=M.getCaipNetworks(r))==null?void 0:s.find(u=>u.id===n);if(a)return a;let c=(i=M.getNetworkData(r))==null?void 0:i.caipNetwork;return c||((o=M.getRequestedCaipNetworks(r).filter(u=>u.chainNamespace===r))==null?void 0:o[0])}return M.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{let r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>M.getCaipNetworks(r),this.getActiveChainNamespace=()=>M.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{M.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>M.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>{var n,s;return M.state.activeChain===r||!r?M.state.activeCaipAddress:(s=(n=M.state.chains.get(r))==null?void 0:n.accountState)==null?void 0:s.caipAddress},this.setClientId=r=>{tt.setClientId(r)},this.getProvider=r=>Mr.getProvider(r),this.getProviderType=r=>Mr.getProviderId(r),this.getPreferredAccountType=r=>Cn(r),this.setCaipAddress=(r,n,s=!1)=>{M.setAccountProp("caipAddress",r,n,s),M.setAccountProp("address",de.getPlainAddress(r),n,s)},this.setBalance=(r,n,s)=>{M.setAccountProp("balance",r,s),M.setAccountProp("balanceSymbol",n,s)},this.setProfileName=(r,n)=>{M.setAccountProp("profileName",r,n)},this.setProfileImage=(r,n)=>{M.setAccountProp("profileImage",r,n)},this.setUser=(r,n)=>{M.setAccountProp("user",r,n)},this.resetAccount=r=>{M.resetAccount(r)},this.setCaipNetwork=r=>{M.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{M.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{M.setAccountProp("status",r,n),ue.isConnected()?ve.setConnectionStatus("connected"):ve.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>{var n;return(n=M.getAccountData(r))==null?void 0:n.address},this.setConnectors=r=>{let n=[...ue.state.allConnectors,...r];ue.setConnectors(n)},this.setConnections=(r,n)=>{ve.setConnections(r,n),le.setConnections(r,n)},this.fetchIdentity=r=>tt.fetchIdentity(r),this.getReownName=r=>v2.getNamesForAddress(r),this.getConnectors=()=>ue.getConnectors(),this.getConnectorImage=r=>Vt.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?$h.getConnectionsData(r).connections:($n.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?$h.getConnectionsData(r).recentConnections:($n.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){$n.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await le.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){$n.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ve.deleteAddressFromConnection(r),le.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{let s=Mr.getProviderId(n),i=r?G(S({},r),{type:s}):void 0;M.setAccountProp("connectedWalletInfo",i,n)},this.getIsConnectedState=()=>!!M.state.activeCaipAddress,this.addAddressLabel=(r,n,s)=>{var o;let i=((o=M.getAccountData(s))==null?void 0:o.addressLabels)||{};M.setAccountProp("addressLabels",G(S({},i),{[r]:n}),s)},this.removeAddressLabel=(r,n)=>{var i;let s=((i=M.getAccountData(n))==null?void 0:i.addressLabels)||{};M.setAccountProp("addressLabels",G(S({},s),{[r]:void 0}),n)},this.getAddress=r=>{var s;let n=r||M.state.activeChain;return(s=M.getAccountData(n))==null?void 0:s.address},this.resetNetwork=r=>{M.resetNetwork(r)},this.addConnector=r=>{ue.addConnector(r)},this.resetWcConnection=()=>{le.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{M.setAccountProp("addressExplorerUrl",r,n)},this.setSmartAccountDeployed=(r,n)=>{M.setAccountProp("smartAccountDeployed",r,n)},this.setPreferredAccountType=(r,n)=>{M.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{X.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){let n=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(n!=null&&n.length)return[...new Set(n)];let s=r==null?void 0:r.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var r,n,s,i,o,a;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),(r=e.features)!=null&&r.headless&&!xs.hasInjectedConnectors()&&Ce.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1,fetchRecommendedWallets:!0}),X.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!e.basic&&!e.manualWCControl&&(this.remoteFeatures=await aEe.fetchRemoteFeatures(e)),await Ce.fetchUsage(),X.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&C7.setOnrampProviders(this.remoteFeatures.onramp),((n=X.state.remoteFeatures)!=null&&n.email||Array.isArray((s=X.state.remoteFeatures)==null?void 0:s.socials)&&((i=X.state.remoteFeatures)==null?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins(),(o=X.state.features)!=null&&o.reownAuthentication||(a=X.state.remoteFeatures)!=null&&a.reownAuthentication){let{ReownAuthentication:c}=await Promise.resolve().then(()=>(dEe(),fEe)),l=X.state.siwx;l instanceof c||(l&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),X.setSIWX(new c))}}async openSend(e){var i;let r=e.namespace||M.state.activeChain,n=this.getCaipAddress(r),s=(i=this.getCaipNetwork(r))==null?void 0:i.id;if(!n)throw new Error("openSend: caipAddress not found");if((s==null?void 0:s.toString())!==e.chainId.toString()){let o=M.getCaipNetworkById(e.chainId,r);if(!o)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(o,{throwOnFailure:!0})}try{let o=CD.getTokenSymbolByAddress(e.assetAddress);o&&await Ce.fetchTokenImages([o])}catch(o){}return await Ke.open({view:"WalletSend",data:{send:e}}),new Promise((o,a)=>{let c=Lt.subscribeKey("hash",f=>{f&&(u(),o({hash:f}))}),l=Ke.subscribe(f=>{f.open||(u(),a(new Error("Modal closed")))}),u=this.createCleanupHandler([c,l])})}toModalOptions(){function e(n){return(n==null?void 0:n.view)==="Swap"}function r(n){return(n==null?void 0:n.view)==="WalletSend"}return{isSwap:e,isSend:r}}async checkAllowedOrigins(){try{let e=await Ce.fetchAllowedOrigins();if(!de.isClient())return;let r=window.location.origin;nf.isOriginAllowed(r,e,J.DEFAULT_ALLOWED_ANCESTORS)||$n.open(fa.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":$n.open(fa.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{let r=e.cause instanceof Error?e.cause:e;$n.open({displayMessage:fa.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:fa.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}default:break}}}createCleanupHandler(e){return()=>{e.forEach(r=>{try{r()}catch(n){}})}}sendInitializeEvent(e){var n;let r=Ve(e,[]);delete r.adapters,delete r.universalProvider,Be.sendEvent({type:"track",event:"INITIALIZE",properties:G(S({},r),{networks:e.networks.map(s=>s.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}})})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){Ww.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&Ln.setThemeMode(e.themeMode),e.themeVariables&&Ln.setThemeVariables(e.themeVariables)}initializeChainController(e){var n;if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");M.initialize((n=e.adapters)!=null?n:[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});let r=this.getDefaultNetwork();r&&M.setActiveCaipNetwork(r)}initializeConnectionController(e){var r,n;le.initialize((r=e.adapters)!=null?r:[]),le.setWcBasic((n=e.basic)!=null?n:!1)}initializeConnectorController(){ue.initialize(this.chainNamespaces)}initializeProjectSettings(e){X.setProjectId(e.projectId),X.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var s,i;X.setDebug(e.debug!==!1),X.setEnableWalletGuide(e.enableWalletGuide!==!1),X.setEnableWallets(e.enableWallets!==!1),X.setEIP6963Enabled(e.enableEIP6963!==!1),X.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),X.setEnableReconnect(e.enableReconnect!==!1),X.setEnableMobileFullScreen(e.enableMobileFullScreen===!0),X.setCoinbasePreference(e.coinbasePreference),X.setEnableAuthLogger(e.enableAuthLogger!==!1),X.setCustomRpcUrls(e.customRpcUrls),X.setEnableEmbedded(e.enableEmbedded),X.setAllWallets(e.allWallets),X.setIncludeWalletIds(e.includeWalletIds),X.setExcludeWalletIds(e.excludeWalletIds),X.setFeaturedWalletIds(e.featuredWalletIds),X.setTokens(e.tokens),X.setTermsConditionsUrl(e.termsConditionsUrl),X.setPrivacyPolicyUrl(e.privacyPolicyUrl),X.setCustomWallets(e.customWallets),X.setFeatures(e.features),X.setAllowUnsupportedChain(e.allowUnsupportedChain),X.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),X.setPreferUniversalLinks(e.experimental_preferUniversalLinks),X.setDefaultAccountTypes(e.defaultAccountTypes);let r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),X.setMetadata(e.metadata),X.setDisableAppend(e.disableAppend),X.setEnableEmbedded(e.enableEmbedded),X.setSIWX(e.siwx),this.features=(s=X.state.features)!=null?s:{},!e.projectId){$n.open(fa.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(o=>o.namespace===J.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");X.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,s;return de.isClient()?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){let r=this.getActiveChainNamespace();if(r){let n=j0.getUnsupportedNetwork(`${r}:${e}`);M.setActiveCaipNetwork(n)}}getDefaultNetwork(){return j0.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return j0.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return j0.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){let r=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return r?j0.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,r){var n,s;try{this.setLoading(!0,e);let i={connections:[]},o=this.getAdapter(e);return((s=(n=M.state.chains.get(e))==null?void 0:n.accountState)!=null&&s.caipAddress||!X.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:r})),this.setLoading(!1,e),i}catch(i){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var l;let e=M.state.activeChain,r=this.getAdapter(e),n=(l=this.getCaipNetwork(e))==null?void 0:l.id,s=le.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!r)throw new Error("Adapter not found");let a=await r.connectWalletConnect(n);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),ve.setConnectedNamespaces([...M.state.chains.keys()]),await this.syncWalletConnectAccount(),await fi.initializeIfEnabled()},connectExternal:async e=>{let r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:s})=>{var a;let i=M.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ve.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{var l;let{id:r,chainNamespace:n,initialDisconnect:s}=e||{},i=n||M.state.activeChain,o=ue.getConnectorId(i),a=r===J.CONNECTOR_ID.AUTH||o===J.CONNECTOR_ID.AUTH,c=r===J.CONNECTOR_ID.WALLET_CONNECT||o===J.CONNECTOR_ID.WALLET_CONNECT;try{let u=Array.from(M.state.chains.keys()),f=n?[n]:u;(c||a)&&(f=u);let d=f.map(async m=>{let g=ue.getConnectorId(m),b=r||g,E=await this.disconnectConnector(m,b);E&&(a&&ve.deleteConnectedSocialProvider(),E.connections.forEach(w=>{ve.addDisconnectedConnectorId(w.connectorId,m)})),s&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),p=await Promise.allSettled(d);Lt.resetSend(),le.resetWcConnection(),(l=fi.getSIWX())!=null&&l.signOutOnDisconnect&&await fi.clearSessions(),ue.setFilterByNamespace(void 0),le.syncStorageConnections();let h=p.filter(m=>m.status==="rejected");if(h.length>0)throw new Error(h.map(m=>m.reason.message).join(", "));Be.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(u){throw new Error(`Failed to disconnect chains: ${u.message}`)}},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{let r=M.state.activeChain,n=this.getAdapter(M.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");let s=this.getAddress(r);if(!s)throw new Error("signMessage: address not found");let i=await(n==null?void 0:n.signMessage({message:e,address:s,provider:Mr.getProvider(r)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{let r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(ct.SEND_SUPPORTED_NAMESPACES.includes(r)){let n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");let s=Mr.getProvider(r),i=await(n==null?void 0:n.sendTransaction(G(S({},e),{caipNetwork:this.getCaipNetwork(),provider:s})));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{let r=e.chainNamespace;if(r===J.CHAIN.EVM){let n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");let s=Mr.getProvider(r),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");let o=await(n==null?void 0:n.estimateGas(G(S({},e),{provider:s,caipNetwork:i})));return(o==null?void 0:o.gas)||BigInt(0)}return BigInt(0)},getEnsAvatar:async()=>{var s;let e=M.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");let r=this.getAddress(e);if(!r)throw new Error("getEnsAvatar: address not found");await this.syncIdentity({address:r,chainId:Number((s=this.getCaipNetwork())==null?void 0:s.id),chainNamespace:e});let n=M.getAccountData();return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>await nf.resolveReownName(e),writeContract:async e=>{let r=M.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");let s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Mr.getProvider(r);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");let a=await(n==null?void 0:n.writeContract(G(S({},e),{caipNetwork:s,provider:o,caipAddress:i})));return a==null?void 0:a.hash},writeSolanaTransaction:async e=>{let r=M.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");let s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Mr.getProvider(r);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");let a=await(n==null?void 0:n.writeSolanaTransaction(G(S({},e),{caipNetwork:s,provider:o,caipAddress:i})));return a==null?void 0:a.hash},parseUnits:(e,r)=>{var s;let n=this.getAdapter(M.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return(s=n==null?void 0:n.parseUnits({value:e,decimals:r}))!=null?s:BigInt(0)},formatUnits:(e,r)=>{var s;let n=this.getAdapter(M.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return(s=n==null?void 0:n.formatUnits({value:e,decimals:r}))!=null?s:"0"},getCapabilities:async e=>{let r=this.getAdapter(M.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{let r=this.getAdapter(M.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{let r=this.getAdapter(M.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{var n;let r=this.getAdapter(M.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return(n=await(r==null?void 0:r.walletGetAssets(e)))!=null?n:{}},updateBalance:e=>{let r=this.getAddress(e),n=this.getCaipNetwork(e);!n||!r||this.updateNativeBalance(r,n==null?void 0:n.id,e)}},le.setClient(this.connectionControllerClient)}async onConnectExternal(e){var l,u,f,d,p,h,m,g;let r=M.state.activeChain,n=e.chain||r,s=this.getAdapter(n),i=!0;if(e.type===hn.CONNECTOR_TYPE_AUTH&&J.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(w=>ue.getConnectorId(w)===J.CONNECTOR_ID.AUTH)&&e.chain!==r&&(i=!1),e.chain&&e.chain!==r&&!e.caipNetwork){let b=this.getCaipNetworks().find(E=>E.chainNamespace===e.chain);b&&i&&this.setCaipNetwork(b)}if(!n)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");let o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await s.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:((l=e.caipNetwork)==null?void 0:l.id)||(o==null?void 0:o.id),rpcUrl:((p=(d=(f=(u=e.caipNetwork)==null?void 0:u.rpcUrls)==null?void 0:f.default)==null?void 0:d.http)==null?void 0:p[0])||((g=(m=(h=o==null?void 0:o.rpcUrls)==null?void 0:h.default)==null?void 0:m.http)==null?void 0:g[0])});if(c)return ve.addConnectedNamespace(n),this.syncProvider(G(S({},c),{chainNamespace:n})),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),ve.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){var a;let n=e.type===hn.CONNECTOR_TYPE_AUTH,s=Hn.getOtherAuthNamespaces((a=r==null?void 0:r.connectedCaipNetwork)==null?void 0:a.chainNamespace),i=M.state.activeCaipNetwork,o=this.getAdapter(i==null?void 0:i.chainNamespace);n&&(await Promise.all(s.map(async c=>{var l,u,f;try{let d=Mr.getProvider(c),p=this.getCaipNetwork(c),h=this.getAdapter(c);await(h==null?void 0:h.connect(G(S({},e),{provider:d,socialUri:void 0,chainId:p==null?void 0:p.id,rpcUrl:(f=(u=(l=p==null?void 0:p.rpcUrls)==null?void 0:l.default)==null?void 0:u.http)==null?void 0:f[0]})))&&(ve.addConnectedNamespace(c),ve.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(d){$n.warn(fa.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,fa.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,d instanceof Error?d.message:void 0),fa.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await(o==null?void 0:o.switchNetwork({caipNetwork:i})))}getApprovedCaipNetworksData(){var r,n,s,i,o;if(Mr.getProviderId(M.state.activeChain)===hn.CONNECTOR_TYPE_WALLET_CONNECT){let a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){let r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){let s=Mr.getProviderId(r);if(e.chainNamespace===M.state.activeChain){let i=this.getAdapter(r);await(i==null?void 0:i.switchNetwork({caipNetwork:e}))}else if(this.setCaipNetwork(e),s===hn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{let i=this.getAddressByChainNamespace(r);i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{let n=r.chains||[],s=r.accounts.map(i=>{let{chainId:o,chainNamespace:a}=St.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...n,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var i,o;let s=e==null?void 0:e.find(a=>a.namespace===n);return s?(s.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:(o=this.caipNetworks)==null?void 0:o.filter(({chainNamespace:a})=>a===n)}),r[n]=s):r[n]=new SD({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);let r=this.getAdapter(e);if(!r)throw new Error("adapter not found");await r.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){let r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){let r=this.getAdapter(e);if(!r)return;let n=ve.getConnectionStatus();X.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(ve.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:s,chainId:i})=>{var l,u;let o=this.getCaipNetworks().find(f=>f.id.toString()===i.toString()||f.caipNetworkId.toString()===i.toString()),a=M.state.activeChain===e,c=(u=(l=M.state.chains.get(e))==null?void 0:l.accountState)==null?void 0:u.address;if(o){let f=a&&s?s:c;f&&this.syncAccount({address:f,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),r.on("disconnect",()=>{let s=this.remoteFeatures.multiWallet,i=Array.from(le.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),r.on("connections",s=>{this.setConnections(s,e)}),r.on("pendingTransactions",()=>{let s=this.getAddress(e),i=M.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),r.on("accountChanged",({address:s,chainId:i,connector:o})=>{var u,f;this.handlePreviousConnectorConnection(o);let a=M.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o==null?void 0:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));let c=(f=(u=M.getNetworkData(e))==null?void 0:u.caipNetwork)==null?void 0:f.id,l=i||c;a&&l?this.syncAccount({address:s,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(s,l,e),this.syncBalance({address:s,chainId:l,chainNamespace:e})):this.syncAccountInfo(s,i,e),ve.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){var c;let r=e==null?void 0:e.chain,n=e==null?void 0:e.id,s=ue.getConnectorId(r),i=(c=X.state.remoteFeatures)==null?void 0:c.multiWallet,a=r&&n&&s&&s!==n&&!i;try{a&&await le.disconnect({id:s,namespace:r})}catch(l){console.warn("Error disconnecting previous connector",l)}}async createUniversalProviderForAdapter(e){var r,n,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null?void 0:s.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>le.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();let e=this.getAddress();this.getCaipAddress()||ve.deleteRecentWallet();let r=ve.getRecentWallet();Be.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:de.isMobile()?"mobile":"qrcode",name:(r==null?void 0:r.name)||"Unknown",reconnect:!0,view:te.state.view,walletRank:r==null?void 0:r.order}})}async syncNamespaceConnection(e){try{e===J.CHAIN.EVM&&de.isSafeApp()&&ue.setConnectorId(J.CONNECTOR_ID.SAFE,e);let r=ue.getConnectorId(e);switch(this.setStatus("connecting",e),r){case J.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case J.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){let{chainNamespace:r,closeModal:n}=e||{};M.resetAccount(r),M.resetNetwork(r),ve.removeConnectedNamespace(r);let s=Array.from(M.state.chains.keys());(r?[r]:s).forEach(o=>ve.addDisconnectedConnectorId(ue.getConnectorId(o)||"",o)),ue.removeConnectorId(r),Mr.resetChain(r),this.setUser(null,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(null,r),n!==!1&&Ke.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{let r=this.getAdapter(e),n=this.getCaipAddress(e),s=this.getCaipNetwork(e);return r==null?void 0:r.syncConnections({connectToFirstConnector:!n,caipNetwork:s})}))}async syncAdapterConnection(e){var a,c,l,u,f;let r=this.getAdapter(e),n=this.getCaipNetwork(e),s=ue.getConnectorId(e),o=ue.getConnectors(e).find(d=>d.id===s);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(n!=null&&n.id))throw new Error("CaipNetwork not found");let d=await(r==null?void 0:r.syncConnection({namespace:e,id:o.id,chainId:n.id,rpcUrl:(l=(c=(a=n==null?void 0:n.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));d?(this.syncProvider(G(S({},d),{chainNamespace:e})),await this.syncAccount(G(S({},d),{chainNamespace:e})),this.setStatus("connected",e),Be.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:d.address,properties:{method:"browser",name:((u=o.info)==null?void 0:u.name)||o.name||"Unknown",reconnect:!0,view:te.state.view,walletRank:(f=o==null?void 0:o.explorerWallet)==null?void 0:f.order}})):this.setStatus("disconnected",e)}catch(d){this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var n,s;let e=Object.keys(((s=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:s.namespaces)||{}),r=this.chainNamespaces.map(async i=>{var f,d,p,h,m;let o=this.getAdapter(i);if(!o)return;let a=((h=(p=(d=(f=this.universalProvider)==null?void 0:f.session)==null?void 0:d.namespaces)==null?void 0:p[i])==null?void 0:h.accounts)||[],c=(m=M.state.activeCaipNetwork)==null?void 0:m.id,l=a.find(g=>{let{chainId:b}=St.parseCaipAddress(g);return b===(c==null?void 0:c.toString())})||a[0];if(l){let g=St.validateCaipAddress(l),{chainId:b,address:E}=St.parseCaipAddress(g);if(Mr.setProviderId(i,hn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&M.state.activeCaipNetwork&&o.namespace!==J.CHAIN.EVM){let w=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:M.state.activeCaipNetwork});Mr.setProvider(i,w)}else Mr.setProvider(i,this.universalProvider);ue.setConnectorId(J.CONNECTOR_ID.WALLET_CONNECT,i),ve.addConnectedNamespace(i),await this.syncAccount({address:E,chainId:b,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);let u=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(i),M.setApprovedCaipNetworksData(i,{approvedCaipNetworkIds:u.approvedCaipNetworkIds,supportsAllNetworks:u.supportsAllNetworks})});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:s}){Mr.setProviderId(s,e),Mr.setProvider(s,r),ue.setConnectorId(n,s)}async syncAccount(e){var f,d;let r=e.chainNamespace===M.state.activeChain,n=M.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ve.getActiveNetworkProps(),c=(n==null?void 0:n.id)||a,l=((f=M.state.activeCaipNetwork)==null?void 0:f.name)===J.UNSUPPORTED_NETWORK_NAME,u=M.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let p=this.getCaipNetworks().find(b=>b.id.toString()===c.toString()),h=this.getCaipNetworks().find(b=>b.chainNamespace===o);if(!u&&!p&&!h){let b=this.getApprovedCaipNetworkIds()||[],E=b.find(x=>{var C;return((C=St.parseCaipNetworkId(x))==null?void 0:C.chainId)===c.toString()}),w=b.find(x=>{var C;return((C=St.parseCaipNetworkId(x))==null?void 0:C.chainNamespace)===o});p=this.getCaipNetworks().find(x=>x.caipNetworkId===E),h=this.getCaipNetworks().find(x=>x.caipNetworkId===w||"deprecatedCaipNetworkId"in x&&x.deprecatedCaipNetworkId===w)}let m=p||h;(m==null?void 0:m.chainNamespace)===M.state.activeChain?X.state.enableNetworkSwitch&&!X.state.allowUnsupportedChain&&((d=M.state.activeCaipNetwork)==null?void 0:d.name)===J.UNSUPPORTED_NETWORK_NAME?M.showUnsupportedChainUI():this.setCaipNetwork(m):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o);let g=this.getAddress(o);Hn.isLowerCaseMatch(s,g)||this.syncAccountInfo(s,m==null?void 0:m.id,o),r?await this.syncBalance({address:s,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:n==null?void 0:n.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(e,r,n){let s=this.getCaipAddress(n),i=r||(s==null?void 0:s.split(":")[1]);if(!i)return;let o=`${n}:${i}:${e}`;this.setCaipAddress(o,n,!0),await this.syncIdentity({address:e,chainId:i,chainNamespace:n})}async syncReownName(e,r){try{let n=await this.getReownName(e);if(n[0]){let s=n[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch(n){this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var s;let r=ue.getConnectorId(e),n=Mr.getProviderId(e);if(n===hn.CONNECTOR_TYPE_ANNOUNCED||n===hn.CONNECTOR_TYPE_INJECTED){if(r){let o=this.getConnectors().find(a=>{var f,d;let c=a.id===r,l=((f=a.info)==null?void 0:f.rdns)===r,u=(d=a.connectors)==null?void 0:d.some(p=>{var h;return p.id===r||((h=p.info)==null?void 0:h.rdns)===r});return c||l||!!u});if(o){let{info:a,name:c,imageUrl:l}=o,u=l||this.getConnectorImage(o);this.setConnectedWalletInfo(S({name:c,icon:u},a),e)}}}else if(n===hn.CONNECTOR_TYPE_WALLET_CONNECT){let i=Mr.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo(G(S({},i.session.peer.metadata),{name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]}),e)}else if(r&&(r===J.CONNECTOR_ID.COINBASE_SDK||r===J.CONNECTOR_ID.COINBASE)){let i=this.getConnectors().find(l=>l.id===r),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo(G(S({},c),{name:o,icon:a}),e)}}async syncBalance(e){!Hb.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>{var s;return n.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){let s=this.getAdapter(n),i=M.getCaipNetworkByNamespace(n,r);if(s){let o=await s.getBalance({address:e,chainId:r,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){var s,i,o,a,c,l,u,f,d,p,h;let e=kQ.createLogger((m,...g)=>{m&&this.handleAlertError(m),console.error(...g)}),r={projectId:(s=this.options)==null?void 0:s.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(o=this.options)==null?void 0:o.metadata.name:"",description:(a=this.options)!=null&&a.metadata?(c=this.options)==null?void 0:c.metadata.description:"",url:(l=this.options)!=null&&l.metadata?(u=this.options)==null?void 0:u.metadata.url:"",icons:(f=this.options)!=null&&f.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};X.setManualWCControl(!!((p=this.options)!=null&&p.manualWCControl)),this.universalProvider=(h=this.options.universalProvider)!=null?h:await cD.init(r);let n=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await n()}catch(m){if(m instanceof Error&&m.message.includes("Missing or invalid. Record was recently deleted"))return;throw m}},X.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{nf.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{le.setUri(r)},onConnect:r=>{let{address:n}=de.getAccount(r[0]);for(let s of this.chainNamespaces)ve.removeDisconnectedConnectorId(J.CONNECTOR_ID.WALLET_CONNECT,s);le.finalizeWcConnection(n)},onDisconnect:()=>{M.state.noAdapters&&this.resetAccount(e),le.resetWcConnection()},onChainChanged:r=>{let n=M.state.activeChain,s=n&&ue.state.activeConnectorIds[n]===J.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(M.state.noAdapters||s)){let i=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(r);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:r=>{let n=M.state.activeChain,s=n&&ue.state.activeConnectorIds[n]===J.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(M.state.noAdapters||s)){let i=r==null?void 0:r[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&de.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Be.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){let e=M.getAllApprovedCaipNetworkIds(),r=M.getAllRequestedCaipNetworks();return de.sortRequestedNetworks(e,r).filter(s=>M.isCaipNetworkDisabled(s))}handleAlertError(e){let r=Object.entries(fa.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,s]=r!=null?r:[],{message:i,alertErrorKey:o}=s!=null?s:{};if(n&&i&&!this.reportedAlertErrors[n]){let a=fa.ALERT_ERRORS[o];a&&($n.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var s,i;if(!e)return;let r=e.namespace;if(!r)return;this.createClients();let n=e;n.namespace=r,n.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:(i=this.caipNetworks)==null?void 0:i.filter(({chainNamespace:o})=>o===r)}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&le.setUri(e.uri);let{isSwap:r,isSend:n}=this.toModalOptions();return r(e)?Ke.open(G(S({},e),{data:{swap:e.arguments}})):n(e)&&e.arguments?this.openSend(e.arguments):Ke.open(e)}async close(){await this.injectModalUi(),Ke.close()}setLoading(e,r){Ke.setLoading(e,r)}async disconnect(e){await le.disconnect({namespace:e})}getSIWX(){return X.state.siwx}getError(){return""}getChainId(){var e;return(e=M.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e,{throwOnFailure:r=!1}={}){let n=this.getCaipNetworks().find(s=>s.id===e.id);if(!n){$n.open(fa.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await M.switchActiveNetwork(n,{throwOnFailure:r})}getWalletProvider(){return M.state.activeChain?Mr.state.providers[M.state.activeChain]:null}getWalletProviderType(){return Mr.getProviderId(M.state.activeChain)}subscribeProviders(e){return Mr.subscribeProviders(e)}getThemeMode(){return Ln.state.themeMode}getThemeVariables(){return Ln.state.themeVariables}setThemeMode(e){Ln.setThemeMode(e),CS(Ln.state.themeMode)}setTermsConditionsUrl(e){X.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){X.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ln.setThemeVariables(e),RQ(Ln.state.themeVariables)}subscribeTheme(e){return Ln.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?le.subscribe(e):($n.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,s;if(e)return(s=(n=M.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:s.connectedWalletInfo;let r=M.getAccountData();return r==null?void 0:r.connectedWalletInfo}getAccount(e){let r=e||M.state.activeChain,n=ue.getAuthConnector(r),s=M.getAccountData(r),i=ve.getConnectedConnectorId(M.state.activeChain),o=le.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");let a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>de.createAccount(r,l,u||"eoa",f)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:de.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:n&&i===J.CONNECTOR_ID.AUTH?{user:s.user?G(S({},s.user),{username:ve.getConnectedSocialUsername()}):void 0,authProvider:s.socialProvider||"email",accountType:Cn(r),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,r){let n=[],s=()=>{let o=this.getAccount(r);o&&e(o)};if(r){let o=M.subscribeChainProp("accountState",s,r);n.push(o)}else{let o=M.subscribe(s);n.push(o)}let i=ue.subscribe(s);return n.push(i),()=>{n.forEach(o=>o())}}subscribeNetwork(e){return M.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e,r){return r?M.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo),r):M.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){return M.subscribeChainProp("accountState",r=>e(r==null?void 0:r.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){return M.subscribeKey("activeCaipNetwork",e)}getState(){return go.state}getRemoteFeatures(){return X.state.remoteFeatures}subscribeState(e){return go.subscribe(e)}subscribeRemoteFeatures(e){return X.subscribeKey("remoteFeatures",e)}showErrorMessage(e){lt.showError(e)}showSuccessMessage(e){lt.showSuccess(e)}getEvent(){return S({},Be.state)}subscribeEvents(e){return Be.subscribe(e)}replace(e){te.replace(e)}redirect(e){te.push(e)}popTransactionStack(e){te.popTransactionStack(e)}isOpen(){return Ke.state.open}isTransactionStackEmpty(){return te.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){X.setFeatures(e)}updateRemoteFeatures(e){X.setRemoteFeatures(e)}updateOptions(e){let r=X.state||{},n=S(S({},r),e);X.setOptions(n)}setConnectMethodsOrder(e){X.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){X.setWalletFeaturesOrder(e)}setCollapseWallets(e){X.setCollapseWallets(e)}setSocialsOrder(e){X.setSocialsOrder(e)}getConnectMethodsOrder(){return mo.getConnectOrderMethod(X.state.features,ue.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);let n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(s=>s.id===n.id)||M.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===r)&&M.removeNetwork(e,r)}}});var hEe=y(()=>{});function W(t){return(e,r)=>typeof r=="object"?J0t(t,e,r):((n,s,i)=>{let o=s.hasOwnProperty(i);return s.constructor.createProperty(i,n),o?Object.getOwnPropertyDescriptor(s,i):void 0})(t,e,r)}var Y0t,J0t,MQ=y(()=>{yS();Y0t={attribute:!0,type:String,converter:gS,reflect:!1,hasChanged:dD},J0t=(t=Y0t,e,r)=>{let{kind:n,metadata:s}=r,i=globalThis.litPropertyMetadata.get(s);if(i===void 0&&globalThis.litPropertyMetadata.set(s,i=new Map),n==="setter"&&((t=Object.create(t)).wrapped=!0),i.set(r.name,t),n==="accessor"){let{name:o}=r;return{set(a){let c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t,!0,a)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(n==="setter"){let{name:o}=r;return function(a){let c=this[o];e.call(this,a),this.requestUpdate(o,c,t,!0,a)}}throw Error("Unsupported decorator location: "+n)}});function ye(t){return W(G(S({},t),{state:!0,attribute:!1}))}var mEe=y(()=>{MQ();});var gEe=y(()=>{});var iv=y(()=>{});var yEe=y(()=>{iv();});var bEe=y(()=>{iv();});var wEe=y(()=>{iv();});var xEe=y(()=>{iv();});var vEe=y(()=>{iv();});var Qe=y(()=>{hEe();MQ();mEe();gEe();yEe();bEe();wEe();xEe();vEe()});var EEe,AEe=y(()=>{Ae();EEe=Qr`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`});var ec,Po,Sx=y(()=>{Ae();Qe();nr();sv();Qt();AEe();ec=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Po=class extends pe{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&jr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&jr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&jr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&jr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&jr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&jr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&jr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&jr.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,z`<slot></slot>`}};Po.styles=[Ye,EEe];ec([W()],Po.prototype,"flexDirection",void 0);ec([W()],Po.prototype,"flexWrap",void 0);ec([W()],Po.prototype,"flexBasis",void 0);ec([W()],Po.prototype,"flexGrow",void 0);ec([W()],Po.prototype,"flexShrink",void 0);ec([W()],Po.prototype,"alignItems",void 0);ec([W()],Po.prototype,"justifyContent",void 0);ec([W()],Po.prototype,"columnGap",void 0);ec([W()],Po.prototype,"rowGap",void 0);ec([W()],Po.prototype,"gap",void 0);ec([W()],Po.prototype,"padding",void 0);ec([W()],Po.prototype,"margin",void 0);ec([W()],Po.prototype,"width",void 0);Po=ec([fe("wui-flex")],Po)});var Tn=y(()=>{Sx()});var Le,CEe=y(()=>{am();Le=t=>t!=null?t:Yn});var mn=y(()=>{CEe()});var IEe,Q0t,TEe,SEe,$Q,HQ,ypr,bpr,PEe=y(()=>{am();IEe=Symbol.for(""),Q0t=t=>{if((t==null?void 0:t.r)===IEe)return t==null?void 0:t._$litStatic$},TEe=t=>({_$litStatic$:t,r:IEe}),SEe=new Map,$Q=t=>(e,...r)=>{let n=r.length,s,i,o=[],a=[],c,l=0,u=!1;for(;l<n;){for(c=e[l];l<n&&(i=r[l],(s=Q0t(i))!==void 0);)c+=s+e[++l],u=!0;l!==n&&a.push(i),o.push(c),l++}if(l===n&&o.push(e[n]),u){let f=o.join("$$lit$$");(e=SEe.get(f))===void 0&&(o.raw=o,SEe.set(f,e=o)),r=a}return t(e,...r)},HQ=$Q(z),ypr=$Q(Je),bpr=$Q(Mve)});var _Ee=y(()=>{PEe()});var NEe,OEe=y(()=>{Ae();NEe=Je`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`});var REe,kEe=y(()=>{Ae();REe=Je`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var BEe,UEe=y(()=>{Ae();BEe=Je`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`});var DEe,LEe=y(()=>{Ae();DEe=Je`<svg viewBox="0 0 32 32" fill="none">
<path d="M29.0612 10.0613L13.0612 26.0613C12.9218 26.2011 12.7563 26.3121 12.5739 26.3878C12.3916 26.4635 12.1961 26.5024 11.9987 26.5024C11.8013 26.5024 11.6058 26.4635 11.4235 26.3878C11.2411 26.3121 11.0756 26.2011 10.9362 26.0613L3.9362 19.0613C3.79667 18.9217 3.68599 18.7561 3.61047 18.5738C3.53496 18.3915 3.49609 18.1961 3.49609 17.9988C3.49609 17.8014 3.53496 17.606 3.61047 17.4237C3.68599 17.2414 3.79667 17.0758 3.9362 16.9363C4.07573 16.7967 4.24137 16.686 4.42367 16.6105C4.60598 16.535 4.80137 16.4962 4.9987 16.4962C5.19602 16.4962 5.39141 16.535 5.57372 16.6105C5.75602 16.686 5.92167 16.7967 6.0612 16.9363L11.9999 22.875L26.9387 7.93876C27.2205 7.65697 27.6027 7.49866 28.0012 7.49866C28.3997 7.49866 28.7819 7.65697 29.0637 7.93876C29.3455 8.22055 29.5038 8.60274 29.5038 9.00126C29.5038 9.39977 29.3455 9.78197 29.0637 10.0638L29.0612 10.0613Z" fill="currentColor"/>
</svg>
`});var MEe,$Ee=y(()=>{Ae();MEe=Je`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`});var HEe,FEe=y(()=>{Ae();HEe=Je`<svg width="32" height="32" viewBox="0 0 32 32" fill="none">
<path d="M23 11.1962V10.5C23 7.365 18.2712 5 12 5C5.72875 5 1 7.365 1 10.5V15.5C1 18.1112 4.28125 20.1863 9 20.8075V21.5C9 24.635 13.7288 27 20 27C26.2712 27 31 24.635 31 21.5V16.5C31 13.9125 27.8225 11.835 23 11.1962ZM7 18.3587C4.55125 17.675 3 16.5487 3 15.5V13.7413C4.02 14.4637 5.38625 15.0463 7 15.4375V18.3587ZM17 15.4375C18.6138 15.0463 19.98 14.4637 21 13.7413V15.5C21 16.5487 19.4487 17.675 17 18.3587V15.4375ZM15 24.3587C12.5513 23.675 11 22.5487 11 21.5V20.9788C11.3287 20.9913 11.6613 21 12 21C12.485 21 12.9587 20.9837 13.4237 20.9562C13.9403 21.1412 14.4665 21.2981 15 21.4263V24.3587ZM15 18.7812C14.0068 18.928 13.004 19.0011 12 19C10.996 19.0011 9.99324 18.928 9 18.7812V15.8075C9.99472 15.9371 10.9969 16.0014 12 16C13.0031 16.0014 14.0053 15.9371 15 15.8075V18.7812ZM23 24.7812C21.0106 25.0729 18.9894 25.0729 17 24.7812V21.8C17.9944 21.9337 18.9967 22.0005 20 22C21.0031 22.0014 22.0053 21.9371 23 21.8075V24.7812ZM29 21.5C29 22.5487 27.4487 23.675 25 24.3587V21.4375C26.6138 21.0462 27.98 20.4637 29 19.7412V21.5Z" fill="currentColor"/>
</svg>
`});var zEe,VEe=y(()=>{Ae();zEe=Je` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`});var jEe,qEe=y(()=>{Ae();jEe=Je`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`});var WEe,KEe=y(()=>{Ae();WEe=Je`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`});var GEe,ZEe=y(()=>{Ae();GEe=Je`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`});var YEe,JEe=y(()=>{Ae();YEe=Je`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var QEe,XEe=y(()=>{Ae();QEe=Je`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`});var eAe,tAe=y(()=>{Ae();eAe=Je`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var rAe,nAe=y(()=>{Ae();rAe=Je`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`});var sAe,iAe=y(()=>{Ae();sAe=Je`<svg width="10" height="10" viewBox="0 0 10 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4.875 0C3.91082 0 2.96829 0.285914 2.1666 0.821586C1.36491 1.35726 0.740067 2.11863 0.371089 3.00942C0.00211226 3.90021 -0.094429 4.88041 0.093674 5.82607C0.281777 6.77172 0.746076 7.64036 1.42786 8.32215C2.10964 9.00393 2.97828 9.46823 3.92394 9.65633C4.86959 9.84443 5.84979 9.74789 6.74058 9.37891C7.63137 9.00994 8.39274 8.38509 8.92842 7.5834C9.46409 6.78171 9.75 5.83918 9.75 4.875C9.74864 3.58249 9.23458 2.34331 8.32064 1.42936C7.4067 0.515418 6.16751 0.00136492 4.875 0ZM4.6875 2.25C4.79875 2.25 4.90751 2.28299 5.00001 2.3448C5.09251 2.40661 5.16461 2.49446 5.20718 2.59724C5.24976 2.70002 5.2609 2.81312 5.23919 2.92224C5.21749 3.03135 5.16392 3.13158 5.08525 3.21025C5.00658 3.28891 4.90635 3.34249 4.79724 3.36419C4.68813 3.3859 4.57503 3.37476 4.47224 3.33218C4.36946 3.28961 4.28161 3.21751 4.2198 3.12501C4.15799 3.03251 4.125 2.92375 4.125 2.8125C4.125 2.66332 4.18427 2.52024 4.28975 2.41475C4.39524 2.30926 4.53832 2.25 4.6875 2.25ZM5.25 7.5C5.05109 7.5 4.86032 7.42098 4.71967 7.28033C4.57902 7.13968 4.5 6.94891 4.5 6.75V4.875C4.40055 4.875 4.30516 4.83549 4.23484 4.76516C4.16451 4.69484 4.125 4.59946 4.125 4.5C4.125 4.40054 4.16451 4.30516 4.23484 4.23484C4.30516 4.16451 4.40055 4.125 4.5 4.125C4.69891 4.125 4.88968 4.20402 5.03033 4.34467C5.17098 4.48532 5.25 4.67609 5.25 4.875V6.75C5.34946 6.75 5.44484 6.78951 5.51517 6.85983C5.58549 6.93016 5.625 7.02554 5.625 7.125C5.625 7.22446 5.58549 7.31984 5.51517 7.39017C5.44484 7.46049 5.34946 7.5 5.25 7.5Z" fill="#9A9A9A"/>
</svg>
`});var oAe,aAe=y(()=>{Ae();oAe=Je`<svg width="32" height="32" viewBox="0 0 32 32" fill="none">
<path d="M28.925 5.5425C28.925 5.5425 28.925 5.555 28.925 5.56125L21.65 29.5537C21.5399 29.9434 21.3132 30.2901 21.0004 30.5473C20.6876 30.8045 20.3036 30.9598 19.9 30.9925C19.8425 30.9975 19.785 31 19.7275 31C19.3493 31.0012 18.9786 30.8941 18.6592 30.6915C18.3398 30.4888 18.085 30.199 17.925 29.8563L13.375 20.5187C13.3295 20.4252 13.3143 20.3197 13.3315 20.2171C13.3488 20.1145 13.3976 20.0198 13.4713 19.9463L20.7113 12.7063C20.8909 12.5172 20.9895 12.2654 20.9862 12.0047C20.9829 11.7439 20.8778 11.4948 20.6934 11.3104C20.509 11.126 20.2599 11.0209 19.9991 11.0176C19.7383 11.0142 19.4866 11.1129 19.2975 11.2925L12.0538 18.5325C11.9802 18.6061 11.8855 18.655 11.7829 18.6722C11.6803 18.6895 11.5748 18.6743 11.4813 18.6287L2.13502 14.08C1.76954 13.9047 1.46598 13.6224 1.26454 13.2706C1.06311 12.9189 0.973316 12.5142 1.00707 12.1102C1.04082 11.7063 1.19652 11.3221 1.45354 11.0087C1.71056 10.6952 2.05676 10.4673 2.44627 10.355L26.4388 3.08H26.4575C26.7991 2.98403 27.1601 2.98066 27.5034 3.07025C27.8468 3.15984 28.1601 3.33916 28.4113 3.58981C28.6624 3.84045 28.8424 4.15341 28.9326 4.49656C29.0229 4.83971 29.0203 5.2007 28.925 5.5425Z" fill="currentColor"/>
</svg>
`});var cAe,lAe=y(()=>{Ae();cAe=Je` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`});var uAe,fAe=y(()=>{Ae();uAe=Je`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`});var dAe,pAe=y(()=>{Ae();dAe=Je`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`});var hAe,mAe=y(()=>{Ae();hAe=Je`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`});var gAe,yAe=y(()=>{Ae();gAe=Je`
  <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">
  <path d="M8.37651 0H1.62309C0.381381 0 -0.405611 1.33944 0.219059 2.42225L4.38701 9.64649C4.659 10.1182 5.3406 10.1182 5.61259 9.64649L9.78139 2.42225C10.4052 1.34117 9.61822 0 8.37736 0H8.37651ZM4.38362 7.48005L3.47591 5.72329L1.2857 1.80606C1.14121 1.55534 1.31968 1.23405 1.62225 1.23405H4.38278V7.4809L4.38362 7.48005ZM8.71221 1.80521L6.52284 5.72414L5.61513 7.48005V1.2332H8.37566C8.67823 1.2332 8.85669 1.55449 8.71221 1.80521Z" fill="var(--apkt-tokens-theme-textPrimary)" />
</svg>
`});var bAe,wAe=y(()=>{Ae();bAe=Je`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var xAe,vAe=y(()=>{Ae();xAe=Je`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`});var EAe,AAe,CAe,SAe,IAe=y(()=>{Ae();EAe=Je`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,AAe=Je`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,CAe=Je`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,SAe=Je`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`});var FQ,TAe=y(()=>{Ae();FQ=Je`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`});var PAe,_Ae=y(()=>{Ae();PAe=Qr`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`});var _D,ND,zQ,NAe,TS,OAe,_e,RAe,VQ,ht=y(()=>{_D=globalThis,ND=_D.ShadowRoot&&(_D.ShadyCSS===void 0||_D.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,zQ=Symbol(),NAe=new WeakMap,TS=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==zQ)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o,r=this.t;if(ND&&e===void 0){let n=r!==void 0&&r.length===1;n&&(e=NAe.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&NAe.set(r,e))}return e}toString(){return this.cssText}},OAe=t=>new TS(typeof t=="string"?t:t+"",void 0,zQ),_e=(t,...e)=>{let r=t.length===1?t[0]:e.reduce((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new TS(r,t,zQ)},RAe=(t,e)=>{if(ND)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of e){let n=document.createElement("style"),s=_D.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},VQ=ND?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(let n of e.cssRules)r+=n.cssText;return OAe(r)})(t):t});var X0t,edt,tdt,rdt,ndt,sdt,ov,kAe,idt,BAe,PS,av,_S,UAe,odt,adt,lm,DAe,ft=y(()=>{ht();ht();({is:X0t,defineProperty:edt,getOwnPropertyDescriptor:tdt,getOwnPropertyNames:rdt,getOwnPropertySymbols:ndt,getPrototypeOf:sdt}=Object),ov=globalThis,kAe=ov.trustedTypes,idt=kAe?kAe.emptyScript:"",BAe=ov.reactiveElementPolyfillSupport,PS=(t,e)=>t,av={toAttribute(t,e){switch(e){case Boolean:t=t?idt:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(n){r=null}}return r}},_S=(t,e)=>!X0t(t,e),UAe={attribute:!0,type:String,converter:av,reflect:!1,hasChanged:_S};(odt=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(adt=ov.litPropertyMetadata)!=null||(ov.litPropertyMetadata=new WeakMap);lm=class extends HTMLElement{static addInitializer(e){var r;this._$Ei(),((r=this.l)!=null?r:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=UAe){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){let n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&edt(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){var s;let{get:i,set:o}=(s=tdt(this.prototype,e))!=null?s:{get(){return this[r]},set(a){this[r]=a}};return{get(){return i==null?void 0:i.call(this)},set(a){let c=i==null?void 0:i.call(this);o.call(this,a),this.requestUpdate(e,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var r;return(r=this.elementProperties.get(e))!=null?r:UAe}static _$Ei(){if(this.hasOwnProperty(PS("elementProperties")))return;let e=sdt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(PS("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(PS("properties"))){let r=this.properties,n=[...rdt(r),...ndt(r)];for(let s of n)this.createProperty(s,r[s])}let e=this[Symbol.metadata];if(e!==null){let r=litPropertyMetadata.get(e);if(r!==void 0)for(let[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(let[r,n]of this.elementProperties){let s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let r=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let s of n)r.unshift(VQ(s))}else e!==void 0&&r.push(VQ(e));return r}static _$Eu(e,r){let n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$EO)!=null?r:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){let e=new Map,r=this.constructor.elementProperties;for(let n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;let r=(e=this.shadowRoot)!=null?e:this.attachShadow(this.constructor.shadowRootOptions);return RAe(r,this.constructor.elementStyles),r}connectedCallback(){var e,r;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostConnected)==null?void 0:s.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var n;let s=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,s);if(i!==void 0&&s.reflect===!0){let o=(((n=s.converter)==null?void 0:n.toAttribute)!==void 0?s.converter:av).toAttribute(r,s.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var n;let s=this.constructor,i=s._$Eh.get(e);if(i!==void 0&&this._$Em!==i){let o=s.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)==null?void 0:n.fromAttribute)!==void 0?o.converter:av;this._$Em=i,this[i]=a.fromAttribute(r,o.type),this._$Em=null}}requestUpdate(e,r,n){var s;if(e!==void 0){if(n!=null||(n=this.constructor.getPropertyOptions(e)),!((s=n.hasChanged)!=null?s:_S)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){var s;this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&((s=this._$Ej)!=null?s:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e,r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,a]of this._$Ep)this[o]=a;this._$Ep=void 0}let i=this.constructor.elementProperties;if(i.size>0)for(let[o,a]of i)a.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],a)}let n=!1,s=this._$AL;try{n=this.shouldUpdate(s),n?(this.willUpdate(s),(r=this._$EO)==null||r.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(s)):this._$EU()}catch(i){throw n=!1,this._$EU(),i}n&&this._$AE(s)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}};lm.elementStyles=[],lm.shadowRootOptions={mode:"open"},lm[PS("elementProperties")]=new Map,lm[PS("finalized")]=new Map,BAe==null||BAe({ReactiveElement:lm}),((DAe=ov.reactiveElementVersions)!=null?DAe:ov.reactiveElementVersions=[]).push("2.0.4")});function YAe(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return LAe!==void 0?LAe.createHTML(e):e}function cv(t,e,r=t,n){var s,i,o;if(e===_x)return e;let a=n!==void 0?(s=r._$Co)==null?void 0:s[n]:r._$Cl,c=RS(e)?void 0:e._$litDirective$;return(a==null?void 0:a.constructor)!==c&&((i=a==null?void 0:a._$AO)==null||i.call(a,!1),c===void 0?a=void 0:(a=new c(t),a._$AT(t,r,n)),n!==void 0?((o=r._$Co)!=null?o:r._$Co=[])[n]=a:r._$Cl=a),a!==void 0&&(e=cv(t,a._$AS(t,e.values),a,n)),e}var OD,RD,LAe,qAe,j2,WAe,cdt,Px,OS,RS,KAe,ldt,jQ,NS,MAe,$Ae,Ix,HAe,FAe,GAe,ZAe,Ne,F,_x,Ks,zAe,Tx,udt,kS,qQ,BS,lv,WQ,KQ,GQ,ZQ,VAe,jAe,JAe,mt=y(()=>{OD=globalThis,RD=OD.trustedTypes,LAe=RD?RD.createPolicy("lit-html",{createHTML:t=>t}):void 0,qAe="$lit$",j2=`lit$${Math.random().toFixed(9).slice(2)}$`,WAe="?"+j2,cdt=`<${WAe}>`,Px=document,OS=()=>Px.createComment(""),RS=t=>t===null||typeof t!="object"&&typeof t!="function",KAe=Array.isArray,ldt=t=>KAe(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",jQ=`[ 	
\f\r]`,NS=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,MAe=/-->/g,$Ae=/>/g,Ix=RegExp(`>|${jQ}(?:([^\\s"'>=/]+)(${jQ}*=${jQ}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),HAe=/'/g,FAe=/"/g,GAe=/^(?:script|style|textarea|title)$/i,ZAe=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Ne=ZAe(1),F=ZAe(2),_x=Symbol.for("lit-noChange"),Ks=Symbol.for("lit-nothing"),zAe=new WeakMap,Tx=Px.createTreeWalker(Px,129);udt=(t,e)=>{let r=t.length-1,n=[],s,i=e===2?"<svg>":"",o=NS;for(let a=0;a<r;a++){let c=t[a],l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===NS?u[1]==="!--"?o=MAe:u[1]!==void 0?o=$Ae:u[2]!==void 0?(GAe.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Ix):u[3]!==void 0&&(o=Ix):o===Ix?u[0]===">"?(o=s!=null?s:NS,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Ix:u[3]==='"'?FAe:HAe):o===FAe||o===HAe?o=Ix:o===MAe||o===$Ae?o=NS:(o=Ix,s=void 0);let p=o===Ix&&t[a+1].startsWith("/>")?" ":"";i+=o===NS?c+cdt:f>=0?(n.push(l),c.slice(0,f)+qAe+c.slice(f)+j2+p):c+j2+(f===-2?a:p)}return[YAe(t,i+(t[r]||"<?>")+(e===2?"</svg>":"")),n]},kS=class t{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0,a=e.length-1,c=this.parts,[l,u]=udt(e,r);if(this.el=t.createElement(l,n),Tx.currentNode=this.el.content,r===2){let f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=Tx.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(let f of s.getAttributeNames())if(f.endsWith(qAe)){let d=u[o++],p=s.getAttribute(f).split(j2),h=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:h[2],strings:p,ctor:h[1]==="."?WQ:h[1]==="?"?KQ:h[1]==="@"?GQ:lv}),s.removeAttribute(f)}else f.startsWith(j2)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(GAe.test(s.tagName)){let f=s.textContent.split(j2),d=f.length-1;if(d>0){s.textContent=RD?RD.emptyScript:"";for(let p=0;p<d;p++)s.append(f[p],OS()),Tx.nextNode(),c.push({type:2,index:++i});s.append(f[d],OS())}}}else if(s.nodeType===8)if(s.data===WAe)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(j2,f+1))!==-1;)c.push({type:7,index:i}),f+=j2.length-1}i++}}static createElement(e,r){let n=Px.createElement("template");return n.innerHTML=e,n}};qQ=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;let{el:{content:n},parts:s}=this._$AD,i=((r=e==null?void 0:e.creationScope)!=null?r:Px).importNode(n,!0);Tx.currentNode=i;let o=Tx.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new BS(o,o.nextSibling,this,e):l.type===1?u=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(u=new ZQ(o,this,e)),this._$AV.push(u),l=s[++c]}a!==(l==null?void 0:l.index)&&(o=Tx.nextNode(),a++)}return Tx.currentNode=Px,i}p(e){let r=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}},BS=class t{get _$AU(){var e,r;return(r=(e=this._$AM)==null?void 0:e._$AU)!=null?r:this._$Cv}constructor(e,r,n,s){var i;this.type=2,this._$AH=Ks,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(i=s==null?void 0:s.isConnected)!=null?i:!0}get parentNode(){let e=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=cv(this,e,r),RS(e)?e===Ks||e==null||e===""?(this._$AH!==Ks&&this._$AR(),this._$AH=Ks):e!==this._$AH&&e!==_x&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):ldt(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==Ks&&RS(this._$AH)?this._$AA.nextSibling.data=e:this.T(Px.createTextNode(e)),this._$AH=e}$(e){var r;let{values:n,_$litType$:s}=e,i=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=kS.createElement(YAe(s.h,s.h[0]),this.options)),s);if(((r=this._$AH)==null?void 0:r._$AD)===i)this._$AH.p(n);else{let o=new qQ(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let r=zAe.get(e.strings);return r===void 0&&zAe.set(e.strings,r=new kS(e)),r}k(e){KAe(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,n,s=0;for(let i of e)s===r.length?r.push(n=new t(this.S(OS()),this.S(OS()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){let s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}},lv=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=Ks,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ks}_$AI(e,r=this,n,s){let i=this.strings,o=!1;if(i===void 0)e=cv(this,e,r,0),o=!RS(e)||e!==this._$AH&&e!==_x,o&&(this._$AH=e);else{let a=e,c,l;for(e=i[0],c=0;c<i.length-1;c++)l=cv(this,a[n+c],r,c),l===_x&&(l=this._$AH[c]),o||(o=!RS(l)||l!==this._$AH[c]),l===Ks?e=Ks:e!==Ks&&(e+=(l!=null?l:"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Ks?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},WQ=class extends lv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ks?void 0:e}},KQ=class extends lv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ks)}},GQ=class extends lv{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){var n;if((e=(n=cv(this,e,r,0))!=null?n:Ks)===_x)return;let s=this._$AH,i=e===Ks&&s!==Ks||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Ks&&(s===Ks||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)==null?void 0:r.host)!=null?n:this.element,e):this._$AH.handleEvent(e)}},ZQ=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){cv(this,e)}},VAe=OD.litHtmlPolyfillSupport;VAe==null||VAe(kS,BS),((jAe=OD.litHtmlVersions)!=null?jAe:OD.litHtmlVersions=[]).push("3.1.4");JAe=(t,e,r)=>{var n,s;let i=(n=r==null?void 0:r.renderBefore)!=null?n:e,o=i._$litPart$;if(o===void 0){let a=(s=r==null?void 0:r.renderBefore)!=null?s:null;i._$litPart$=o=new BS(e.insertBefore(OS(),a),a,void 0,r!=null?r:{})}return o._$AI(t),o}});var Ie,QAe,XAe,eCe,wt=y(()=>{ft();ft();mt();mt();Ie=class extends lm{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;let n=super.createRenderRoot();return(r=(e=this.renderOptions).renderBefore)!=null||(e.renderBefore=n.firstChild),n}update(e){let r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=JAe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return _x}};Ie._$litElement$=!0,Ie.finalized=!0,(QAe=globalThis.litElementHydrateSupport)==null||QAe.call(globalThis,{LitElement:Ie});XAe=globalThis.litElementPolyfillSupport;XAe==null||XAe({LitElement:Ie});((eCe=globalThis.litElementVersions)!=null?eCe:globalThis.litElementVersions=[]).push("4.0.6")});var Oe,xt=y(()=>{Oe=t=>(e,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)}});function K(t){return(e,r)=>typeof r=="object"?wdt(t,e,r):((n,s,i)=>{let o=s.hasOwnProperty(i);return s.constructor.createProperty(i,o?ydt(gdt({},n),{wrapped:!0}):n),o?Object.getOwnPropertyDescriptor(s,i):void 0})(t,e,r)}var fdt,ddt,pdt,tCe,hdt,mdt,rCe,gdt,ydt,bdt,wdt,vt=y(()=>{ft();fdt=Object.defineProperty,ddt=Object.defineProperties,pdt=Object.getOwnPropertyDescriptors,tCe=Object.getOwnPropertySymbols,hdt=Object.prototype.hasOwnProperty,mdt=Object.prototype.propertyIsEnumerable,rCe=(t,e,r)=>e in t?fdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gdt=(t,e)=>{for(var r in e||(e={}))hdt.call(e,r)&&rCe(t,r,e[r]);if(tCe)for(var r of tCe(e))mdt.call(e,r)&&rCe(t,r,e[r]);return t},ydt=(t,e)=>ddt(t,pdt(e));bdt={attribute:!0,type:String,converter:av,reflect:!1,hasChanged:_S},wdt=(t=bdt,e,r)=>{let{kind:n,metadata:s}=r,i=globalThis.litPropertyMetadata.get(s);if(i===void 0&&globalThis.litPropertyMetadata.set(s,i=new Map),i.set(r.name,t),n==="accessor"){let{name:o}=r;return{set(a){let c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.P(o,void 0,t),a}}}if(n==="setter"){let{name:o}=r;return function(a){let c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+n)}});var nCe={};Me(nCe,{PhArrowCircleDown:()=>q0});var xdt,vdt,US,q0,sCe=y(()=>{ft();mt();wt();xt();vt();ht();xdt=Object.defineProperty,vdt=Object.getOwnPropertyDescriptor,US=(t,e,r,n)=>{for(var s=n>1?void 0:n?vdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&xdt(e,r,s),s},q0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${q0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};q0.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]);q0.styles=_e`
    :host {
      display: contents;
    }
  `;US([K({type:String,reflect:!0})],q0.prototype,"size",2);US([K({type:String,reflect:!0})],q0.prototype,"weight",2);US([K({type:String,reflect:!0})],q0.prototype,"color",2);US([K({type:Boolean,reflect:!0})],q0.prototype,"mirrored",2);q0=US([Oe("ph-arrow-circle-down")],q0)});var iCe={};Me(iCe,{PhArrowClockwise:()=>W0});var Edt,Adt,DS,W0,oCe=y(()=>{ft();mt();wt();xt();vt();ht();Edt=Object.defineProperty,Adt=Object.getOwnPropertyDescriptor,DS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Adt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Edt(e,r,s),s},W0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${W0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};W0.weightsMap=new Map([["thin",F`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",F`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",F`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",F`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",F`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]);W0.styles=_e`
    :host {
      display: contents;
    }
  `;DS([K({type:String,reflect:!0})],W0.prototype,"size",2);DS([K({type:String,reflect:!0})],W0.prototype,"weight",2);DS([K({type:String,reflect:!0})],W0.prototype,"color",2);DS([K({type:Boolean,reflect:!0})],W0.prototype,"mirrored",2);W0=DS([Oe("ph-arrow-clockwise")],W0)});var aCe={};Me(aCe,{PhArrowDown:()=>K0});var Cdt,Sdt,LS,K0,cCe=y(()=>{ft();mt();wt();xt();vt();ht();Cdt=Object.defineProperty,Sdt=Object.getOwnPropertyDescriptor,LS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Sdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Cdt(e,r,s),s},K0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${K0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};K0.weightsMap=new Map([["thin",F`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",F`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",F`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]);K0.styles=_e`
    :host {
      display: contents;
    }
  `;LS([K({type:String,reflect:!0})],K0.prototype,"size",2);LS([K({type:String,reflect:!0})],K0.prototype,"weight",2);LS([K({type:String,reflect:!0})],K0.prototype,"color",2);LS([K({type:Boolean,reflect:!0})],K0.prototype,"mirrored",2);K0=LS([Oe("ph-arrow-down")],K0)});var lCe={};Me(lCe,{PhArrowLeft:()=>G0});var Idt,Tdt,MS,G0,uCe=y(()=>{ft();mt();wt();xt();vt();ht();Idt=Object.defineProperty,Tdt=Object.getOwnPropertyDescriptor,MS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Tdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Idt(e,r,s),s},G0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${G0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};G0.weightsMap=new Map([["thin",F`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",F`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",F`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",F`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",F`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",F`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]);G0.styles=_e`
    :host {
      display: contents;
    }
  `;MS([K({type:String,reflect:!0})],G0.prototype,"size",2);MS([K({type:String,reflect:!0})],G0.prototype,"weight",2);MS([K({type:String,reflect:!0})],G0.prototype,"color",2);MS([K({type:Boolean,reflect:!0})],G0.prototype,"mirrored",2);G0=MS([Oe("ph-arrow-left")],G0)});var fCe={};Me(fCe,{PhArrowRight:()=>Z0});var Pdt,_dt,$S,Z0,dCe=y(()=>{ft();mt();wt();xt();vt();ht();Pdt=Object.defineProperty,_dt=Object.getOwnPropertyDescriptor,$S=(t,e,r,n)=>{for(var s=n>1?void 0:n?_dt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Pdt(e,r,s),s},Z0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Z0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Z0.weightsMap=new Map([["thin",F`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",F`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",F`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",F`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",F`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",F`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]);Z0.styles=_e`
    :host {
      display: contents;
    }
  `;$S([K({type:String,reflect:!0})],Z0.prototype,"size",2);$S([K({type:String,reflect:!0})],Z0.prototype,"weight",2);$S([K({type:String,reflect:!0})],Z0.prototype,"color",2);$S([K({type:Boolean,reflect:!0})],Z0.prototype,"mirrored",2);Z0=$S([Oe("ph-arrow-right")],Z0)});var pCe={};Me(pCe,{PhArrowSquareOut:()=>Y0});var Ndt,Odt,HS,Y0,hCe=y(()=>{ft();mt();wt();xt();vt();ht();Ndt=Object.defineProperty,Odt=Object.getOwnPropertyDescriptor,HS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Odt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ndt(e,r,s),s},Y0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Y0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Y0.weightsMap=new Map([["thin",F`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",F`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",F`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",F`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",F`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",F`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]);Y0.styles=_e`
    :host {
      display: contents;
    }
  `;HS([K({type:String,reflect:!0})],Y0.prototype,"size",2);HS([K({type:String,reflect:!0})],Y0.prototype,"weight",2);HS([K({type:String,reflect:!0})],Y0.prototype,"color",2);HS([K({type:Boolean,reflect:!0})],Y0.prototype,"mirrored",2);Y0=HS([Oe("ph-arrow-square-out")],Y0)});var mCe={};Me(mCe,{PhArrowsDownUp:()=>J0});var Rdt,kdt,FS,J0,gCe=y(()=>{ft();mt();wt();xt();vt();ht();Rdt=Object.defineProperty,kdt=Object.getOwnPropertyDescriptor,FS=(t,e,r,n)=>{for(var s=n>1?void 0:n?kdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Rdt(e,r,s),s},J0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${J0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};J0.weightsMap=new Map([["thin",F`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",F`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",F`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",F`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",F`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",F`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]);J0.styles=_e`
    :host {
      display: contents;
    }
  `;FS([K({type:String,reflect:!0})],J0.prototype,"size",2);FS([K({type:String,reflect:!0})],J0.prototype,"weight",2);FS([K({type:String,reflect:!0})],J0.prototype,"color",2);FS([K({type:Boolean,reflect:!0})],J0.prototype,"mirrored",2);J0=FS([Oe("ph-arrows-down-up")],J0)});var yCe={};Me(yCe,{PhArrowsLeftRight:()=>Q0});var Bdt,Udt,zS,Q0,bCe=y(()=>{ft();mt();wt();xt();vt();ht();Bdt=Object.defineProperty,Udt=Object.getOwnPropertyDescriptor,zS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Udt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Bdt(e,r,s),s},Q0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Q0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Q0.weightsMap=new Map([["thin",F`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",F`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",F`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",F`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",F`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",F`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]);Q0.styles=_e`
    :host {
      display: contents;
    }
  `;zS([K({type:String,reflect:!0})],Q0.prototype,"size",2);zS([K({type:String,reflect:!0})],Q0.prototype,"weight",2);zS([K({type:String,reflect:!0})],Q0.prototype,"color",2);zS([K({type:Boolean,reflect:!0})],Q0.prototype,"mirrored",2);Q0=zS([Oe("ph-arrows-left-right")],Q0)});var wCe={};Me(wCe,{PhArrowUp:()=>X0});var Ddt,Ldt,VS,X0,xCe=y(()=>{ft();mt();wt();xt();vt();ht();Ddt=Object.defineProperty,Ldt=Object.getOwnPropertyDescriptor,VS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Ldt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ddt(e,r,s),s},X0=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${X0.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};X0.weightsMap=new Map([["thin",F`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",F`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",F`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",F`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",F`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",F`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]);X0.styles=_e`
    :host {
      display: contents;
    }
  `;VS([K({type:String,reflect:!0})],X0.prototype,"size",2);VS([K({type:String,reflect:!0})],X0.prototype,"weight",2);VS([K({type:String,reflect:!0})],X0.prototype,"color",2);VS([K({type:Boolean,reflect:!0})],X0.prototype,"mirrored",2);X0=VS([Oe("ph-arrow-up")],X0)});var vCe={};Me(vCe,{PhArrowUpRight:()=>ed});var Mdt,$dt,jS,ed,ECe=y(()=>{ft();mt();wt();xt();vt();ht();Mdt=Object.defineProperty,$dt=Object.getOwnPropertyDescriptor,jS=(t,e,r,n)=>{for(var s=n>1?void 0:n?$dt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Mdt(e,r,s),s},ed=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ed.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ed.weightsMap=new Map([["thin",F`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",F`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",F`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",F`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",F`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",F`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]);ed.styles=_e`
    :host {
      display: contents;
    }
  `;jS([K({type:String,reflect:!0})],ed.prototype,"size",2);jS([K({type:String,reflect:!0})],ed.prototype,"weight",2);jS([K({type:String,reflect:!0})],ed.prototype,"color",2);jS([K({type:Boolean,reflect:!0})],ed.prototype,"mirrored",2);ed=jS([Oe("ph-arrow-up-right")],ed)});var ACe={};Me(ACe,{PhArrowsClockwise:()=>td});var Hdt,Fdt,qS,td,CCe=y(()=>{ft();mt();wt();xt();vt();ht();Hdt=Object.defineProperty,Fdt=Object.getOwnPropertyDescriptor,qS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Fdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Hdt(e,r,s),s},td=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${td.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};td.weightsMap=new Map([["thin",F`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",F`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",F`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",F`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",F`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]);td.styles=_e`
    :host {
      display: contents;
    }
  `;qS([K({type:String,reflect:!0})],td.prototype,"size",2);qS([K({type:String,reflect:!0})],td.prototype,"weight",2);qS([K({type:String,reflect:!0})],td.prototype,"color",2);qS([K({type:Boolean,reflect:!0})],td.prototype,"mirrored",2);td=qS([Oe("ph-arrows-clockwise")],td)});var SCe={};Me(SCe,{PhBank:()=>rd});var zdt,Vdt,WS,rd,ICe=y(()=>{ft();mt();wt();xt();vt();ht();zdt=Object.defineProperty,Vdt=Object.getOwnPropertyDescriptor,WS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Vdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&zdt(e,r,s),s},rd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${rd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};rd.weightsMap=new Map([["thin",F`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",F`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",F`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",F`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",F`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",F`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]);rd.styles=_e`
    :host {
      display: contents;
    }
  `;WS([K({type:String,reflect:!0})],rd.prototype,"size",2);WS([K({type:String,reflect:!0})],rd.prototype,"weight",2);WS([K({type:String,reflect:!0})],rd.prototype,"color",2);WS([K({type:Boolean,reflect:!0})],rd.prototype,"mirrored",2);rd=WS([Oe("ph-bank")],rd)});var TCe={};Me(TCe,{PhBrowser:()=>nd});var jdt,qdt,KS,nd,PCe=y(()=>{ft();mt();wt();xt();vt();ht();jdt=Object.defineProperty,qdt=Object.getOwnPropertyDescriptor,KS=(t,e,r,n)=>{for(var s=n>1?void 0:n?qdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&jdt(e,r,s),s},nd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${nd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};nd.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",F`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",F`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]);nd.styles=_e`
    :host {
      display: contents;
    }
  `;KS([K({type:String,reflect:!0})],nd.prototype,"size",2);KS([K({type:String,reflect:!0})],nd.prototype,"weight",2);KS([K({type:String,reflect:!0})],nd.prototype,"color",2);KS([K({type:Boolean,reflect:!0})],nd.prototype,"mirrored",2);nd=KS([Oe("ph-browser")],nd)});var _Ce={};Me(_Ce,{PhCaretDown:()=>sd});var Wdt,Kdt,GS,sd,NCe=y(()=>{ft();mt();wt();xt();vt();ht();Wdt=Object.defineProperty,Kdt=Object.getOwnPropertyDescriptor,GS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Kdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Wdt(e,r,s),s},sd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};sd.weightsMap=new Map([["thin",F`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",F`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",F`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]);sd.styles=_e`
    :host {
      display: contents;
    }
  `;GS([K({type:String,reflect:!0})],sd.prototype,"size",2);GS([K({type:String,reflect:!0})],sd.prototype,"weight",2);GS([K({type:String,reflect:!0})],sd.prototype,"color",2);GS([K({type:Boolean,reflect:!0})],sd.prototype,"mirrored",2);sd=GS([Oe("ph-caret-down")],sd)});var OCe={};Me(OCe,{PhCaretLeft:()=>id});var Gdt,Zdt,ZS,id,RCe=y(()=>{ft();mt();wt();xt();vt();ht();Gdt=Object.defineProperty,Zdt=Object.getOwnPropertyDescriptor,ZS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Zdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Gdt(e,r,s),s},id=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${id.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};id.weightsMap=new Map([["thin",F`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",F`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",F`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",F`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",F`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",F`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]);id.styles=_e`
    :host {
      display: contents;
    }
  `;ZS([K({type:String,reflect:!0})],id.prototype,"size",2);ZS([K({type:String,reflect:!0})],id.prototype,"weight",2);ZS([K({type:String,reflect:!0})],id.prototype,"color",2);ZS([K({type:Boolean,reflect:!0})],id.prototype,"mirrored",2);id=ZS([Oe("ph-caret-left")],id)});var kCe={};Me(kCe,{PhCaretRight:()=>od});var Ydt,Jdt,YS,od,BCe=y(()=>{ft();mt();wt();xt();vt();ht();Ydt=Object.defineProperty,Jdt=Object.getOwnPropertyDescriptor,YS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Jdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ydt(e,r,s),s},od=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${od.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};od.weightsMap=new Map([["thin",F`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",F`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",F`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",F`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",F`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",F`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]);od.styles=_e`
    :host {
      display: contents;
    }
  `;YS([K({type:String,reflect:!0})],od.prototype,"size",2);YS([K({type:String,reflect:!0})],od.prototype,"weight",2);YS([K({type:String,reflect:!0})],od.prototype,"color",2);YS([K({type:Boolean,reflect:!0})],od.prototype,"mirrored",2);od=YS([Oe("ph-caret-right")],od)});var UCe={};Me(UCe,{PhCaretUp:()=>ad});var Qdt,Xdt,JS,ad,DCe=y(()=>{ft();mt();wt();xt();vt();ht();Qdt=Object.defineProperty,Xdt=Object.getOwnPropertyDescriptor,JS=(t,e,r,n)=>{for(var s=n>1?void 0:n?Xdt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Qdt(e,r,s),s},ad=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ad.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ad.weightsMap=new Map([["thin",F`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",F`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",F`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",F`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",F`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",F`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]);ad.styles=_e`
    :host {
      display: contents;
    }
  `;JS([K({type:String,reflect:!0})],ad.prototype,"size",2);JS([K({type:String,reflect:!0})],ad.prototype,"weight",2);JS([K({type:String,reflect:!0})],ad.prototype,"color",2);JS([K({type:Boolean,reflect:!0})],ad.prototype,"mirrored",2);ad=JS([Oe("ph-caret-up")],ad)});var LCe={};Me(LCe,{PhCheck:()=>cd});var ept,tpt,QS,cd,MCe=y(()=>{ft();mt();wt();xt();vt();ht();ept=Object.defineProperty,tpt=Object.getOwnPropertyDescriptor,QS=(t,e,r,n)=>{for(var s=n>1?void 0:n?tpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&ept(e,r,s),s},cd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${cd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};cd.weightsMap=new Map([["thin",F`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",F`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",F`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",F`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]);cd.styles=_e`
    :host {
      display: contents;
    }
  `;QS([K({type:String,reflect:!0})],cd.prototype,"size",2);QS([K({type:String,reflect:!0})],cd.prototype,"weight",2);QS([K({type:String,reflect:!0})],cd.prototype,"color",2);QS([K({type:Boolean,reflect:!0})],cd.prototype,"mirrored",2);cd=QS([Oe("ph-check")],cd)});var $Ce={};Me($Ce,{PhCircleHalf:()=>ld});var rpt,npt,XS,ld,HCe=y(()=>{ft();mt();wt();xt();vt();ht();rpt=Object.defineProperty,npt=Object.getOwnPropertyDescriptor,XS=(t,e,r,n)=>{for(var s=n>1?void 0:n?npt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&rpt(e,r,s),s},ld=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ld.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ld.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",F`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]);ld.styles=_e`
    :host {
      display: contents;
    }
  `;XS([K({type:String,reflect:!0})],ld.prototype,"size",2);XS([K({type:String,reflect:!0})],ld.prototype,"weight",2);XS([K({type:String,reflect:!0})],ld.prototype,"color",2);XS([K({type:Boolean,reflect:!0})],ld.prototype,"mirrored",2);ld=XS([Oe("ph-circle-half")],ld)});var FCe={};Me(FCe,{PhClock:()=>ud});var spt,ipt,eI,ud,zCe=y(()=>{ft();mt();wt();xt();vt();ht();spt=Object.defineProperty,ipt=Object.getOwnPropertyDescriptor,eI=(t,e,r,n)=>{for(var s=n>1?void 0:n?ipt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&spt(e,r,s),s},ud=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ud.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ud.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]);ud.styles=_e`
    :host {
      display: contents;
    }
  `;eI([K({type:String,reflect:!0})],ud.prototype,"size",2);eI([K({type:String,reflect:!0})],ud.prototype,"weight",2);eI([K({type:String,reflect:!0})],ud.prototype,"color",2);eI([K({type:Boolean,reflect:!0})],ud.prototype,"mirrored",2);ud=eI([Oe("ph-clock")],ud)});var VCe={};Me(VCe,{PhCompass:()=>fd});var opt,apt,tI,fd,jCe=y(()=>{ft();mt();wt();xt();vt();ht();opt=Object.defineProperty,apt=Object.getOwnPropertyDescriptor,tI=(t,e,r,n)=>{for(var s=n>1?void 0:n?apt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&opt(e,r,s),s},fd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};fd.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",F`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]);fd.styles=_e`
    :host {
      display: contents;
    }
  `;tI([K({type:String,reflect:!0})],fd.prototype,"size",2);tI([K({type:String,reflect:!0})],fd.prototype,"weight",2);tI([K({type:String,reflect:!0})],fd.prototype,"color",2);tI([K({type:Boolean,reflect:!0})],fd.prototype,"mirrored",2);fd=tI([Oe("ph-compass")],fd)});var qCe={};Me(qCe,{PhCopy:()=>dd});var cpt,lpt,rI,dd,WCe=y(()=>{ft();mt();wt();xt();vt();ht();cpt=Object.defineProperty,lpt=Object.getOwnPropertyDescriptor,rI=(t,e,r,n)=>{for(var s=n>1?void 0:n?lpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&cpt(e,r,s),s},dd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${dd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};dd.weightsMap=new Map([["thin",F`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",F`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",F`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",F`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",F`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",F`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]);dd.styles=_e`
    :host {
      display: contents;
    }
  `;rI([K({type:String,reflect:!0})],dd.prototype,"size",2);rI([K({type:String,reflect:!0})],dd.prototype,"weight",2);rI([K({type:String,reflect:!0})],dd.prototype,"color",2);rI([K({type:Boolean,reflect:!0})],dd.prototype,"mirrored",2);dd=rI([Oe("ph-copy")],dd)});var KCe={};Me(KCe,{PhCreditCard:()=>pd});var upt,fpt,nI,pd,GCe=y(()=>{ft();mt();wt();xt();vt();ht();upt=Object.defineProperty,fpt=Object.getOwnPropertyDescriptor,nI=(t,e,r,n)=>{for(var s=n>1?void 0:n?fpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&upt(e,r,s),s},pd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${pd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};pd.weightsMap=new Map([["thin",F`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",F`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",F`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",F`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",F`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",F`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]);pd.styles=_e`
    :host {
      display: contents;
    }
  `;nI([K({type:String,reflect:!0})],pd.prototype,"size",2);nI([K({type:String,reflect:!0})],pd.prototype,"weight",2);nI([K({type:String,reflect:!0})],pd.prototype,"color",2);nI([K({type:Boolean,reflect:!0})],pd.prototype,"mirrored",2);pd=nI([Oe("ph-credit-card")],pd)});var ZCe={};Me(ZCe,{PhCurrencyDollar:()=>hd});var dpt,ppt,sI,hd,YCe=y(()=>{ft();mt();wt();xt();vt();ht();dpt=Object.defineProperty,ppt=Object.getOwnPropertyDescriptor,sI=(t,e,r,n)=>{for(var s=n>1?void 0:n?ppt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&dpt(e,r,s),s},hd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${hd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};hd.weightsMap=new Map([["thin",F`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",F`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",F`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",F`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",F`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",F`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]);hd.styles=_e`
    :host {
      display: contents;
    }
  `;sI([K({type:String,reflect:!0})],hd.prototype,"size",2);sI([K({type:String,reflect:!0})],hd.prototype,"weight",2);sI([K({type:String,reflect:!0})],hd.prototype,"color",2);sI([K({type:Boolean,reflect:!0})],hd.prototype,"mirrored",2);hd=sI([Oe("ph-currency-dollar")],hd)});var JCe={};Me(JCe,{PhDesktop:()=>md});var hpt,mpt,iI,md,QCe=y(()=>{ft();mt();wt();xt();vt();ht();hpt=Object.defineProperty,mpt=Object.getOwnPropertyDescriptor,iI=(t,e,r,n)=>{for(var s=n>1?void 0:n?mpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&hpt(e,r,s),s},md=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${md.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};md.weightsMap=new Map([["thin",F`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",F`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",F`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",F`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",F`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",F`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]);md.styles=_e`
    :host {
      display: contents;
    }
  `;iI([K({type:String,reflect:!0})],md.prototype,"size",2);iI([K({type:String,reflect:!0})],md.prototype,"weight",2);iI([K({type:String,reflect:!0})],md.prototype,"color",2);iI([K({type:Boolean,reflect:!0})],md.prototype,"mirrored",2);md=iI([Oe("ph-desktop")],md)});var XCe={};Me(XCe,{PhDeviceMobile:()=>gd});var gpt,ypt,oI,gd,e9e=y(()=>{ft();mt();wt();xt();vt();ht();gpt=Object.defineProperty,ypt=Object.getOwnPropertyDescriptor,oI=(t,e,r,n)=>{for(var s=n>1?void 0:n?ypt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&gpt(e,r,s),s},gd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${gd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};gd.weightsMap=new Map([["thin",F`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",F`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",F`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",F`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",F`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",F`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]);gd.styles=_e`
    :host {
      display: contents;
    }
  `;oI([K({type:String,reflect:!0})],gd.prototype,"size",2);oI([K({type:String,reflect:!0})],gd.prototype,"weight",2);oI([K({type:String,reflect:!0})],gd.prototype,"color",2);oI([K({type:Boolean,reflect:!0})],gd.prototype,"mirrored",2);gd=oI([Oe("ph-device-mobile")],gd)});var t9e={};Me(t9e,{PhDotsThree:()=>yd});var bpt,wpt,aI,yd,r9e=y(()=>{ft();mt();wt();xt();vt();ht();bpt=Object.defineProperty,wpt=Object.getOwnPropertyDescriptor,aI=(t,e,r,n)=>{for(var s=n>1?void 0:n?wpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&bpt(e,r,s),s},yd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${yd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};yd.weightsMap=new Map([["thin",F`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",F`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",F`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",F`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",F`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",F`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]);yd.styles=_e`
    :host {
      display: contents;
    }
  `;aI([K({type:String,reflect:!0})],yd.prototype,"size",2);aI([K({type:String,reflect:!0})],yd.prototype,"weight",2);aI([K({type:String,reflect:!0})],yd.prototype,"color",2);aI([K({type:Boolean,reflect:!0})],yd.prototype,"mirrored",2);yd=aI([Oe("ph-dots-three")],yd)});var n9e={};Me(n9e,{PhVault:()=>bd});var xpt,vpt,cI,bd,s9e=y(()=>{ft();mt();wt();xt();vt();ht();xpt=Object.defineProperty,vpt=Object.getOwnPropertyDescriptor,cI=(t,e,r,n)=>{for(var s=n>1?void 0:n?vpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&xpt(e,r,s),s},bd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${bd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};bd.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",F`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",F`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]);bd.styles=_e`
    :host {
      display: contents;
    }
  `;cI([K({type:String,reflect:!0})],bd.prototype,"size",2);cI([K({type:String,reflect:!0})],bd.prototype,"weight",2);cI([K({type:String,reflect:!0})],bd.prototype,"color",2);cI([K({type:Boolean,reflect:!0})],bd.prototype,"mirrored",2);bd=cI([Oe("ph-vault")],bd)});var i9e={};Me(i9e,{PhEnvelope:()=>wd});var Ept,Apt,lI,wd,o9e=y(()=>{ft();mt();wt();xt();vt();ht();Ept=Object.defineProperty,Apt=Object.getOwnPropertyDescriptor,lI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Apt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ept(e,r,s),s},wd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};wd.weightsMap=new Map([["thin",F`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",F`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",F`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",F`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",F`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",F`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]);wd.styles=_e`
    :host {
      display: contents;
    }
  `;lI([K({type:String,reflect:!0})],wd.prototype,"size",2);lI([K({type:String,reflect:!0})],wd.prototype,"weight",2);lI([K({type:String,reflect:!0})],wd.prototype,"color",2);lI([K({type:Boolean,reflect:!0})],wd.prototype,"mirrored",2);wd=lI([Oe("ph-envelope")],wd)});var a9e={};Me(a9e,{PhFunnelSimple:()=>xd});var Cpt,Spt,uI,xd,c9e=y(()=>{ft();mt();wt();xt();vt();ht();Cpt=Object.defineProperty,Spt=Object.getOwnPropertyDescriptor,uI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Spt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Cpt(e,r,s),s},xd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};xd.weightsMap=new Map([["thin",F`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",F`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",F`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",F`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]);xd.styles=_e`
    :host {
      display: contents;
    }
  `;uI([K({type:String,reflect:!0})],xd.prototype,"size",2);uI([K({type:String,reflect:!0})],xd.prototype,"weight",2);uI([K({type:String,reflect:!0})],xd.prototype,"color",2);uI([K({type:Boolean,reflect:!0})],xd.prototype,"mirrored",2);xd=uI([Oe("ph-funnel-simple")],xd)});var l9e={};Me(l9e,{PhGlobe:()=>vd});var Ipt,Tpt,fI,vd,u9e=y(()=>{ft();mt();wt();xt();vt();ht();Ipt=Object.defineProperty,Tpt=Object.getOwnPropertyDescriptor,fI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Tpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ipt(e,r,s),s},vd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${vd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};vd.weightsMap=new Map([["thin",F`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",F`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",F`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]);vd.styles=_e`
    :host {
      display: contents;
    }
  `;fI([K({type:String,reflect:!0})],vd.prototype,"size",2);fI([K({type:String,reflect:!0})],vd.prototype,"weight",2);fI([K({type:String,reflect:!0})],vd.prototype,"color",2);fI([K({type:Boolean,reflect:!0})],vd.prototype,"mirrored",2);vd=fI([Oe("ph-globe")],vd)});var f9e={};Me(f9e,{PhIdentificationCard:()=>Ed});var Ppt,_pt,dI,Ed,d9e=y(()=>{ft();mt();wt();xt();vt();ht();Ppt=Object.defineProperty,_pt=Object.getOwnPropertyDescriptor,dI=(t,e,r,n)=>{for(var s=n>1?void 0:n?_pt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ppt(e,r,s),s},Ed=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ed.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ed.weightsMap=new Map([["thin",F`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",F`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",F`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",F`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",F`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",F`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]);Ed.styles=_e`
    :host {
      display: contents;
    }
  `;dI([K({type:String,reflect:!0})],Ed.prototype,"size",2);dI([K({type:String,reflect:!0})],Ed.prototype,"weight",2);dI([K({type:String,reflect:!0})],Ed.prototype,"color",2);dI([K({type:Boolean,reflect:!0})],Ed.prototype,"mirrored",2);Ed=dI([Oe("ph-identification-card")],Ed)});var p9e={};Me(p9e,{PhImage:()=>Ad});var Npt,Opt,pI,Ad,h9e=y(()=>{ft();mt();wt();xt();vt();ht();Npt=Object.defineProperty,Opt=Object.getOwnPropertyDescriptor,pI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Opt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Npt(e,r,s),s},Ad=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ad.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ad.weightsMap=new Map([["thin",F`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",F`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",F`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",F`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",F`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]);Ad.styles=_e`
    :host {
      display: contents;
    }
  `;pI([K({type:String,reflect:!0})],Ad.prototype,"size",2);pI([K({type:String,reflect:!0})],Ad.prototype,"weight",2);pI([K({type:String,reflect:!0})],Ad.prototype,"color",2);pI([K({type:Boolean,reflect:!0})],Ad.prototype,"mirrored",2);Ad=pI([Oe("ph-image")],Ad)});var m9e={};Me(m9e,{PhInfo:()=>Cd});var Rpt,kpt,hI,Cd,g9e=y(()=>{ft();mt();wt();xt();vt();ht();Rpt=Object.defineProperty,kpt=Object.getOwnPropertyDescriptor,hI=(t,e,r,n)=>{for(var s=n>1?void 0:n?kpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Rpt(e,r,s),s},Cd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Cd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Cd.weightsMap=new Map([["thin",F`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",F`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",F`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]);Cd.styles=_e`
    :host {
      display: contents;
    }
  `;hI([K({type:String,reflect:!0})],Cd.prototype,"size",2);hI([K({type:String,reflect:!0})],Cd.prototype,"weight",2);hI([K({type:String,reflect:!0})],Cd.prototype,"color",2);hI([K({type:Boolean,reflect:!0})],Cd.prototype,"mirrored",2);Cd=hI([Oe("ph-info")],Cd)});var y9e={};Me(y9e,{PhLightbulb:()=>Sd});var Bpt,Upt,mI,Sd,b9e=y(()=>{ft();mt();wt();xt();vt();ht();Bpt=Object.defineProperty,Upt=Object.getOwnPropertyDescriptor,mI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Upt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Bpt(e,r,s),s},Sd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Sd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Sd.weightsMap=new Map([["thin",F`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",F`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",F`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",F`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",F`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",F`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]);Sd.styles=_e`
    :host {
      display: contents;
    }
  `;mI([K({type:String,reflect:!0})],Sd.prototype,"size",2);mI([K({type:String,reflect:!0})],Sd.prototype,"weight",2);mI([K({type:String,reflect:!0})],Sd.prototype,"color",2);mI([K({type:Boolean,reflect:!0})],Sd.prototype,"mirrored",2);Sd=mI([Oe("ph-lightbulb")],Sd)});var w9e={};Me(w9e,{PhMagnifyingGlass:()=>Id});var Dpt,Lpt,gI,Id,x9e=y(()=>{ft();mt();wt();xt();vt();ht();Dpt=Object.defineProperty,Lpt=Object.getOwnPropertyDescriptor,gI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Lpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Dpt(e,r,s),s},Id=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Id.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Id.weightsMap=new Map([["thin",F`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",F`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",F`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",F`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",F`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",F`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]);Id.styles=_e`
    :host {
      display: contents;
    }
  `;gI([K({type:String,reflect:!0})],Id.prototype,"size",2);gI([K({type:String,reflect:!0})],Id.prototype,"weight",2);gI([K({type:String,reflect:!0})],Id.prototype,"color",2);gI([K({type:Boolean,reflect:!0})],Id.prototype,"mirrored",2);Id=gI([Oe("ph-magnifying-glass")],Id)});var v9e={};Me(v9e,{PhPaperPlaneRight:()=>Td});var Mpt,$pt,yI,Td,E9e=y(()=>{ft();mt();wt();xt();vt();ht();Mpt=Object.defineProperty,$pt=Object.getOwnPropertyDescriptor,yI=(t,e,r,n)=>{for(var s=n>1?void 0:n?$pt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Mpt(e,r,s),s},Td=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Td.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Td.weightsMap=new Map([["thin",F`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",F`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",F`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",F`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",F`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",F`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]);Td.styles=_e`
    :host {
      display: contents;
    }
  `;yI([K({type:String,reflect:!0})],Td.prototype,"size",2);yI([K({type:String,reflect:!0})],Td.prototype,"weight",2);yI([K({type:String,reflect:!0})],Td.prototype,"color",2);yI([K({type:Boolean,reflect:!0})],Td.prototype,"mirrored",2);Td=yI([Oe("ph-paper-plane-right")],Td)});var A9e={};Me(A9e,{PhPlus:()=>Pd});var Hpt,Fpt,bI,Pd,C9e=y(()=>{ft();mt();wt();xt();vt();ht();Hpt=Object.defineProperty,Fpt=Object.getOwnPropertyDescriptor,bI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Fpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Hpt(e,r,s),s},Pd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Pd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Pd.weightsMap=new Map([["thin",F`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",F`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",F`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",F`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",F`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]);Pd.styles=_e`
    :host {
      display: contents;
    }
  `;bI([K({type:String,reflect:!0})],Pd.prototype,"size",2);bI([K({type:String,reflect:!0})],Pd.prototype,"weight",2);bI([K({type:String,reflect:!0})],Pd.prototype,"color",2);bI([K({type:Boolean,reflect:!0})],Pd.prototype,"mirrored",2);Pd=bI([Oe("ph-plus")],Pd)});var S9e={};Me(S9e,{PhPower:()=>_d});var zpt,Vpt,wI,_d,I9e=y(()=>{ft();mt();wt();xt();vt();ht();zpt=Object.defineProperty,Vpt=Object.getOwnPropertyDescriptor,wI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Vpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&zpt(e,r,s),s},_d=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${_d.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};_d.weightsMap=new Map([["thin",F`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",F`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",F`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",F`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",F`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]);_d.styles=_e`
    :host {
      display: contents;
    }
  `;wI([K({type:String,reflect:!0})],_d.prototype,"size",2);wI([K({type:String,reflect:!0})],_d.prototype,"weight",2);wI([K({type:String,reflect:!0})],_d.prototype,"color",2);wI([K({type:Boolean,reflect:!0})],_d.prototype,"mirrored",2);_d=wI([Oe("ph-power")],_d)});var T9e={};Me(T9e,{PhPuzzlePiece:()=>Nd});var jpt,qpt,xI,Nd,P9e=y(()=>{ft();mt();wt();xt();vt();ht();jpt=Object.defineProperty,qpt=Object.getOwnPropertyDescriptor,xI=(t,e,r,n)=>{for(var s=n>1?void 0:n?qpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&jpt(e,r,s),s},Nd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Nd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Nd.weightsMap=new Map([["thin",F`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",F`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",F`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",F`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",F`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",F`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]);Nd.styles=_e`
    :host {
      display: contents;
    }
  `;xI([K({type:String,reflect:!0})],Nd.prototype,"size",2);xI([K({type:String,reflect:!0})],Nd.prototype,"weight",2);xI([K({type:String,reflect:!0})],Nd.prototype,"color",2);xI([K({type:Boolean,reflect:!0})],Nd.prototype,"mirrored",2);Nd=xI([Oe("ph-puzzle-piece")],Nd)});var _9e={};Me(_9e,{PhQrCode:()=>Od});var Wpt,Kpt,vI,Od,N9e=y(()=>{ft();mt();wt();xt();vt();ht();Wpt=Object.defineProperty,Kpt=Object.getOwnPropertyDescriptor,vI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Kpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Wpt(e,r,s),s},Od=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Od.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Od.weightsMap=new Map([["thin",F`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",F`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",F`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",F`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",F`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",F`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]);Od.styles=_e`
    :host {
      display: contents;
    }
  `;vI([K({type:String,reflect:!0})],Od.prototype,"size",2);vI([K({type:String,reflect:!0})],Od.prototype,"weight",2);vI([K({type:String,reflect:!0})],Od.prototype,"color",2);vI([K({type:Boolean,reflect:!0})],Od.prototype,"mirrored",2);Od=vI([Oe("ph-qr-code")],Od)});var O9e={};Me(O9e,{PhQuestion:()=>Rd});var Gpt,Zpt,EI,Rd,R9e=y(()=>{ft();mt();wt();xt();vt();ht();Gpt=Object.defineProperty,Zpt=Object.getOwnPropertyDescriptor,EI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Zpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Gpt(e,r,s),s},Rd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Rd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Rd.weightsMap=new Map([["thin",F`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",F`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",F`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",F`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]);Rd.styles=_e`
    :host {
      display: contents;
    }
  `;EI([K({type:String,reflect:!0})],Rd.prototype,"size",2);EI([K({type:String,reflect:!0})],Rd.prototype,"weight",2);EI([K({type:String,reflect:!0})],Rd.prototype,"color",2);EI([K({type:Boolean,reflect:!0})],Rd.prototype,"mirrored",2);Rd=EI([Oe("ph-question")],Rd)});var k9e={};Me(k9e,{PhQuestionMark:()=>kd});var Ypt,Jpt,AI,kd,B9e=y(()=>{ft();mt();wt();xt();vt();ht();Ypt=Object.defineProperty,Jpt=Object.getOwnPropertyDescriptor,AI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Jpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ypt(e,r,s),s},kd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${kd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};kd.weightsMap=new Map([["thin",F`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",F`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",F`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",F`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",F`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",F`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]);kd.styles=_e`
    :host {
      display: contents;
    }
  `;AI([K({type:String,reflect:!0})],kd.prototype,"size",2);AI([K({type:String,reflect:!0})],kd.prototype,"weight",2);AI([K({type:String,reflect:!0})],kd.prototype,"color",2);AI([K({type:Boolean,reflect:!0})],kd.prototype,"mirrored",2);kd=AI([Oe("ph-question-mark")],kd)});var U9e={};Me(U9e,{PhSealCheck:()=>Bd});var Qpt,Xpt,CI,Bd,D9e=y(()=>{ft();mt();wt();xt();vt();ht();Qpt=Object.defineProperty,Xpt=Object.getOwnPropertyDescriptor,CI=(t,e,r,n)=>{for(var s=n>1?void 0:n?Xpt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Qpt(e,r,s),s},Bd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Bd.weightsMap=new Map([["thin",F`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",F`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",F`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",F`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",F`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",F`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]);Bd.styles=_e`
    :host {
      display: contents;
    }
  `;CI([K({type:String,reflect:!0})],Bd.prototype,"size",2);CI([K({type:String,reflect:!0})],Bd.prototype,"weight",2);CI([K({type:String,reflect:!0})],Bd.prototype,"color",2);CI([K({type:Boolean,reflect:!0})],Bd.prototype,"mirrored",2);Bd=CI([Oe("ph-seal-check")],Bd)});var L9e={};Me(L9e,{PhSignOut:()=>Ud});var eht,tht,SI,Ud,M9e=y(()=>{ft();mt();wt();xt();vt();ht();eht=Object.defineProperty,tht=Object.getOwnPropertyDescriptor,SI=(t,e,r,n)=>{for(var s=n>1?void 0:n?tht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&eht(e,r,s),s},Ud=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ud.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ud.weightsMap=new Map([["thin",F`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",F`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",F`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",F`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",F`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",F`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]);Ud.styles=_e`
    :host {
      display: contents;
    }
  `;SI([K({type:String,reflect:!0})],Ud.prototype,"size",2);SI([K({type:String,reflect:!0})],Ud.prototype,"weight",2);SI([K({type:String,reflect:!0})],Ud.prototype,"color",2);SI([K({type:Boolean,reflect:!0})],Ud.prototype,"mirrored",2);Ud=SI([Oe("ph-sign-out")],Ud)});var $9e={};Me($9e,{PhSpinner:()=>Dd});var rht,nht,II,Dd,H9e=y(()=>{ft();mt();wt();xt();vt();ht();rht=Object.defineProperty,nht=Object.getOwnPropertyDescriptor,II=(t,e,r,n)=>{for(var s=n>1?void 0:n?nht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&rht(e,r,s),s},Dd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Dd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Dd.weightsMap=new Map([["thin",F`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",F`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",F`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",F`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]);Dd.styles=_e`
    :host {
      display: contents;
    }
  `;II([K({type:String,reflect:!0})],Dd.prototype,"size",2);II([K({type:String,reflect:!0})],Dd.prototype,"weight",2);II([K({type:String,reflect:!0})],Dd.prototype,"color",2);II([K({type:Boolean,reflect:!0})],Dd.prototype,"mirrored",2);Dd=II([Oe("ph-spinner")],Dd)});var F9e={};Me(F9e,{PhTrash:()=>Ld});var sht,iht,TI,Ld,z9e=y(()=>{ft();mt();wt();xt();vt();ht();sht=Object.defineProperty,iht=Object.getOwnPropertyDescriptor,TI=(t,e,r,n)=>{for(var s=n>1?void 0:n?iht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&sht(e,r,s),s},Ld=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ld.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ld.weightsMap=new Map([["thin",F`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",F`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",F`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",F`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",F`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",F`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]);Ld.styles=_e`
    :host {
      display: contents;
    }
  `;TI([K({type:String,reflect:!0})],Ld.prototype,"size",2);TI([K({type:String,reflect:!0})],Ld.prototype,"weight",2);TI([K({type:String,reflect:!0})],Ld.prototype,"color",2);TI([K({type:Boolean,reflect:!0})],Ld.prototype,"mirrored",2);Ld=TI([Oe("ph-trash")],Ld)});var V9e={};Me(V9e,{PhUser:()=>Md});var oht,aht,PI,Md,j9e=y(()=>{ft();mt();wt();xt();vt();ht();oht=Object.defineProperty,aht=Object.getOwnPropertyDescriptor,PI=(t,e,r,n)=>{for(var s=n>1?void 0:n?aht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&oht(e,r,s),s},Md=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Md.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Md.weightsMap=new Map([["thin",F`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",F`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",F`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",F`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",F`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",F`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]);Md.styles=_e`
    :host {
      display: contents;
    }
  `;PI([K({type:String,reflect:!0})],Md.prototype,"size",2);PI([K({type:String,reflect:!0})],Md.prototype,"weight",2);PI([K({type:String,reflect:!0})],Md.prototype,"color",2);PI([K({type:Boolean,reflect:!0})],Md.prototype,"mirrored",2);Md=PI([Oe("ph-user")],Md)});var q9e={};Me(q9e,{PhWallet:()=>$d});var cht,lht,_I,$d,W9e=y(()=>{ft();mt();wt();xt();vt();ht();cht=Object.defineProperty,lht=Object.getOwnPropertyDescriptor,_I=(t,e,r,n)=>{for(var s=n>1?void 0:n?lht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&cht(e,r,s),s},$d=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$d.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};$d.weightsMap=new Map([["thin",F`<path d="M216,68H56a12,12,0,0,1,0-24H192a4,4,0,0,0,0-8H56A20,20,0,0,0,36,56V184a20,20,0,0,0,20,20H216a12,12,0,0,0,12-12V80A12,12,0,0,0,216,68Zm4,124a4,4,0,0,1-4,4H56a12,12,0,0,1-12-12V72a19.86,19.86,0,0,0,12,4H216a4,4,0,0,1,4,4Zm-32-60a8,8,0,1,1-8-8A8,8,0,0,1,188,132Z"/>`],["light",F`<path d="M216,66H56a10,10,0,0,1,0-20H192a6,6,0,0,0,0-12H56A22,22,0,0,0,34,56V184a22,22,0,0,0,22,22H216a14,14,0,0,0,14-14V80A14,14,0,0,0,216,66Zm2,126a2,2,0,0,1-2,2H56a10,10,0,0,1-10-10V75.59A21.84,21.84,0,0,0,56,78H216a2,2,0,0,1,2,2Zm-28-60a10,10,0,1,1-10-10A10,10,0,0,1,190,132Z"/>`],["regular",F`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`],["bold",F`<path d="M196,136a16,16,0,1,1-16-16A16,16,0,0,1,196,136Zm40-36v80a32,32,0,0,1-32,32H60a32,32,0,0,1-32-32V60.92A32,32,0,0,1,60,28H192a12,12,0,0,1,0,24H60a8,8,0,0,0-8,8.26v.08A8.32,8.32,0,0,0,60.48,68H204A32,32,0,0,1,236,100Zm-24,0a8,8,0,0,0-8-8H60.48A33.72,33.72,0,0,1,52,90.92V180a8,8,0,0,0,8,8H204a8,8,0,0,0,8-8Z"/>`],["fill",F`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm-36,80a12,12,0,1,1,12-12A12,12,0,0,1,180,144Z"/>`],["duotone",F`<path d="M224,80V192a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V56A16,16,0,0,0,56,72H216A8,8,0,0,1,224,80Z" opacity="0.2"/><path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`]]);$d.styles=_e`
    :host {
      display: contents;
    }
  `;_I([K({type:String,reflect:!0})],$d.prototype,"size",2);_I([K({type:String,reflect:!0})],$d.prototype,"weight",2);_I([K({type:String,reflect:!0})],$d.prototype,"color",2);_I([K({type:Boolean,reflect:!0})],$d.prototype,"mirrored",2);$d=_I([Oe("ph-wallet")],$d)});var K9e={};Me(K9e,{PhWarning:()=>Hd});var uht,fht,NI,Hd,G9e=y(()=>{ft();mt();wt();xt();vt();ht();uht=Object.defineProperty,fht=Object.getOwnPropertyDescriptor,NI=(t,e,r,n)=>{for(var s=n>1?void 0:n?fht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&uht(e,r,s),s},Hd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Hd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Hd.weightsMap=new Map([["thin",F`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",F`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",F`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",F`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",F`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",F`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]);Hd.styles=_e`
    :host {
      display: contents;
    }
  `;NI([K({type:String,reflect:!0})],Hd.prototype,"size",2);NI([K({type:String,reflect:!0})],Hd.prototype,"weight",2);NI([K({type:String,reflect:!0})],Hd.prototype,"color",2);NI([K({type:Boolean,reflect:!0})],Hd.prototype,"mirrored",2);Hd=NI([Oe("ph-warning")],Hd)});var Z9e={};Me(Z9e,{PhWarningCircle:()=>Fd});var dht,pht,OI,Fd,Y9e=y(()=>{ft();mt();wt();xt();vt();ht();dht=Object.defineProperty,pht=Object.getOwnPropertyDescriptor,OI=(t,e,r,n)=>{for(var s=n>1?void 0:n?pht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&dht(e,r,s),s},Fd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Fd.weightsMap=new Map([["thin",F`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",F`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",F`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",F`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",F`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]);Fd.styles=_e`
    :host {
      display: contents;
    }
  `;OI([K({type:String,reflect:!0})],Fd.prototype,"size",2);OI([K({type:String,reflect:!0})],Fd.prototype,"weight",2);OI([K({type:String,reflect:!0})],Fd.prototype,"color",2);OI([K({type:Boolean,reflect:!0})],Fd.prototype,"mirrored",2);Fd=OI([Oe("ph-warning-circle")],Fd)});var J9e={};Me(J9e,{PhX:()=>zd});var hht,mht,RI,zd,Q9e=y(()=>{ft();mt();wt();xt();vt();ht();hht=Object.defineProperty,mht=Object.getOwnPropertyDescriptor,RI=(t,e,r,n)=>{for(var s=n>1?void 0:n?mht(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&hht(e,r,s),s},zd=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Ne`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zd.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};zd.weightsMap=new Map([["thin",F`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",F`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",F`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",F`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",F`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",F`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]);zd.styles=_e`
    :host {
      display: contents;
    }
  `;RI([K({type:String,reflect:!0})],zd.prototype,"size",2);RI([K({type:String,reflect:!0})],zd.prototype,"weight",2);RI([K({type:String,reflect:!0})],zd.prototype,"color",2);RI([K({type:Boolean,reflect:!0})],zd.prototype,"mirrored",2);zd=RI([Oe("ph-x")],zd)});var kI,ght,yht,bht,wht,Nx,Gs=y(()=>{Ae();Qe();_Ee();OEe();kEe();UEe();LEe();$Ee();FEe();VEe();qEe();KEe();ZEe();JEe();XEe();tAe();nAe();iAe();aAe();lAe();fAe();pAe();mAe();yAe();wAe();vAe();IAe();TAe();Zt();nr();Qt();_Ae();kI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ght={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",wallet:"ph-wallet",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",coins:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",paperPlaneTitle:"",reown:"",solana:"",ton:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",infoSeal:"",checkmark:""},yht={"ph-arrow-circle-down":()=>Promise.resolve().then(()=>(sCe(),nCe)),"ph-arrow-clockwise":()=>Promise.resolve().then(()=>(oCe(),iCe)),"ph-arrow-down":()=>Promise.resolve().then(()=>(cCe(),aCe)),"ph-arrow-left":()=>Promise.resolve().then(()=>(uCe(),lCe)),"ph-arrow-right":()=>Promise.resolve().then(()=>(dCe(),fCe)),"ph-arrow-square-out":()=>Promise.resolve().then(()=>(hCe(),pCe)),"ph-arrows-down-up":()=>Promise.resolve().then(()=>(gCe(),mCe)),"ph-arrows-left-right":()=>Promise.resolve().then(()=>(bCe(),yCe)),"ph-arrow-up":()=>Promise.resolve().then(()=>(xCe(),wCe)),"ph-arrow-up-right":()=>Promise.resolve().then(()=>(ECe(),vCe)),"ph-arrows-clockwise":()=>Promise.resolve().then(()=>(CCe(),ACe)),"ph-bank":()=>Promise.resolve().then(()=>(ICe(),SCe)),"ph-browser":()=>Promise.resolve().then(()=>(PCe(),TCe)),"ph-caret-down":()=>Promise.resolve().then(()=>(NCe(),_Ce)),"ph-caret-left":()=>Promise.resolve().then(()=>(RCe(),OCe)),"ph-caret-right":()=>Promise.resolve().then(()=>(BCe(),kCe)),"ph-caret-up":()=>Promise.resolve().then(()=>(DCe(),UCe)),"ph-check":()=>Promise.resolve().then(()=>(MCe(),LCe)),"ph-circle-half":()=>Promise.resolve().then(()=>(HCe(),$Ce)),"ph-clock":()=>Promise.resolve().then(()=>(zCe(),FCe)),"ph-compass":()=>Promise.resolve().then(()=>(jCe(),VCe)),"ph-copy":()=>Promise.resolve().then(()=>(WCe(),qCe)),"ph-credit-card":()=>Promise.resolve().then(()=>(GCe(),KCe)),"ph-currency-dollar":()=>Promise.resolve().then(()=>(YCe(),ZCe)),"ph-desktop":()=>Promise.resolve().then(()=>(QCe(),JCe)),"ph-device-mobile":()=>Promise.resolve().then(()=>(e9e(),XCe)),"ph-dots-three":()=>Promise.resolve().then(()=>(r9e(),t9e)),"ph-vault":()=>Promise.resolve().then(()=>(s9e(),n9e)),"ph-envelope":()=>Promise.resolve().then(()=>(o9e(),i9e)),"ph-funnel-simple":()=>Promise.resolve().then(()=>(c9e(),a9e)),"ph-globe":()=>Promise.resolve().then(()=>(u9e(),l9e)),"ph-identification-card":()=>Promise.resolve().then(()=>(d9e(),f9e)),"ph-image":()=>Promise.resolve().then(()=>(h9e(),p9e)),"ph-info":()=>Promise.resolve().then(()=>(g9e(),m9e)),"ph-lightbulb":()=>Promise.resolve().then(()=>(b9e(),y9e)),"ph-magnifying-glass":()=>Promise.resolve().then(()=>(x9e(),w9e)),"ph-paper-plane-right":()=>Promise.resolve().then(()=>(E9e(),v9e)),"ph-plus":()=>Promise.resolve().then(()=>(C9e(),A9e)),"ph-power":()=>Promise.resolve().then(()=>(I9e(),S9e)),"ph-puzzle-piece":()=>Promise.resolve().then(()=>(P9e(),T9e)),"ph-qr-code":()=>Promise.resolve().then(()=>(N9e(),_9e)),"ph-question":()=>Promise.resolve().then(()=>(R9e(),O9e)),"ph-question-circle":()=>Promise.resolve().then(()=>(B9e(),k9e)),"ph-seal-check":()=>Promise.resolve().then(()=>(D9e(),U9e)),"ph-sign-out":()=>Promise.resolve().then(()=>(M9e(),L9e)),"ph-spinner":()=>Promise.resolve().then(()=>(H9e(),$9e)),"ph-trash":()=>Promise.resolve().then(()=>(z9e(),F9e)),"ph-user":()=>Promise.resolve().then(()=>(j9e(),V9e)),"ph-wallet":()=>Promise.resolve().then(()=>(W9e(),q9e)),"ph-warning":()=>Promise.resolve().then(()=>(G9e(),K9e)),"ph-warning-circle":()=>Promise.resolve().then(()=>(Y9e(),Z9e)),"ph-x":()=>Promise.resolve().then(()=>(Q9e(),J9e))},bht={appStore:NEe,apple:REe,bitcoin:BEe,coins:HEe,chromeStore:MEe,cursor:zEe,discord:jEe,ethereum:WEe,etherscan:GEe,facebook:YEe,farcaster:QEe,github:eAe,google:rAe,playStore:cAe,paperPlaneTitle:oAe,reown:uAe,solana:dAe,ton:gAe,telegram:hAe,twitch:bAe,twitter:FQ,twitterIcon:xAe,walletConnect:EAe,walletConnectInvert:AAe,walletConnectBrown:SAe,walletConnectLightBrown:CAe,x:FQ,infoSeal:sAe,checkmark:DEe},wht={"accent-primary":sr.tokens.core.iconAccentPrimary,"accent-certified":sr.tokens.core.iconAccentCertified,"foreground-secondary":sr.tokens.theme.foregroundSecondary,default:sr.tokens.theme.iconDefault,success:sr.tokens.core.iconSuccess,error:sr.tokens.core.iconError,warning:sr.tokens.core.iconWarning,inverse:sr.tokens.theme.iconInverse},Nx=class extends pe{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){let e={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${e[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":wht[this.color]}
    `;let r=ght[this.name];if(r&&r!==""){let n=yht[r];n&&n();let s=TEe(r);return HQ`<${s} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${s}>`}return bht[this.name]||HQ``}};Nx.styles=[Ye,PAe];kI([W()],Nx.prototype,"size",void 0);kI([W()],Nx.prototype,"name",void 0);kI([W()],Nx.prototype,"weight",void 0);kI([W()],Nx.prototype,"color",void 0);Nx=kI([fe("wui-icon")],Nx)});var kD,BI,uv,UI=y(()=>{kD={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},BI=t=>(...e)=>({_$litDirective$:t,values:e}),uv=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}});var fv,X9e=y(()=>{am();UI();fv=BI(class extends uv{constructor(t){var e;if(super(t),t.type!==kD.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,s;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(let i in e)e[i]&&!((n=this.nt)!=null&&n.has(i))&&this.st.add(i);return this.render(e)}let r=t.element.classList;for(let i of this.st)i in e||(r.remove(i),this.st.delete(i));for(let i in e){let o=!!e[i];o===this.st.has(i)||(s=this.nt)!=null&&s.has(i)||(o?(r.add(i),this.st.add(i)):(r.remove(i),this.st.delete(i)))}return om}})});var BD=y(()=>{X9e()});var e7e,t7e=y(()=>{Zt();e7e=Ee`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`});var dv,xht,q2,_o=y(()=>{Ae();Qe();BD();Zt();nr();Qt();t7e();dv=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},xht={primary:sr.tokens.theme.textPrimary,secondary:sr.tokens.theme.textSecondary,tertiary:sr.tokens.theme.textTertiary,invert:sr.tokens.theme.textInvert,error:sr.tokens.core.textError,success:sr.tokens.core.textSuccess,warning:sr.tokens.core.textWarning,"accent-primary":sr.tokens.core.textAccentPrimary},q2=class extends pe{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){var r;let e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":xht[(r=this.color)!=null?r:"primary"]};
      `,z`<slot class=${fv(e)}></slot>`}};q2.styles=[Ye,e7e];dv([W()],q2.prototype,"variant",void 0);dv([W()],q2.prototype,"color",void 0);dv([W()],q2.prototype,"align",void 0);dv([W()],q2.prototype,"lineClamp",void 0);dv([W()],q2.prototype,"display",void 0);q2=dv([fe("wui-text")],q2)});var r7e,n7e=y(()=>{Zt();r7e=Ee`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} !important;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:t})=>t[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:t})=>t.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:t})=>t.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`});var DI,Ox,pv=y(()=>{Ae();Qe();mn();Gs();nr();Qt();n7e();DI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Ox=class extends pe{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,z`
      <wui-icon size=${Le(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};Ox.styles=[Ye,yr,r7e];DI([W()],Ox.prototype,"icon",void 0);DI([W()],Ox.prototype,"size",void 0);DI([W()],Ox.prototype,"padding",void 0);DI([W()],Ox.prototype,"color",void 0);Ox=DI([fe("wui-icon-box")],Ox)});var s7e,i7e=y(()=>{Zt();s7e=Ee`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`});var Vd,Gl,Rx=y(()=>{Ae();Qe();mn();nr();Qt();i7e();Vd=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Gl=class extends pe{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){let e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?z`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?z`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:z`<img src=${Le(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};Gl.styles=[Ye,s7e];Vd([W()],Gl.prototype,"src",void 0);Vd([W()],Gl.prototype,"logo",void 0);Vd([W()],Gl.prototype,"icon",void 0);Vd([W()],Gl.prototype,"iconColor",void 0);Vd([W()],Gl.prototype,"alt",void 0);Vd([W()],Gl.prototype,"size",void 0);Vd([W({type:Boolean})],Gl.prototype,"boxed",void 0);Vd([W({type:Boolean})],Gl.prototype,"rounded",void 0);Vd([W({type:Boolean})],Gl.prototype,"fullSize",void 0);Gl=Vd([fe("wui-image")],Gl)});var o7e,a7e=y(()=>{Zt();o7e=Ee`
  :host {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  wui-icon[data-parent-size='sm'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='md'] {
    width: 32px;
    height: 32px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: 1px;
  }
`});var kx,um,UD=y(()=>{Ae();Qe();Gs();Rx();nr();Qt();pv();a7e();kx=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},um=class extends pe{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="1";return this.size==="lg"?e="4":this.size==="md"?e="2":this.size==="sm"&&(e="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${e});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),z`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?z`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?z`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:z`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};um.styles=[Ye,o7e];kx([W()],um.prototype,"size",void 0);kx([W()],um.prototype,"name",void 0);kx([W()],um.prototype,"imageSrc",void 0);kx([W()],um.prototype,"walletIcon",void 0);kx([W({type:Boolean})],um.prototype,"installed",void 0);kx([W()],um.prototype,"badgeSize",void 0);um=kx([fe("wui-wallet-image")],um)});var c7e,l7e=y(()=>{Zt();c7e=Ee`
  :host {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`});var u7e,YQ,DD,f7e=y(()=>{Ae();Qe();mn();nr();Qt();pv();UD();l7e();u7e=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},YQ=4,DD=class extends pe{constructor(){super(...arguments),this.walletImages=[]}render(){let e=this.walletImages.length<YQ;return z`${this.walletImages.slice(0,YQ).map(({src:r,walletName:n})=>z`
          <wui-wallet-image
            size="sm"
            imageSrc=${r}
            name=${Le(n)}
          ></wui-wallet-image>
        `)}
    ${e?[...Array(YQ-this.walletImages.length)].map(()=>z` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};DD.styles=[Ye,c7e];u7e([W({type:Array})],DD.prototype,"walletImages",void 0);DD=u7e([fe("wui-all-wallets-image")],DD)});var d7e,p7e=y(()=>{Zt();d7e=Ee`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    text-transform: uppercase;
    white-space: nowrap;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    color: ${({tokens:t})=>t.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
    color: ${({tokens:t})=>t.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
  }
`});var LD,hv,JQ=y(()=>{Ae();Qe();Gs();_o();nr();Qt();p7e();LD=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},hv=class extends pe{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;let e=this.size==="md"?"md-medium":"sm-medium",r=this.size==="md"?"md":"sm";return z`
      ${this.icon?z`<wui-icon size=${r} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${e}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};hv.styles=[Ye,d7e];LD([W()],hv.prototype,"variant",void 0);LD([W()],hv.prototype,"size",void 0);LD([W()],hv.prototype,"icon",void 0);hv=LD([fe("wui-tag")],hv)});var h7e,m7e=y(()=>{Zt();h7e=Ee`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:t})=>t.core.glass010};
    color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  wui-flex.namespace-icon {
    width: 16px;
    height: 16px;
    border-radius: ${({borderRadius:t})=>t.round};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
  }

  button:hover:enabled wui-flex.namespace-icon {
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-flex.namespace-icon > wui-icon {
    width: 10px;
    height: 10px;
  }

  wui-flex.namespace-icon:not(:first-child) {
    margin-left: -4px;
  }
`});var tc,vht,No,g7e=y(()=>{Ae();Qe();mn();Gs();_o();pv();nr();Qt();f7e();JQ();UD();m7e();tc=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},vht={eip155:"ethereum",solana:"solana",bip122:"bitcoin",polkadot:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:"ton"},No=class extends pe{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.namespaces=[],this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,z`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${Le(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-flex flexDirection="column" justifyContent="center" alignItems="flex-start" gap="1">
          <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
          ${this.templateNamespaces()}
        </wui-flex>
        ${this.templateStatus()}
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}templateNamespaces(){var e;return(e=this.namespaces)!=null&&e.length?z`<wui-flex alignItems="center" gap="0">
        ${this.namespaces.map((r,n)=>{var s,i;return z`<wui-flex
              alignItems="center"
              justifyContent="center"
              zIndex=${((i=(s=this.namespaces)==null?void 0:s.length)!=null?i:0)*2-n}
              class="namespace-icon"
            >
              <wui-icon
                name=${Le(vht[r])}
                size="sm"
                color="default"
              ></wui-icon>
            </wui-flex>`})}
      </wui-flex>`:null}templateAllWallets(){return this.showAllWallets&&this.imageSrc?z` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?z` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?z`<wui-wallet-image
        size=${Le(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?z`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?z`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?z`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};No.styles=[Ye,yr,h7e];tc([W({type:Array})],No.prototype,"walletImages",void 0);tc([W()],No.prototype,"imageSrc",void 0);tc([W()],No.prototype,"name",void 0);tc([W()],No.prototype,"size",void 0);tc([W()],No.prototype,"tagLabel",void 0);tc([W()],No.prototype,"tagVariant",void 0);tc([W()],No.prototype,"walletIcon",void 0);tc([W()],No.prototype,"tabIdx",void 0);tc([W({type:Array})],No.prototype,"namespaces",void 0);tc([W({type:Boolean})],No.prototype,"disabled",void 0);tc([W({type:Boolean})],No.prototype,"showAllWallets",void 0);tc([W({type:Boolean})],No.prototype,"loading",void 0);tc([W({type:String})],No.prototype,"loadingSpinnerColor",void 0);No=tc([fe("wui-list-wallet")],No)});var QQ=y(()=>{g7e()});var mv,Bx,y7e=y(()=>{Ae();Qe();mn();It();At();rt();QQ();mv=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Bx=class extends pe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ue.state.connectors,this.count=Ce.state.count,this.filteredCount=Ce.state.filteredWallets.length,this.isFetchingRecommendedWallets=Ce.state.isFetchingRecommendedWallets,this.unsubscribe.push(ue.subscribeKey("connectors",e=>this.connectors=e),Ce.subscribeKey("count",e=>this.count=e),Ce.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),Ce.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){let e=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:r}=X.state;if(!e||r==="HIDE"||r==="ONLY_MOBILE"&&!de.isMobile())return null;let n=Ce.state.featured.length,s=this.count+n,i=s<10?s:Math.floor(s/10)*10,o=this.filteredCount>0?this.filteredCount:i,a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<s&&(a=`${o}+`);let c=le.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return z`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${Le(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){var e;Be.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),te.push("AllWallets",{redirectView:(e=te.state.data)==null?void 0:e.redirectView})}};mv([W()],Bx.prototype,"tabIdx",void 0);mv([ye()],Bx.prototype,"connectors",void 0);mv([ye()],Bx.prototype,"count",void 0);mv([ye()],Bx.prototype,"filteredCount",void 0);mv([ye()],Bx.prototype,"isFetchingRecommendedWallets",void 0);Bx=mv([fe("w3m-all-wallets-widget")],Bx)});var b7e,w7e=y(()=>{rt();b7e=Ee`
  :host {
    margin-top: ${({spacing:t})=>t[1]};
  }
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[2]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`});var gv,W2,x7e=y(()=>{Ae();Qe();mn();It();At();rt();Tn();vf();w7e();gv=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},W2=class extends pe{constructor(){super(),this.unsubscribe=[],this.explorerWallets=Ce.state.explorerWallets,this.connections=le.state.connections,this.connectorImages=Ns.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(le.subscribeKey("connections",e=>this.connections=e),Ns.subscribeKey("connectorImages",e=>this.connectorImages=e),Ce.subscribeKey("explorerFilteredWallets",e=>{this.explorerWallets=e!=null&&e.length?e:Ce.state.explorerWallets}),Ce.subscribeKey("explorerWallets",e=>{var r;(r=this.explorerWallets)!=null&&r.length||(this.explorerWallets=e)})),de.isTelegram()&&de.isIos()&&(this.loadingTelegram=!le.state.wcUri,this.unsubscribe.push(le.subscribeKey("wcUri",e=>this.loadingTelegram=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return z`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){return xs.connectorList().map((e,r)=>e.kind==="connector"?this.renderConnector(e,r):this.renderWallet(e,r))}getConnectorNamespaces(e){var r;return e.subtype==="walletConnect"?[]:e.subtype==="multiChain"?((r=e.connector.connectors)==null?void 0:r.map(n=>n.chain))||[]:[e.connector.chain]}renderConnector(e,r){var f,d,p,h,m;let n=e.connector,s=Vt.getConnectorImage(n)||this.connectorImages[(f=n==null?void 0:n.imageId)!=null?f:""],o=((d=this.connections.get(n.chain))!=null?d:[]).some(g=>Hn.isLowerCaseMatch(g.connectorId,n.id)),a,c;e.subtype==="walletConnect"?(a="qr code",c="accent"):e.subtype==="injected"||e.subtype==="announced"?(a=o?"connected":"installed",c=o?"info":"success"):(a=void 0,c=void 0);let l=le.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT),u=e.subtype==="walletConnect"||e.subtype==="external"?l:!1;return z`
      <w3m-list-wallet
        displayIndex=${r}
        imageSrc=${Le(s)}
        .installed=${!0}
        name=${(p=n.name)!=null?p:"Unknown"}
        .tagVariant=${c}
        tagLabel=${Le(a)}
        data-testid=${`wallet-selector-${n.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(e)}
        tabIdx=${Le(this.tabIdx)}
        ?disabled=${u}
        rdnsId=${Le(((h=n.explorerWallet)==null?void 0:h.rdns)||void 0)}
        walletRank=${Le((m=n.explorerWallet)==null?void 0:m.order)}
        .namespaces=${this.getConnectorNamespaces(e)}
      >
      </w3m-list-wallet>
    `}onClickConnector(e){var n;let r=(n=te.state.data)==null?void 0:n.redirectView;if(e.subtype==="walletConnect"){ue.setActiveConnector(e.connector),de.isMobile()?te.push("AllWallets"):te.push("ConnectingWalletConnect",{redirectView:r});return}if(e.subtype==="multiChain"){ue.setActiveConnector(e.connector),te.push("ConnectingMultiChain",{redirectView:r});return}if(e.subtype==="injected"){ue.setActiveConnector(e.connector),te.push("ConnectingExternal",{connector:e.connector,redirectView:r,wallet:e.connector.explorerWallet});return}if(e.subtype==="announced"){if(e.connector.id==="walletConnect"){de.isMobile()?te.push("AllWallets"):te.push("ConnectingWalletConnect",{redirectView:r});return}te.push("ConnectingExternal",{connector:e.connector,redirectView:r,wallet:e.connector.explorerWallet});return}te.push("ConnectingExternal",{connector:e.connector,redirectView:r})}renderWallet(e,r){var u;let n=e.wallet,s=Vt.getWalletImage(n),o=le.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=e.subtype==="recent"?"recent":void 0,l=e.subtype==="recent"?"info":void 0;return z`
      <w3m-list-wallet
        displayIndex=${r}
        imageSrc=${Le(s)}
        name=${(u=n.name)!=null?u:"Unknown"}
        @click=${()=>this.onClickWallet(e)}
        size="sm"
        data-testid=${`wallet-selector-${n.id}`}
        tabIdx=${Le(this.tabIdx)}
        ?loading=${a}
        ?disabled=${o}
        rdnsId=${Le(n.rdns||void 0)}
        walletRank=${Le(n.order)}
        tagLabel=${Le(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(e){var i;let r=(i=te.state.data)==null?void 0:i.redirectView,n=M.state.activeChain;if(e.subtype==="featured"){ue.selectWalletConnector(e.wallet);return}if(e.subtype==="recent"){if(this.loadingTelegram)return;ue.selectWalletConnector(e.wallet);return}if(e.subtype==="custom"){if(this.loadingTelegram)return;te.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:r});return}if(this.loadingTelegram)return;let s=n?ue.getConnector({id:e.wallet.id,namespace:n}):void 0;s?te.push("ConnectingExternal",{connector:s,redirectView:r}):te.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:r})}};W2.styles=b7e;gv([W({type:Number})],W2.prototype,"tabIdx",void 0);gv([ye()],W2.prototype,"explorerWallets",void 0);gv([ye()],W2.prototype,"connections",void 0);gv([ye()],W2.prototype,"connectorImages",void 0);gv([ye()],W2.prototype,"loadingTelegram",void 0);W2=gv([fe("w3m-connector-list")],W2)});var v7e,E7e=y(()=>{Zt();v7e=Ee`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:t})=>t.theme.textPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:t})=>t.theme.textPrimary};
    }
  }
`});var LI,Eht,Aht,Ux,A7e=y(()=>{Ae();Qe();Gs();_o();nr();Qt();E7e();LI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Eht={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Aht={lg:"md",md:"sm",sm:"sm"},Ux=class extends pe{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return z`
      <button data-active=${this.active}>
        ${this.icon?z`<wui-icon size=${Aht[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${Eht[this.size]}> ${this.label} </wui-text>
      </button>
    `}};Ux.styles=[Ye,yr,v7e];LI([W()],Ux.prototype,"icon",void 0);LI([W()],Ux.prototype,"size",void 0);LI([W()],Ux.prototype,"label",void 0);LI([W({type:Boolean})],Ux.prototype,"active",void 0);Ux=LI([fe("wui-tab-item")],Ux)});var C7e,S7e=y(()=>{Zt();C7e=Ee`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`});var MI,Dx,I7e=y(()=>{Ae();Qe();nr();Qt();A7e();S7e();MI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Dx=class extends pe{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((e,r)=>{var s;let n=r===this.activeTab;return z`
        <wui-tab-item
          @click=${()=>this.onTabClick(r)}
          icon=${e.icon}
          size=${this.size}
          label=${e.label}
          ?active=${n}
          data-active=${n}
          data-testid="tab-${(s=e.label)==null?void 0:s.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(e){this.activeTab=e,this.onTabChange(e)}};Dx.styles=[Ye,yr,C7e];MI([W({type:Array})],Dx.prototype,"tabs",void 0);MI([W()],Dx.prototype,"onTabChange",void 0);MI([W()],Dx.prototype,"size",void 0);MI([ye()],Dx.prototype,"activeTab",void 0);Dx=MI([fe("wui-tabs")],Dx)});var T7e=y(()=>{I7e()});var XQ,MD,P7e=y(()=>{Ae();Qe();rt();Tn();T7e();XQ=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},MD=class extends pe{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){let e=this.generateTabs();return z`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){let e=this.platforms.map(r=>r==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:r==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:r==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:r==="web"?{label:"Webapp",icon:"browser",platform:"web"}:r==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:r})=>r),e}onTabChange(e){var n;let r=this.platformTabs[e];r&&((n=this.onSelectPlatfrom)==null||n.call(this,r))}};XQ([W({type:Array})],MD.prototype,"platforms",void 0);XQ([W()],MD.prototype,"onSelectPlatfrom",void 0);MD=XQ([fe("w3m-connecting-header")],MD)});var _7e,N7e=y(()=>{Ae();_7e=Qr`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`});var eX,$I,HI=y(()=>{Ae();Qe();Zt();nr();Qt();N7e();eX=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},$I=class extends pe{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){let e={primary:sr.tokens.theme.textPrimary,secondary:sr.tokens.theme.textSecondary,tertiary:sr.tokens.theme.textTertiary,invert:sr.tokens.theme.textInvert,error:sr.tokens.core.textError,warning:sr.tokens.core.textWarning,"accent-primary":sr.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":e[this.color]};
      `,this.dataset.size=this.size,z`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};$I.styles=[Ye,_7e];eX([W()],$I.prototype,"color",void 0);eX([W()],$I.prototype,"size",void 0);$I=eX([fe("wui-loading-spinner")],$I)});var O7e,R7e=y(()=>{Zt();O7e=Ee`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:t})=>t[2]};
    transition:
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: 0 ${({spacing:t})=>t[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[3]};
    padding: 0 ${({spacing:t})=>t[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: 0 ${({spacing:t})=>t[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:t})=>t.theme.backgroundInvert};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:t})=>t.core.textError};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`});var Lx,Cht,Sht,fm,tX=y(()=>{Ae();Qe();Gs();HI();_o();nr();Qt();R7e();Lx=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Cht={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},Sht={lg:"md",md:"md",sm:"sm"},fm=class extends pe{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){var r;this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;let e=(r=this.textVariant)!=null?r:Cht[this.size];return z`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){let e=Sht[this.size],r=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return z`<wui-loading-spinner color=${r} size=${e}></wui-loading-spinner>`}return null}};fm.styles=[Ye,yr,O7e];Lx([W()],fm.prototype,"size",void 0);Lx([W({type:Boolean})],fm.prototype,"disabled",void 0);Lx([W({type:Boolean})],fm.prototype,"fullWidth",void 0);Lx([W({type:Boolean})],fm.prototype,"loading",void 0);Lx([W()],fm.prototype,"variant",void 0);Lx([W()],fm.prototype,"textVariant",void 0);fm=Lx([fe("wui-button")],fm)});var FI=y(()=>{tX()});var dm=y(()=>{Gs()});var $D=y(()=>{pv()});var k7e,B7e=y(()=>{Zt();k7e=Ee`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({spacing:t})=>t[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var zI,Iht,Tht,Mx,U7e=y(()=>{Ae();Qe();Gs();_o();nr();Qt();B7e();zI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Iht={sm:"sm-medium",md:"md-medium"},Tht={accent:"accent-primary",secondary:"secondary"},Mx=class extends pe{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return z`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${Tht[this.variant]}
          variant=${Iht[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?z`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};Mx.styles=[Ye,yr,k7e];zI([W()],Mx.prototype,"size",void 0);zI([W({type:Boolean})],Mx.prototype,"disabled",void 0);zI([W()],Mx.prototype,"variant",void 0);zI([W()],Mx.prototype,"icon",void 0);Mx=zI([fe("wui-link")],Mx)});var HD=y(()=>{U7e()});var D7e,L7e=y(()=>{Zt();D7e=Ee`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${t=>t.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`});var M7e,FD,$7e=y(()=>{Ae();Qe();nr();Qt();L7e();M7e=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},FD=class extends pe{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){let e=this.radius>50?50:this.radius,n=36-e,s=116+n,i=245+n,o=360+n*1.75;return z`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${s} ${i}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};FD.styles=[Ye,D7e];M7e([W({type:Number})],FD.prototype,"radius",void 0);FD=M7e([fe("wui-loading-thumbnail")],FD)});var H7e=y(()=>{$7e()});var Rs=y(()=>{_o()});var VI=y(()=>{UD()});var F7e,z7e=y(()=>{Zt();F7e=Ee`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    padding-left: ${({spacing:t})=>t[3]};
    padding-right: ${({spacing:t})=>t[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[6]};
  }

  wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`});var zD,yv,V7e=y(()=>{Ae();Qe();Gs();_o();Sx();nr();Qt();tX();z7e();zD=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},yv=class extends pe{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return z`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};yv.styles=[Ye,yr,F7e];zD([W({type:Boolean})],yv.prototype,"disabled",void 0);zD([W()],yv.prototype,"label",void 0);zD([W()],yv.prototype,"buttonLabel",void 0);yv=zD([fe("wui-cta-button")],yv)});var j7e=y(()=>{V7e()});var q7e,W7e=y(()=>{rt();q7e=Ee`
  :host {
    display: block;
    padding: 0 ${({spacing:t})=>t[5]} ${({spacing:t})=>t[5]};
  }
`});var K7e,VD,jD=y(()=>{Ae();Qe();At();rt();j7e();W7e();K7e=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},VD=class extends pe{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;let{name:e,app_store:r,play_store:n,chrome_store:s,homepage:i}=this.wallet,o=de.isMobile(),a=de.isIos(),c=de.isAndroid(),l=[r,n,i,s].filter(Boolean).length>1,u=jr.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?z`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>te.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&i?z`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:r&&a?z`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:n&&c?z`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&de.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&de.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&de.openHref(this.wallet.homepage,"_blank")}};VD.styles=[q7e];K7e([W({type:Object})],VD.prototype,"wallet",void 0);VD=K7e([fe("w3m-mobile-download-links")],VD)});var G7e,Z7e=y(()=>{rt();G7e=Ee`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:t})=>t.lg};
    transition-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`});var Ef,Fn,bv=y(()=>{Ae();Qe();mn();At();FI();Tn();dm();$D();HD();H7e();Rs();VI();jD();Z7e();Ef=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Fn=class extends pe{constructor(){var e,r,n,s,i,o,a,c;super(),this.wallet=(e=te.state.data)==null?void 0:e.wallet,this.connector=(r=te.state.data)==null?void 0:r.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=(n=Vt.getConnectorImage(this.connector))!=null?n:Vt.getWalletImage(this.wallet),this.name=(a=(o=(s=this.wallet)==null?void 0:s.name)!=null?o:(i=this.connector)==null?void 0:i.name)!=null?a:"Wallet",this.isRetrying=!1,this.uri=le.state.wcUri,this.error=le.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(le.subscribeKey("wcUri",l=>{var u;this.uri=l,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(u=this.onConnect)==null||u.call(this))}),le.subscribeKey("wcError",l=>this.error=l)),(de.isTelegram()||de.isSafari())&&de.isIos()&&le.state.wcUri&&((c=this.onConnect)==null||c.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),le.setWcError(!1),clearTimeout(this.timeout)}render(){var n;(n=this.onRender)==null||n.call(this),this.onShowRetry();let e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel,r="";return this.label?r=this.label:(r=`Continue in ${this.name}`,this.error&&(r="Connection declined")),z`
      <wui-flex
        data-error=${Le(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Le(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?z`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?z`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;let r=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button");r==null||r.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var e,r;le.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(r=this.onConnect)==null||r.call(this)}loaderTemplate(){let e=Ln.state.themeVariables["--w3m-border-radius-master"],r=e?parseInt(e.replace("px",""),10):4;return z`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(de.copyToClopboard(this.uri),lt.showSuccess("Link copied"))}catch(e){lt.showError("Failed to copy")}}};Fn.styles=G7e;Ef([ye()],Fn.prototype,"isRetrying",void 0);Ef([ye()],Fn.prototype,"uri",void 0);Ef([ye()],Fn.prototype,"error",void 0);Ef([ye()],Fn.prototype,"ready",void 0);Ef([ye()],Fn.prototype,"showRetry",void 0);Ef([ye()],Fn.prototype,"label",void 0);Ef([ye()],Fn.prototype,"secondaryBtnLabel",void 0);Ef([ye()],Fn.prototype,"secondaryLabel",void 0);Ef([ye()],Fn.prototype,"isLoading",void 0);Ef([W({type:Boolean})],Fn.prototype,"isMobile",void 0);Ef([W()],Fn.prototype,"onRetry",void 0)});var Pht,Y7e,J7e=y(()=>{It();At();rt();bv();Pht=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Y7e=class extends Fn{constructor(){var e;if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:(e=this.wallet)==null?void 0:e.display_index,walletRank:this.wallet.order,view:te.state.view}})}async onConnectProxy(){var e;try{this.error=!1;let{connectors:r}=ue.state,n=r.find(s=>{var i,o,a;return s.type==="ANNOUNCED"&&((i=s.info)==null?void 0:i.rdns)===((o=this.wallet)==null?void 0:o.rdns)||s.type==="INJECTED"||s.name===((a=this.wallet)==null?void 0:a.name)});if(n)await le.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ke.close()}catch(r){r instanceof Ll&&r.originalName===Ko.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Be.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:r.message}}):Be.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(e=r==null?void 0:r.message)!=null?e:"Unknown"}}),this.error=!0}}};Y7e=Pht([fe("w3m-connecting-wc-browser")],Y7e)});var _ht,Q7e,X7e=y(()=>{At();rt();bv();_ht=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Q7e=class extends Fn{constructor(){var e;if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:(e=this.wallet)==null?void 0:e.display_index,walletRank:this.wallet.order,view:te.state.view}})}onRenderProxy(){var e;!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.desktop_link&&this.uri)try{this.error=!1;let{desktop_link:r,name:n}=this.wallet,{redirect:s,href:i}=de.formatNativeUrl(r,this.uri);le.setWcLinking({name:n,href:i}),le.setRecentWallet(this.wallet),de.openHref(s,"_blank")}catch(r){this.error=!0}}};Q7e=_ht([fe("w3m-connecting-wc-desktop")],Q7e)});var wv,$x,eSe=y(()=>{Qe();At();rt();bv();wv=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},$x=class extends Fn{constructor(){var e;if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=X.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{$h.onConnectMobile(this.wallet)},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=ct.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(le.subscribeKey("wcUri",()=>{this.onHandleURI()})),Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:(e=this.wallet)==null?void 0:e.display_index,walletRank:this.wallet.order,view:te.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){var e;this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onTryAgain(){var e;le.setWcError(!1),(e=this.onConnect)==null||e.call(this)}};wv([ye()],$x.prototype,"redirectDeeplink",void 0);wv([ye()],$x.prototype,"redirectUniversalLink",void 0);wv([ye()],$x.prototype,"target",void 0);wv([ye()],$x.prototype,"preferUniversalLinks",void 0);wv([ye()],$x.prototype,"isLoading",void 0);$x=wv([fe("w3m-connecting-wc-mobile")],$x)});var rSe=Ct((z3r,tSe)=>{tSe.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var K2=Ct(Hx=>{var rX,Nht=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Hx.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Hx.getSymbolTotalCodewords=function(e){return Nht[e]};Hx.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Hx.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');rX=e};Hx.isKanjiModeEnabled=function(){return typeof rX!="undefined"};Hx.toSJIS=function(e){return rX(e)}});var qD=Ct(Zl=>{Zl.L={bit:1};Zl.M={bit:0};Zl.Q={bit:3};Zl.H={bit:2};function Oht(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return Zl.L;case"m":case"medium":return Zl.M;case"q":case"quartile":return Zl.Q;case"h":case"high":return Zl.H;default:throw new Error("Unknown EC Level: "+t)}}Zl.isValid=function(e){return e&&typeof e.bit!="undefined"&&e.bit>=0&&e.bit<4};Zl.from=function(e,r){if(Zl.isValid(e))return e;try{return Oht(e)}catch(n){return r}}});var iSe=Ct((q3r,sSe)=>{function nSe(){this.buffer=[],this.length=0}nSe.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};sSe.exports=nSe});var aSe=Ct((W3r,oSe)=>{function jI(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}jI.prototype.set=function(t,e,r,n){let s=t*this.size+e;this.data[s]=r,n&&(this.reservedBit[s]=!0)};jI.prototype.get=function(t,e){return this.data[t*this.size+e]};jI.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};jI.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};oSe.exports=jI});var cSe=Ct(WD=>{var Rht=K2().getSymbolSize;WD.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=Rht(e),s=n===145?26:Math.ceil((n-13)/(2*r-2))*2,i=[n-7];for(let o=1;o<r-1;o++)i[o]=i[o-1]-s;return i.push(6),i.reverse()};WD.getPositions=function(e){let r=[],n=WD.getRowColCoords(e),s=n.length;for(let i=0;i<s;i++)for(let o=0;o<s;o++)i===0&&o===0||i===0&&o===s-1||i===s-1&&o===0||r.push([n[i],n[o]]);return r}});var fSe=Ct(uSe=>{var kht=K2().getSymbolSize,lSe=7;uSe.getPositions=function(e){let r=kht(e);return[[0,0],[r-lSe,0],[0,r-lSe]]}});var dSe=Ct(Pn=>{Pn.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Fx={N1:3,N2:3,N3:40,N4:10};Pn.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Pn.from=function(e){return Pn.isValid(e)?parseInt(e,10):void 0};Pn.getPenaltyN1=function(e){let r=e.size,n=0,s=0,i=0,o=null,a=null;for(let c=0;c<r;c++){s=i=0,o=a=null;for(let l=0;l<r;l++){let u=e.get(c,l);u===o?s++:(s>=5&&(n+=Fx.N1+(s-5)),o=u,s=1),u=e.get(l,c),u===a?i++:(i>=5&&(n+=Fx.N1+(i-5)),a=u,i=1)}s>=5&&(n+=Fx.N1+(s-5)),i>=5&&(n+=Fx.N1+(i-5))}return n};Pn.getPenaltyN2=function(e){let r=e.size,n=0;for(let s=0;s<r-1;s++)for(let i=0;i<r-1;i++){let o=e.get(s,i)+e.get(s,i+1)+e.get(s+1,i)+e.get(s+1,i+1);(o===4||o===0)&&n++}return n*Fx.N2};Pn.getPenaltyN3=function(e){let r=e.size,n=0,s=0,i=0;for(let o=0;o<r;o++){s=i=0;for(let a=0;a<r;a++)s=s<<1&2047|e.get(o,a),a>=10&&(s===1488||s===93)&&n++,i=i<<1&2047|e.get(a,o),a>=10&&(i===1488||i===93)&&n++}return n*Fx.N3};Pn.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let i=0;i<n;i++)r+=e.data[i];return Math.abs(Math.ceil(r*100/n/5)-10)*Fx.N4};function Bht(t,e,r){switch(t){case Pn.Patterns.PATTERN000:return(e+r)%2===0;case Pn.Patterns.PATTERN001:return e%2===0;case Pn.Patterns.PATTERN010:return r%3===0;case Pn.Patterns.PATTERN011:return(e+r)%3===0;case Pn.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Pn.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Pn.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Pn.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Pn.applyMask=function(e,r){let n=r.size;for(let s=0;s<n;s++)for(let i=0;i<n;i++)r.isReserved(i,s)||r.xor(i,s,Bht(e,i,s))};Pn.getBestMask=function(e,r){let n=Object.keys(Pn.Patterns).length,s=0,i=1/0;for(let o=0;o<n;o++){r(o),Pn.applyMask(o,e);let a=Pn.getPenaltyN1(e)+Pn.getPenaltyN2(e)+Pn.getPenaltyN3(e)+Pn.getPenaltyN4(e);Pn.applyMask(o,e),a<i&&(i=a,s=o)}return s}});var sX=Ct(nX=>{var G2=qD(),KD=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],GD=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nX.getBlocksCount=function(e,r){switch(r){case G2.L:return KD[(e-1)*4+0];case G2.M:return KD[(e-1)*4+1];case G2.Q:return KD[(e-1)*4+2];case G2.H:return KD[(e-1)*4+3];default:return}};nX.getTotalCodewordsCount=function(e,r){switch(r){case G2.L:return GD[(e-1)*4+0];case G2.M:return GD[(e-1)*4+1];case G2.Q:return GD[(e-1)*4+2];case G2.H:return GD[(e-1)*4+3];default:return}}});var pSe=Ct(YD=>{var qI=new Uint8Array(512),ZD=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)qI[r]=e,ZD[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)qI[r]=qI[r-255]})();YD.log=function(e){if(e<1)throw new Error("log("+e+")");return ZD[e]};YD.exp=function(e){return qI[e]};YD.mul=function(e,r){return e===0||r===0?0:qI[ZD[e]+ZD[r]]}});var hSe=Ct(WI=>{var iX=pSe();WI.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let s=0;s<e.length;s++)for(let i=0;i<r.length;i++)n[s+i]^=iX.mul(e[s],r[i]);return n};WI.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let s=n[0];for(let o=0;o<r.length;o++)n[o]^=iX.mul(r[o],s);let i=0;for(;i<n.length&&n[i]===0;)i++;n=n.slice(i)}return n};WI.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=WI.mul(r,new Uint8Array([1,iX.exp(n)]));return r}});var ySe=Ct((X3r,gSe)=>{var mSe=hSe();function oX(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}oX.prototype.initialize=function(e){this.degree=e,this.genPoly=mSe.generateECPolynomial(this.degree)};oX.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=mSe.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){let i=new Uint8Array(this.degree);return i.set(n,s),i}return n};gSe.exports=oX});var aX=Ct(bSe=>{bSe.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var cX=Ct(pm=>{var wSe="[0-9]+",Uht="[A-Z $%*+\\-./:]+",KI="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";KI=KI.replace(/u/g,"\\u");var Dht="(?:(?![A-Z0-9 $%*+\\-./:]|"+KI+`)(?:.|[\r
]))+`;pm.KANJI=new RegExp(KI,"g");pm.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");pm.BYTE=new RegExp(Dht,"g");pm.NUMERIC=new RegExp(wSe,"g");pm.ALPHANUMERIC=new RegExp(Uht,"g");var Lht=new RegExp("^"+KI+"$"),Mht=new RegExp("^"+wSe+"$"),$ht=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");pm.testKanji=function(e){return Lht.test(e)};pm.testNumeric=function(e){return Mht.test(e)};pm.testAlphanumeric=function(e){return $ht.test(e)}});var Z2=Ct(ks=>{var Hht=aX(),lX=cX();ks.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};ks.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};ks.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};ks.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};ks.MIXED={bit:-1};ks.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Hht.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};ks.getBestModeForData=function(e){return lX.testNumeric(e)?ks.NUMERIC:lX.testAlphanumeric(e)?ks.ALPHANUMERIC:lX.testKanji(e)?ks.KANJI:ks.BYTE};ks.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};ks.isValid=function(e){return e&&e.bit&&e.ccBits};function Fht(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return ks.NUMERIC;case"alphanumeric":return ks.ALPHANUMERIC;case"kanji":return ks.KANJI;case"byte":return ks.BYTE;default:throw new Error("Unknown mode: "+t)}}ks.from=function(e,r){if(ks.isValid(e))return e;try{return Fht(e)}catch(n){return r}}});var CSe=Ct(zx=>{var JD=K2(),zht=sX(),xSe=qD(),Y2=Z2(),uX=aX(),ESe=7973,vSe=JD.getBCHDigit(ESe);function Vht(t,e,r){for(let n=1;n<=40;n++)if(e<=zx.getCapacity(n,r,t))return n}function ASe(t,e){return Y2.getCharCountIndicator(t,e)+4}function jht(t,e){let r=0;return t.forEach(function(n){let s=ASe(n.mode,e);r+=s+n.getBitsLength()}),r}function qht(t,e){for(let r=1;r<=40;r++)if(jht(t,r)<=zx.getCapacity(r,e,Y2.MIXED))return r}zx.from=function(e,r){return uX.isValid(e)?parseInt(e,10):r};zx.getCapacity=function(e,r,n){if(!uX.isValid(e))throw new Error("Invalid QR Code version");typeof n=="undefined"&&(n=Y2.BYTE);let s=JD.getSymbolTotalCodewords(e),i=zht.getTotalCodewordsCount(e,r),o=(s-i)*8;if(n===Y2.MIXED)return o;let a=o-ASe(n,e);switch(n){case Y2.NUMERIC:return Math.floor(a/10*3);case Y2.ALPHANUMERIC:return Math.floor(a/11*2);case Y2.KANJI:return Math.floor(a/13);case Y2.BYTE:default:return Math.floor(a/8)}};zx.getBestVersionForData=function(e,r){let n,s=xSe.from(r,xSe.M);if(Array.isArray(e)){if(e.length>1)return qht(e,s);if(e.length===0)return 1;n=e[0]}else n=e;return Vht(n.mode,n.getLength(),s)};zx.getEncodedBits=function(e){if(!uX.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;JD.getBCHDigit(r)-vSe>=0;)r^=ESe<<JD.getBCHDigit(r)-vSe;return e<<12|r}});var PSe=Ct(TSe=>{var fX=K2(),ISe=1335,Wht=21522,SSe=fX.getBCHDigit(ISe);TSe.getEncodedBits=function(e,r){let n=e.bit<<3|r,s=n<<10;for(;fX.getBCHDigit(s)-SSe>=0;)s^=ISe<<fX.getBCHDigit(s)-SSe;return(n<<10|s)^Wht}});var NSe=Ct((i5r,_Se)=>{var Kht=Z2();function xv(t){this.mode=Kht.NUMERIC,this.data=t.toString()}xv.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};xv.prototype.getLength=function(){return this.data.length};xv.prototype.getBitsLength=function(){return xv.getBitsLength(this.data.length)};xv.prototype.write=function(e){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),e.put(s,10);let i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),e.put(s,i*3+1))};_Se.exports=xv});var RSe=Ct((o5r,OSe)=>{var Ght=Z2(),dX=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function vv(t){this.mode=Ght.ALPHANUMERIC,this.data=t}vv.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};vv.prototype.getLength=function(){return this.data.length};vv.prototype.getBitsLength=function(){return vv.getBitsLength(this.data.length)};vv.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=dX.indexOf(this.data[r])*45;n+=dX.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(dX.indexOf(this.data[r]),6)};OSe.exports=vv});var BSe=Ct((a5r,kSe)=>{"use strict";kSe.exports=function(e){for(var r=[],n=e.length,s=0;s<n;s++){var i=e.charCodeAt(s);if(i>=55296&&i<=56319&&n>s+1){var o=e.charCodeAt(s+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,s+=1)}if(i<128){r.push(i);continue}if(i<2048){r.push(i>>6|192),r.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128);continue}if(i>=65536&&i<=1114111){r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(i&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var DSe=Ct((c5r,USe)=>{var Zht=BSe(),Yht=Z2();function Ev(t){this.mode=Yht.BYTE,typeof t=="string"&&(t=Zht(t)),this.data=new Uint8Array(t)}Ev.getBitsLength=function(e){return e*8};Ev.prototype.getLength=function(){return this.data.length};Ev.prototype.getBitsLength=function(){return Ev.getBitsLength(this.data.length)};Ev.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};USe.exports=Ev});var MSe=Ct((l5r,LSe)=>{var Jht=Z2(),Qht=K2();function Av(t){this.mode=Jht.KANJI,this.data=t}Av.getBitsLength=function(e){return e*13};Av.prototype.getLength=function(){return this.data.length};Av.prototype.getBitsLength=function(){return Av.getBitsLength(this.data.length)};Av.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Qht.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};LSe.exports=Av});var $Se=Ct((u5r,pX)=>{"use strict";var GI={single_source_shortest_paths:function(t,e,r){var n={},s={};s[e]=0;var i=GI.PriorityQueue.make();i.push(e,0);for(var o,a,c,l,u,f,d,p,h;!i.empty();){o=i.pop(),a=o.value,l=o.cost,u=t[a]||{};for(c in u)u.hasOwnProperty(c)&&(f=u[c],d=l+f,p=s[c],h=typeof s[c]=="undefined",(h||p>d)&&(s[c]=d,i.push(c,d),n[c]=a))}if(typeof r!="undefined"&&typeof s[r]=="undefined"){var m=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,s;n;)r.push(n),s=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=GI.single_source_shortest_paths(t,e,r);return GI.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=GI.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof pX!="undefined"&&(pX.exports=GI)});var KSe=Ct(Cv=>{var qr=Z2(),zSe=NSe(),VSe=RSe(),jSe=DSe(),qSe=MSe(),ZI=cX(),QD=K2(),Xht=$Se();function HSe(t){return unescape(encodeURIComponent(t)).length}function YI(t,e,r){let n=[],s;for(;(s=t.exec(r))!==null;)n.push({data:s[0],index:s.index,mode:e,length:s[0].length});return n}function WSe(t){let e=YI(ZI.NUMERIC,qr.NUMERIC,t),r=YI(ZI.ALPHANUMERIC,qr.ALPHANUMERIC,t),n,s;return QD.isKanjiModeEnabled()?(n=YI(ZI.BYTE,qr.BYTE,t),s=YI(ZI.KANJI,qr.KANJI,t)):(n=YI(ZI.BYTE_KANJI,qr.BYTE,t),s=[]),e.concat(r,n,s).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function hX(t,e){switch(e){case qr.NUMERIC:return zSe.getBitsLength(t);case qr.ALPHANUMERIC:return VSe.getBitsLength(t);case qr.KANJI:return qSe.getBitsLength(t);case qr.BYTE:return jSe.getBitsLength(t)}}function emt(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function tmt(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case qr.NUMERIC:e.push([n,{data:n.data,mode:qr.ALPHANUMERIC,length:n.length},{data:n.data,mode:qr.BYTE,length:n.length}]);break;case qr.ALPHANUMERIC:e.push([n,{data:n.data,mode:qr.BYTE,length:n.length}]);break;case qr.KANJI:e.push([n,{data:n.data,mode:qr.BYTE,length:HSe(n.data)}]);break;case qr.BYTE:e.push([{data:n.data,mode:qr.BYTE,length:HSe(n.data)}])}}return e}function rmt(t,e){let r={},n={start:{}},s=["start"];for(let i=0;i<t.length;i++){let o=t[i],a=[];for(let c=0;c<o.length;c++){let l=o[c],u=""+i+c;a.push(u),r[u]={node:l,lastCount:0},n[u]={};for(let f=0;f<s.length;f++){let d=s[f];r[d]&&r[d].node.mode===l.mode?(n[d][u]=hX(r[d].lastCount+l.length,l.mode)-hX(r[d].lastCount,l.mode),r[d].lastCount+=l.length):(r[d]&&(r[d].lastCount=l.length),n[d][u]=hX(l.length,l.mode)+4+qr.getCharCountIndicator(l.mode,e))}}s=a}for(let i=0;i<s.length;i++)n[s[i]].end=0;return{map:n,table:r}}function FSe(t,e){let r,n=qr.getBestModeForData(t);if(r=qr.from(e,n),r!==qr.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+qr.toString(r)+`.
 Suggested mode is: `+qr.toString(n));switch(r===qr.KANJI&&!QD.isKanjiModeEnabled()&&(r=qr.BYTE),r){case qr.NUMERIC:return new zSe(t);case qr.ALPHANUMERIC:return new VSe(t);case qr.KANJI:return new qSe(t);case qr.BYTE:return new jSe(t)}}Cv.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(FSe(n,null)):n.data&&r.push(FSe(n.data,n.mode)),r},[])};Cv.fromString=function(e,r){let n=WSe(e,QD.isKanjiModeEnabled()),s=tmt(n),i=rmt(s,r),o=Xht.find_path(i.map,"start","end"),a=[];for(let c=1;c<o.length-1;c++)a.push(i.table[o[c]].node);return Cv.fromArray(emt(a))};Cv.rawSplit=function(e){return Cv.fromArray(WSe(e,QD.isKanjiModeEnabled()))}});var ZSe=Ct(GSe=>{var eL=K2(),mX=qD(),nmt=iSe(),smt=aSe(),imt=cSe(),omt=fSe(),bX=dSe(),wX=sX(),amt=ySe(),XD=CSe(),cmt=PSe(),lmt=Z2(),gX=KSe();function umt(t,e){let r=t.size,n=omt.getPositions(e);for(let s=0;s<n.length;s++){let i=n[s][0],o=n[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||r<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(i+a,o+c,!0,!0):t.set(i+a,o+c,!1,!0))}}function fmt(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function dmt(t,e){let r=imt.getPositions(e);for(let n=0;n<r.length;n++){let s=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function pmt(t,e){let r=t.size,n=XD.getEncodedBits(e),s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+r-8-3,o=(n>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function yX(t,e,r){let n=t.size,s=cmt.getEncodedBits(e,r),i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(n-15+i,8,o,!0),i<8?t.set(8,n-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(n-8,8,1,!0)}function hmt(t,e){let r=t.size,n=-1,s=r-1,i=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(s,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>i&1)===1),t.set(s,a-c,l),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function mmt(t,e,r){let n=new nmt;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),lmt.getCharCountIndicator(c.mode,t)),c.write(n)});let s=eL.getSymbolTotalCodewords(t),i=wX.getTotalCodewordsCount(t,e),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return gmt(n,t,e)}function gmt(t,e,r){let n=eL.getSymbolTotalCodewords(e),s=wX.getTotalCodewordsCount(e,r),i=n-s,o=wX.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(i/o),f=u+1,d=l-u,p=new amt(d),h=0,m=new Array(o),g=new Array(o),b=0,E=new Uint8Array(t.buffer);for(let U=0;U<o;U++){let B=U<c?u:f;m[U]=E.slice(h,h+B),g[U]=p.encode(m[U]),h+=B,b=Math.max(b,B)}let w=new Uint8Array(n),x=0,C,T;for(C=0;C<b;C++)for(T=0;T<o;T++)C<m[T].length&&(w[x++]=m[T][C]);for(C=0;C<d;C++)for(T=0;T<o;T++)w[x++]=g[T][C];return w}function ymt(t,e,r,n){let s;if(Array.isArray(t))s=gX.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let u=gX.rawSplit(t);l=XD.getBestVersionForData(u,r)}s=gX.fromString(t,l||40)}else throw new Error("Invalid data");let i=XD.getBestVersionForData(s,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);let o=mmt(e,r,s),a=eL.getSymbolSize(e),c=new smt(a);return umt(c,e),fmt(c),dmt(c,e),yX(c,r,0),e>=7&&pmt(c,e),hmt(c,o),isNaN(n)&&(n=bX.getBestMask(c,yX.bind(null,c,r))),bX.applyMask(n,c),yX(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:s}}GSe.create=function(e,r){if(typeof e=="undefined"||e==="")throw new Error("No input text");let n=mX.M,s,i;return typeof r!="undefined"&&(n=mX.from(r.errorCorrectionLevel,mX.M),s=XD.from(r.version),i=bX.from(r.maskPattern),r.toSJISFunc&&eL.setToSJISFunction(r.toSJISFunc)),ymt(e,s,n,i)}});var xX=Ct(Vx=>{function YSe(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}Vx.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin=="undefined"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:r,color:{dark:YSe(e.color.dark||"#000000ff"),light:YSe(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Vx.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};Vx.getImageWidth=function(e,r){let n=Vx.getScale(e,r);return Math.floor((e+r.margin*2)*n)};Vx.qrToImageData=function(e,r,n){let s=r.modules.size,i=r.modules.data,o=Vx.getScale(s,n),a=Math.floor((s+n.margin*2)*o),c=n.margin*o,l=[n.color.light,n.color.dark];for(let u=0;u<a;u++)for(let f=0;f<a;f++){let d=(u*a+f)*4,p=n.color.light;if(u>=c&&f>=c&&u<a-c&&f<a-c){let h=Math.floor((u-c)/o),m=Math.floor((f-c)/o);p=l[i[h*s+m]?1:0]}e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}});var JSe=Ct(tL=>{var vX=xX();function bmt(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function wmt(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}tL.render=function(e,r,n){let s=n,i=r;typeof s=="undefined"&&(!r||!r.getContext)&&(s=r,r=void 0),r||(i=wmt()),s=vX.getOptions(s);let o=vX.getImageWidth(e.modules.size,s),a=i.getContext("2d"),c=a.createImageData(o,o);return vX.qrToImageData(c.data,e,s),bmt(a,i,o),a.putImageData(c,0,0),i};tL.renderToDataURL=function(e,r,n){let s=n;typeof s=="undefined"&&(!r||!r.getContext)&&(s=r,r=void 0),s||(s={});let i=tL.render(e,r,s),o=s.type||"image/png",a=s.rendererOpts||{};return i.toDataURL(o,a.quality)}});var eIe=Ct(XSe=>{var xmt=xX();function QSe(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function EX(t,e,r){let n=t+e;return typeof r!="undefined"&&(n+=" "+r),n}function vmt(t,e,r){let n="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){let c=Math.floor(a%e),l=Math.floor(a/e);!c&&!i&&(i=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=i?EX("M",c+r,.5+l+r):EX("m",s,0),s=0,i=!1),c+1<e&&t[a+1]||(n+=EX("h",o),o=0)):s++}return n}XSe.render=function(e,r,n){let s=xmt.getOptions(r),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+QSe(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+QSe(s.color.dark,"stroke")+' d="'+vmt(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,d),d}});var rIe=Ct(JI=>{var Emt=rSe(),AX=ZSe(),tIe=JSe(),Amt=eIe();function CX(t,e,r,n,s){let i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!Emt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof s=="undefined"?(s=n,n=void 0):(s=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{let u=AX.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{let c=AX.create(r,n);s(null,t(c,e,n))}catch(c){s(c)}}JI.create=AX.create;JI.toCanvas=CX.bind(null,tIe.render);JI.toDataURL=CX.bind(null,tIe.renderToDataURL);JI.toString=CX.bind(null,function(t,e,r){return Amt.render(t,r)})});function SX(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+Cmt}function Smt(t,e){let r=Array.prototype.slice.call(sIe.default.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((s,i,o)=>(o%n===0?s.push([i]):s[s.length-1].push(i))&&s,[])}var sIe,Cmt,nIe,hm,iIe,oIe=y(()=>{sIe=pr(rIe(),1);Ae();Cmt=.1,nIe=2.5,hm=7;iIe={generate({uri:t,size:e,logoSize:r,padding:n=8,dotColor:s="var(--apkt-colors-black)"}){let o=[],a=Smt(t,"Q"),c=(e-2*n)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:m,y:g})=>{let b=(a.length-hm)*c*m+n,E=(a.length-hm)*c*g+n,w=.45;for(let x=0;x<l.length;x+=1){let C=c*(hm-x*2);o.push(Je`
            <rect
              fill=${x===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${x===0?C-10:C}
              rx= ${x===0?(C-10)*w:C*w}
              ry= ${x===0?(C-10)*w:C*w}
              stroke=${s}
              stroke-width=${x===0?10:0}
              height=${x===0?C-10:C}
              x= ${x===0?E+c*x+10/2:E+c*x}
              y= ${x===0?b+c*x+10/2:b+c*x}
            />
          `)}});let u=Math.floor((r+25)/c),f=a.length/2-u/2,d=a.length/2+u/2-1,p=[];a.forEach((m,g)=>{m.forEach((b,E)=>{if(a[g][E]&&!(g<hm&&E<hm||g>a.length-(hm+1)&&E<hm||g<hm&&E>a.length-(hm+1))&&!(g>f&&g<d&&E>f&&E<d)){let w=g*c+c/2+n,x=E*c+c/2+n;p.push([w,x])}})});let h={};return p.forEach(([m,g])=>{var b;h[m]?(b=h[m])==null||b.push(g):h[m]=[g]}),Object.entries(h).map(([m,g])=>{let b=g.filter(E=>g.every(w=>!SX(E,w,c)));return[Number(m),b]}).forEach(([m,g])=>{g.forEach(b=>{o.push(Je`<circle cx=${m} cy=${b} fill=${s} r=${c/nIe} />`)})}),Object.entries(h).filter(([m,g])=>g.length>1).map(([m,g])=>{let b=g.filter(E=>g.some(w=>SX(E,w,c)));return[Number(m),b]}).map(([m,g])=>{g.sort((E,w)=>E<w?-1:1);let b=[];for(let E of g){let w=b.find(x=>x.some(C=>SX(E,C,c)));w?w.push(E):b.push([E])}return[m,b.map(E=>[E[0],E[E.length-1]])]}).forEach(([m,g])=>{g.forEach(([b,E])=>{o.push(Je`
              <line
                x1=${m}
                x2=${m}
                y1=${b}
                y2=${E}
                stroke=${s}
                stroke-width=${c/(nIe/2)}
                stroke-linecap="round"
              />
            `)})}),o}}});var aIe,cIe=y(()=>{Zt();aIe=Ee`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:t})=>t.white};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:t})=>t[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`});var J2,jd,lIe=y(()=>{Ae();Qe();Gs();Rx();Sx();oIe();nr();Qt();cIe();J2=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},jd=class extends pe{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),z`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return Je`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${iIe.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){var e;return this.imageSrc?z`<wui-image src=${this.imageSrc} alt=${(e=this.alt)!=null?e:"logo"}></wui-image>`:this.farcaster?z`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:z`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};jd.styles=[Ye,aIe];J2([W()],jd.prototype,"uri",void 0);J2([W({type:Number})],jd.prototype,"size",void 0);J2([W()],jd.prototype,"theme",void 0);J2([W()],jd.prototype,"imageSrc",void 0);J2([W()],jd.prototype,"alt",void 0);J2([W({type:Boolean})],jd.prototype,"arenaClear",void 0);J2([W({type:Boolean})],jd.prototype,"farcaster",void 0);jd=J2([fe("wui-qr-code")],jd)});var uIe=y(()=>{lIe()});var fIe,dIe=y(()=>{Zt();fIe=Ee`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:t})=>t.theme.foregroundPrimary} 0%,
      ${({tokens:t})=>t.theme.foregroundSecondary} 50%,
      ${({tokens:t})=>t.theme.foregroundPrimary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: -100% 0;
    }
  }
`});var QI,jx,IX=y(()=>{Ae();Qe();Qt();dIe();QI=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},jx=class extends pe{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",z`<slot></slot>`}};jx.styles=[fIe];QI([W()],jx.prototype,"width",void 0);QI([W()],jx.prototype,"height",void 0);QI([W()],jx.prototype,"variant",void 0);QI([W({type:Boolean})],jx.prototype,"rounded",void 0);jx=QI([fe("wui-shimmer")],jx)});var XI=y(()=>{IX()});var pIe,hIe=y(()=>{pIe="https://reown.com"});var mIe,gIe=y(()=>{Zt();mIe=Ee`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`});var Imt,TX,yIe=y(()=>{Ae();Gs();_o();Sx();hIe();nr();Qt();gIe();Imt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},TX=class extends pe{render(){return z`
      <a
        data-testid="ux-branding-reown"
        href=${pIe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};TX.styles=[Ye,yr,mIe];TX=Imt([fe("wui-ux-by-reown")],TX)});var PX=y(()=>{yIe()});var bIe,wIe=y(()=>{rt();bIe=Ee`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`});var xIe,rL,vIe=y(()=>{Ae();Qe();mn();At();rt();Tn();dm();HD();uIe();XI();Rs();PX();bv();jD();wIe();xIe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},rL=class extends Fn{constructor(){super(),this.basic=!1}firstUpdated(){var e,r,n,s;this.basic||Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:(r=(e=this.wallet)==null?void 0:e.name)!=null?r:"WalletConnect",platform:"qrcode",displayIndex:(n=this.wallet)==null?void 0:n.display_index,walletRank:(s=this.wallet)==null?void 0:s.order,view:te.state.view}})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.unsubscribe)==null||e.forEach(r=>r())}render(){return this.onRenderProxy(),z`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){var n;if(!this.uri||!this.ready)return null;let e=this.wallet?this.wallet.name:void 0;le.setWcLinking(void 0),le.setRecentWallet(this.wallet);let r=(n=Ln.state.themeVariables["--apkt-qr-color"])!=null?n:Ln.state.themeVariables["--w3m-qr-color"];return z` <wui-qr-code
      theme=${Ln.state.themeMode}
      uri=${this.uri}
      imageSrc=${Le(Vt.getWalletImage(this.wallet))}
      color=${Le(r)}
      alt=${Le(e)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){let e=!this.uri||!this.ready;return z`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};rL.styles=bIe;xIe([W({type:Boolean})],rL.prototype,"basic",void 0);rL=xIe([fe("w3m-connecting-wc-qrcode")],rL)});var Tmt,EIe,AIe=y(()=>{Ae();mn();At();rt();Tn();Rs();VI();jD();Tmt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},EIe=class extends pe{constructor(){var e,r,n;if(super(),this.wallet=(e=te.state.data)==null?void 0:e.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:(r=this.wallet)==null?void 0:r.display_index,walletRank:(n=this.wallet)==null?void 0:n.order,view:te.state.view}})}render(){return z`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Le(Vt.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};EIe=Tmt([fe("w3m-connecting-wc-unsupported")],EIe)});var CIe,_X,SIe=y(()=>{Qe();At();rt();bv();CIe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},_X=class extends Fn{constructor(){var e,r;if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=ct.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(le.subscribeKey("wcUri",()=>{this.updateLoadingState()})),Be.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:(e=this.wallet)==null?void 0:e.display_index,walletRank:(r=this.wallet)==null?void 0:r.order,view:te.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.webapp_link&&this.uri)try{this.error=!1;let{webapp_link:r,name:n}=this.wallet,{redirect:s,href:i}=de.formatUniversalUrl(r,this.uri);le.setWcLinking({name:n,href:i}),le.setRecentWallet(this.wallet),de.openHref(s,"_blank")}catch(r){this.error=!0}}};CIe([ye()],_X.prototype,"isLoading",void 0);_X=CIe([fe("w3m-connecting-wc-web")],_X)});var IIe,TIe=y(()=>{rt();IIe=Ee`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`});var qx,mm,PIe=y(()=>{Ae();Qe();It();At();rt();vf();P7e();J7e();X7e();eSe();vIe();AIe();SIe();TIe();qx=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},mm=class extends pe{constructor(){var e;super(),this.wallet=(e=te.state.data)==null?void 0:e.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!X.state.siwx,this.remoteFeatures=X.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(X.subscribeKey("remoteFeatures",r=>this.remoteFeatures=r))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),z`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){var e;return!((e=this.remoteFeatures)!=null&&e.reownBranding)||!this.displayBranding?null:z`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(e=!1){var r,n,s,i,o;if(!(this.platform==="browser"||X.state.manualWCControl&&!e))try{let{wcPairingExpiry:a,status:c}=le.state,{redirectView:l}=(r=te.state.data)!=null?r:{};if(e||X.state.enableEmbedded||de.isPairingExpired(a)||c==="connecting"){let u=le.getConnections(M.state.activeChain),f=(n=this.remoteFeatures)==null?void 0:n.multiWallet,d=u.length>0;await le.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(d&&f?(te.replace("ProfileWallets"),lt.showSuccess("New Wallet Added")):l?te.replace(l):Ke.close())}}catch(a){if(a instanceof Error&&a.message.includes("An error occurred when attempting to switch chain")&&!X.state.enableNetworkSwitch&&M.state.activeChain){M.setActiveCaipNetwork(j0.getUnsupportedNetwork(`${M.state.activeChain}:${(s=M.state.activeCaipNetwork)==null?void 0:s.id}`)),M.showUnsupportedChainUI();return}a instanceof Ll&&a.originalName===Ko.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Be.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:a.message}}):Be.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(i=a==null?void 0:a.message)!=null?i:"Unknown"}}),le.setWcError(!0),lt.showError((o=a.message)!=null?o:"Connection error"),le.resetWcConnection(),te.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;let{mobile_link:e,desktop_link:r,webapp_link:n,injected:s,rdns:i}=this.wallet,o=s==null?void 0:s.map(({injected_id:h})=>h).filter(Boolean),a=[...i?[i]:o!=null?o:[]],c=X.state.isUniversalProvider?!1:a.length,l=e,u=n,f=le.checkInstalled(a),d=c&&f,p=r&&!de.isMobile();d&&!M.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(de.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),p&&this.platforms.push("desktop"),!d&&c&&!M.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return z`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return z`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return z`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return z`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return z`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return z`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?z`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){var n;let r=(n=this.shadowRoot)==null?void 0:n.querySelector("div");r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};mm.styles=IIe;qx([ye()],mm.prototype,"platform",void 0);qx([ye()],mm.prototype,"platforms",void 0);qx([ye()],mm.prototype,"isSiwxEnabled",void 0);qx([ye()],mm.prototype,"remoteFeatures",void 0);qx([W({type:Boolean})],mm.prototype,"displayBranding",void 0);qx([W({type:Boolean})],mm.prototype,"basic",void 0);mm=qx([fe("w3m-connecting-wc-view")],mm)});var NX,eT,_Ie=y(()=>{Ae();Qe();At();rt();Tn();y7e();x7e();PIe();NX=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},eT=class extends pe{constructor(){super(),this.unsubscribe=[],this.isMobile=de.isMobile(),this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(this.isMobile){let{featured:e,recommended:r}=Ce.state,{customWallets:n}=X.state,s=ve.getRecentWallets(),i=e.length||r.length||(n==null?void 0:n.length)||s.length;return z`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${i?z`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return z`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.reownBranding?z` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};NX([ye()],eT.prototype,"isMobile",void 0);NX([ye()],eT.prototype,"remoteFeatures",void 0);eT=NX([fe("w3m-connecting-wc-basic-view")],eT)});var mEr,NIe,OIe=y(()=>{am();({I:mEr}=Fve),NIe=t=>t.strings===void 0});function Pmt(t){this._$AN!==void 0?(nL(this),this._$AM=t,RIe(this)):this._$AM=t}function _mt(t,e=!1,r=0){let n=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(e)if(Array.isArray(n))for(let i=r;i<n.length;i++)tT(n[i],!1),nL(n[i]);else n!=null&&(tT(n,!1),nL(n));else tT(this,t)}var tT,nL,RIe,Nmt,sL,kIe=y(()=>{OIe();UI();UI();tT=(t,e)=>{var n;let r=t._$AN;if(r===void 0)return!1;for(let s of r)(n=s._$AO)==null||n.call(s,e,!1),tT(s,e);return!0},nL=t=>{let e,r;do{if((e=t._$AM)===void 0)break;r=e._$AN,r.delete(t),t=e}while((r==null?void 0:r.size)===0)},RIe=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(r===void 0)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),Nmt(e)}};Nmt=t=>{var e,r;t.type==kD.CHILD&&((e=t._$AP)!=null||(t._$AP=_mt),(r=t._$AQ)!=null||(t._$AQ=Pmt))},sL=class extends uv{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,r,n){super._$AT(e,r,n),RIe(this),this.isConnected=e._$AU}_$AO(e,r=!0){var n,s;e!==this.isConnected&&(this.isConnected=e,e?(n=this.reconnected)==null||n.call(this):(s=this.disconnected)==null||s.call(this)),r&&(tT(this,e),nL(this))}setValue(e){if(NIe(this._$Ct))this._$Ct._$AI(e,this);else{let r=[...this._$Ct._$AH];r[this._$Ci]=e,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}});var Sv,RX,OX,Iv,BIe=y(()=>{am();kIe();UI();Sv=()=>new RX,RX=class{},OX=new WeakMap,Iv=BI(class extends sL{render(t){return Yn}update(t,[e]){var n;let r=e!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=e,this.ht=(n=t.options)==null?void 0:n.host,this.rt(this.ct=t.element)),Yn}rt(t){var e;if(this.isConnected||(t=void 0),typeof this.G=="function"){let r=(e=this.ht)!=null?e:globalThis,n=OX.get(r);n===void 0&&(n=new WeakMap,OX.set(r,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e,r;return typeof this.G=="function"?(e=OX.get((t=this.ht)!=null?t:globalThis))==null?void 0:e.get(this.G):(r=this.G)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})});var iL=y(()=>{BIe()});var UIe,DIe=y(()=>{Zt();UIe=Ee`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:t})=>t.neutrals300};
    border-radius: ${({borderRadius:t})=>t.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:t})=>t.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    background-color: ${({tokens:t})=>t.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:t})=>t.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:t})=>t.theme.textTertiary};
  }
`});var oL,Tv,LIe=y(()=>{Ae();Qe();iL();nr();Qt();DIe();oL=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Tv=class extends pe{constructor(){super(...arguments),this.inputElementRef=Sv(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return z`
      <label data-size=${this.size}>
        <input
          ${Iv(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent("switchChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};Tv.styles=[Ye,yr,UIe];oL([W({type:Boolean})],Tv.prototype,"checked",void 0);oL([W({type:Boolean})],Tv.prototype,"disabled",void 0);oL([W()],Tv.prototype,"size",void 0);Tv=oL([fe("wui-toggle")],Tv)});var MIe,$Ie=y(()=>{Zt();MIe=Ee`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`});var HIe,aL,FIe=y(()=>{Ae();Qe();nr();Qt();LIe();$Ie();HIe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},aL=class extends pe{constructor(){super(...arguments),this.checked=!1}render(){return z`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(e){e.stopPropagation(),this.checked=e.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};aL.styles=[Ye,yr,MIe];HIe([W({type:Boolean})],aL.prototype,"checked",void 0);aL=HIe([fe("wui-certified-switch")],aL)});var zIe=y(()=>{FIe()});var VIe,jIe=y(()=>{Zt();VIe=Ee`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.textPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[3]} ${({spacing:t})=>t[10]};
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[4]} ${({spacing:t})=>t[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:t})=>t[2]};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:t})=>t[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`});var Yl,rc,qIe=y(()=>{Ae();Qe();mn();iL();Gs();_o();nr();Qt();jIe();Yl=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},rc=class extends pe{constructor(){super(...arguments),this.inputElementRef=Sv(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return z` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${Iv(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${Le(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?z`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){var e;return this.onSubmit?z`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${(e=this.onSubmit)==null?void 0:e.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?z`<wui-icon name="spinner" size="md"></wui-icon>`:z`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?z`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?z`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){var e;this.dispatchEvent(new CustomEvent("inputChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.value,bubbles:!0,composed:!0}))}};rc.styles=[Ye,yr,VIe];Yl([W()],rc.prototype,"icon",void 0);Yl([W({type:Boolean})],rc.prototype,"disabled",void 0);Yl([W({type:Boolean})],rc.prototype,"loading",void 0);Yl([W()],rc.prototype,"placeholder",void 0);Yl([W()],rc.prototype,"type",void 0);Yl([W()],rc.prototype,"value",void 0);Yl([W()],rc.prototype,"errorText",void 0);Yl([W()],rc.prototype,"warningText",void 0);Yl([W()],rc.prototype,"onSubmit",void 0);Yl([W()],rc.prototype,"size",void 0);Yl([W({attribute:!1})],rc.prototype,"onKeyDown",void 0);rc=Yl([fe("wui-input-text")],rc)});var WIe,KIe=y(()=>{Zt();WIe=Ee`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:t})=>t[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }
`});var GIe,cL,ZIe=y(()=>{Ae();Qe();iL();nr();Qt();qIe();KIe();GIe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},cL=class extends pe{constructor(){super(...arguments),this.inputComponentRef=Sv(),this.inputValue=""}render(){return z`
      <wui-input-text
        ${Iv(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?z`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(e){this.inputValue=e.detail||""}clearValue(){let e=this.inputComponentRef.value,r=e==null?void 0:e.inputElementRef.value;r&&(r.value="",this.inputValue="",r.focus(),r.dispatchEvent(new Event("input")))}};cL.styles=[Ye,WIe];GIe([W()],cL.prototype,"inputValue",void 0);cL=GIe([fe("wui-search-bar")],cL)});var YIe=y(()=>{ZIe()});var lL,kX=y(()=>{Ae();lL=Je`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`});var JIe,QIe=y(()=>{Zt();JIe=Ee`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:t})=>t.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`});var XIe,uL,eTe=y(()=>{Ae();Qe();kX();IX();nr();Qt();QIe();XIe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},uL=class extends pe{constructor(){super(...arguments),this.type="wallet"}render(){return z`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?z` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${lL}`:z`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};uL.styles=[Ye,yr,JIe];XIe([W()],uL.prototype,"type",void 0);uL=XIe([fe("wui-card-select-loader")],uL)});var tTe=y(()=>{eTe()});var rTe,nTe=y(()=>{Ae();rTe=Qr`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`});var Jl,nc,sTe=y(()=>{Ae();Qe();nr();sv();Qt();nTe();Jl=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},nc=class extends pe{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&jr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&jr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&jr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&jr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&jr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&jr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&jr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&jr.getSpacingStyles(this.margin,3)};
    `,z`<slot></slot>`}};nc.styles=[Ye,rTe];Jl([W()],nc.prototype,"gridTemplateRows",void 0);Jl([W()],nc.prototype,"gridTemplateColumns",void 0);Jl([W()],nc.prototype,"justifyItems",void 0);Jl([W()],nc.prototype,"alignItems",void 0);Jl([W()],nc.prototype,"justifyContent",void 0);Jl([W()],nc.prototype,"alignContent",void 0);Jl([W()],nc.prototype,"columnGap",void 0);Jl([W()],nc.prototype,"rowGap",void 0);Jl([W()],nc.prototype,"gap",void 0);Jl([W()],nc.prototype,"padding",void 0);Jl([W()],nc.prototype,"margin",void 0);nc=Jl([fe("wui-grid")],nc)});var BX=y(()=>{sTe()});var iTe,oTe=y(()=>{rt();iTe=Ee`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[0]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:t})=>t[4]}, 20px);
    transition:
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:t})=>t.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:t})=>t.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:t})=>t.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:t})=>t.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`});var qd,Ql,UX=y(()=>{Ae();Qe();mn();At();rt();Tn();dm();XI();Rs();VI();oTe();qd=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Ql=class extends pe{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var r,n;let e=((r=this.wallet)==null?void 0:r.badge_type)==="certified";return z`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${Le(e?"certified":void 0)}
            >${(n=this.wallet)==null?void 0:n.name}</wui-text
          >
          ${e?z`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var e,r,n;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():z`
      <wui-wallet-image
        size="lg"
        imageSrc=${Le(this.imageSrc)}
        name=${Le((e=this.wallet)==null?void 0:e.name)}
        .installed=${(n=(r=this.wallet)==null?void 0:r.installed)!=null?n:!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return z`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Vt.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Vt.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,Be.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:te.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};Ql.styles=iTe;qd([ye()],Ql.prototype,"visible",void 0);qd([ye()],Ql.prototype,"imageSrc",void 0);qd([ye()],Ql.prototype,"imageLoading",void 0);qd([ye()],Ql.prototype,"isImpressed",void 0);qd([W()],Ql.prototype,"explorerId",void 0);qd([W()],Ql.prototype,"walletQuery",void 0);qd([W()],Ql.prototype,"certified",void 0);qd([W()],Ql.prototype,"displayIndex",void 0);qd([W({type:Object})],Ql.prototype,"wallet",void 0);Ql=qd([fe("w3m-all-wallets-list-item")],Ql)});var aTe,cTe=y(()=>{rt();aTe=Ee`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:t})=>t[4]};
    padding-bottom: ${({spacing:t})=>t[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`});var rT,lTe,Wx,uTe=y(()=>{Ae();Qe();mn();At();rt();tTe();BX();UX();cTe();rT=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},lTe="local-paginator",Wx=class extends pe{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ce.state.wallets.length,this.wallets=Ce.state.wallets,this.mobileFullScreen=X.state.enableMobileFullScreen,this.unsubscribe.push(Ce.subscribeKey("wallets",e=>this.wallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var e;this.unsubscribe.forEach(r=>r()),(e=this.paginationObserver)==null||e.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),z`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var r;this.loading=!0;let e=(r=this.shadowRoot)==null?void 0:r.querySelector("wui-grid");e&&(await Ce.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,r){return[...Array(e)].map(()=>z`
        <wui-card-select-loader type="wallet" id=${Le(r)}></wui-card-select-loader>
      `)}walletsTemplate(){return mo.getWalletConnectWallets(this.wallets).map((e,r)=>z`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${e.id}"
          @click=${()=>this.onConnectWallet(e)}
          .wallet=${e}
          explorerId=${e.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){let{wallets:e,recommended:r,featured:n,count:s,mobileFilteredOutWalletsLength:i}=Ce.state,o=window.innerWidth<352?3:4,a=e.length+r.length,l=Math.ceil(a/o)*o-a+o;return l-=e.length?n.length%o:0,s===0&&n.length>0?null:s===0||[...n,...e,...r].length<s-(i!=null?i:0)?this.shimmerTemplate(l,lTe):null}createPaginationObserver(){var r;let e=(r=this.shadowRoot)==null?void 0:r.querySelector(`#${lTe}`);e&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n!=null&&n.isIntersecting&&!this.loading){let{page:s,count:i,wallets:o}=Ce.state;o.length<i&&Ce.fetchWalletsByPage({page:s+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){ue.selectWalletConnector(e)}};Wx.styles=aTe;rT([ye()],Wx.prototype,"loading",void 0);rT([ye()],Wx.prototype,"wallets",void 0);rT([ye()],Wx.prototype,"badge",void 0);rT([ye()],Wx.prototype,"mobileFullScreen",void 0);Wx=rT([fe("w3m-all-wallets-list")],Wx)});var nT=y(()=>{HI()});var fTe,dTe=y(()=>{Ae();fTe=Qr`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`});var sT,Kx,pTe=y(()=>{Ae();Qe();At();rt();Tn();BX();$D();nT();Rs();UX();dTe();sT=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Kx=class extends pe{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=X.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?z`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ce.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){let{search:e}=Ce.state,r=mo.markWalletsAsInstalled(e),n=mo.filterWalletsByWcSupport(r);return n.length?z`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${n.map((s,i)=>z`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(s)}
              .wallet=${s}
              data-testid="wallet-search-item-${s.id}"
              explorerId=${s.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${i}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:z`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){ue.selectWalletConnector(e)}};Kx.styles=fTe;sT([ye()],Kx.prototype,"loading",void 0);sT([ye()],Kx.prototype,"mobileFullScreen",void 0);sT([W()],Kx.prototype,"query",void 0);sT([W()],Kx.prototype,"badge",void 0);Kx=sT([fe("w3m-all-wallets-search")],Kx)});var DX,iT,hTe=y(()=>{Ae();Qe();At();rt();zIe();Tn();$D();YIe();uTe();pTe();DX=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},iT=class extends pe{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=de.debounce(e=>{this.search=e})}render(){let e=this.search.length>=2;return z`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?z`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:z`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onCertifiedSwitchChange(e){e.detail?(this.badge="certified",lt.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return de.isMobile()?z`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){te.push("ConnectingWalletConnect")}};DX([ye()],iT.prototype,"search",void 0);DX([ye()],iT.prototype,"badge",void 0);iT=DX([fe("w3m-all-wallets-view")],iT)});var mTe,gTe=y(()=>{Zt();mTe=Ee`
  :host {
    width: 100%;
  }

  :host([data-type='primary']) > button {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  :host([data-type='secondary']) > button {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  @media (hover: hover) {
    :host([data-type='primary']) > button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }

    :host([data-type='secondary']) > button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var sc,Oo,yTe=y(()=>{Ae();Qe();mn();HI();_o();nr();Qt();gTe();sc=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Oo=class extends pe{constructor(){super(...arguments),this.type="primary",this.imageSrc="google",this.imageSize=void 0,this.loading=!1,this.boxColor="foregroundPrimary",this.disabled=!1,this.rightIcon=!0,this.boxed=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",this.dataset.type=this.type,z`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${Le(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?z`<wui-image
        icon=${this.icon}
        iconColor=${Le(this.iconColor)}
        ?boxed=${this.boxed}
        ?rounded=${this.rounded}
        boxColor=${this.boxColor}
      ></wui-image>`:z`<wui-image
      ?boxed=${this.boxed}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      size=${Le(this.imageSize)}
      src=${this.imageSrc}
      boxColor=${this.boxColor}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?z`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:z`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};Oo.styles=[Ye,yr,mTe];sc([W()],Oo.prototype,"type",void 0);sc([W()],Oo.prototype,"imageSrc",void 0);sc([W()],Oo.prototype,"imageSize",void 0);sc([W()],Oo.prototype,"icon",void 0);sc([W()],Oo.prototype,"iconColor",void 0);sc([W({type:Boolean})],Oo.prototype,"loading",void 0);sc([W()],Oo.prototype,"tabIdx",void 0);sc([W()],Oo.prototype,"boxColor",void 0);sc([W({type:Boolean})],Oo.prototype,"disabled",void 0);sc([W({type:Boolean})],Oo.prototype,"rightIcon",void 0);sc([W({type:Boolean})],Oo.prototype,"boxed",void 0);sc([W({type:Boolean})],Oo.prototype,"rounded",void 0);sc([W({type:Boolean})],Oo.prototype,"fullSize",void 0);Oo=sc([fe("wui-list-item")],Oo)});var LX=y(()=>{yTe()});var Omt,MX,bTe=y(()=>{Ae();At();rt();Tn();LX();Rs();Omt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},MX=class extends pe{constructor(){var e;super(...arguments),this.wallet=(e=te.state.data)==null?void 0:e.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return z`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var e;return(e=this.wallet)!=null&&e.chrome_store?z`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var e;return(e=this.wallet)!=null&&e.app_store?z`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var e;return(e=this.wallet)!=null&&e.play_store?z`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var e;return(e=this.wallet)!=null&&e.homepage?z`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(e){e.href&&this.wallet&&(Be.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:e.type}}),de.openHref(e.href,"_blank"))}onChromeStore(){var e;(e=this.wallet)!=null&&e.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};MX=Omt([fe("w3m-downloads-view")],MX)});var wTe={};Me(wTe,{W3mAllWalletsView:()=>iT,W3mConnectingWcBasicView:()=>eT,W3mDownloadsView:()=>MX});var xTe=y(()=>{_Ie();hTe();bTe()});var vTe,ETe=y(()=>{Zt();vTe=Ee`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:t})=>t[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    overflow: hidden;
  }
`});var Rmt,$X,ATe=y(()=>{Ae();nr();Qt();ETe();Rmt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},$X=class extends pe{render(){return z`<slot></slot>`}};$X.styles=[Ye,vTe];$X=Rmt([fe("wui-card")],$X)});var CTe=y(()=>{ATe()});var STe,ITe=y(()=>{Zt();STe=Ee`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[6]};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:t})=>t.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundError};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:t})=>t[2]};
    background-color: var(--local-icon-bg-value);
  }
`});var HX,kmt,oT,TTe=y(()=>{Ae();Qe();mn();At();Gs();_o();Sx();nr();Qt();ITe();HX=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},kmt={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"},oT=class extends pe{constructor(){super(...arguments),this.message="",this.type="info"}render(){return z`
      <wui-flex
        data-type=${Le(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${kmt[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){$n.close()}};oT.styles=[Ye,STe];HX([W()],oT.prototype,"message",void 0);HX([W()],oT.prototype,"type",void 0);oT=HX([fe("wui-alertbar")],oT)});var PTe=y(()=>{TTe()});var _Te,NTe=y(()=>{rt();_Te=Ee`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:t})=>t[3]};
    left: ${({spacing:t})=>t[4]};
    right: ${({spacing:t})=>t[4]};
    opacity: 0;
    pointer-events: none;
  }
`});var OTe,Bmt,fL,RTe=y(()=>{Ae();Qe();At();rt();PTe();NTe();OTe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Bmt={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}},fL=class extends pe{constructor(){super(),this.unsubscribe=[],this.open=$n.state.open,this.onOpen(!0),this.unsubscribe.push($n.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){let{message:e,variant:r}=$n.state,n=Bmt[r];return z`
      <wui-alertbar
        message=${e}
        backgroundColor=${n==null?void 0:n.backgroundColor}
        iconColor=${n==null?void 0:n.iconColor}
        icon=${n==null?void 0:n.icon}
        type=${r}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};fL.styles=_Te;OTe([ye()],fL.prototype,"open",void 0);fL=OTe([fe("w3m-alertbar")],fL)});var kTe,BTe=y(()=>{Zt();kTe=Ee`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:t})=>t.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var Q2,Wd,UTe=y(()=>{Ae();Qe();mn();Gs();nr();Qt();BTe();Q2=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Wd=class extends pe{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return z`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${Le(this.iconSize)}></wui-icon>
    </button>`}};Wd.styles=[Ye,yr,kTe];Q2([W()],Wd.prototype,"icon",void 0);Q2([W()],Wd.prototype,"variant",void 0);Q2([W()],Wd.prototype,"type",void 0);Q2([W()],Wd.prototype,"size",void 0);Q2([W()],Wd.prototype,"iconSize",void 0);Q2([W({type:Boolean})],Wd.prototype,"fullWidth",void 0);Q2([W({type:Boolean})],Wd.prototype,"disabled",void 0);Wd=Q2([fe("wui-icon-button")],Wd)});var FX=y(()=>{UTe()});var DTe,LTe=y(()=>{Zt();DTe=Ee`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:t})=>t[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    opacity: 0.5;
  }
`});var Pv,Umt,Dmt,X2,MTe=y(()=>{Ae();Qe();Gs();Rx();_o();nr();Qt();LTe();Pv=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Umt={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Dmt={lg:"lg",md:"md",sm:"sm"},X2=class extends pe{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return z`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){let e=Umt[this.size];return this.text?z`<wui-text color="primary" variant=${e}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return z`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;let e=Dmt[this.size];return z` <wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};X2.styles=[Ye,yr,DTe];Pv([W()],X2.prototype,"imageSrc",void 0);Pv([W()],X2.prototype,"text",void 0);Pv([W()],X2.prototype,"size",void 0);Pv([W()],X2.prototype,"type",void 0);Pv([W({type:Boolean})],X2.prototype,"disabled",void 0);X2=Pv([fe("wui-select")],X2)});var $Te=y(()=>{MTe()});var HTe=y(()=>{JQ()});var gm,zX=y(()=>{gm={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process!="undefined"&&typeof process.env!="undefined"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]}});var FTe,zTe=y(()=>{Zt();FTe=Ee`
  button {
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`});var _v,ey,VTe=y(()=>{Ae();Qe();Gs();nr();Qt();zTe();_v=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ey=class extends pe{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){let e={accent:"accent-primary",primary:"inverse",secondary:"default"};return z`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${e[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};ey.styles=[Ye,yr,FTe];_v([W()],ey.prototype,"size",void 0);_v([W({type:Boolean})],ey.prototype,"disabled",void 0);_v([W()],ey.prototype,"icon",void 0);_v([W()],ey.prototype,"iconColor",void 0);_v([W()],ey.prototype,"variant",void 0);ey=_v([fe("wui-icon-link")],ey)});var jTe=y(()=>{VTe()});var dL=y(()=>{Rx()});var qTe,WTe=y(()=>{Ae();qTe=Je`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`});var KTe,GTe=y(()=>{Ae();KTe=Je`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`});var ZTe,YTe=y(()=>{Zt();ZTe=Ee`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 100%;
    outline: 1px solid ${({tokens:t})=>t.core.glass010};
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`});var Gx,ym,JTe=y(()=>{Ae();Qe();WTe();kX();GTe();Gs();Rx();nr();Qt();YTe();Gx=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ym=class extends pe{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:KTe,md:lL,lg:qTe},this.selected=!1,this.round=!1}render(){let e={sm:"4",md:"6",lg:"10"};return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--apkt-spacing-10);
      --local-height: var(--apkt-spacing-10);
      --local-icon-size: var(--apkt-spacing-4);
    `):this.style.cssText=`

      --local-path: var(--apkt-path-network-${this.size});
      --local-width:  var(--apkt-width-network-${this.size});
      --local-height:  var(--apkt-height-network-${this.size});
      --local-icon-size:  var(--apkt-spacing-${e[this.size]});
    `,z`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?z`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:z`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};ym.styles=[Ye,ZTe];Gx([W()],ym.prototype,"size",void 0);Gx([W()],ym.prototype,"name",void 0);Gx([W({type:Object})],ym.prototype,"networkImagesBySize",void 0);Gx([W()],ym.prototype,"imageSrc",void 0);Gx([W({type:Boolean})],ym.prototype,"selected",void 0);Gx([W({type:Boolean})],ym.prototype,"round",void 0);ym=Gx([fe("wui-network-image")],ym)});var QTe=y(()=>{JTe()});var XTe,ePe=y(()=>{Zt();XTe=Ee`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: ${({tokens:t})=>t.theme.borderPrimary};
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 8px;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  :host([data-bg-color='primary']) > wui-text {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  :host([data-bg-color='secondary']) > wui-text {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }
`});var VX,aT,tPe=y(()=>{Ae();Qe();_o();nr();Qt();ePe();VX=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},aT=class extends pe{constructor(){super(...arguments),this.text="",this.bgColor="primary"}render(){return this.dataset.bgColor=this.bgColor,z`${this.template()}`}template(){return this.text?z`<wui-text variant="md-regular" color="secondary">${this.text}</wui-text>`:null}};aT.styles=[Ye,XTe];VX([W()],aT.prototype,"text",void 0);VX([W()],aT.prototype,"bgColor",void 0);aT=VX([fe("wui-separator")],aT)});var jX=y(()=>{tPe()});var rPe=y(()=>{C5()});var _t,bm,Yt,Nv=y(()=>{_t={INVALID_PAYMENT_CONFIG:"INVALID_PAYMENT_CONFIG",INVALID_RECIPIENT:"INVALID_RECIPIENT",INVALID_ASSET:"INVALID_ASSET",INVALID_AMOUNT:"INVALID_AMOUNT",UNKNOWN_ERROR:"UNKNOWN_ERROR",UNABLE_TO_INITIATE_PAYMENT:"UNABLE_TO_INITIATE_PAYMENT",INVALID_CHAIN_NAMESPACE:"INVALID_CHAIN_NAMESPACE",GENERIC_PAYMENT_ERROR:"GENERIC_PAYMENT_ERROR",UNABLE_TO_GET_EXCHANGES:"UNABLE_TO_GET_EXCHANGES",ASSET_NOT_SUPPORTED:"ASSET_NOT_SUPPORTED",UNABLE_TO_GET_PAY_URL:"UNABLE_TO_GET_PAY_URL",UNABLE_TO_GET_BUY_STATUS:"UNABLE_TO_GET_BUY_STATUS",UNABLE_TO_GET_TOKEN_BALANCES:"UNABLE_TO_GET_TOKEN_BALANCES",UNABLE_TO_GET_QUOTE:"UNABLE_TO_GET_QUOTE",UNABLE_TO_GET_QUOTE_STATUS:"UNABLE_TO_GET_QUOTE_STATUS",INVALID_RECIPIENT_ADDRESS_FOR_ASSET:"INVALID_RECIPIENT_ADDRESS_FOR_ASSET"},bm={[_t.INVALID_PAYMENT_CONFIG]:"Invalid payment configuration",[_t.INVALID_RECIPIENT]:"Invalid recipient address",[_t.INVALID_ASSET]:"Invalid asset specified",[_t.INVALID_AMOUNT]:"Invalid payment amount",[_t.INVALID_RECIPIENT_ADDRESS_FOR_ASSET]:"Invalid recipient address for the asset selected",[_t.UNKNOWN_ERROR]:"Unknown payment error occurred",[_t.UNABLE_TO_INITIATE_PAYMENT]:"Unable to initiate payment",[_t.INVALID_CHAIN_NAMESPACE]:"Invalid chain namespace",[_t.GENERIC_PAYMENT_ERROR]:"Unable to process payment",[_t.UNABLE_TO_GET_EXCHANGES]:"Unable to get exchanges",[_t.ASSET_NOT_SUPPORTED]:"Asset not supported by the selected exchange",[_t.UNABLE_TO_GET_PAY_URL]:"Unable to get payment URL",[_t.UNABLE_TO_GET_BUY_STATUS]:"Unable to get buy status",[_t.UNABLE_TO_GET_TOKEN_BALANCES]:"Unable to get token balances",[_t.UNABLE_TO_GET_QUOTE]:"Unable to get quote. Please choose a different token",[_t.UNABLE_TO_GET_QUOTE_STATUS]:"Unable to get quote status"},Yt=class t extends Error{get message(){return bm[this.code]}constructor(e,r){super(bm[e]),this.name="AppKitPayError",this.code=e,this.details=r,Error.captureStackTrace&&Error.captureStackTrace(this,t)}}});var nPe,qX,WX=y(()=>{nPe="https://rpc.walletconnect.org/v1/json-rpc",qX="reown_test"});function sPe(){let{chainNamespace:t}=St.parseCaipNetworkId(Fe.state.paymentAsset.network);if(!de.isAddress(Fe.state.recipient,t))throw new Yt(_t.INVALID_RECIPIENT_ADDRESS_FOR_ASSET,`Provide valid recipient address for namespace "${t}"`)}async function iPe(t,e,r){var a,c;if(e!==J.CHAIN.EVM)throw new Yt(_t.INVALID_CHAIN_NAMESPACE);if(!r.fromAddress)throw new Yt(_t.INVALID_PAYMENT_CONFIG,"fromAddress is required for native EVM payments.");let n=typeof r.amount=="string"?parseFloat(r.amount):r.amount;if(isNaN(n))throw new Yt(_t.INVALID_PAYMENT_CONFIG);let s=(c=(a=t.metadata)==null?void 0:a.decimals)!=null?c:18,i=le.parseUnits(n.toString(),s);if(typeof i!="bigint")throw new Yt(_t.GENERIC_PAYMENT_ERROR);let o=await le.sendTransaction({chainNamespace:e,to:r.recipient,address:r.fromAddress,value:i,data:"0x"});return o!=null?o:void 0}async function oPe(t,e){if(!e.fromAddress)throw new Yt(_t.INVALID_PAYMENT_CONFIG,"fromAddress is required for ERC20 EVM payments.");let r=t.asset,n=e.recipient,s=Number(t.metadata.decimals),i=le.parseUnits(e.amount.toString(),s);if(i===void 0)throw new Yt(_t.GENERIC_PAYMENT_ERROR);let o=await le.writeContract({fromAddress:e.fromAddress,tokenAddress:r,args:[n,i],method:"transfer",abi:zC.getERC20Abi(r),chainNamespace:J.CHAIN.EVM});return o!=null?o:void 0}async function aPe(t,e){if(t!==J.CHAIN.SOLANA)throw new Yt(_t.INVALID_CHAIN_NAMESPACE);if(!e.fromAddress)throw new Yt(_t.INVALID_PAYMENT_CONFIG,"fromAddress is required for Solana payments.");let r=typeof e.amount=="string"?parseFloat(e.amount):e.amount;if(isNaN(r)||r<=0)throw new Yt(_t.INVALID_PAYMENT_CONFIG,"Invalid payment amount.");try{if(!Mr.getProvider(t))throw new Yt(_t.GENERIC_PAYMENT_ERROR,"No Solana provider available.");let s=await le.sendTransaction({chainNamespace:J.CHAIN.SOLANA,to:e.recipient,value:r,tokenMint:e.tokenMint});if(!s)throw new Yt(_t.GENERIC_PAYMENT_ERROR,"Transaction failed.");return s}catch(n){throw n instanceof Yt?n:new Yt(_t.GENERIC_PAYMENT_ERROR,`Solana payment failed: ${n}`)}}async function cPe({sourceToken:t,toToken:e,amount:r,recipient:n}){var o,a,c;let s=le.parseUnits(r,t.metadata.decimals),i=le.parseUnits(r,e.metadata.decimals);return Promise.resolve({type:pL,origin:{amount:(o=s==null?void 0:s.toString())!=null?o:"0",currency:t},destination:{amount:(a=i==null?void 0:i.toString())!=null?a:"0",currency:e},fees:[{id:"service",label:"Service Fee",amount:"0",currency:e}],steps:[{requestId:pL,type:"deposit",deposit:{amount:(c=s==null?void 0:s.toString())!=null?c:"0",currency:t.asset,receiver:n}}],timeInSeconds:6})}function cT(t){if(!t)return null;let e=t.steps[0];return!e||e.type!==lPe?null:e}function hL(t,e=0){if(!t)return[];let r=t.steps.filter(s=>s.type===uPe),n=r.filter((s,i)=>i+1>e);return r.length>0&&r.length<3?n:[]}var mL=y(()=>{It();At();wm();Nv();Nv()});function Lmt(){let t=X.getSnapshot().projectId;return`${nPe}?projectId=${t}`}function ZX(){let{projectId:t,sdkType:e,sdkVersion:r}=X.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}}async function YX(t,e){let r=Lmt(),{sdkType:n,sdkVersion:s,projectId:i}=X.getSnapshot(),o={jsonrpc:"2.0",id:1,method:t,params:G(S({},e||{}),{st:n,sv:s,projectId:i})},c=await(await fetch(r,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json();if(c.error)throw new KX(c.error.message);return c}async function JX(t){return(await YX("reown_getExchanges",t)).result}async function QX(t){return(await YX("reown_getExchangePayUrl",t)).result}async function fPe(t){return(await YX("reown_getExchangeBuyStatus",t)).result}async function Mmt(t){let e=Nt.bigNumber(t.amount).times(10**t.toToken.metadata.decimals).toString(),{chainId:r,chainNamespace:n}=St.parseCaipNetworkId(t.sourceToken.network),{chainId:s,chainNamespace:i}=St.parseCaipNetworkId(t.toToken.network),o=t.sourceToken.asset==="native"?zG(n):t.sourceToken.asset,a=t.toToken.asset==="native"?zG(i):t.toToken.asset;return await GX.post({path:"/appkit/v1/transfers/quote",body:{user:t.address,originChainId:r.toString(),originCurrency:o,destinationChainId:s.toString(),destinationCurrency:a,recipient:t.recipient,amount:e},params:ZX()})}async function dPe(t){let e=Hn.isLowerCaseMatch(t.sourceToken.network,t.toToken.network),r=Hn.isLowerCaseMatch(t.sourceToken.asset,t.toToken.asset);return e&&r?cPe(t):Mmt(t)}async function pPe(t){return await GX.get({path:"/appkit/v1/transfers/status",params:S({requestId:t.requestId},ZX())})}async function hPe(t){return await GX.get({path:`/appkit/v1/transfers/assets/exchanges/${t}`,params:ZX()})}var GX,KX,mPe=y(()=>{It();At();vf();WX();mL();GX=new ja({baseUrl:de.getApiUrl(),clientId:null}),KX=class extends Error{}});function gL(t,e){let{chainNamespace:r,chainId:n}=St.parseCaipNetworkId(t),s=Hmt[r];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${r}`);let i=s.native.assetNamespace,o=s.native.assetReference;return e!=="native"&&(i=s.defaultTokenNamespace,o=e),`${`${r}:${n}`}/${i}:${o}`}function gPe(t){let{chainNamespace:e}=St.parseCaipNetworkId(t);return $mt.includes(e)}function yPe(t){let r=M.getAllRequestedCaipNetworks().find(s=>s.caipNetworkId===t.chainId),n=t.address;if(!r)throw new Error(`Target network not found for balance chainId "${t.chainId}"`);if(Hn.isLowerCaseMatch(t.symbol,r.nativeCurrency.symbol))n="native";else if(de.isCaipAddress(n)){let{address:s}=St.parseCaipAddress(n);n=s}else if(!n)throw new Error(`Balance address not found for balance symbol "${t.symbol}"`);return{network:r.caipNetworkId,asset:n,metadata:{name:t.name,symbol:t.symbol,decimals:Number(t.quantity.decimals),logoURI:t.iconUrl},amount:t.quantity.numeric}}function bPe(t){return{chainId:t.network,address:`${t.network}:${t.asset}`,symbol:t.metadata.symbol,name:t.metadata.name,iconUrl:t.metadata.logoURI||"",price:0,quantity:{numeric:"0",decimals:t.metadata.decimals.toString()}}}function Zx(t){let e=Nt.bigNumber(t,{safe:!0});return e.lt(.001)?"<0.001":e.round(4).toString()}function wPe(t){let r=M.getAllRequestedCaipNetworks().find(n=>n.caipNetworkId===t.network);return r?!!r.testnet:!1}var $mt,Hmt,lT=y(()=>{It();At();vf();$mt=["eip155","solana"],Hmt={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}}});var xPe,XX,pL,lPe,uPe,ge,Fe,wm=y(()=>{En();Ss();It();At();rPe();vf();Nv();Nv();mPe();lT();mL();xPe=0,XX="unknown",pL="direct-transfer",lPe="deposit",uPe="transaction",ge=yt({paymentAsset:{network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},recipient:"0x0",amount:0,isConfigured:!1,error:null,isPaymentInProgress:!1,exchanges:[],isLoading:!1,openInNewTab:!0,redirectUrl:void 0,payWithExchange:void 0,currentPayment:void 0,analyticsSet:!1,paymentId:void 0,choice:"pay",tokenBalances:{[J.CHAIN.EVM]:[],[J.CHAIN.SOLANA]:[]},isFetchingTokenBalances:!1,selectedPaymentAsset:null,quote:void 0,quoteStatus:"waiting",quoteError:null,isFetchingQuote:!1,selectedExchange:void 0,exchangeUrlForQuote:void 0,requestId:void 0}),Fe={state:ge,subscribe(t){return rr(ge,()=>t(ge))},subscribeKey(t,e){return qt(ge,t,e)},async handleOpenPay(t){this.resetState(),this.setPaymentConfig(t),this.initializeAnalytics(),sPe(),await this.prepareTokenLogo(),ge.isConfigured=!0,Be.sendEvent({type:"track",event:"PAY_MODAL_OPEN",properties:{exchanges:ge.exchanges,configuration:{network:ge.paymentAsset.network,asset:ge.paymentAsset.asset,recipient:ge.recipient,amount:ge.amount}}}),await Ke.open({view:"Pay"})},resetState(){ge.paymentAsset={network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},ge.recipient="0x0",ge.amount=0,ge.isConfigured=!1,ge.error=null,ge.isPaymentInProgress=!1,ge.isLoading=!1,ge.currentPayment=void 0,ge.selectedExchange=void 0,ge.exchangeUrlForQuote=void 0,ge.requestId=void 0},resetQuoteState(){ge.quote=void 0,ge.quoteStatus="waiting",ge.quoteError=null,ge.isFetchingQuote=!1,ge.requestId=void 0},setPaymentConfig(t){var e,r;if(!t.paymentAsset)throw new Yt(_t.INVALID_PAYMENT_CONFIG);try{ge.choice=(e=t.choice)!=null?e:"pay",ge.paymentAsset=t.paymentAsset,ge.recipient=t.recipient,ge.amount=t.amount,ge.openInNewTab=(r=t.openInNewTab)!=null?r:!0,ge.redirectUrl=t.redirectUrl,ge.payWithExchange=t.payWithExchange,ge.error=null}catch(n){throw new Yt(_t.INVALID_PAYMENT_CONFIG,n.message)}},setSelectedPaymentAsset(t){ge.selectedPaymentAsset=t},setSelectedExchange(t){ge.selectedExchange=t},setRequestId(t){ge.requestId=t},setPaymentInProgress(t){ge.isPaymentInProgress=t},getPaymentAsset(){return ge.paymentAsset},getExchanges(){return ge.exchanges},async fetchExchanges(){try{ge.isLoading=!0;let t=await JX({page:xPe});ge.exchanges=t.exchanges.slice(0,2)}catch(t){throw lt.showError(bm.UNABLE_TO_GET_EXCHANGES),new Yt(_t.UNABLE_TO_GET_EXCHANGES)}finally{ge.isLoading=!1}},async getAvailableExchanges(t){var e,r;try{let n=t!=null&&t.asset&&(t!=null&&t.network)?gL(t.network,t.asset):void 0;return await JX({page:(e=t==null?void 0:t.page)!=null?e:xPe,asset:n,amount:(r=t==null?void 0:t.amount)==null?void 0:r.toString()})}catch(n){throw new Yt(_t.UNABLE_TO_GET_EXCHANGES)}},async getPayUrl(t,e,r=!1){try{let n=Number(e.amount),s=await QX({exchangeId:t,asset:gL(e.network,e.asset),amount:n.toString(),recipient:`${e.network}:${e.recipient}`});return Be.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{source:"pay",exchange:{id:t},configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:t},headless:r}}),r&&(this.initiatePayment(),Be.sendEvent({type:"track",event:"PAY_INITIATED",properties:{source:"pay",paymentId:ge.paymentId||XX,configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:t}}})),s}catch(n){throw n instanceof Error&&n.message.includes("is not supported")?new Yt(_t.ASSET_NOT_SUPPORTED):new Error(n.message)}},async generateExchangeUrlForQuote({exchangeId:t,paymentAsset:e,amount:r,recipient:n}){let s=await QX({exchangeId:t,asset:gL(e.network,e.asset),amount:r.toString(),recipient:n});ge.exchangeSessionId=s.sessionId,ge.exchangeUrlForQuote=s.url},async openPayUrl(t,e,r=!1){var n;try{let s=await this.getPayUrl(t.exchangeId,e,r);if(!s)throw new Yt(_t.UNABLE_TO_GET_PAY_URL);let o=((n=t.openInNewTab)!=null?n:!0)?"_blank":"_self";return de.openHref(s.url,o),s}catch(s){throw s instanceof Yt?ge.error=s.message:ge.error=bm.GENERIC_PAYMENT_ERROR,new Yt(_t.UNABLE_TO_GET_PAY_URL)}},async onTransfer({chainNamespace:t,fromAddress:e,toAddress:r,amount:n,paymentAsset:s}){if(ge.currentPayment={type:"wallet",status:"IN_PROGRESS"},!ge.isPaymentInProgress)try{this.initiatePayment();let o=M.getAllRequestedCaipNetworks().find(c=>c.caipNetworkId===s.network);if(!o)throw new Error("Target network not found");let a=M.state.activeCaipNetwork;switch(Hn.isLowerCaseMatch(a==null?void 0:a.caipNetworkId,o.caipNetworkId)||await M.switchActiveNetwork(o),t){case J.CHAIN.EVM:s.asset==="native"&&(ge.currentPayment.result=await iPe(s,t,{recipient:r,amount:n,fromAddress:e})),s.asset.startsWith("0x")&&(ge.currentPayment.result=await oPe(s,{recipient:r,amount:n,fromAddress:e})),ge.currentPayment.status="SUCCESS";break;case J.CHAIN.SOLANA:ge.currentPayment.result=await aPe(t,{recipient:r,amount:n,fromAddress:e,tokenMint:s.asset==="native"?void 0:s.asset}),ge.currentPayment.status="SUCCESS";break;default:throw new Yt(_t.INVALID_CHAIN_NAMESPACE)}}catch(i){throw i instanceof Yt?ge.error=i.message:ge.error=bm.GENERIC_PAYMENT_ERROR,ge.currentPayment.status="FAILED",lt.showError(ge.error),i}finally{ge.isPaymentInProgress=!1}},async onSendTransaction(t){try{let{namespace:e,transactionStep:r}=t;Fe.initiatePayment();let s=M.getAllRequestedCaipNetworks().find(o=>{var a;return o.caipNetworkId===((a=ge.paymentAsset)==null?void 0:a.network)});if(!s)throw new Error("Target network not found");let i=M.state.activeCaipNetwork;if(Hn.isLowerCaseMatch(i==null?void 0:i.caipNetworkId,s.caipNetworkId)||await M.switchActiveNetwork(s),e===J.CHAIN.EVM){let{from:o,to:a,data:c,value:l}=r.transaction;await le.sendTransaction({address:o,to:a,data:c,value:BigInt(l),chainNamespace:e})}else if(e===J.CHAIN.SOLANA){let{instructions:o}=r.transaction;await le.writeSolanaTransaction({instructions:o})}}catch(e){throw e instanceof Yt?ge.error=e.message:ge.error=bm.GENERIC_PAYMENT_ERROR,lt.showError(ge.error),e}finally{ge.isPaymentInProgress=!1}},getExchangeById(t){return ge.exchanges.find(e=>e.id===t)},validatePayConfig(t){let{paymentAsset:e,recipient:r,amount:n}=t;if(!e)throw new Yt(_t.INVALID_PAYMENT_CONFIG);if(!r)throw new Yt(_t.INVALID_RECIPIENT);if(!e.asset)throw new Yt(_t.INVALID_ASSET);if(n==null||n<=0)throw new Yt(_t.INVALID_AMOUNT)},async handlePayWithExchange(t){try{ge.currentPayment={type:"exchange",exchangeId:t};let{network:e,asset:r}=ge.paymentAsset,n={network:e,asset:r,amount:ge.amount,recipient:ge.recipient},s=await this.getPayUrl(t,n);if(!s)throw new Yt(_t.UNABLE_TO_INITIATE_PAYMENT);return ge.currentPayment.sessionId=s.sessionId,ge.currentPayment.status="IN_PROGRESS",ge.currentPayment.exchangeId=t,this.initiatePayment(),{url:s.url,openInNewTab:ge.openInNewTab}}catch(e){return e instanceof Yt?ge.error=e.message:ge.error=bm.GENERIC_PAYMENT_ERROR,ge.isPaymentInProgress=!1,lt.showError(ge.error),null}},async getBuyStatus(t,e){var r,n;try{let s=await fPe({sessionId:e,exchangeId:t});return(s.status==="SUCCESS"||s.status==="FAILED")&&Be.sendEvent({type:"track",event:s.status==="SUCCESS"?"PAY_SUCCESS":"PAY_ERROR",properties:{message:s.status==="FAILED"?de.parseError(ge.error):void 0,source:"pay",paymentId:ge.paymentId||XX,configuration:{network:ge.paymentAsset.network,asset:ge.paymentAsset.asset,recipient:ge.recipient,amount:ge.amount},currentPayment:{type:"exchange",exchangeId:(r=ge.currentPayment)==null?void 0:r.exchangeId,sessionId:(n=ge.currentPayment)==null?void 0:n.sessionId,result:s.txHash}}}),s}catch(s){throw new Yt(_t.UNABLE_TO_GET_BUY_STATUS)}},async fetchTokensFromEOA({caipAddress:t,caipNetwork:e,namespace:r}){if(!t)return[];let{address:n}=St.parseCaipAddress(t),s=e;return r===J.CHAIN.EVM&&(s=void 0),await rf.getMyTokensWithBalance({address:n,caipNetwork:s})},async fetchTokensFromExchange(){if(!ge.selectedExchange)return[];let t=await hPe(ge.selectedExchange.id),e=Object.values(t.assets).flat();return await Promise.all(e.map(async n=>{let s=bPe(n),{chainNamespace:i}=St.parseCaipNetworkId(s.chainId),o=s.address;if(de.isCaipAddress(o)){let{address:c}=St.parseCaipAddress(o);o=c}let a=await Vt.getImageByToken(o!=null?o:"",i).catch(()=>{});return s.iconUrl=a!=null?a:"",s}))},async fetchTokens({caipAddress:t,caipNetwork:e,namespace:r}){try{ge.isFetchingTokenBalances=!0;let i=await(!!ge.selectedExchange?this.fetchTokensFromExchange():this.fetchTokensFromEOA({caipAddress:t,caipNetwork:e,namespace:r}));ge.tokenBalances=G(S({},ge.tokenBalances),{[r]:i})}catch(n){let s=n instanceof Error?n.message:"Unable to get token balances";lt.showError(s)}finally{ge.isFetchingTokenBalances=!1}},async fetchQuote({amount:t,address:e,sourceToken:r,toToken:n,recipient:s}){var i;try{Fe.resetQuoteState(),ge.isFetchingQuote=!0;let o=await dPe({amount:t,address:ge.selectedExchange?void 0:e,sourceToken:r,toToken:n,recipient:s});if(ge.selectedExchange){let a=cT(o);if(a){let c=`${r.network}:${a.deposit.receiver}`,l=Nt.formatNumber(a.deposit.amount,{decimals:(i=r.metadata.decimals)!=null?i:0,round:8});await Fe.generateExchangeUrlForQuote({exchangeId:ge.selectedExchange.id,paymentAsset:r,amount:l.toString(),recipient:c})}}ge.quote=o}catch(o){let a=bm.UNABLE_TO_GET_QUOTE;if(o instanceof Error&&o.cause&&o.cause instanceof Response)try{let c=await o.cause.json();c.error&&typeof c.error=="string"&&(a=c.error)}catch(c){}throw ge.quoteError=a,lt.showError(a),new Yt(_t.UNABLE_TO_GET_QUOTE)}finally{ge.isFetchingQuote=!1}},async fetchQuoteStatus({requestId:t}){try{if(t===pL){let r=ge.selectedExchange,n=ge.exchangeSessionId;if(r&&n){switch((await this.getBuyStatus(r.id,n)).status){case"IN_PROGRESS":ge.quoteStatus="waiting";break;case"SUCCESS":ge.quoteStatus="success",ge.isPaymentInProgress=!1;break;case"FAILED":ge.quoteStatus="failure",ge.isPaymentInProgress=!1;break;case"UNKNOWN":ge.quoteStatus="waiting";break;default:ge.quoteStatus="waiting";break}return}ge.quoteStatus="success";return}let{status:e}=await pPe({requestId:t});ge.quoteStatus=e}catch(e){throw ge.quoteStatus="failure",new Yt(_t.UNABLE_TO_GET_QUOTE_STATUS)}},initiatePayment(){ge.isPaymentInProgress=!0,ge.paymentId=crypto.randomUUID()},initializeAnalytics(){ge.analyticsSet||(ge.analyticsSet=!0,this.subscribeKey("isPaymentInProgress",t=>{var e;if((e=ge.currentPayment)!=null&&e.status&&ge.currentPayment.status!=="UNKNOWN"){let r={IN_PROGRESS:"PAY_INITIATED",SUCCESS:"PAY_SUCCESS",FAILED:"PAY_ERROR"}[ge.currentPayment.status];Be.sendEvent({type:"track",event:r,properties:{message:ge.currentPayment.status==="FAILED"?de.parseError(ge.error):void 0,source:"pay",paymentId:ge.paymentId||XX,configuration:{network:ge.paymentAsset.network,asset:ge.paymentAsset.asset,recipient:ge.recipient,amount:ge.amount},currentPayment:{type:ge.currentPayment.type,exchangeId:ge.currentPayment.exchangeId,sessionId:ge.currentPayment.sessionId,result:ge.currentPayment.result}}})}}))},async prepareTokenLogo(){if(!ge.paymentAsset.metadata.logoURI)try{let{chainNamespace:t}=St.parseCaipNetworkId(ge.paymentAsset.network),e=await Vt.getImageByToken(ge.paymentAsset.asset,t);ge.paymentAsset.metadata.logoURI=e}catch(t){}}}});var vPe,EPe=y(()=>{rt();vPe=Ee`
  wui-separator {
    margin: var(--apkt-spacing-3) calc(var(--apkt-spacing-3) * -1) var(--apkt-spacing-2)
      calc(var(--apkt-spacing-3) * -1);
    width: calc(100% + var(--apkt-spacing-3) * 2);
  }

  .token-display {
    padding: var(--apkt-spacing-3) var(--apkt-spacing-3);
    border-radius: var(--apkt-borderRadius-5);
    background-color: var(--apkt-tokens-theme-backgroundPrimary);
    margin-top: var(--apkt-spacing-3);
    margin-bottom: var(--apkt-spacing-3);
  }

  .token-display wui-text {
    text-transform: none;
  }

  wui-loading-spinner {
    padding: var(--apkt-spacing-2);
  }

  .left-image-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:t})=>t.round};
    width: 40px;
    height: 40px;
  }

  .chain-image {
    position: absolute;
    width: 20px;
    height: 20px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:t})=>t.round};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  .payment-methods-container {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:t})=>t[8]};
    border-top-left-radius: ${({borderRadius:t})=>t[8]};
  }
`});var ty,Kd,APe=y(()=>{Ae();Qe();mn();At();rt();FI();Tn();dm();FX();jTe();dL();LX();nT();nT();QTe();jX();Rs();VI();wm();lT();WX();EPe();ty=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Kd=class extends pe{constructor(){super(),this.unsubscribe=[],this.amount=Fe.state.amount,this.namespace=void 0,this.paymentAsset=Fe.state.paymentAsset,this.activeConnectorIds=ue.state.activeConnectorIds,this.caipAddress=void 0,this.exchanges=Fe.state.exchanges,this.isLoading=Fe.state.isLoading,this.initializeNamespace(),this.unsubscribe.push(Fe.subscribeKey("amount",e=>this.amount=e)),this.unsubscribe.push(ue.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e)),this.unsubscribe.push(Fe.subscribeKey("exchanges",e=>this.exchanges=e)),this.unsubscribe.push(Fe.subscribeKey("isLoading",e=>this.isLoading=e)),Fe.fetchExchanges(),Fe.setSelectedExchange(void 0)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return z`
      <wui-flex flexDirection="column">
        ${this.paymentDetailsTemplate()} ${this.paymentMethodsTemplate()}
      </wui-flex>
    `}paymentMethodsTemplate(){return z`
      <wui-flex flexDirection="column" padding="3" gap="2" class="payment-methods-container">
        ${this.payWithWalletTemplate()} ${this.templateSeparator()}
        ${this.templateExchangeOptions()}
      </wui-flex>
    `}initializeNamespace(){var r;let e=M.state.activeChain;this.namespace=e,this.caipAddress=(r=M.getAccountData(e))==null?void 0:r.caipAddress,this.unsubscribe.push(M.subscribeChainProp("accountState",n=>{this.caipAddress=n==null?void 0:n.caipAddress},e))}paymentDetailsTemplate(){let r=M.getAllRequestedCaipNetworks().find(n=>n.caipNetworkId===this.paymentAsset.network);return z`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        .padding=${["6","8","6","8"]}
        gap="2"
      >
        <wui-flex alignItems="center" gap="1">
          <wui-text variant="h1-regular" color="primary">
            ${Zx(this.amount||"0")}
          </wui-text>

          <wui-flex flexDirection="column">
            <wui-text variant="h6-regular" color="secondary">
              ${this.paymentAsset.metadata.symbol||"Unknown"}
            </wui-text>
            <wui-text variant="md-medium" color="secondary"
              >on ${(r==null?void 0:r.name)||"Unknown"}</wui-text
            >
          </wui-flex>
        </wui-flex>

        <wui-flex class="left-image-container">
          <wui-image
            src=${Le(this.paymentAsset.metadata.logoURI)}
            class="token-image"
          ></wui-image>
          <wui-image
            src=${Le(Vt.getNetworkImage(r))}
            class="chain-image"
          ></wui-image>
        </wui-flex>
      </wui-flex>
    `}payWithWalletTemplate(){return gPe(this.paymentAsset.network)?this.caipAddress?this.connectedWalletTemplate():this.disconnectedWalletTemplate():z``}connectedWalletTemplate(){let{name:e,image:r}=this.getWalletProperties({namespace:this.namespace});return z`
      <wui-flex flexDirection="column" gap="3">
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${this.onWalletPayment}
          .boxed=${!1}
          ?chevron=${!0}
          ?fullSize=${!1}
          ?rounded=${!0}
          data-testid="wallet-payment-option"
          imageSrc=${Le(r)}
          imageSize="3xl"
        >
          <wui-text variant="lg-regular" color="primary">Pay with ${e}</wui-text>
        </wui-list-item>

        <wui-list-item
          type="secondary"
          icon="power"
          iconColor="error"
          @click=${this.onDisconnect}
          data-testid="disconnect-button"
          ?chevron=${!1}
          boxColor="foregroundSecondary"
        >
          <wui-text variant="lg-regular" color="secondary">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>
    `}disconnectedWalletTemplate(){return z`<wui-list-item
      type="secondary"
      boxColor="foregroundSecondary"
      variant="icon"
      iconColor="default"
      iconVariant="overlay"
      icon="wallet"
      @click=${this.onWalletPayment}
      ?chevron=${!0}
      data-testid="wallet-payment-option"
    >
      <wui-text variant="lg-regular" color="primary">Pay with wallet</wui-text>
    </wui-list-item>`}templateExchangeOptions(){if(this.isLoading)return z`<wui-flex justifyContent="center" alignItems="center">
        <wui-loading-spinner size="md"></wui-loading-spinner>
      </wui-flex>`;let e=this.exchanges.filter(r=>wPe(this.paymentAsset)?r.id===qX:r.id!==qX);return e.length===0?z`<wui-flex justifyContent="center" alignItems="center">
        <wui-text variant="md-medium" color="primary">No exchanges available</wui-text>
      </wui-flex>`:e.map(r=>z`
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${()=>this.onExchangePayment(r)}
          data-testid="exchange-option-${r.id}"
          ?chevron=${!0}
          imageSrc=${Le(r.imageUrl)}
        >
          <wui-text flexGrow="1" variant="lg-regular" color="primary">
            Pay with ${r.name}
          </wui-text>
        </wui-list-item>
      `)}templateSeparator(){return z`<wui-separator text="or" bgColor="secondary"></wui-separator>`}async onWalletPayment(){if(!this.namespace)throw new Error("Namespace not found");this.caipAddress?te.push("PayQuote"):(await ue.connect(),await Ke.open({view:"PayQuote"}))}onExchangePayment(e){Fe.setSelectedExchange(e),te.push("PayQuote")}async onDisconnect(){try{await le.disconnect(),await Ke.open({view:"Pay"})}catch(e){console.error("Failed to disconnect"),lt.showError("Failed to disconnect")}}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};let r=this.activeConnectorIds[e];if(!r)return{name:void 0,image:void 0};let n=ue.getConnector({id:r,namespace:e});if(!n)return{name:void 0,image:void 0};let s=Vt.getConnectorImage(n);return{name:n.name,image:s}}};Kd.styles=vPe;ty([ye()],Kd.prototype,"amount",void 0);ty([ye()],Kd.prototype,"namespace",void 0);ty([ye()],Kd.prototype,"paymentAsset",void 0);ty([ye()],Kd.prototype,"activeConnectorIds",void 0);ty([ye()],Kd.prototype,"caipAddress",void 0);ty([ye()],Kd.prototype,"exchanges",void 0);ty([ye()],Kd.prototype,"isLoading",void 0);Kd=ty([fe("w3m-pay-view")],Kd)});var CPe,SPe=y(()=>{Zt();CPe=Ee`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-container {
    position: relative;
    width: var(--pulse-size);
    height: var(--pulse-size);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-rings {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .pulse-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2px solid var(--pulse-color);
    opacity: 0;
    animation: pulse var(--pulse-duration, 2s) ease-out infinite;
  }

  .pulse-content {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @keyframes pulse {
    0% {
      transform: scale(0.5);
      opacity: var(--pulse-opacity, 0.3);
    }
    50% {
      opacity: calc(var(--pulse-opacity, 0.3) * 0.5);
    }
    100% {
      transform: scale(1.2);
      opacity: 0;
    }
  }
`});var Ov,Fmt,zmt,Vmt,jmt,qmt,ry,IPe=y(()=>{Ae();Qe();Zt();nr();Qt();SPe();Ov=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Fmt=3,zmt=2,Vmt=.3,jmt="200px",qmt={"accent-primary":sr.tokens.core.backgroundAccentPrimary},ry=class extends pe{constructor(){super(...arguments),this.rings=Fmt,this.duration=zmt,this.opacity=Vmt,this.size=jmt,this.variant="accent-primary"}render(){let e=qmt[this.variant];this.style.cssText=`
      --pulse-size: ${this.size};
      --pulse-duration: ${this.duration}s;
      --pulse-color: ${e};
      --pulse-opacity: ${this.opacity};
    `;let r=Array.from({length:this.rings},(n,s)=>this.renderRing(s,this.rings));return z`
      <div class="pulse-container">
        <div class="pulse-rings">${r}</div>
        <div class="pulse-content">
          <slot></slot>
        </div>
      </div>
    `}renderRing(e,r){let s=`animation-delay: ${e/r*this.duration}s;`;return z`<div class="pulse-ring" style=${s}></div>`}};ry.styles=[Ye,CPe];Ov([W({type:Number})],ry.prototype,"rings",void 0);Ov([W({type:Number})],ry.prototype,"duration",void 0);Ov([W({type:Number})],ry.prototype,"opacity",void 0);Ov([W()],ry.prototype,"size",void 0);Ov([W()],ry.prototype,"variant",void 0);ry=Ov([fe("wui-pulse")],ry)});var TPe=y(()=>{IPe()});var eee,tee,PPe=y(()=>{eee=[{id:"received",title:"Receiving funds",icon:"dollar"},{id:"processing",title:"Swapping asset",icon:"recycleHorizontal"},{id:"sending",title:"Sending asset to the recipient address",icon:"send"}],tee=["success","submitted","failure","timeout","refund"]});var _Pe,NPe=y(()=>{rt();_Pe=Ee`
  :host {
    display: block;
    height: 100%;
    width: 100%;
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t.round};
  }

  .token-badge-container {
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: ${({borderRadius:t})=>t[4]};
    z-index: 3;
    min-width: 105px;
  }

  .token-badge-container.loading {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border: 3px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  .token-badge-container.success {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border: 3px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  .token-image-container {
    position: relative;
  }

  .token-image {
    border-radius: ${({borderRadius:t})=>t.round};
    width: 64px;
    height: 64px;
  }

  .token-image.success {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .token-image.error {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .token-image.loading {
    background: ${({colors:t})=>t.accent010};
  }

  .token-image wui-icon {
    width: 32px;
    height: 32px;
  }

  .token-badge {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 1px solid ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  .token-badge wui-text {
    white-space: nowrap;
  }

  .payment-lifecycle-container {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:t})=>t[6]};
    border-top-left-radius: ${({borderRadius:t})=>t[6]};
  }

  .payment-step-badge {
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  .payment-step-badge.loading {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .payment-step-badge.error {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  .payment-step-badge.success {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  .step-icon-container {
    position: relative;
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:t})=>t.round};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .step-icon-box {
    position: absolute;
    right: -4px;
    bottom: -1px;
    padding: 2px;
    border-radius: ${({borderRadius:t})=>t.round};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .step-icon-box.success {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }
`});var Gd,Wmt,Kmt,Xl,OPe=y(()=>{Ae();Qe();BD();mn();It();At();rt();Tn();dL();nT();TPe();jX();Rs();vf();wm();lT();PPe();NPe();Gd=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Wmt={received:["pending","success","submitted"],processing:["success","submitted"],sending:["success","submitted"]},Kmt=3e3,Xl=class extends pe{constructor(){super(),this.unsubscribe=[],this.pollingInterval=null,this.paymentAsset=Fe.state.paymentAsset,this.quoteStatus=Fe.state.quoteStatus,this.quote=Fe.state.quote,this.amount=Fe.state.amount,this.namespace=void 0,this.caipAddress=void 0,this.profileName=null,this.activeConnectorIds=ue.state.activeConnectorIds,this.selectedExchange=Fe.state.selectedExchange,this.initializeNamespace(),this.unsubscribe.push(Fe.subscribeKey("quoteStatus",e=>this.quoteStatus=e),Fe.subscribeKey("quote",e=>this.quote=e),ue.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e),Fe.subscribeKey("selectedExchange",e=>this.selectedExchange=e))}connectedCallback(){super.connectedCallback(),this.startPolling()}disconnectedCallback(){super.disconnectedCallback(),this.stopPolling(),this.unsubscribe.forEach(e=>e())}render(){return z`
      <wui-flex flexDirection="column" .padding=${["3","0","0","0"]} gap="2">
        ${this.tokenTemplate()} ${this.paymentTemplate()} ${this.paymentLifecycleTemplate()}
      </wui-flex>
    `}tokenTemplate(){var a;let e=Zx(this.amount||"0"),r=(a=this.paymentAsset.metadata.symbol)!=null?a:"Unknown",s=M.getAllRequestedCaipNetworks().find(c=>c.caipNetworkId===this.paymentAsset.network),i=this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund";return this.quoteStatus==="success"||this.quoteStatus==="submitted"?z`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image success">
          <wui-icon name="checkmark" color="success" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:i?z`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image error">
          <wui-icon name="close" color="error" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:z`
      <wui-flex alignItems="center" justifyContent="center">
        <wui-flex class="token-image-container">
          <wui-pulse size="125px" rings="3" duration="4" opacity="0.5" variant="accent-primary">
            <wui-flex justifyContent="center" alignItems="center" class="token-image loading">
              <wui-icon name="paperPlaneTitle" color="accent-primary" size="inherit"></wui-icon>
            </wui-flex>
          </wui-pulse>

          <wui-flex
            justifyContent="center"
            alignItems="center"
            class="token-badge-container loading"
          >
            <wui-flex
              alignItems="center"
              justifyContent="center"
              gap="01"
              padding="1"
              class="token-badge"
            >
              <wui-image
                src=${Le(Vt.getNetworkImage(s))}
                class="chain-image"
                size="mdl"
              ></wui-image>

              <wui-text variant="lg-regular" color="primary">${e} ${r}</wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}paymentTemplate(){return z`
      <wui-flex flexDirection="column" gap="2" .padding=${["0","6","0","6"]}>
        ${this.renderPayment()}
        <wui-separator></wui-separator>
        ${this.renderWallet()}
      </wui-flex>
    `}paymentLifecycleTemplate(){let e=this.getStepsWithStatus();return z`
      <wui-flex flexDirection="column" padding="4" gap="2" class="payment-lifecycle-container">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">PAYMENT CYCLE</wui-text>

          ${this.renderPaymentCycleBadge()}
        </wui-flex>

        <wui-flex flexDirection="column" gap="5" .padding=${["2","0","2","0"]}>
          ${e.map(r=>this.renderStep(r))}
        </wui-flex>
      </wui-flex>
    `}renderPaymentCycleBadge(){var s,i;let e=this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund",r=this.quoteStatus==="success"||this.quoteStatus==="submitted";if(e)return z`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge error"
          gap="1"
        >
          <wui-icon name="close" color="error" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="error">Failed</wui-text>
        </wui-flex>
      `;if(r)return z`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge success"
          gap="1"
        >
          <wui-icon name="checkmark" color="success" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="success">Completed</wui-text>
        </wui-flex>
      `;let n=(i=(s=this.quote)==null?void 0:s.timeInSeconds)!=null?i:0;return z`
      <wui-flex alignItems="center" justifyContent="space-between" gap="3">
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge loading"
          gap="1"
        >
          <wui-icon name="clock" color="default" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="primary">Est. ${n} sec</wui-text>
        </wui-flex>

        <wui-icon name="chevronBottom" color="default" size="xxs"></wui-icon>
      </wui-flex>
    `}renderPayment(){var o,a,c,l,u;let r=M.getAllRequestedCaipNetworks().find(f=>{var h;let d=(h=this.quote)==null?void 0:h.origin.currency.network;if(!d)return!1;let{chainId:p}=St.parseCaipNetworkId(d);return Hn.isLowerCaseMatch(f.id.toString(),p.toString())}),n=Nt.formatNumber(((o=this.quote)==null?void 0:o.origin.amount)||"0",{decimals:(c=(a=this.quote)==null?void 0:a.origin.currency.metadata.decimals)!=null?c:0}).toString(),s=Zx(n),i=(u=(l=this.quote)==null?void 0:l.origin.currency.metadata.symbol)!=null?u:"Unknown";return z`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Payment Method</wui-text>

        <wui-flex flexDirection="column" alignItems="flex-end" gap="1">
          <wui-flex alignItems="center" gap="01">
            <wui-text variant="lg-regular" color="primary">${s}</wui-text>
            <wui-text variant="lg-regular" color="secondary">${i}</wui-text>
          </wui-flex>

          <wui-flex alignItems="center" gap="1">
            <wui-text variant="md-regular" color="secondary">on</wui-text>
            <wui-image
              src=${Le(Vt.getNetworkImage(r))}
              size="xs"
            ></wui-image>
            <wui-text variant="md-regular" color="secondary">${r==null?void 0:r.name}</wui-text>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}renderWallet(){return z`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Wallet</wui-text>

        ${this.renderWalletText()}
      </wui-flex>
    `}renderWalletText(){var s;let{image:e}=this.getWalletProperties({namespace:this.namespace}),{address:r}=this.caipAddress?St.parseCaipAddress(this.caipAddress):{},n=(s=this.selectedExchange)==null?void 0:s.name;return this.selectedExchange?z`
        <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
          <wui-text variant="lg-regular" color="primary">${n}</wui-text>
          <wui-image src=${Le(this.selectedExchange.imageUrl)} size="mdl"></wui-image>
        </wui-flex>
      `:z`
      <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
        <wui-text variant="lg-regular" color="primary">
          ${jr.getTruncateString({string:this.profileName||r||n||"",charsStart:this.profileName?16:4,charsEnd:this.profileName?0:6,truncate:this.profileName?"end":"middle"})}
        </wui-text>

        <wui-image src=${Le(e)} size="mdl"></wui-image>
      </wui-flex>
    `}getStepsWithStatus(){return this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund"?eee.map(r=>G(S({},r),{status:"failed"})):eee.map(r=>{var i;let s=((i=Wmt[r.id])!=null?i:[]).includes(this.quoteStatus)?"completed":"pending";return G(S({},r),{status:s})})}renderStep({title:e,icon:r,status:n}){return z`
      <wui-flex alignItems="center" gap="3">
        <wui-flex justifyContent="center" alignItems="center" class="step-icon-container">
          <wui-icon name=${r} color="default" size="mdl"></wui-icon>

          <wui-flex alignItems="center" justifyContent="center" class=${fv({"step-icon-box":!0,success:n==="completed"})}>
            ${this.renderStatusIndicator(n)}
          </wui-flex>
        </wui-flex>

        <wui-text variant="md-regular" color="primary">${e}</wui-text>
      </wui-flex>
    `}renderStatusIndicator(e){return e==="completed"?z`<wui-icon size="sm" color="success" name="checkmark"></wui-icon>`:e==="failed"?z`<wui-icon size="sm" color="error" name="close"></wui-icon>`:e==="pending"?z`<wui-loading-spinner color="accent-primary" size="sm"></wui-loading-spinner>`:null}startPolling(){this.pollingInterval||(this.fetchQuoteStatus(),this.pollingInterval=setInterval(()=>{this.fetchQuoteStatus()},Kmt))}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}async fetchQuoteStatus(){let e=Fe.state.requestId;if(!e||tee.includes(this.quoteStatus))this.stopPolling();else try{await Fe.fetchQuoteStatus({requestId:e}),tee.includes(this.quoteStatus)&&this.stopPolling()}catch(r){this.stopPolling()}}initializeNamespace(){var r,n,s;let e=M.state.activeChain;this.namespace=e,this.caipAddress=(r=M.getAccountData(e))==null?void 0:r.caipAddress,this.profileName=(s=(n=M.getAccountData(e))==null?void 0:n.profileName)!=null?s:null,this.unsubscribe.push(M.subscribeChainProp("accountState",i=>{var o;this.caipAddress=i==null?void 0:i.caipAddress,this.profileName=(o=i==null?void 0:i.profileName)!=null?o:null},e))}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};let r=this.activeConnectorIds[e];if(!r)return{name:void 0,image:void 0};let n=ue.getConnector({id:r,namespace:e});if(!n)return{name:void 0,image:void 0};let s=Vt.getConnectorImage(n);return{name:n.name,image:s}}};Xl.styles=_Pe;Gd([ye()],Xl.prototype,"paymentAsset",void 0);Gd([ye()],Xl.prototype,"quoteStatus",void 0);Gd([ye()],Xl.prototype,"quote",void 0);Gd([ye()],Xl.prototype,"amount",void 0);Gd([ye()],Xl.prototype,"namespace",void 0);Gd([ye()],Xl.prototype,"caipAddress",void 0);Gd([ye()],Xl.prototype,"profileName",void 0);Gd([ye()],Xl.prototype,"activeConnectorIds",void 0);Gd([ye()],Xl.prototype,"selectedExchange",void 0);Xl=Gd([fe("w3m-pay-loading-view")],Xl)});var RPe,kPe=y(()=>{Zt();RPe=Ee`
  button {
    display: flex;
    align-items: center;
    height: 40px;
    padding: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    column-gap: ${({spacing:t})=>t[1]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  wui-image,
  .icon-box {
    width: ${({spacing:t})=>t[6]};
    height: ${({spacing:t})=>t[6]};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: 8px;
    height: 8px;
    background-color: ${({tokens:t})=>t.core.textSuccess};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 50%;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`});var Af,rl,BPe=y(()=>{Ae();Qe();mn();Gs();Rx();_o();Sx();nr();sv();Qt();kPe();Af=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},rl=class extends pe{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.enableGreenCircle=!0,this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return z`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){let e=this.icon?z`<wui-icon
          size=${Le(this.iconSize)}
          color="default"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:z`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return z`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${!!this.icon}
      >
        ${e}
        ${this.enableGreenCircle?z`<wui-flex class="circle"></wui-flex>`:null}
      </wui-flex>
    `}textTemplate(){return z`
      <wui-text variant="lg-regular" color="primary">
        ${jr.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return z`<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>`}};rl.styles=[Ye,yr,RPe];Af([W()],rl.prototype,"address",void 0);Af([W()],rl.prototype,"profileName",void 0);Af([W()],rl.prototype,"alt",void 0);Af([W()],rl.prototype,"imageSrc",void 0);Af([W()],rl.prototype,"icon",void 0);Af([W()],rl.prototype,"iconSize",void 0);Af([W({type:Boolean})],rl.prototype,"enableGreenCircle",void 0);Af([W({type:Boolean})],rl.prototype,"loading",void 0);Af([W({type:Number})],rl.prototype,"charsStart",void 0);Af([W({type:Number})],rl.prototype,"charsEnd",void 0);rl=Af([fe("wui-wallet-switch")],rl)});var UPe=y(()=>{BPe()});var DPe,LPe=y(()=>{Ae();DPe=Qr`
  :host {
    display: block;
  }
`});var Gmt,ree,MPe=y(()=>{Ae();rt();Tn();XI();Rs();LPe();Gmt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ree=class extends pe{render(){return z`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-shimmer width="60px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Network Fee</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-shimmer
              width="75px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>

            <wui-flex alignItems="center" gap="01">
              <wui-shimmer width="14px" height="14px" rounded variant="light"></wui-shimmer>
              <wui-shimmer
                width="49px"
                height="14px"
                borderRadius="4xs"
                variant="light"
              ></wui-shimmer>
            </wui-flex>
          </wui-flex>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Service Fee</wui-text>
          <wui-shimmer width="75px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>
      </wui-flex>
    `}};ree.styles=[DPe];ree=Gmt([fe("w3m-pay-fees-skeleton")],ree)});var $Pe,HPe=y(()=>{rt();$Pe=Ee`
  :host {
    display: block;
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t.round};
  }
`});var FPe,yL,zPe=y(()=>{Ae();Qe();mn();It();At();rt();Tn();dL();Rs();vf();wm();HPe();FPe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},yL=class extends pe{constructor(){super(),this.unsubscribe=[],this.quote=Fe.state.quote,this.unsubscribe.push(Fe.subscribeKey("quote",e=>this.quote=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var r,n,s,i;let e=Nt.formatNumber(((r=this.quote)==null?void 0:r.origin.amount)||"0",{decimals:(s=(n=this.quote)==null?void 0:n.origin.currency.metadata.decimals)!=null?s:0,round:6}).toString();return z`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-text variant="md-regular" color="primary">
            ${e} ${((i=this.quote)==null?void 0:i.origin.currency.metadata.symbol)||"Unknown"}
          </wui-text>
        </wui-flex>

        ${this.quote&&this.quote.fees.length>0?this.quote.fees.map(o=>this.renderFee(o)):null}
      </wui-flex>
    `}renderFee(e){var s;let r=e.id==="network",n=Nt.formatNumber(e.amount||"0",{decimals:(s=e.currency.metadata.decimals)!=null?s:0,round:6}).toString();if(r){let o=M.getAllRequestedCaipNetworks().find(a=>Hn.isLowerCaseMatch(a.caipNetworkId,e.currency.network));return z`
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">${e.label}</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-text variant="md-regular" color="primary">
              ${n} ${e.currency.metadata.symbol||"Unknown"}
            </wui-text>

            <wui-flex alignItems="center" gap="01">
              <wui-image
                src=${Le(Vt.getNetworkImage(o))}
                size="xs"
              ></wui-image>
              <wui-text variant="sm-regular" color="secondary">
                ${(o==null?void 0:o.name)||"Unknown"}
              </wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      `}return z`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-text variant="md-regular" color="secondary">${e.label}</wui-text>
        <wui-text variant="md-regular" color="primary">
          ${n} ${e.currency.metadata.symbol||"Unknown"}
        </wui-text>
      </wui-flex>
    `}};yL.styles=[$Pe];FPe([ye()],yL.prototype,"quote",void 0);yL=FPe([fe("w3m-pay-fees")],yL)});var VPe,jPe=y(()=>{rt();VPe=Ee`
  :host {
    display: block;
    width: 100%;
  }

  .disabled-container {
    padding: ${({spacing:t})=>t[2]};
    min-height: 168px;
  }

  wui-icon {
    width: ${({spacing:t})=>t[8]};
    height: ${({spacing:t})=>t[8]};
  }

  wui-flex > wui-text {
    max-width: 273px;
  }
`});var qPe,bL,WPe=y(()=>{Ae();Qe();rt();FI();Tn();dm();Rs();wm();jPe();qPe=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},bL=class extends pe{constructor(){super(),this.unsubscribe=[],this.selectedExchange=Fe.state.selectedExchange,this.unsubscribe.push(Fe.subscribeKey("selectedExchange",e=>this.selectedExchange=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){let e=!!this.selectedExchange;return z`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
        class="disabled-container"
      >
        <wui-icon name="coins" color="default" size="inherit"></wui-icon>

        <wui-text variant="md-regular" color="primary" align="center">
          You don't have enough funds to complete this transaction
        </wui-text>

        ${e?null:z`<wui-button
              size="md"
              variant="neutral-secondary"
              @click=${this.dispatchConnectOtherWalletEvent.bind(this)}
              >Connect other wallet</wui-button
            >`}
      </wui-flex>
    `}dispatchConnectOtherWalletEvent(){this.dispatchEvent(new CustomEvent("connectOtherWallet",{detail:!0,bubbles:!0,composed:!0}))}};bL.styles=[VPe];qPe([W({type:Array})],bL.prototype,"selectedExchange",void 0);bL=qPe([fe("w3m-pay-options-empty")],bL)});var KPe,GPe=y(()=>{rt();KPe=Ee`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
    min-height: 60px;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .chain-image {
    position: absolute;
    bottom: -3px;
    right: -5px;
    border: 2px solid ${({tokens:t})=>t.theme.foregroundSecondary};
  }
`});var Zmt,nee,ZPe=y(()=>{Ae();rt();Tn();XI();GPe();Zmt=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},nee=class extends pe{render(){return z`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.renderOptionEntry()} ${this.renderOptionEntry()} ${this.renderOptionEntry()}
      </wui-flex>
    `}renderOptionEntry(){return z`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-shimmer
              width="32px"
              height="32px"
              rounded
              variant="light"
              class="token-image"
            ></wui-shimmer>
            <wui-shimmer
              width="16px"
              height="16px"
              rounded
              variant="light"
              class="chain-image"
            ></wui-shimmer>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-shimmer
              width="74px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
            <wui-shimmer
              width="46px"
              height="14px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}};nee.styles=[KPe];nee=Zmt([fe("w3m-pay-options-skeleton")],nee)});var YPe,JPe=y(()=>{rt();YPe=Ee`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    mask-image: var(--options-mask-image);
    -webkit-mask-image: var(--options-mask-image);
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    cursor: pointer;
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:t})=>t.round};
    width: 32px;
    height: 32px;
  }

  .chain-image {
    position: absolute;
    width: 16px;
    height: 16px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:t})=>t.round};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  @media (hover: hover) and (pointer: fine) {
    .pay-option-container:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`});var wL,Ymt,Rv,QPe=y(()=>{Ae();Qe();mn();It();At();rt();Tn();Rs();JPe();wL=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Ymt=300,Rv=class extends pe{constructor(){super(),this.unsubscribe=[],this.options=[],this.selectedPaymentAsset=null}disconnectedCallback(){var r,n;this.unsubscribe.forEach(s=>s()),(r=this.resizeObserver)==null||r.disconnect();let e=(n=this.shadowRoot)==null?void 0:n.querySelector(".pay-options-container");e==null||e.removeEventListener("scroll",this.handleOptionsListScroll.bind(this))}firstUpdated(){var r,n;let e=(r=this.shadowRoot)==null?void 0:r.querySelector(".pay-options-container");e&&(requestAnimationFrame(this.handleOptionsListScroll.bind(this)),e==null||e.addEventListener("scroll",this.handleOptionsListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleOptionsListScroll()}),(n=this.resizeObserver)==null||n.observe(e),this.handleOptionsListScroll())}render(){return z`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.options.map(e=>this.payOptionTemplate(e))}
      </wui-flex>
    `}payOptionTemplate(e){var p,h;let{network:r,metadata:n,asset:s,amount:i="0"}=e,a=M.getAllRequestedCaipNetworks().find(m=>m.caipNetworkId===r),c=`${r}:${s}`,l=`${(p=this.selectedPaymentAsset)==null?void 0:p.network}:${(h=this.selectedPaymentAsset)==null?void 0:h.asset}`,u=c===l,f=Nt.bigNumber(i,{safe:!0}),d=f.gt(0);return z`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        @click=${()=>{var m;return(m=this.onSelect)==null?void 0:m.call(this,e)}}
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-image
              src=${Le(n.logoURI)}
              class="token-image"
              size="3xl"
            ></wui-image>
            <wui-image
              src=${Le(Vt.getNetworkImage(a))}
              class="chain-image"
              size="md"
            ></wui-image>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="lg-regular" color="primary">${n.symbol}</wui-text>
            ${d?z`<wui-text variant="sm-regular" color="secondary">
                  ${f.round(6).toString()} ${n.symbol}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>

        ${u?z`<wui-icon name="checkmark" size="md" color="success"></wui-icon>`:null}
      </wui-flex>
    `}handleOptionsListScroll(){var n;let e=(n=this.shadowRoot)==null?void 0:n.querySelector(".pay-options-container");if(!e)return;e.scrollHeight>Ymt?(e.style.setProperty("--options-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--options-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--options-scroll--top-opacity))) 1px,
          black 50px,
          black calc(100% - 50px),
          rgba(155, 155, 155, calc(1 - var(--options-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--options-scroll--bottom-opacity))) 100%
        )`),e.style.setProperty("--options-scroll--top-opacity",lD.interpolate([0,50],[0,1],e.scrollTop).toString()),e.style.setProperty("--options-scroll--bottom-opacity",lD.interpolate([0,50],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString())):(e.style.setProperty("--options-mask-image","none"),e.style.setProperty("--options-scroll--top-opacity","0"),e.style.setProperty("--options-scroll--bottom-opacity","0"))}};Rv.styles=[YPe];wL([W({type:Array})],Rv.prototype,"options",void 0);wL([W()],Rv.prototype,"selectedPaymentAsset",void 0);wL([W()],Rv.prototype,"onSelect",void 0);Rv=wL([fe("w3m-pay-options")],Rv)});var XPe,e_e=y(()=>{rt();XPe=Ee`
  .payment-methods-container {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:t})=>t[5]};
    border-top-left-radius: ${({borderRadius:t})=>t[5]};
  }

  .pay-options-container {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[5]};
    padding: ${({spacing:t})=>t[1]};
  }

  w3m-tooltip-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: fit-content;
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t.round};
  }

  w3m-pay-options.disabled {
    opacity: 0.5;
    pointer-events: none;
  }
`});var mi,xL,Jmt,Bs,t_e=y(()=>{Ae();Qe();BD();mn();It();At();rt();Tn();Rs();UPe();vf();wm();MPe();zPe();WPe();ZPe();QPe();lT();mL();e_e();mi=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},xL={eip155:"ethereum",solana:"solana",bip122:"bitcoin",ton:"ton"},Jmt={eip155:{icon:xL.eip155,label:"EVM"},solana:{icon:xL.solana,label:"Solana"},bip122:{icon:xL.bip122,label:"Bitcoin"},ton:{icon:xL.ton,label:"Ton"}},Bs=class extends pe{constructor(){super(),this.unsubscribe=[],this.profileName=null,this.paymentAsset=Fe.state.paymentAsset,this.namespace=void 0,this.caipAddress=void 0,this.amount=Fe.state.amount,this.recipient=Fe.state.recipient,this.activeConnectorIds=ue.state.activeConnectorIds,this.selectedPaymentAsset=Fe.state.selectedPaymentAsset,this.selectedExchange=Fe.state.selectedExchange,this.isFetchingQuote=Fe.state.isFetchingQuote,this.quoteError=Fe.state.quoteError,this.quote=Fe.state.quote,this.isFetchingTokenBalances=Fe.state.isFetchingTokenBalances,this.tokenBalances=Fe.state.tokenBalances,this.isPaymentInProgress=Fe.state.isPaymentInProgress,this.exchangeUrlForQuote=Fe.state.exchangeUrlForQuote,this.completedTransactionsCount=0,this.unsubscribe.push(Fe.subscribeKey("paymentAsset",e=>this.paymentAsset=e)),this.unsubscribe.push(Fe.subscribeKey("tokenBalances",e=>this.onTokenBalancesChanged(e))),this.unsubscribe.push(Fe.subscribeKey("isFetchingTokenBalances",e=>this.isFetchingTokenBalances=e)),this.unsubscribe.push(ue.subscribeKey("activeConnectorIds",e=>this.activeConnectorIds=e)),this.unsubscribe.push(Fe.subscribeKey("selectedPaymentAsset",e=>this.selectedPaymentAsset=e)),this.unsubscribe.push(Fe.subscribeKey("isFetchingQuote",e=>this.isFetchingQuote=e)),this.unsubscribe.push(Fe.subscribeKey("quoteError",e=>this.quoteError=e)),this.unsubscribe.push(Fe.subscribeKey("quote",e=>this.quote=e)),this.unsubscribe.push(Fe.subscribeKey("amount",e=>this.amount=e)),this.unsubscribe.push(Fe.subscribeKey("recipient",e=>this.recipient=e)),this.unsubscribe.push(Fe.subscribeKey("isPaymentInProgress",e=>this.isPaymentInProgress=e)),this.unsubscribe.push(Fe.subscribeKey("selectedExchange",e=>this.selectedExchange=e)),this.unsubscribe.push(Fe.subscribeKey("exchangeUrlForQuote",e=>this.exchangeUrlForQuote=e)),this.resetQuoteState(),this.initializeNamespace(),this.fetchTokens()}disconnectedCallback(){super.disconnectedCallback(),this.resetAssetsState(),this.unsubscribe.forEach(e=>e())}updated(e){super.updated(e),e.has("selectedPaymentAsset")&&this.fetchQuote()}render(){return z`
      <wui-flex flexDirection="column">
        ${this.profileTemplate()}

        <wui-flex
          flexDirection="column"
          gap="4"
          class="payment-methods-container"
          .padding=${["4","4","5","4"]}
        >
          ${this.paymentOptionsViewTemplate()} ${this.amountWithFeeTemplate()}

          <wui-flex
            alignItems="center"
            justifyContent="space-between"
            .padding=${["1","0","1","0"]}
          >
            <wui-separator></wui-separator>
          </wui-flex>

          ${this.paymentActionsTemplate()}
        </wui-flex>
      </wui-flex>
    `}profileTemplate(){var o,a,c,l,u;if(this.selectedExchange){let f=Nt.formatNumber((o=this.quote)==null?void 0:o.origin.amount,{decimals:(c=(a=this.quote)==null?void 0:a.origin.currency.metadata.decimals)!=null?c:0}).toString();return z`
        <wui-flex
          .padding=${["4","3","4","3"]}
          alignItems="center"
          justifyContent="space-between"
          gap="2"
        >
          <wui-text variant="lg-regular" color="secondary">Paying with</wui-text>

          ${this.quote?z`<wui-text variant="lg-regular" color="primary">
                ${Nt.bigNumber(f,{safe:!0}).round(6).toString()}
                ${this.quote.origin.currency.metadata.symbol}
              </wui-text>`:z`<wui-shimmer width="80px" height="18px" variant="light"></wui-shimmer>`}
        </wui-flex>
      `}let e=(l=de.getPlainAddress(this.caipAddress))!=null?l:"",{name:r,image:n}=this.getWalletProperties({namespace:this.namespace}),{icon:s,label:i}=(u=Jmt[this.namespace])!=null?u:{};return z`
      <wui-flex
        .padding=${["4","3","4","3"]}
        alignItems="center"
        justifyContent="space-between"
        gap="2"
      >
        <wui-wallet-switch
          profileName=${Le(this.profileName)}
          address=${Le(e)}
          imageSrc=${Le(n)}
          alt=${Le(r)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        <wui-wallet-switch
          profileName=${Le(i)}
          address=${Le(e)}
          icon=${Le(s)}
          iconSize="xs"
          .enableGreenCircle=${!1}
          alt=${Le(i)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
      </wui-flex>
    `}initializeNamespace(){var r,n,s;let e=M.state.activeChain;this.namespace=e,this.caipAddress=(r=M.getAccountData(e))==null?void 0:r.caipAddress,this.profileName=(s=(n=M.getAccountData(e))==null?void 0:n.profileName)!=null?s:null,this.unsubscribe.push(M.subscribeChainProp("accountState",i=>this.onAccountStateChanged(i),e))}async fetchTokens(){if(this.namespace){let e;if(this.caipAddress){let{chainId:r,chainNamespace:n}=St.parseCaipAddress(this.caipAddress),s=`${n}:${r}`;e=M.getAllRequestedCaipNetworks().find(o=>o.caipNetworkId===s)}await Fe.fetchTokens({caipAddress:this.caipAddress,caipNetwork:e,namespace:this.namespace})}}fetchQuote(){if(this.amount&&this.recipient&&this.selectedPaymentAsset&&this.paymentAsset){let{address:e}=this.caipAddress?St.parseCaipAddress(this.caipAddress):{};Fe.fetchQuote({amount:this.amount.toString(),address:e,sourceToken:this.selectedPaymentAsset,toToken:this.paymentAsset,recipient:this.recipient})}}getWalletProperties({namespace:e}){if(!e)return{name:void 0,image:void 0};let r=this.activeConnectorIds[e];if(!r)return{name:void 0,image:void 0};let n=ue.getConnector({id:r,namespace:e});if(!n)return{name:void 0,image:void 0};let s=Vt.getConnectorImage(n);return{name:n.name,image:s}}paymentOptionsViewTemplate(){return z`
      <wui-flex flexDirection="column" gap="2">
        <wui-text variant="sm-regular" color="secondary">CHOOSE PAYMENT OPTION</wui-text>
        <wui-flex class="pay-options-container">${this.paymentOptionsTemplate()}</wui-flex>
      </wui-flex>
    `}paymentOptionsTemplate(){let e=this.getPaymentAssetFromTokenBalances();if(this.isFetchingTokenBalances)return z`<w3m-pay-options-skeleton></w3m-pay-options-skeleton>`;if(e.length===0)return z`<w3m-pay-options-empty
        @connectOtherWallet=${this.onConnectOtherWallet.bind(this)}
      ></w3m-pay-options-empty>`;let r={disabled:this.isFetchingQuote};return z`<w3m-pay-options
      class=${fv(r)}
      .options=${e}
      .selectedPaymentAsset=${Le(this.selectedPaymentAsset)}
      .onSelect=${this.onSelectedPaymentAssetChanged.bind(this)}
    ></w3m-pay-options>`}amountWithFeeTemplate(){return this.isFetchingQuote||!this.selectedPaymentAsset||this.quoteError?z`<w3m-pay-fees-skeleton></w3m-pay-fees-skeleton>`:z`<w3m-pay-fees></w3m-pay-fees>`}paymentActionsTemplate(){var s,i,o,a,c;let e=this.isFetchingQuote||this.isFetchingTokenBalances,r=this.isFetchingQuote||this.isFetchingTokenBalances||!this.selectedPaymentAsset||!!this.quoteError,n=Nt.formatNumber((i=(s=this.quote)==null?void 0:s.origin.amount)!=null?i:0,{decimals:(a=(o=this.quote)==null?void 0:o.origin.currency.metadata.decimals)!=null?a:0}).toString();return this.selectedExchange?e||r?z`
          <wui-shimmer width="100%" height="48px" variant="light" ?rounded=${!0}></wui-shimmer>
        `:z`<wui-button
        size="lg"
        fullWidth
        variant="accent-secondary"
        @click=${this.onPayWithExchange.bind(this)}
      >
        ${`Continue in ${this.selectedExchange.name}`}

        <wui-icon name="arrowRight" color="inherit" size="sm" slot="iconRight"></wui-icon>
      </wui-button>`:z`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-flex flexDirection="column" gap="1">
          <wui-text variant="md-regular" color="secondary">Order Total</wui-text>

          ${e||r?z`<wui-shimmer width="58px" height="32px" variant="light"></wui-shimmer>`:z`<wui-flex alignItems="center" gap="01">
                <wui-text variant="h4-regular" color="primary">${Zx(n)}</wui-text>

                <wui-text variant="lg-regular" color="secondary">
                  ${((c=this.quote)==null?void 0:c.origin.currency.metadata.symbol)||"Unknown"}
                </wui-text>
              </wui-flex>`}
        </wui-flex>

        ${this.actionButtonTemplate({isLoading:e,isDisabled:r})}
      </wui-flex>
    `}actionButtonTemplate(e){let r=hL(this.quote),{isLoading:n,isDisabled:s}=e,i="Pay";return r.length>1&&this.completedTransactionsCount===0&&(i="Approve"),z`
      <wui-button
        size="lg"
        variant="accent-primary"
        ?loading=${n||this.isPaymentInProgress}
        ?disabled=${s||this.isPaymentInProgress}
        @click=${()=>{r.length>0?this.onSendTransactions():this.onTransfer()}}
      >
        ${i}
        ${n?null:z`<wui-icon
              name="arrowRight"
              color="inherit"
              size="sm"
              slot="iconRight"
            ></wui-icon>`}
      </wui-button>
    `}getPaymentAssetFromTokenBalances(){var s;return this.namespace?((s=this.tokenBalances[this.namespace])!=null?s:[]).map(i=>{try{return yPe(i)}catch(o){return null}}).filter(i=>!!i).filter(i=>{let{chainId:o}=St.parseCaipNetworkId(i.network),{chainId:a}=St.parseCaipNetworkId(this.paymentAsset.network);return Hn.isLowerCaseMatch(i.asset,this.paymentAsset.asset)?!0:this.selectedExchange?!Hn.isLowerCaseMatch(o.toString(),a.toString()):!0}):[]}onTokenBalancesChanged(e){this.tokenBalances=e;let[r]=this.getPaymentAssetFromTokenBalances();r&&Fe.setSelectedPaymentAsset(r)}async onConnectOtherWallet(){await ue.connect(),await Ke.open({view:"PayQuote"})}onAccountStateChanged(e){var n;let{address:r}=this.caipAddress?St.parseCaipAddress(this.caipAddress):{};if(this.caipAddress=e==null?void 0:e.caipAddress,this.profileName=(n=e==null?void 0:e.profileName)!=null?n:null,r){let{address:s}=this.caipAddress?St.parseCaipAddress(this.caipAddress):{};s?Hn.isLowerCaseMatch(s,r)||(this.resetAssetsState(),this.resetQuoteState(),this.fetchTokens()):Ke.close()}}onSelectedPaymentAssetChanged(e){this.isFetchingQuote||Fe.setSelectedPaymentAsset(e)}async onTransfer(){var r,n,s,i,o;let e=cT(this.quote);if(e){if(!Hn.isLowerCaseMatch((r=this.selectedPaymentAsset)==null?void 0:r.asset,e.deposit.currency))throw new Error("Quote asset is not the same as the selected payment asset");let c=(s=(n=this.selectedPaymentAsset)==null?void 0:n.amount)!=null?s:"0",l=Nt.formatNumber(e.deposit.amount,{decimals:(o=(i=this.selectedPaymentAsset)==null?void 0:i.metadata.decimals)!=null?o:0}).toString();if(!Nt.bigNumber(c).gte(l)){lt.showError("Insufficient funds");return}if(this.quote&&this.selectedPaymentAsset&&this.caipAddress&&this.namespace){let{address:f}=St.parseCaipAddress(this.caipAddress);await Fe.onTransfer({chainNamespace:this.namespace,fromAddress:f,toAddress:e.deposit.receiver,amount:l,paymentAsset:this.selectedPaymentAsset}),Fe.setRequestId(e.requestId),te.push("PayLoading")}}}async onSendTransactions(){var o,a,c,l,u,f;let e=(a=(o=this.selectedPaymentAsset)==null?void 0:o.amount)!=null?a:"0",r=Nt.formatNumber((l=(c=this.quote)==null?void 0:c.origin.amount)!=null?l:0,{decimals:(f=(u=this.selectedPaymentAsset)==null?void 0:u.metadata.decimals)!=null?f:0}).toString();if(!Nt.bigNumber(e).gte(r)){lt.showError("Insufficient funds");return}let s=hL(this.quote),[i]=hL(this.quote,this.completedTransactionsCount);i&&this.namespace&&(await Fe.onSendTransaction({namespace:this.namespace,transactionStep:i}),this.completedTransactionsCount+=1,this.completedTransactionsCount===s.length&&(Fe.setRequestId(i.requestId),te.push("PayLoading")))}onPayWithExchange(){if(this.exchangeUrlForQuote){let e=de.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!e)throw new Error("Could not create popup window");e.location.href=this.exchangeUrlForQuote;let r=cT(this.quote);r&&Fe.setRequestId(r.requestId),Fe.initiatePayment(),te.push("PayLoading")}}resetAssetsState(){Fe.setSelectedPaymentAsset(null)}resetQuoteState(){Fe.resetQuoteState()}};Bs.styles=XPe;mi([ye()],Bs.prototype,"profileName",void 0);mi([ye()],Bs.prototype,"paymentAsset",void 0);mi([ye()],Bs.prototype,"namespace",void 0);mi([ye()],Bs.prototype,"caipAddress",void 0);mi([ye()],Bs.prototype,"amount",void 0);mi([ye()],Bs.prototype,"recipient",void 0);mi([ye()],Bs.prototype,"activeConnectorIds",void 0);mi([ye()],Bs.prototype,"selectedPaymentAsset",void 0);mi([ye()],Bs.prototype,"selectedExchange",void 0);mi([ye()],Bs.prototype,"isFetchingQuote",void 0);mi([ye()],Bs.prototype,"quoteError",void 0);mi([ye()],Bs.prototype,"quote",void 0);mi([ye()],Bs.prototype,"isFetchingTokenBalances",void 0);mi([ye()],Bs.prototype,"tokenBalances",void 0);mi([ye()],Bs.prototype,"isPaymentInProgress",void 0);mi([ye()],Bs.prototype,"exchangeUrlForQuote",void 0);mi([ye()],Bs.prototype,"completedTransactionsCount",void 0);Bs=mi([fe("w3m-pay-quote-view")],Bs)});var r_e=y(()=>{wm();Nv()});var n_e=y(()=>{});var s_e=y(()=>{APe();OPe();t_e();r_e();wm();n_e()});var i_e,o_e=y(()=>{rt();i_e=Ee`
  wui-image {
    border-radius: ${({borderRadius:t})=>t.round};
  }

  .transfers-badge {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 1px solid ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }
`});var see,uT,a_e=y(()=>{Ae();Qe();mn();At();s_e();rt();Tn();Rs();o_e();see=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},uT=class extends pe{constructor(){super(),this.unsubscribe=[],this.paymentAsset=Fe.state.paymentAsset,this.amount=Fe.state.amount,this.unsubscribe.push(Fe.subscribeKey("paymentAsset",e=>{this.paymentAsset=e}),Fe.subscribeKey("amount",e=>{this.amount=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var n;let r=M.getAllRequestedCaipNetworks().find(s=>s.caipNetworkId===this.paymentAsset.network);return z`<wui-flex
      alignItems="center"
      gap="1"
      .padding=${["1","2","1","1"]}
      class="transfers-badge"
    >
      <wui-image src=${Le(this.paymentAsset.metadata.logoURI)} size="xl"></wui-image>
      <wui-text variant="lg-regular" color="primary">
        ${this.amount} ${this.paymentAsset.metadata.symbol}
      </wui-text>
      <wui-text variant="sm-regular" color="secondary">
        on ${(n=r==null?void 0:r.name)!=null?n:"Unknown"}
      </wui-text>
    </wui-flex>`}};uT.styles=[i_e];see([W()],uT.prototype,"paymentAsset",void 0);see([W()],uT.prototype,"amount",void 0);uT=see([fe("w3m-pay-header")],uT)});var c_e,l_e=y(()=>{rt();c_e=Ee`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`});function u_e(){var c,l,u,f,d,p,h,m;let t=(l=(c=te.state.data)==null?void 0:c.connector)==null?void 0:l.name,e=(f=(u=te.state.data)==null?void 0:u.wallet)==null?void 0:f.name,r=(p=(d=te.state.data)==null?void 0:d.network)==null?void 0:p.name,n=e!=null?e:t,s=ue.getConnectors(),i=s.length===1&&((h=s[0])==null?void 0:h.id)==="w3m-email",o=(m=M.getAccountData())==null?void 0:m.socialProvider,a=o?o.charAt(0).toUpperCase()+o.slice(1):"Connect Social";return{Connect:`Connect ${i?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:n!=null?n:"Connect Wallet",ConnectingWalletConnect:n!=null?n:"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:r!=null?r:"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:a,ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Processing payment...",PayQuote:"Payment Quote",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset",SmartAccountSettings:"Smart Account Settings"}}var ny,Qmt,Xmt,Zd,f_e=y(()=>{Ae();Qe();mn();At();rt();Tn();FX();$Te();HTe();Rs();zX();a_e();l_e();ny=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Qmt=["SmartSessionList"],Xmt={PayWithExchange:sr.tokens.theme.foregroundPrimary};Zd=class extends pe{constructor(){super(),this.unsubscribe=[],this.heading=u_e()[te.state.view],this.network=M.state.activeCaipNetwork,this.networkImage=Vt.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=te.state.view,this.viewDirection="",this.unsubscribe.push(Ns.subscribeNetworkImages(()=>{this.networkImage=Vt.getNetworkImage(this.network)}),te.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.heading=u_e()[e]},gm.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),M.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Vt.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){var r;let e=(r=Xmt[te.state.view])!=null?r:sr.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",e),z`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Be.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),te.push("WhatIsAWallet")}async onClose(){await T7.safeClose()}rightHeaderTemplate(){var r,n,s;let e=(s=(n=(r=X)==null?void 0:r.state)==null?void 0:n.features)==null?void 0:s.smartSessions;return te.state.view!=="Account"||!e?this.closeButtonTemplate():z`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>te.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return z`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){if(this.view==="PayQuote")return z`<w3m-pay-header></w3m-pay-header>`;let e=Qmt.includes(this.view);return z`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${e?z`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var l;let{view:e}=te.state,r=e==="Connect",n=X.state.enableEmbedded,s=e==="ApproveTransaction",i=e==="ConnectingSiwe",o=e==="Account",a=X.state.enableNetworkSwitch,c=s||i||r&&n;return o&&a?z`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Le((l=this.network)==null?void 0:l.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Le(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?z`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:z`<wui-icon-button
      data-hidden=${!r}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Be.sendEvent({type:"track",event:"CLICK_NETWORKS"}),te.push("Networks"))}isAllowedNetworkSwitch(){let e=M.getAllRequestedCaipNetworks(),r=e?e.length>1:!1,n=e==null?void 0:e.find(({id:s})=>{var i;return s===((i=this.network)==null?void 0:i.id)});return r||!n}onViewChange(){let{history:e}=te.state,r=gm.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(r=gm.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=r}async onHistoryChange(){var n;let{history:e}=te.state,r=(n=this.shadowRoot)==null?void 0:n.querySelector("#dynamic");e.length>1&&!this.showBack&&r?(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){te.goBack()}};Zd.styles=c_e;ny([ye()],Zd.prototype,"heading",void 0);ny([ye()],Zd.prototype,"network",void 0);ny([ye()],Zd.prototype,"networkImage",void 0);ny([ye()],Zd.prototype,"showBack",void 0);ny([ye()],Zd.prototype,"prevHistoryLength",void 0);ny([ye()],Zd.prototype,"view",void 0);ny([ye()],Zd.prototype,"viewDirection",void 0);Zd=ny([fe("w3m-header")],Zd)});var d_e,p_e=y(()=>{Zt();d_e=Ee`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:t})=>t.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:t})=>t.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    border-radius: ${({borderRadius:t})=>t.round} !important;
  }
`});var iee,fT,h_e=y(()=>{Ae();Qe();HI();_o();nr();Qt();pv();p_e();iee=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},fT=class extends pe{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return z`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){let e={success:"success",error:"error",warning:"warning",info:"default"},r={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?z`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:z`<wui-icon-box
      size="md"
      color=${e[this.variant]}
      icon=${r[this.variant]}
    ></wui-icon-box>`}};fT.styles=[Ye,d_e];iee([W()],fT.prototype,"message",void 0);iee([W()],fT.prototype,"variant",void 0);fT=iee([fe("wui-snackbar")],fT)});var m_e=y(()=>{h_e()});var g_e,y_e=y(()=>{Ae();g_e=Qr`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`});var b_e,vL,w_e=y(()=>{Ae();Qe();At();rt();m_e();y_e();b_e=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},vL=class extends pe{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=lt.state.open,this.unsubscribe.push(lt.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){let{message:e,variant:r}=lt.state;return z` <wui-snackbar message=${e} variant=${r}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),lt.state.autoClose&&(this.timeout=setTimeout(()=>lt.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};vL.styles=g_e;b_e([ye()],vL.prototype,"open",void 0);vL=b_e([fe("w3m-snackbar")],vL)});var x_e,v_e=y(()=>{Ae();x_e=Qr`
  :host {
    width: 100%;
    display: block;
  }
`});var oee,dT,E_e=y(()=>{Ae();Qe();At();rt();v_e();oee=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},dT=class extends pe{constructor(){super(),this.unsubscribe=[],this.text="",this.open=aa.state.open,this.unsubscribe.push(te.subscribeKey("view",()=>{aa.hide()}),Ke.subscribeKey("open",e=>{e||aa.hide()}),aa.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),aa.hide()}render(){return z`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return z`<slot></slot> `}onMouseEnter(){let e=this.getBoundingClientRect();if(!this.open){let r=document.querySelector("w3m-modal"),n={width:e.width,height:e.height,left:e.left,top:e.top};if(r){let s=r.getBoundingClientRect();n.left=e.left-(window.innerWidth-s.width)/2,n.top=e.top-(window.innerHeight-s.height)/2}aa.showTooltip({message:this.text,triggerRect:n,variant:"shade"})}}onMouseLeave(e){this.contains(e.relatedTarget)||aa.hide()}};dT.styles=[x_e];oee([W()],dT.prototype,"text",void 0);oee([ye()],dT.prototype,"open",void 0);dT=oee([fe("w3m-tooltip-trigger")],dT)});var A_e,C_e=y(()=>{rt();A_e=Ee`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:t})=>t[3]} 10px ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:t})=>t[5]});
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`});var pT,Yx,S_e=y(()=>{Ae();Qe();At();rt();Tn();dm();Rs();C_e();pT=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Yx=class extends pe{constructor(){super(),this.unsubscribe=[],this.open=aa.state.open,this.message=aa.state.message,this.triggerRect=aa.state.triggerRect,this.variant=aa.state.variant,this.unsubscribe.push(aa.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;let e=this.triggerRect.top,r=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${r}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,z`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};Yx.styles=[A_e];pT([ye()],Yx.prototype,"open",void 0);pT([ye()],Yx.prototype,"message",void 0);pT([ye()],Yx.prototype,"triggerRect",void 0);pT([ye()],Yx.prototype,"variant",void 0);Yx=pT([fe("w3m-tooltip")],Yx)});var Jx,aee=y(()=>{It();At();zX();Jx={getTabsByNamespace(t){var r;return!!t&&t===J.CHAIN.EVM?((r=X.state.remoteFeatures)==null?void 0:r.activity)===!1?gm.ACCOUNT_TABS.filter(n=>n.label!=="Activity"):gm.ACCOUNT_TABS:[]},isValidReownName(t){return/^[a-zA-Z0-9]+$/gu.test(t)},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(t)},validateReownName(t){return t.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){var e;let t=te.state.view;if(gm.VIEWS_WITH_LEGAL_FOOTER.includes(t)){let{termsConditionsUrl:r,privacyPolicyUrl:n}=X.state,s=(e=X.state.features)==null?void 0:e.legalCheckbox;return!(!r&&!n||s)}return gm.VIEWS_WITH_DEFAULT_FOOTER.includes(t)}}});var I_e,T_e=y(()=>{rt();I_e=Ee`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:t})=>t[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.core.textAccentPrimary};
    font-weight: 500;
  }
`});var P_e,EL,__e=y(()=>{Ae();Qe();At();rt();Tn();Rs();PX();T_e();P_e=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},EL=class extends pe{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){var i;let{termsConditionsUrl:e,privacyPolicyUrl:r}=X.state,n=(i=X.state.features)==null?void 0:i.legalCheckbox;return!e&&!r||n?z`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:z`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){let{termsConditionsUrl:e,privacyPolicyUrl:r}=X.state;return e&&r?"and":""}termsTemplate(){let{termsConditionsUrl:e}=X.state;return e?z`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){let{privacyPolicyUrl:e}=X.state;return e?z`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){var r;return(r=this.remoteFeatures)!=null&&r.reownBranding?e?z`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:z`<wui-ux-by-reown></wui-ux-by-reown>`:null}};EL.styles=[I_e];P_e([ye()],EL.prototype,"remoteFeatures",void 0);EL=P_e([fe("w3m-legal-footer")],EL)});var N_e,O_e=y(()=>{Ae();N_e=Qr``});var e1t,cee,R_e=y(()=>{Ae();At();rt();Tn();dm();HD();Rs();b2();O_e();e1t=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},cee=class extends pe{render(){let{termsConditionsUrl:e,privacyPolicyUrl:r}=X.state;return!e&&!r?null:z`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return z` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){Be.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:Cn(M.state.activeChain)===On.ACCOUNT_TYPES.SMART_ACCOUNT}}),te.push("WhatIsABuy")}};cee.styles=[N_e];cee=e1t([fe("w3m-onramp-providers-footer")],cee)});var k_e,B_e=y(()=>{rt();k_e=Ee`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`});var lee,hT,uee=y(()=>{Ae();Qe();At();rt();__e();R_e();aee();B_e();lee=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},hT=class extends pe{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=te.state.view}firstUpdated(){this.status=Jx.hasFooter()?"show":"hide",this.unsubscribe.push(te.subscribeKey("view",e=>{this.view=e,this.status=Jx.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(e=>{for(let r of e)if(r.target===this.getWrapper()){let n=`${r.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",n)}}),this.resizeObserver.observe(this.getWrapper())}render(){return z`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return Jx.hasFooter()?z` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return z`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return z`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return z` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){Be.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),te.push("WhatIsANetwork")}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div.container")}};hT.styles=[k_e];lee([ye()],hT.prototype,"status",void 0);lee([ye()],hT.prototype,"view",void 0);hT=lee([fe("w3m-footer")],hT)});var U_e,D_e=y(()=>{rt();U_e=Ee`
  :host {
    display: block;
    width: inherit;
  }
`});var fee,mT,L_e=y(()=>{Ae();Qe();At();rt();uee();D_e();fee=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},mT=class extends pe{constructor(){super(),this.unsubscribe=[],this.viewState=te.state.view,this.history=te.state.history.join(","),this.unsubscribe.push(te.subscribeKey("view",()=>{this.history=te.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return z`${this.templatePageContainer()}`}templatePageContainer(){return z`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=te.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return z`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return z`<w3m-account-view></w3m-account-view>`;case"AllWallets":return z`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return z`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return z`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return z`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return z`<w3m-connect-view></w3m-connect-view>`;case"Create":return z`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return z`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return z`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return z`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return z`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return z`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return z`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return z`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return z`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return z`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return z`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return z`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return z`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return z`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return z`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return z`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return z`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return z`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return z`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return z`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return z`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return z`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return z`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return z`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return z`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return z`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return z`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return z`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return z`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return z`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return z`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return z`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return z`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return z`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return z`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return z`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return z`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return z`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return z`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return z`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return z`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return z`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return z`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return z`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return z`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return z`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return z`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return z`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return z`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"PayQuote":return z`<w3m-pay-quote-view></w3m-pay-quote-view>`;case"FundWallet":return z`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return z`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return z`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return z`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;case"SmartAccountSettings":return z`<w3m-smart-account-settings-view></w3m-smart-account-settings-view>`;default:return z`<w3m-connect-view></w3m-connect-view>`}}};mT.styles=[U_e];fee([ye()],mT.prototype,"viewState",void 0);fee([ye()],mT.prototype,"history",void 0);mT=fee([fe("w3m-router")],mT)});var M_e,$_e=y(()=>{rt();M_e=Ee`
  :host {
    z-index: ${({tokens:t})=>t.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:t})=>t.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      backdrop-filter ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    transition-delay: ${({durations:t})=>t.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      w3m-shake ${({durations:t})=>t.xl}
        ${({easings:t})=>t["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:t})=>t["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
  }
`});var Yd,H_e,t1t,ic,dee,pee,F_e=y(()=>{Ae();Qe();mn();At();rt();CTe();Tn();RTe();f_e();w_e();E_e();S_e();aee();uee();L_e();$_e();Yd=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},H_e="scroll-lock",t1t={PayWithExchange:"0",PayWithExchangeSelectAsset:"0",Pay:"0",PayQuote:"0",PayLoading:"0"},ic=class extends pe{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=X.state.enableEmbedded,this.open=Ke.state.open,this.caipAddress=M.state.activeCaipAddress,this.caipNetwork=M.state.activeCaipNetwork,this.shake=Ke.state.shake,this.filterByNamespace=ue.state.filterByNamespace,this.padding=sr.spacing[1],this.mobileFullScreen=X.state.enableMobileFullScreen,this.initializeTheming(),Ce.prefetchAnalyticsConfig(),this.unsubscribe.push(Ke.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Ke.subscribeKey("shake",e=>this.shake=e),M.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),M.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),X.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),ue.subscribeKey("filterByNamespace",e=>{var r;this.filterByNamespace!==e&&!((r=M.getAccountData(e))!=null&&r.caipAddress)&&(Ce.fetchRecommendedWallets(),this.filterByNamespace=e)}),te.subscribeKey("view",()=>{var e;this.dataset.border=Jx.hasFooter()?"true":"false",this.padding=(e=t1t[te.state.view])!=null?e:sr.spacing[1]}))}firstUpdated(){if(this.dataset.border=Jx.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded){Ke.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?z`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?z`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return z` <wui-card
      shake="${this.shake}"
      data-embedded="${Le(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){if(e.target===e.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await T7.safeClose()}initializeTheming(){let{themeVariables:e,themeMode:r}=Ln.state,n=jr.getColorTheme(r);OQ(e,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),lt.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){let e=document.createElement("style");e.dataset.w3m=H_e,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){let e=document.head.querySelector(`style[data-w3m="${H_e}"]`);e&&e.remove()}onAddKeyboardListener(){var r;this.abortController=new AbortController;let e=(r=this.shadowRoot)==null?void 0:r.querySelector("wui-card");e==null||e.focus(),window.addEventListener("keydown",n=>{if(n.key==="Escape")this.handleClose();else if(n.key==="Tab"){let{tagName:s}=n.target;s&&!s.includes("W3M-")&&!s.includes("WUI-")&&(e==null||e.focus())}},this.abortController)}onRemoveKeyboardListener(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}async onNewAddress(e){let r=M.state.isSwitchingNamespace,n=te.state.view==="ProfileWallets";!e&&!r&&!n&&Ke.close(),await fi.initializeIfEnabled(e),this.caipAddress=e,M.setIsSwitchingNamespace(!1)}onNewNetwork(e){var l,u;let r=this.caipNetwork,n=(l=r==null?void 0:r.caipNetworkId)==null?void 0:l.toString(),s=(u=e==null?void 0:e.caipNetworkId)==null?void 0:u.toString(),i=n!==s,o=te.state.view==="UnsupportedChain",a=Ke.state.open,c=!1;this.enableEmbedded&&te.state.view==="SwitchNetwork"&&(c=!0),i&&bt.resetState(),a&&o&&(c=!0),c&&te.state.view!=="SIWXSignMessage"&&te.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(Ce.prefetch(),Ce.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}};ic.styles=M_e;Yd([W({type:Boolean})],ic.prototype,"enableEmbedded",void 0);Yd([ye()],ic.prototype,"open",void 0);Yd([ye()],ic.prototype,"caipAddress",void 0);Yd([ye()],ic.prototype,"caipNetwork",void 0);Yd([ye()],ic.prototype,"shake",void 0);Yd([ye()],ic.prototype,"filterByNamespace",void 0);Yd([ye()],ic.prototype,"padding",void 0);Yd([ye()],ic.prototype,"mobileFullScreen",void 0);dee=class extends ic{};dee=Yd([fe("w3m-modal")],dee);pee=class extends ic{};pee=Yd([fe("appkit-modal")],pee)});var z_e,V_e=y(()=>{rt();z_e=Ee`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:t})=>t[5]};
    background-color: ${({colors:t})=>t.semanticError010};
  }
`});var r1t,AL,j_e=y(()=>{Ae();At();rt();FI();Tn();dm();Rs();V_e();r1t=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},AL=class extends pe{constructor(){super()}render(){return z`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){te.goBack()}};AL.styles=z_e;AL=r1t([fe("w3m-usage-exceeded-view")],AL)});var q_e,W_e=y(()=>{rt();q_e=Ee`
  :host {
    width: 100%;
  }
`});var $i,Us,K_e=y(()=>{Ae();Qe();mn();At();rt();QQ();W_e();$i=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Us=class extends pe{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0,this.namespaces=[]}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(e){super.updated(e),(e.has("name")||e.has("imageSrc")||e.has("walletRank"))&&(this.hasImpressionSent=!1),e.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&Be.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:te.state.view,displayIndex:this.displayIndex}))}handleGetWalletNamespaces(){return Object.keys(Ww.state.adapters).length>1?this.namespaces:[]}render(){return z`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${Le(this.imageSrc)}
        name=${this.name}
        size=${Le(this.size)}
        tagLabel=${Le(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
        .namespaces=${this.handleGetWalletNamespaces()}
      ></wui-list-wallet>
    `}};Us.styles=q_e;$i([W({type:Array})],Us.prototype,"walletImages",void 0);$i([W()],Us.prototype,"imageSrc",void 0);$i([W()],Us.prototype,"name",void 0);$i([W()],Us.prototype,"size",void 0);$i([W()],Us.prototype,"tagLabel",void 0);$i([W()],Us.prototype,"tagVariant",void 0);$i([W()],Us.prototype,"walletIcon",void 0);$i([W()],Us.prototype,"tabIdx",void 0);$i([W({type:Boolean})],Us.prototype,"disabled",void 0);$i([W({type:Boolean})],Us.prototype,"showAllWallets",void 0);$i([W({type:Boolean})],Us.prototype,"loading",void 0);$i([W({type:String})],Us.prototype,"loadingSpinnerColor",void 0);$i([W()],Us.prototype,"rdnsId",void 0);$i([W()],Us.prototype,"displayIndex",void 0);$i([W()],Us.prototype,"walletRank",void 0);$i([W({type:Array})],Us.prototype,"namespaces",void 0);Us=$i([fe("w3m-list-wallet")],Us)});var G_e,Z_e=y(()=>{rt();G_e=Ee`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:t})=>t.lg};
    --local-transition: ${({easings:t})=>t["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`});var Jd,n1t,nl,Y_e=y(()=>{Ae();Qe();mn();At();rt();Z_e();Jd=function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},n1t=60,nl=class extends pe{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=X.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(e){if(e.has("history")){let r=this.history;this.historyState!==""&&this.historyState!==r&&this.onViewChange(r)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){var e;this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(r=>{var n;for(let s of r)if(s.target===this.getWrapper()){let i=s.contentRect.height,o=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){let a=((n=window.visualViewport)==null?void 0:n.height)||window.innerHeight,c=this.getHeaderHeight();i=a-c-o,this.style.setProperty("--local-border-bottom-radius","0px")}else i=i+o,this.style.setProperty("--local-border-bottom-radius",o?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${i}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${i}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),(e=window.visualViewport)==null||e.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){var r;let e=this.getWrapper();e&&this.resizeObserver&&this.resizeObserver.unobserve(e),window.removeEventListener("resize",this.onViewportResize),(r=window.visualViewport)==null||r.removeEventListener("resize",this.onViewportResize)}render(){return z`
      <div class="container" data-mobile-fullscreen="${Le(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${Le(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(e){let r=e.split(",").filter(Boolean),n=this.historyState.split(",").filter(Boolean),s=n.length,i=r.length,o=r[r.length-1]||"",a=jr.cssDurationToNumber(this.transitionDuration),c="";i>s?c="next":i<s?c="prev":i===s&&r[i-1]!==n[s-1]&&(c="next"),this.viewDirection=`${c}-${o}`,setTimeout(()=>{var l;this.historyState=e,(l=this.setView)==null||l.call(this,o)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div.page")}updateContainerHeight(){var s;let e=this.getWrapper();if(!e)return;let r=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0"),n=0;if(this.mobileFullScreen){let i=((s=window.visualViewport)==null?void 0:s.height)||window.innerHeight,o=this.getHeaderHeight();n=i-o-r,this.style.setProperty("--local-border-bottom-radius","0px")}else n=e.getBoundingClientRect().height+r,this.style.setProperty("--local-border-bottom-radius",r?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${n}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${n}px`}getHeaderHeight(){return n1t}};nl.styles=[G_e];Jd([W({type:String})],nl.prototype,"transitionDuration",void 0);Jd([W({type:String})],nl.prototype,"transitionFunction",void 0);Jd([W({type:String})],nl.prototype,"history",void 0);Jd([W({type:String})],nl.prototype,"view",void 0);Jd([W({attribute:!1})],nl.prototype,"setView",void 0);Jd([ye()],nl.prototype,"viewDirection",void 0);Jd([ye()],nl.prototype,"historyState",void 0);Jd([ye()],nl.prototype,"previousHeight",void 0);Jd([ye()],nl.prototype,"mobileFullScreen",void 0);nl=Jd([fe("w3m-router-container")],nl)});var J_e={};Me(J_e,{AppKitModal:()=>pee,W3mListWallet:()=>Us,W3mModal:()=>dee,W3mModalBase:()=>ic,W3mRouterContainer:()=>nl,W3mUsageExceededView:()=>AL});var Q_e=y(()=>{F_e();j_e();K_e();Y_e()});var X_e,gT,eNe=y(()=>{At();pEe();X_e=!1,gT=class extends TD{async open(e){ue.isConnected()||await super.open(e)}async close(){var e;if(await super.close(),this.options.manualWCControl){let r=(e=M.getAccountData(this.activeChainNamespace))==null?void 0:e.address;le.finalizeWcConnection(r)}}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!X_e&&de.isClient()){if(await Promise.resolve().then(()=>(xTe(),wTe)),await Promise.resolve().then(()=>(Q_e(),J_e)),!document.querySelector("w3m-modal")){let r=document.createElement("w3m-modal");!X.state.disableAppend&&!X.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",r)}X_e=!0}}}});var tNe,rNe=y(()=>{tNe="1.8.17-wc-circular-dependencies-fix.0"});var nNe={};Me(nNe,{AppKit:()=>gT,createAppKit:()=>s1t});function s1t(t){return new gT(G(S({},t),{basic:!0,sdkVersion:`html-core-${tNe}`}))}var sNe=y(()=>{eNe();rNe()});var cNe=pr(Fo(),1);H$();var Wp=pr(Np(),1),Ru=pr(v8(),1),Oae=pr(K$(),1);var tne="0.1.1";function rne(){return tne}var Br=class t extends Error{constructor(e,r={}){let n=(()=>{var c;if(r.cause instanceof t){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof t&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${s!=null?s:""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${rne()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return nne(this,e)}};function nne(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?nne(t.cause,e):e?null:t}var pb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function lUe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Wf(t,...e){if(!lUe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hb(t.outputLen),hb(t.blockLen)}function Op(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function OP(t,e){Wf(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ine(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Kf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function RP(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Cu(t,e){return t<<32-e|t>>>e}var uUe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function fUe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function dUe(t){for(let e=0;e<t.length;e++)t[e]=fUe(t[e]);return t}var G$=uUe?t=>t:dUe;function pUe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function mb(t){return typeof t=="string"&&(t=pUe(t)),Wf(t),t}function one(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];Wf(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}var t1=class{};function kP(t){let e=n=>t().update(mb(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ane(t=32){if(pb&&typeof pb.getRandomValues=="function")return pb.getRandomValues(new Uint8Array(t));if(pb&&typeof pb.randomBytes=="function")return Uint8Array.from(pb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function hUe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function cne(t,e,r){return t&e^~t&r}function lne(t,e,r){return t&e^t&r^e&r}var BP=class extends t1{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=RP(this.buffer)}update(e){Op(this),e=mb(e),Wf(e);let{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=RP(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Op(this),OP(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,Kf(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;hUe(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=RP(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},Rp=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var UP=BigInt(4294967295),une=BigInt(32);function mUe(t,e=!1){return e?{h:Number(t&UP),l:Number(t>>une&UP)}:{h:Number(t>>une&UP)|0,l:Number(t&UP)|0}}function fne(t,e=!1){let r=t.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=mUe(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}var dne=(t,e,r)=>t<<r|e>>>32-r,pne=(t,e,r)=>e<<r|t>>>32-r,hne=(t,e,r)=>e<<r-32|t>>>64-r,mne=(t,e,r)=>t<<r-32|e>>>64-r;var gUe=BigInt(0),IA=BigInt(1),yUe=BigInt(2),bUe=BigInt(7),wUe=BigInt(256),xUe=BigInt(113),bne=[],wne=[],xne=[];for(let t=0,e=IA,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],bne.push(2*(5*n+r)),wne.push((t+1)*(t+2)/2%64);let s=gUe;for(let i=0;i<7;i++)e=(e<<IA^(e>>bUe)*xUe)%wUe,e&yUe&&(s^=IA<<(IA<<BigInt(i))-IA);xne.push(s)}var vne=fne(xne,!0),vUe=vne[0],EUe=vne[1],gne=(t,e,r)=>r>32?hne(t,e,r):dne(t,e,r),yne=(t,e,r)=>r>32?mne(t,e,r):pne(t,e,r);function AUe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=gne(l,u,1)^r[a],d=yne(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=wne[o],c=gne(s,i,a),l=yne(s,i,a),u=bne[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=vUe[n],t[1]^=EUe[n]}Kf(r)}var Z$=class t extends t1{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,hb(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ine(this.state)}clone(){return this._cloneInto()}keccak(){G$(this.state32),AUe(this.state32,this.rounds),G$(this.state32),this.posOut=0,this.pos=0}update(e){Op(this),e=mb(e),Wf(e);let{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Op(this,!1),Wf(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(OP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Kf(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},CUe=(t,e,r)=>kP(()=>new Z$(e,t,r));var Ene=CUe(1,136,256/8);var SUe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r1=new Uint32Array(64),Y$=class extends BP{constructor(e=32){super(64,e,8,!1),this.A=Rp[0]|0,this.B=Rp[1]|0,this.C=Rp[2]|0,this.D=Rp[3]|0,this.E=Rp[4]|0,this.F=Rp[5]|0,this.G=Rp[6]|0,this.H=Rp[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)r1[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=r1[f-15],p=r1[f-2],h=Cu(d,7)^Cu(d,18)^d>>>3,m=Cu(p,17)^Cu(p,19)^p>>>10;r1[f]=m+r1[f-7]+h+r1[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Cu(a,6)^Cu(a,11)^Cu(a,25),p=u+d+cne(a,c,l)+SUe[f]+r1[f]|0,m=(Cu(n,2)^Cu(n,13)^Cu(n,22))+lne(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){Kf(r1)}destroy(){this.set(0,0,0,0,0,0,0,0),Kf(this.buffer)}};var Ane=kP(()=>new Y$);var eH=BigInt(0),X$=BigInt(1);function E8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tH(t){if(!E8(t))throw new Error("Uint8Array expected")}function A8(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function TA(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Ine(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?eH:BigInt("0x"+t)}var Tne=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",IUe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function C8(t){if(tH(t),Tne)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=IUe[t[r]];return e}var kp={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cne(t){if(t>=kp._0&&t<=kp._9)return t-kp._0;if(t>=kp.A&&t<=kp.F)return t-(kp.A-10);if(t>=kp.a&&t<=kp.f)return t-(kp.a-10)}function PA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Tne)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=Cne(t.charCodeAt(i)),a=Cne(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Bp(t){return Ine(C8(t))}function rH(t){return tH(t),Ine(C8(Uint8Array.from(t).reverse()))}function gb(t,e){return PA(t.toString(16).padStart(e*2,"0"))}function nH(t,e){return gb(t,e).reverse()}function ba(t,e,r){let n;if(typeof e=="string")try{n=PA(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(E8(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function _A(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];tH(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}var J$=t=>typeof t=="bigint"&&eH<=t;function DP(t,e,r){return J$(t)&&J$(e)&&J$(r)&&e<=t&&t<r}function yb(t,e,r,n){if(!DP(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Pne(t){let e;for(e=0;t>eH;t>>=X$,e+=1);return e}var bb=t=>(X$<<BigInt(t))-X$,Q$=t=>new Uint8Array(t),Sne=t=>Uint8Array.from(t);function _ne(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Q$(t),s=Q$(t),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>r(s,n,...f),c=(f=Q$(0))=>{s=a(Sne([0]),f),n=a(),f.length!==0&&(s=a(Sne([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){n=a();let p=n.slice();d.push(p),f+=n.length}return _A(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}var TUe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||E8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function wb(t,e,r={}){let n=(s,i,o)=>{let a=TUe[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return t}function sH(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}function Nne(t,e){if(iH(t)>e)throw new LP({givenSize:iH(t),maxSize:e})}var Up={zero:48,nine:57,A:65,F:70,a:97,f:102};function oH(t){if(t>=Up.zero&&t<=Up.nine)return t-Up.zero;if(t>=Up.A&&t<=Up.F)return t-(Up.A-10);if(t>=Up.a&&t<=Up.f)return t-(Up.a-10)}function One(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new MP({size:t.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let i=0;i<n;i++){let o=r==="right";s[o?i:n-i-1]=t[o?i:t.length-i-1]}return s}function $P(t,e){if(wl(t)>e)throw new HP({givenSize:wl(t),maxSize:e})}function Rne(t,e){if(typeof e=="number"&&e>0&&e>wl(t)-1)throw new NA({offset:e,position:"start",size:wl(t)})}function kne(t,e,r){if(typeof e=="number"&&typeof r=="number"&&wl(t)!==r-e)throw new NA({offset:r,position:"end",size:wl(t)})}function aH(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;let s=t.replace("0x","");if(s.length>n*2)throw new FP({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function Bne(t,e={}){let{dir:r="left"}=e,n=t.replace("0x",""),s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var _Ue="#__bigint";function n1(t,e,r){return JSON.stringify(t,(n,s)=>typeof e=="function"?e(n,s):typeof s=="bigint"?s.toString()+_Ue:s,r)}var NUe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function OUe(t,e={}){let{strict:r=!1}=e;if(!t)throw new VP(t);if(typeof t!="string")throw new VP(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new jP(t);if(!t.startsWith("0x"))throw new jP(t)}function qP(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Gf(t){return t instanceof Uint8Array?hc(t):Array.isArray(t)?hc(new Uint8Array(t)):t}function hc(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=NUe[t[s]];let n=`0x${r}`;return typeof e.size=="number"?($P(n,e.size),lH(n,e.size)):n}function mc(t,e={}){let{signed:r,size:n}=e,s=BigInt(t),i;n?r?i=(BigInt(1)<<BigInt(n)*BigInt(8)-BigInt(1))-BigInt(1):i=BigInt(2)**(BigInt(n)*BigInt(8))-BigInt(1):typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof i=="bigint"&&r?-i-BigInt(1):0;if(i&&s>i||s<o){let l=typeof t=="bigint"?"n":"";throw new cH({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}let c=`0x${(r&&s<0?(BigInt(1)<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?RUe(c,n):c}function RUe(t,e){return aH(t,{dir:"left",size:e})}function lH(t,e){return aH(t,{dir:"right",size:e})}function Su(t,e,r,n={}){let{strict:s}=n;Rne(t,e);let i=`0x${t.replace("0x","").slice((e!=null?e:0)*2,(r!=null?r:t.length)*2)}`;return s&&kne(i,e,r),i}function wl(t){return Math.ceil((t.length-2)/2)}function uH(t){return Bne(t,{dir:"left"})}function fH(t,e={}){let{strict:r=!1}=e;try{return OUe(t,{strict:r}),!0}catch(n){return!1}}var cH=class extends Br{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};var VP=class extends Br{constructor(e){super(`Value \`${typeof e=="object"?n1(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},jP=class extends Br{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}};var HP=class extends Br{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},NA=class extends Br{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},FP=class extends Br{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};var kUe=new TextEncoder;function BUe(t){if(!(t instanceof Uint8Array)){if(!t)throw new T8(t);if(typeof t!="object")throw new T8(t);if(!("BYTES_PER_ELEMENT"in t))throw new T8(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new T8(t)}}function P8(t){return t instanceof Uint8Array?t:typeof t=="string"?OA(t):UUe(t)}function UUe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function OA(t,e={}){let{size:r}=e,n=t;r&&($P(t,r),n=lH(t,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){let l=oH(s.charCodeAt(c++)),u=oH(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new Br(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function Dne(t,e={}){let{size:r}=e,n=kUe.encode(t);return typeof r=="number"?(Nne(n,r),DUe(n,r)):n}function DUe(t,e){return One(t,{dir:"right",size:e})}function iH(t){return t.length}function Lne(t){try{return BUe(t),!0}catch(e){return!1}}var T8=class extends Br{constructor(e){super(`Value \`${typeof e=="object"?n1(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},LP=class extends Br{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}};var MP=class extends Br{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function dH(t,e={}){let{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=Ene(P8(t));return r==="Bytes"?n:hc(n)}var WP=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}};var MUe={checksum:new WP(8192)},KP=MUe.checksum;function Mne(t,e={}){let{compressed:r}=e,{prefix:n,x:s,y:i}=t;if(r===!1||typeof s=="bigint"&&typeof i=="bigint"){if(n!==4)throw new GP({prefix:n,cause:new mH});return}if(r===!0||typeof s=="bigint"&&typeof i=="undefined"){if(n!==3&&n!==2)throw new GP({prefix:n,cause:new hH});return}throw new pH({publicKey:t})}function yH(t){let e=(()=>{if(fH(t))return $ne(t);if(Lne(t))return HUe(t);let{prefix:r,x:n,y:s}=t;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r!=null?r:4,x:n,y:s}:{prefix:r,x:n}})();return Mne(e),e}function HUe(t){return $ne(hc(t))}function $ne(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new gH({publicKey:t});if(t.length===130){let n=BigInt(Su(t,0,32)),s=BigInt(Su(t,32,64));return{prefix:4,x:n,y:s}}if(t.length===132){let n=Number(Su(t,0,1)),s=BigInt(Su(t,1,33)),i=BigInt(Su(t,33,65));return{prefix:n,x:s,y:i}}let e=Number(Su(t,0,1)),r=BigInt(Su(t,1,33));return{prefix:e,x:r}}function Hne(t,e={}){return OA(RA(t,e))}function RA(t,e={}){Mne(t);let{prefix:r,x:n,y:s}=t,{includePrefix:i=!0}=e;return qP(i?mc(r,{size:1}):"0x",mc(n,{size:32}),typeof s=="bigint"?mc(s,{size:32}):"0x")}var pH=class extends Br{constructor({publicKey:e}){super(`Value \`${n1(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},GP=class extends Br{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},hH=class extends Br{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},mH=class extends Br{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},gH=class extends Br{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${wl(Gf(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};var FUe=/^0x[a-fA-F0-9]{40}$/;function ZP(t,e={}){let{strict:r=!0}=e;if(!FUe.test(t))throw new YP({address:t,cause:new bH});if(r){if(t.toLowerCase()===t)return;if(zne(t)!==t)throw new YP({address:t,cause:new wH})}}function zne(t){if(KP.has(t))return KP.get(t);ZP(t,{strict:!1});let e=t.substring(2).toLowerCase(),r=dH(Dne(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());let s=`0x${n.join("")}`;return KP.set(t,s),s}function zUe(t,e={}){let{checksum:r=!1}=e;return ZP(t),r?zne(t):t}function Vne(t,e={}){let r=dH(`0x${RA(t).slice(4)}`).substring(26);return zUe(`0x${r}`,e)}function jne(t,e){return ZP(t,{strict:!1}),ZP(e,{strict:!1}),t.toLowerCase()===e.toLowerCase()}var YP=class extends Br{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},bH=class extends Br{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},wH=class extends Br{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};var cxt=BigInt(2)**(BigInt(8)-BigInt(1))-BigInt(1),lxt=BigInt(2)**(BigInt(16)-BigInt(1))-BigInt(1),uxt=BigInt(2)**(BigInt(24)-BigInt(1))-BigInt(1),fxt=BigInt(2)**(BigInt(32)-BigInt(1))-BigInt(1),dxt=BigInt(2)**(BigInt(40)-BigInt(1))-BigInt(1),pxt=BigInt(2)**(BigInt(48)-BigInt(1))-BigInt(1),hxt=BigInt(2)**(BigInt(56)-BigInt(1))-BigInt(1),mxt=BigInt(2)**(BigInt(64)-BigInt(1))-BigInt(1),gxt=BigInt(2)**(BigInt(72)-BigInt(1))-BigInt(1),yxt=BigInt(2)**(BigInt(80)-BigInt(1))-BigInt(1),bxt=BigInt(2)**(BigInt(88)-BigInt(1))-BigInt(1),wxt=BigInt(2)**(BigInt(96)-BigInt(1))-BigInt(1),xxt=BigInt(2)**(BigInt(104)-BigInt(1))-BigInt(1),vxt=BigInt(2)**(BigInt(112)-BigInt(1))-BigInt(1),Ext=BigInt(2)**(BigInt(120)-BigInt(1))-BigInt(1),Axt=BigInt(2)**(BigInt(128)-BigInt(1))-BigInt(1),Cxt=BigInt(2)**(BigInt(136)-BigInt(1))-BigInt(1),Sxt=BigInt(2)**(BigInt(144)-BigInt(1))-BigInt(1),Ixt=BigInt(2)**(BigInt(152)-BigInt(1))-BigInt(1),Txt=BigInt(2)**(BigInt(160)-BigInt(1))-BigInt(1),Pxt=BigInt(2)**(BigInt(168)-BigInt(1))-BigInt(1),_xt=BigInt(2)**(BigInt(176)-BigInt(1))-BigInt(1),Nxt=BigInt(2)**(BigInt(184)-BigInt(1))-BigInt(1),Oxt=BigInt(2)**(BigInt(192)-BigInt(1))-BigInt(1),Rxt=BigInt(2)**(BigInt(200)-BigInt(1))-BigInt(1),kxt=BigInt(2)**(BigInt(208)-BigInt(1))-BigInt(1),Bxt=BigInt(2)**(BigInt(216)-BigInt(1))-BigInt(1),Uxt=BigInt(2)**(BigInt(224)-BigInt(1))-BigInt(1),Dxt=BigInt(2)**(BigInt(232)-BigInt(1))-BigInt(1),Lxt=BigInt(2)**(BigInt(240)-BigInt(1))-BigInt(1),Mxt=BigInt(2)**(BigInt(248)-BigInt(1))-BigInt(1),$xt=BigInt(2)**(BigInt(256)-BigInt(1))-BigInt(1),Hxt=-(BigInt(2)**(BigInt(8)-BigInt(1))),Fxt=-(BigInt(2)**(BigInt(16)-BigInt(1))),zxt=-(BigInt(2)**(BigInt(24)-BigInt(1))),Vxt=-(BigInt(2)**(BigInt(32)-BigInt(1))),jxt=-(BigInt(2)**(BigInt(40)-BigInt(1))),qxt=-(BigInt(2)**(BigInt(48)-BigInt(1))),Wxt=-(BigInt(2)**(BigInt(56)-BigInt(1))),Kxt=-(BigInt(2)**(BigInt(64)-BigInt(1))),Gxt=-(BigInt(2)**(BigInt(72)-BigInt(1))),Zxt=-(BigInt(2)**(BigInt(80)-BigInt(1))),Yxt=-(BigInt(2)**(BigInt(88)-BigInt(1))),Jxt=-(BigInt(2)**(BigInt(96)-BigInt(1))),Qxt=-(BigInt(2)**(BigInt(104)-BigInt(1))),Xxt=-(BigInt(2)**(BigInt(112)-BigInt(1))),e6t=-(BigInt(2)**(BigInt(120)-BigInt(1))),t6t=-(BigInt(2)**(BigInt(128)-BigInt(1))),r6t=-(BigInt(2)**(BigInt(136)-BigInt(1))),n6t=-(BigInt(2)**(BigInt(144)-BigInt(1))),s6t=-(BigInt(2)**(BigInt(152)-BigInt(1))),i6t=-(BigInt(2)**(BigInt(160)-BigInt(1))),o6t=-(BigInt(2)**(BigInt(168)-BigInt(1))),a6t=-(BigInt(2)**(BigInt(176)-BigInt(1))),c6t=-(BigInt(2)**(BigInt(184)-BigInt(1))),l6t=-(BigInt(2)**(BigInt(192)-BigInt(1))),u6t=-(BigInt(2)**(BigInt(200)-BigInt(1))),f6t=-(BigInt(2)**(BigInt(208)-BigInt(1))),d6t=-(BigInt(2)**(BigInt(216)-BigInt(1))),p6t=-(BigInt(2)**(BigInt(224)-BigInt(1))),h6t=-(BigInt(2)**(BigInt(232)-BigInt(1))),m6t=-(BigInt(2)**(BigInt(240)-BigInt(1))),g6t=-(BigInt(2)**(BigInt(248)-BigInt(1))),y6t=-(BigInt(2)**(BigInt(256)-BigInt(1))),b6t=BigInt(2)**BigInt(8)-BigInt(1),w6t=BigInt(2)**BigInt(16)-BigInt(1),x6t=BigInt(2)**BigInt(24)-BigInt(1),v6t=BigInt(2)**BigInt(32)-BigInt(1),E6t=BigInt(2)**BigInt(40)-BigInt(1),A6t=BigInt(2)**BigInt(48)-BigInt(1),C6t=BigInt(2)**BigInt(56)-BigInt(1),S6t=BigInt(2)**BigInt(64)-BigInt(1),I6t=BigInt(2)**BigInt(72)-BigInt(1),T6t=BigInt(2)**BigInt(80)-BigInt(1),P6t=BigInt(2)**BigInt(88)-BigInt(1),_6t=BigInt(2)**BigInt(96)-BigInt(1),N6t=BigInt(2)**BigInt(104)-BigInt(1),O6t=BigInt(2)**BigInt(112)-BigInt(1),R6t=BigInt(2)**BigInt(120)-BigInt(1),k6t=BigInt(2)**BigInt(128)-BigInt(1),B6t=BigInt(2)**BigInt(136)-BigInt(1),U6t=BigInt(2)**BigInt(144)-BigInt(1),D6t=BigInt(2)**BigInt(152)-BigInt(1),L6t=BigInt(2)**BigInt(160)-BigInt(1),M6t=BigInt(2)**BigInt(168)-BigInt(1),$6t=BigInt(2)**BigInt(176)-BigInt(1),H6t=BigInt(2)**BigInt(184)-BigInt(1),F6t=BigInt(2)**BigInt(192)-BigInt(1),z6t=BigInt(2)**BigInt(200)-BigInt(1),V6t=BigInt(2)**BigInt(208)-BigInt(1),j6t=BigInt(2)**BigInt(216)-BigInt(1),q6t=BigInt(2)**BigInt(224)-BigInt(1),W6t=BigInt(2)**BigInt(232)-BigInt(1),K6t=BigInt(2)**BigInt(240)-BigInt(1),G6t=BigInt(2)**BigInt(248)-BigInt(1),xH=BigInt(2)**BigInt(256)-BigInt(1);var BA={};Me(BA,{InvalidRError:()=>e_,InvalidSError:()=>t_,InvalidSerializedSizeError:()=>XP,InvalidVError:()=>r_,InvalidYParityError:()=>vb,MissingPropertiesError:()=>_8,assert:()=>n_,extract:()=>aDe,from:()=>MH,fromBytes:()=>use,fromDerBytes:()=>cDe,fromDerHex:()=>fse,fromHex:()=>LH,fromLegacy:()=>dse,fromRpc:()=>pse,fromTuple:()=>lDe,toBytes:()=>uDe,toDerBytes:()=>fDe,toDerHex:()=>dDe,toHex:()=>hse,toLegacy:()=>pDe,toRpc:()=>hDe,toTuple:()=>mDe,vToYParity:()=>s_,validate:()=>gDe,yParityToV:()=>$H});var JP=class extends t1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sne(e);let n=mb(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Kf(i)}update(e){return Op(this),this.iHash.update(e),this}digestInto(e){Op(this),Wf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},vH=(t,e,r)=>new JP(t,e).update(r).digest();vH.create=(t,e)=>new JP(t,e);var zo=BigInt(0),Ki=BigInt(1),xb=BigInt(2),qUe=BigInt(3),Wne=BigInt(4),Kne=BigInt(5),Gne=BigInt(8);function Wi(t,e){let r=t%e;return r>=zo?r:e+r}function gc(t,e,r){let n=t;for(;e-- >zo;)n*=n,n%=r;return n}function QP(t,e){if(t===zo)throw new Error("invert: expected non-zero number");if(e<=zo)throw new Error("invert: expected positive modulus, got "+e);let r=Wi(t,e),n=e,s=zo,i=Ki,o=Ki,a=zo;for(;r!==zo;){let l=n/r,u=n%r,f=s-o*l,d=i-a*l;n=r,r=u,s=o,i=a,o=f,a=d}if(n!==Ki)throw new Error("invert: does not exist");return Wi(s,e)}function Zne(t,e){let r=(t.ORDER+Ki)/Wne,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function WUe(t,e){let r=(t.ORDER-Kne)/Gne,n=t.mul(e,xb),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,xb),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function KUe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ki,r=0;for(;e%xb===zo;)e/=xb,r++;let n=xb,s=kA(t);for(;qne(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Zne;let i=s.pow(n,e),o=(e+Ki)/xb;return function(c,l){if(c.is0(l))return l;if(qne(c,l)!==1)throw new Error("Cannot find square root");let u=r,f=c.mul(c.ONE,i),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=Ki<<BigInt(u-h-1),b=c.pow(f,g);u=h,f=c.sqr(b),d=c.mul(d,f),p=c.mul(p,b)}return p}}function GUe(t){return t%Wne===qUe?Zne:t%Gne===Kne?WUe:KUe(t)}var ZUe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function EH(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ZUe.reduce((n,s)=>(n[s]="function",n),e);return wb(t,r)}function YUe(t,e,r){if(r<zo)throw new Error("invalid exponent, negatives unsupported");if(r===zo)return t.ONE;if(r===Ki)return e;let n=t.ONE,s=e;for(;r>zo;)r&Ki&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ki;return n}function AH(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function qne(t,e){let r=(t.ORDER-Ki)/xb,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function CH(t,e){e!==void 0&&hb(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function kA(t,e,r=!1,n={}){if(t<=zo)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:s,nByteLength:i}=CH(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:bb(s),ZERO:zo,ONE:Ki,create:c=>Wi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return zo<=c&&c<t},is0:c=>c===zo,isOdd:c=>(c&Ki)===Ki,neg:c=>Wi(-c,t),eql:(c,l)=>c===l,sqr:c=>Wi(c*c,t),add:(c,l)=>Wi(c+l,t),sub:(c,l)=>Wi(c-l,t),mul:(c,l)=>Wi(c*l,t),pow:(c,l)=>YUe(a,c,l),div:(c,l)=>Wi(c*QP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>QP(c,t),sqrt:n.sqrt||(c=>(o||(o=GUe(t)),o(a,c))),toBytes:c=>r?nH(c,i):gb(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?rH(c):Bp(c)},invertBatch:c=>AH(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Yne(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function SH(t){let e=Yne(t);return e+Math.ceil(e/2)}function Jne(t,e,r=!1){let n=t.length,s=Yne(e),i=SH(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=r?rH(t):Bp(t),a=Wi(o,e-Ki)+Ki;return r?nH(a,s):gb(a,s)}var Qne=BigInt(0),NH=BigInt(1);function IH(t,e){let r=e.negate();return t?r:e}function ese(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function TH(t,e){ese(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=bb(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function Xne(t,e,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r,a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=NH);let l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function JUe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function QUe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}var PH=new WeakMap,tse=new WeakMap;function _H(t){return tse.get(t)||1}function rse(t,e){return{constTimeNegate:IH,hasPrecomputes(r){return _H(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>Qne;)n&NH&&(s=s.add(i)),i=i.double(),n>>=NH;return s},precomputeWindow(r,n){let{windows:s,windowSize:i}=TH(n,e),o=[],a=r,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE,a=TH(r,e);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:h}=Xne(s,c,a);s=l,f?o=o.add(IH(p,n[h])):i=i.add(IH(d,n[u]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){let o=TH(r,e);for(let a=0;a<o.windows&&s!==Qne;a++){let{nextN:c,offset:l,isZero:u,isNeg:f}=Xne(s,a,o);if(s=c,!u){let d=n[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(r,n,s){let i=PH.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&PH.set(n,s(i))),i},wNAFCached(r,n,s){let i=_H(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){let o=_H(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){ese(n,e),tse.set(r,n),PH.delete(r)}}}function nse(t,e,r,n){JUe(r,t),QUe(n,e);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,a=Pne(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=bb(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<i;m++){let g=n[m],b=Number(g>>BigInt(p)&l);u[b]=u[b].add(r[m])}let h=o;for(let m=u.length-1,g=o;m>0;m--)g=g.add(u[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function OH(t){return EH(t.Fp),wb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(G(S(S({},CH(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}function sse(t){t.lowS!==void 0&&A8("lowS",t.lowS),t.prehash!==void 0&&A8("prehash",t.prehash)}function XUe(t){let e=OH(t);wb(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze(S({},e))}var BH=class extends Error{constructor(e=""){super(e)}},Dp={Err:BH,_tlv:{encode:(t,e)=>{let{Err:r}=Dp;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,s=TA(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?TA(s.length/2|128):"";return TA(t)+i+s+e},decode(t,e){let{Err:r}=Dp,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){let{Err:e}=Dp;if(t<Lp)throw new e("integer: negative integers are not allowed");let r=TA(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=Dp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Bp(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Dp,s=ba("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=Dp,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}};function RH(t,e){return C8(gb(t,e))}var Lp=BigInt(0),Js=BigInt(1),a8t=BigInt(2),kH=BigInt(3),eDe=BigInt(4);function tDe(t){let e=XUe(t),{Fp:r}=e,n=kA(e.n,e.nBitLength),s=e.toBytes||((w,x,C)=>{let T=x.toAffine();return _A(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),i=e.fromBytes||(w=>{let x=w.subarray(1),C=r.fromBytes(x.subarray(0,r.BYTES)),T=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:C,y:T}});function o(w){let{a:x,b:C}=e,T=r.sqr(w),U=r.mul(T,w);return r.add(r.add(U,r.mul(w,x)),C)}function a(w,x){let C=r.sqr(x),T=o(w);return r.eql(C,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(e.a,kH),eDe),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return DP(w,Js,e.n)}function f(w){let{allowedPrivateKeyLengths:x,nByteLength:C,wrapPrivateKey:T,n:U}=e;if(x&&typeof w!="bigint"){if(E8(w)&&(w=C8(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(C*2,"0")}let B;try{B=typeof w=="bigint"?w:Bp(ba("private key",w,C))}catch(O){throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof w)}return T&&(B=Wi(B,U)),yb("private key",B,Js,U),B}function d(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}let p=sH((w,x)=>{let{px:C,py:T,pz:U}=w;if(r.eql(U,r.ONE))return{x:C,y:T};let B=w.is0();x==null&&(x=B?r.ONE:r.inv(U));let O=r.mul(C,x),H=r.mul(T,x),_=r.mul(U,x);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:O,y:H}}),h=sH(w=>{if(w.is0()){if(e.allowInfinityPoint&&!r.is0(w.py))return;throw new Error("bad point: ZERO")}let{x,y:C}=w.toAffine();if(!r.isValid(x)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(x,C))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(x,C,T){if(x==null||!r.isValid(x))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=x,this.py=C,this.pz=T,Object.freeze(this)}static fromAffine(x){let{x:C,y:T}=x||{};if(!x||!r.isValid(C)||!r.isValid(T))throw new Error("invalid affine point");if(x instanceof m)throw new Error("projective point not allowed");let U=B=>r.eql(B,r.ZERO);return U(C)&&U(T)?m.ZERO:new m(C,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let C=AH(r,x.map(T=>T.pz));return x.map((T,U)=>T.toAffine(C[U])).map(m.fromAffine)}static fromHex(x){let C=m.fromAffine(i(ba("pointHex",x)));return C.assertValidity(),C}static fromPrivateKey(x){return m.BASE.multiply(f(x))}static msm(x,C){return nse(m,n,x,C)}_setWindowSize(x){E.setWindowSize(this,x)}assertValidity(){h(this)}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.eql(r.mul(C,H),r.mul(B,U)),N=r.eql(r.mul(T,H),r.mul(O,U));return _&&N}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:C}=e,T=r.mul(C,kH),{px:U,py:B,pz:O}=this,H=r.ZERO,_=r.ZERO,N=r.ZERO,I=r.mul(U,U),D=r.mul(B,B),v=r.mul(O,O),A=r.mul(U,B);return A=r.add(A,A),N=r.mul(U,O),N=r.add(N,N),H=r.mul(x,N),_=r.mul(T,v),_=r.add(H,_),H=r.sub(D,_),_=r.add(D,_),_=r.mul(H,_),H=r.mul(A,H),N=r.mul(T,N),v=r.mul(x,v),A=r.sub(I,v),A=r.mul(x,A),A=r.add(A,N),N=r.add(I,I),I=r.add(N,I),I=r.add(I,v),I=r.mul(I,A),_=r.add(_,I),v=r.mul(B,O),v=r.add(v,v),I=r.mul(v,A),H=r.sub(H,I),N=r.mul(v,D),N=r.add(N,N),N=r.add(N,N),new m(H,_,N)}add(x){d(x);let{px:C,py:T,pz:U}=this,{px:B,py:O,pz:H}=x,_=r.ZERO,N=r.ZERO,I=r.ZERO,D=e.a,v=r.mul(e.b,kH),A=r.mul(C,B),R=r.mul(T,O),$=r.mul(U,H),k=r.add(C,T),L=r.add(B,O);k=r.mul(k,L),L=r.add(A,R),k=r.sub(k,L),L=r.add(C,U);let q=r.add(B,H);return L=r.mul(L,q),q=r.add(A,$),L=r.sub(L,q),q=r.add(T,U),_=r.add(O,H),q=r.mul(q,_),_=r.add(R,$),q=r.sub(q,_),I=r.mul(D,L),_=r.mul(v,$),I=r.add(_,I),_=r.sub(R,I),I=r.add(R,I),N=r.mul(_,I),R=r.add(A,A),R=r.add(R,A),$=r.mul(D,$),L=r.mul(v,L),R=r.add(R,$),$=r.sub(A,$),$=r.mul(D,$),L=r.add(L,$),A=r.mul(R,L),N=r.add(N,A),A=r.mul(q,L),_=r.mul(k,_),_=r.sub(_,A),A=r.mul(k,R),I=r.mul(q,I),I=r.add(I,A),new m(_,N,I)}subtract(x){return this.add(x.negate())}is0(){return this.equals(m.ZERO)}wNAF(x){return E.wNAFCached(this,x,m.normalizeZ)}multiplyUnsafe(x){let{endo:C,n:T}=e;yb("scalar",x,Lp,T);let U=m.ZERO;if(x===Lp)return U;if(this.is0()||x===Js)return this;if(!C||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,x,m.normalizeZ);let{k1neg:B,k1:O,k2neg:H,k2:_}=C.splitScalar(x),N=U,I=U,D=this;for(;O>Lp||_>Lp;)O&Js&&(N=N.add(D)),_&Js&&(I=I.add(D)),D=D.double(),O>>=Js,_>>=Js;return B&&(N=N.negate()),H&&(I=I.negate()),I=new m(r.mul(I.px,C.beta),I.py,I.pz),N.add(I)}multiply(x){let{endo:C,n:T}=e;yb("scalar",x,Js,T);let U,B;if(C){let{k1neg:O,k1:H,k2neg:_,k2:N}=C.splitScalar(x),{p:I,f:D}=this.wNAF(H),{p:v,f:A}=this.wNAF(N);I=E.constTimeNegate(O,I),v=E.constTimeNegate(_,v),v=new m(r.mul(v.px,C.beta),v.py,v.pz),U=I.add(v),B=D.add(A)}else{let{p:O,f:H}=this.wNAF(x);U=O,B=H}return m.normalizeZ([U,B])[0]}multiplyAndAddUnsafe(x,C,T){let U=m.BASE,B=(H,_)=>_===Lp||_===Js||!H.equals(U)?H.multiplyUnsafe(_):H.multiply(_),O=B(this,C).add(B(x,T));return O.is0()?void 0:O}toAffine(x){return p(this,x)}isTorsionFree(){let{h:x,isTorsionFree:C}=e;if(x===Js)return!0;if(C)return C(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:C}=e;return x===Js?this:C?C(m,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return A8("isCompressed",x),this.assertValidity(),s(m,this,x)}toHex(x=!0){return A8("isCompressed",x),C8(this.toRawBytes(x))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);let{endo:g,nBitLength:b}=e,E=rse(m,g?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function rDe(t){let e=OH(t);return wb(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(S({lowS:!0},e))}function ise(t){let e=rDe(t),{Fp:r,n,nByteLength:s,nBitLength:i}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(v){return Wi(v,n)}function l(v){return QP(v,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=tDe(G(S({},e),{toBytes(v,A,R){let $=A.toAffine(),k=r.toBytes($.x),L=_A;return A8("isCompressed",R),R?L(Uint8Array.from([A.hasEvenY()?2:3]),k):L(Uint8Array.from([4]),k,r.toBytes($.y))},fromBytes(v){let A=v.length,R=v[0],$=v.subarray(1);if(A===o&&(R===2||R===3)){let k=Bp($);if(!DP(k,Js,r.ORDER))throw new Error("Point is not on curve");let L=d(k),q;try{q=r.sqrt(L)}catch(ae){let re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}let Z=(q&Js)===Js;return(R&1)===1!==Z&&(q=r.neg(q)),{x:k,y:q}}else if(A===a&&R===4){let k=r.fromBytes($.subarray(0,r.BYTES)),L=r.fromBytes($.subarray(r.BYTES,2*r.BYTES));return{x:k,y:L}}else{let k=o,L=a;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+L+", got "+A)}}}));function h(v){let A=n>>Js;return v>A}function m(v){return h(v)?c(-v):v}let g=(v,A,R)=>Bp(v.slice(A,R));class b{constructor(A,R,$){yb("r",A,Js,n),yb("s",R,Js,n),this.r=A,this.s=R,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(A){let R=s;return A=ba("compactSignature",A,R*2),new b(g(A,0,R),g(A,R,2*R))}static fromDER(A){let{r:R,s:$}=Dp.toSig(ba("DER",A));return new b(R,$)}assertValidity(){}addRecoveryBit(A){return new b(this.r,this.s,A)}recoverPublicKey(A){let{r:R,s:$,recovery:k}=this,L=U(ba("msgHash",A));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let q=k===2||k===3?R+e.n:R;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=(k&1)===0?"02":"03",ee=u.fromHex(Z+RH(q,r.BYTES)),ae=l(q),re=c(-L*ae),we=c($*ae),ie=u.BASE.multiplyAndAddUnsafe(ee,re,we);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return PA(this.toDERHex())}toDERHex(){return Dp.hexFromSig(this)}toCompactRawBytes(){return PA(this.toCompactHex())}toCompactHex(){let A=s;return RH(this.r,A)+RH(this.s,A)}}let E={isValidPrivateKey(v){try{return f(v),!0}catch(A){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let v=SH(e.n);return Jne(e.randomBytes(v),e.n)},precompute(v=8,A=u.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function w(v,A=!0){return u.fromPrivateKey(v).toRawBytes(A)}function x(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;let R=ba("key",v).length,$=r.BYTES,k=$+1,L=2*$+1;if(!(e.allowedPrivateKeyLengths||s===k))return R===k||R===L}function C(v,A,R=!0){if(x(v)===!0)throw new Error("first arg must be private key");if(x(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(v)).toRawBytes(R)}let T=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");let A=Bp(v),R=v.length*8-i;return R>0?A>>BigInt(R):A},U=e.bits2int_modN||function(v){return c(T(v))},B=bb(i);function O(v){return yb("num < 2^"+i,v,Lp,B),gb(v,s)}function H(v,A,R=_){if(["recovered","canonical"].some(be=>be in R))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:k}=e,{lowS:L,prehash:q,extraEntropy:Z}=R;L==null&&(L=!0),v=ba("msgHash",v),sse(R),q&&(v=ba("prehashed msgHash",$(v)));let ee=U(v),ae=f(A),re=[O(ae),O(ee)];if(Z!=null&&Z!==!1){let be=Z===!0?k(r.BYTES):Z;re.push(ba("extraEntropy",be))}let we=_A(...re),ie=ee;function Te(be){let De=T(be);if(!p(De))return;let Et=l(De),Pt=u.BASE.multiply(De).toAffine(),ut=c(Pt.x);if(ut===Lp)return;let Ut=c(Et*c(ie+ut*ae));if(Ut===Lp)return;let bn=(Pt.x===ut?0:2)|Number(Pt.y&Js),Nn=Ut;return L&&h(Ut)&&(Nn=m(Ut),bn^=1),new b(ut,Nn,bn)}return{seed:we,k2sig:Te}}let _={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function I(v,A,R=_){let{seed:$,k2sig:k}=H(v,A,R),L=e;return _ne(L.hash.outputLen,L.nByteLength,L.hmac)($,k)}u.BASE._setWindowSize(8);function D(v,A,R,$=N){var bn;let k=v;A=ba("msgHash",A),R=ba("publicKey",R);let{lowS:L,prehash:q,format:Z}=$;if(sse($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");let ee=typeof k=="string"||E8(k),ae=!ee&&!Z&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!ee&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,we;try{if(ae&&(re=new b(k.r,k.s)),ee){try{Z!=="compact"&&(re=b.fromDER(k))}catch(Nn){if(!(Nn instanceof Dp.Err))throw Nn}!re&&Z!=="der"&&(re=b.fromCompact(k))}we=u.fromHex(R)}catch(Nn){return!1}if(!re||L&&re.hasHighS())return!1;q&&(A=e.hash(A));let{r:ie,s:Te}=re,be=U(A),De=l(Te),Et=c(be*De),Pt=c(ie*De),ut=(bn=u.BASE.multiplyAndAddUnsafe(we,Et,Pt))==null?void 0:bn.toAffine();return ut?c(ut.x)===ie:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:I,verify:D,ProjectivePoint:u,Signature:b,utils:E}}function nDe(t){return{hash:t,hmac:(e,...r)=>vH(t,e,one(...r)),randomBytes:ane}}function ose(t,e){let r=n=>ise(S(S({},t),nDe(n)));return G(S({},r(e)),{create:r})}var lse=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ase=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sDe=BigInt(0),iDe=BigInt(1),UH=BigInt(2),cse=(t,e)=>(t+e/UH)/e;function oDe(t){let e=lse,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=gc(u,r,e)*u%e,d=gc(f,r,e)*u%e,p=gc(d,UH,e)*l%e,h=gc(p,s,e)*p%e,m=gc(h,i,e)*h%e,g=gc(m,a,e)*m%e,b=gc(g,c,e)*g%e,E=gc(b,a,e)*m%e,w=gc(E,r,e)*u%e,x=gc(w,o,e)*h%e,C=gc(x,n,e)*l%e,T=gc(C,UH,e);if(!DH.eql(DH.sqr(T),t))throw new Error("Cannot find square root");return T}var DH=kA(lse,void 0,void 0,{sqrt:oDe}),yc=ose({a:sDe,b:BigInt(7),Fp:DH,n:ase,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=ase,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-iDe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=cse(i*t,e),c=cse(-n*t,e),l=Wi(t-a*r-c*s,e),u=Wi(-a*n-c*i,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Ane);function n_(t,e={}){let{recovered:r}=e;if(typeof t.r=="undefined")throw new _8({signature:t});if(typeof t.s=="undefined")throw new _8({signature:t});if(r&&typeof t.yParity=="undefined")throw new _8({signature:t});if(t.r<BigInt(0)||t.r>xH)throw new e_({value:t.r});if(t.s<BigInt(0)||t.s>xH)throw new t_({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new vb({value:t.yParity})}function use(t){return LH(hc(t))}function LH(t){if(t.length!==130&&t.length!==132)throw new XP({signature:t});let e=BigInt(Su(t,0,32)),r=BigInt(Su(t,32,64)),n=(()=>{let s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return s_(s)}catch(i){throw new vb({value:s})}})();return typeof n=="undefined"?{r:e,s:r}:{r:e,s:r,yParity:n}}function aDe(t){if(typeof t.r!="undefined"&&typeof t.s!="undefined")return MH(t)}function MH(t){let e=typeof t=="string"?LH(t):t instanceof Uint8Array?use(t):typeof t.r=="string"?pse(t):t.v?dse(t):S({r:t.r,s:t.s},typeof t.yParity!="undefined"?{yParity:t.yParity}:{});return n_(e),e}function cDe(t){return fse(hc(t))}function fse(t){let{r:e,s:r}=yc.Signature.fromDER(Gf(t).slice(2));return{r:e,s:r}}function dse(t){return{r:t.r,s:t.s,yParity:s_(t.v)}}function pse(t){let e=(()=>{let r=t.v?Number(t.v):void 0,n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=s_(r)),typeof n!="number")throw new vb({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function lDe(t){let[e,r,n]=t;return MH({r:r==="0x"?BigInt(0):BigInt(r),s:n==="0x"?BigInt(0):BigInt(n),yParity:e==="0x"?0:Number(e)})}function uDe(t){return OA(hse(t))}function hse(t){n_(t);let e=t.r,r=t.s;return qP(mc(e,{size:32}),mc(r,{size:32}),typeof t.yParity=="number"?mc($H(t.yParity),{size:1}):"0x")}function fDe(t){return new yc.Signature(t.r,t.s).toDERRawBytes()}function dDe(t){return`0x${new yc.Signature(t.r,t.s).toDERHex()}`}function pDe(t){return{r:t.r,s:t.s,v:$H(t.yParity)}}function hDe(t){let{r:e,s:r,yParity:n}=t;return{r:mc(e,{size:32}),s:mc(r,{size:32}),yParity:n===0?"0x0":"0x1"}}function mDe(t){let{r:e,s:r,yParity:n}=t;return[n?"0x01":"0x",e===BigInt(0)?"0x":uH(mc(e)),r===BigInt(0)?"0x":uH(mc(r))]}function gDe(t,e={}){try{return n_(t,e),!0}catch(r){return!1}}function s_(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new r_({value:t})}function $H(t){if(t===0)return 27;if(t===1)return 28;throw new vb({value:t})}var XP=class extends Br{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${wl(Gf(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},_8=class extends Br{constructor({signature:e}){super(`Signature \`${n1(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},e_=class extends Br{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},t_=class extends Br{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},vb=class extends Br{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},r_=class extends Br{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};var UA={};Me(UA,{createKeyPair:()=>IDe,getPublicKey:()=>wse,getSharedSecret:()=>TDe,noble:()=>SDe,randomPrivateKey:()=>xse,recoverAddress:()=>vse,recoverPublicKey:()=>Ese,sign:()=>PDe,verify:()=>_De});var bse=!1;var SDe=yc;function IDe(t={}){let{as:e="Hex"}=t,r=xse({as:e}),n=wse({privateKey:r});return{privateKey:r,publicKey:n}}function wse(t){let{privateKey:e}=t,r=yc.ProjectivePoint.fromPrivateKey(Gf(e).slice(2));return yH(r)}function TDe(t){let{as:e="Hex",privateKey:r,publicKey:n}=t,o=yc.ProjectivePoint.fromHex(RA(n).slice(2)).multiply(yc.utils.normPrivateKeyToScalar(Gf(r).slice(2))).toRawBytes(!0);return e==="Hex"?hc(o):o}function xse(t={}){let{as:e="Hex"}=t,r=yc.utils.randomPrivateKey();return e==="Hex"?hc(r):r}function vse(t){return Vne(Ese(t))}function Ese(t){let{payload:e,signature:r}=t,{r:n,s,yParity:i}=r,a=new yc.Signature(BigInt(n),BigInt(s)).addRecoveryBit(i).recoverPublicKey(Gf(e).substring(2));return yH(a)}function PDe(t){let{extraEntropy:e=bse,hash:r,payload:n,privateKey:s}=t,{r:i,s:o,recovery:a}=yc.sign(P8(n),P8(s),S({extraEntropy:typeof e=="boolean"?e:Gf(e).slice(2),lowS:!0},r?{prehash:!0}:{}));return{r:i,s:o,yParity:a}}function _De(t){let{address:e,hash:r,payload:n,publicKey:s,signature:i}=t;return e?jne(e,vse({payload:n,signature:i})):yc.verify(i,P8(n),Hne(s),...r?[{prehash:!0,lowS:!0}]:[])}l_();JH();VH();Cb();QA();QF();var Rae=pr(rz(),1);y1();var VFe=":";function Bu(t){let[e,r]=t.split(VFe);return{namespace:e,reference:r}}function jz(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let s=t[n];r.push(...s.accounts)}),r}function kae(t,e){return t.includes(":")?[t]:e.chains||[]}var jFe=Object.defineProperty,qFe=Object.defineProperties,WFe=Object.getOwnPropertyDescriptors,Joe=Object.getOwnPropertySymbols,KFe=Object.prototype.hasOwnProperty,GFe=Object.prototype.propertyIsEnumerable,Cz=(t,e,r)=>e in t?jFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qoe=(t,e)=>{for(var r in e||(e={}))KFe.call(e,r)&&Cz(t,r,e[r]);if(Joe)for(var r of Joe(e))GFe.call(e,r)&&Cz(t,r,e[r]);return t},ZFe=(t,e)=>qFe(t,WFe(e)),Xoe=(t,e,r)=>Cz(t,typeof e!="symbol"?e+"":e,r),YFe="ReactNative",Aa={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};var JFe="js";function fC(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Gp(){return!(0,Ru.getDocument)()&&!!(0,Ru.getNavigator)()&&navigator.product===YFe}function Bae(){return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Uae(){return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function kb(){return!fC()&&!!(0,Ru.getNavigator)()&&!!(0,Ru.getDocument)()}function dC(){return Gp()?Aa.reactNative:fC()?Aa.node:kb()?Aa.browser:Aa.unknown}function qz(){var t;try{return Gp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch(e){return}}function QFe(t,e){let r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function Dae(t){var e,r;let n=Wz();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),ZFe(Qoe(Qoe({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),t||n}}function Wz(){return(0,Oae.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function XFe(){if(dC()===Aa.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=AP();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function eze(){var t;let e=dC();return e===Aa.browser?[e,((t=(0,Ru.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function Kz(t,e,r){let n=XFe(),s=eze();return[[t,e].join("-"),[JFe,r].join("-"),n,s].join("/")}function Lae({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){let l=r.split("?"),u=Kz(t,e,n),f={auth:s,ua:u,projectId:i,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=QFe(l[1]||"",f);return l[0]+"?"+d}function Pb(t,e){return t.filter(r=>e.includes(r)).length===t.length}function sN(t){return Object.fromEntries(t.entries())}function iN(t){return new Map(Object.entries(t))}function Zp(t=Wp.FIVE_MINUTES,e){let r=(0,Wp.toMiliseconds)(t||Wp.FIVE_MINUTES),n,s,i,o;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{let l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,s=c})}}function Uu(t,e,r){return new Promise(async(n,s)=>{let i=setTimeout(()=>s(new Error(r)),e);try{let o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function Mae(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function $ae(t){return Mae("topic",t)}function Hae(t){return Mae("id",t)}function oN(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function zn(t,e){return(0,Wp.fromMiliseconds)((e||Date.now())+(0,Wp.toMiliseconds)(t))}function xc(t){return Date.now()>=(0,Wp.toMiliseconds)(t)}function Dr(t,e){return`${t}${e?`:${e}`:""}`}function Nu(t=[],e=[]){return[...new Set([...t,...e])]}async function Fae({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;let s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;let o=tze(i,t,e),a=dC();if(a===Aa.browser){if(!((n=(0,Ru.getDocument)())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}rze(o)}else a===Aa.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function tze(t,e,r){let n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){let i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${ize(n,!0)}`}else s=`${s}/wc?${n}`;return s}function rze(t){let e="_self";sze()?e="_top":(nze()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function zae(t,e){let r="";try{if(kb()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function Gz(t,e){if(!t.includes(e))return null;let r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function Zz(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function pC(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function nze(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function sze(){try{return window.self!==window.top}catch(t){return!1}}function ize(t,e=!1){let r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function Vae(t){return Buffer.from(t,"base64").toString("utf-8")}function jae(t){return new Promise(e=>setTimeout(e,t))}var Y_=class{constructor({limit:e}){Xoe(this,"limit"),Xoe(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}},q_=BigInt(2**32-1),eae=BigInt(32);function qae(t,e=!1){return e?{h:Number(t&q_),l:Number(t>>eae&q_)}:{h:Number(t>>eae&q_)|0,l:Number(t&q_)|0}}function Wae(t,e=!1){let r=t.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){let{h:o,l:a}=qae(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}var tae=(t,e,r)=>t>>>r,rae=(t,e,r)=>t<<32-r|e>>>r,C1=(t,e,r)=>t>>>r|e<<32-r,S1=(t,e,r)=>t<<32-r|e>>>r,iC=(t,e,r)=>t<<64-r|e>>>r-32,oC=(t,e,r)=>t>>>r-32|e<<64-r,oze=(t,e)=>e,aze=(t,e)=>t,cze=(t,e,r)=>t<<r|e>>>32-r,lze=(t,e,r)=>e<<r|t>>>32-r,uze=(t,e,r)=>e<<r-32|t>>>64-r,fze=(t,e,r)=>t<<r-32|e>>>64-r;function _u(t,e,r,n){let s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}var Yz=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Jz=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,dze=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),pze=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,hze=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),mze=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,H8=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function aN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Kp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ku(t,...e){if(!aN(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cN(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Kp(t.outputLen),Kp(t.blockLen)}function _1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qz(t,e){ku(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function cC(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function xl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dz(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function e0(t,e){return t<<32-e|t>>>e}var Kae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}var Vp=Kae?t=>t:t=>Gae(t);function gze(t){for(let e=0;e<t.length;e++)t[e]=Gae(t[e]);return t}var I1=Kae?t=>t:gze,Zae=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",yze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function V8(t){if(ku(t),Zae)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=yze[t[r]];return e}var zp={_0:48,_9:57,A:65,F:70,a:97,f:102};function nae(t){if(t>=zp._0&&t<=zp._9)return t-zp._0;if(t>=zp.A&&t<=zp.F)return t-(zp.A-10);if(t>=zp.a&&t<=zp.f)return t-(zp.a-10)}function J_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Zae)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){let o=nae(t.charCodeAt(i)),a=nae(t.charCodeAt(i+1));if(o===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Yae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ou(t){return typeof t=="string"&&(t=Yae(t)),ku(t),t}function T1(...t){let e=0;for(let n=0;n<t.length;n++){let s=t[n];ku(s),e+=s.length}let r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){let i=t[n];r.set(i,s),s+=i.length}return r}var q8=class{};function hC(t){let e=n=>t().update(Ou(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function bze(t){let e=(n,s)=>t(s).update(Ou(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Bb(t=32){if(H8&&typeof H8.getRandomValues=="function")return H8.getRandomValues(new Uint8Array(t));if(H8&&typeof H8.randomBytes=="function")return Uint8Array.from(H8.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var wze=BigInt(0),nC=BigInt(1),xze=BigInt(2),vze=BigInt(7),Eze=BigInt(256),Aze=BigInt(113),Jae=[],Qae=[],Xae=[];for(let t=0,e=nC,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Jae.push(2*(5*n+r)),Qae.push((t+1)*(t+2)/2%64);let s=wze;for(let i=0;i<7;i++)e=(e<<nC^(e>>vze)*Aze)%Eze,e&xze&&(s^=nC<<(nC<<BigInt(i))-nC);Xae.push(s)}var ece=Wae(Xae,!0),Cze=ece[0],Sze=ece[1],sae=(t,e,r)=>r>32?uze(t,e,r):cze(t,e,r),iae=(t,e,r)=>r>32?fze(t,e,r):lze(t,e,r);function Ize(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=sae(l,u,1)^r[a],d=iae(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=Qae[o],c=sae(s,i,a),l=iae(s,i,a),u=Jae[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Cze[n],t[1]^=Sze[n]}xl(r)}var Sz=class t extends q8{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Kp(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cC(this.state)}clone(){return this._cloneInto()}keccak(){I1(this.state32),Ize(this.state32,this.rounds),I1(this.state32),this.posOut=0,this.pos=0}update(e){_1(this),e=Ou(e),ku(e);let{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){_1(this,!1),ku(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Kp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Qz(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xl(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},Tze=(t,e,r)=>hC(()=>new Sz(e,t,r)),Pze=Tze(1,136,256/8);function _ze(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function Nze(t,e,r){return t&e^~t&r}function Oze(t,e,r){return t&e^t&r^e&r}var Q_=class extends q8{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=dz(this.buffer)}update(e){_1(this),e=Ou(e),ku(e);let{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=dz(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){_1(this),Qz(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,xl(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;_ze(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=dz(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},b1=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ji=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rze=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),w1=new Uint32Array(64),Iz=class extends Q_{constructor(e=32){super(64,e,8,!1),this.A=b1[0]|0,this.B=b1[1]|0,this.C=b1[2]|0,this.D=b1[3]|0,this.E=b1[4]|0,this.F=b1[5]|0,this.G=b1[6]|0,this.H=b1[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)w1[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=w1[f-15],p=w1[f-2],h=e0(d,7)^e0(d,18)^d>>>3,m=e0(p,17)^e0(p,19)^p>>>10;w1[f]=m+w1[f-7]+h+w1[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=e0(a,6)^e0(a,11)^e0(a,25),p=u+d+Nze(a,c,l)+Rze[f]+w1[f]|0,h=(e0(n,2)^e0(n,13)^e0(n,22))+Oze(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+h|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){xl(w1)}destroy(){this.set(0,0,0,0,0,0,0,0),xl(this.buffer)}},tce=Wae(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),kze=tce[0],Bze=tce[1],x1=new Uint32Array(80),v1=new Uint32Array(80),lC=class extends Q_{constructor(e=64){super(128,e,16,!1),this.Ah=Ji[0]|0,this.Al=Ji[1]|0,this.Bh=Ji[2]|0,this.Bl=Ji[3]|0,this.Ch=Ji[4]|0,this.Cl=Ji[5]|0,this.Dh=Ji[6]|0,this.Dl=Ji[7]|0,this.Eh=Ji[8]|0,this.El=Ji[9]|0,this.Fh=Ji[10]|0,this.Fl=Ji[11]|0,this.Gh=Ji[12]|0,this.Gl=Ji[13]|0,this.Hh=Ji[14]|0,this.Hl=Ji[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let w=0;w<16;w++,r+=4)x1[w]=e.getUint32(r),v1[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){let x=x1[w-15]|0,C=v1[w-15]|0,T=C1(x,C,1)^C1(x,C,8)^tae(x,C,7),U=S1(x,C,1)^S1(x,C,8)^rae(x,C,7),B=x1[w-2]|0,O=v1[w-2]|0,H=C1(B,O,19)^iC(B,O,61)^tae(B,O,6),_=S1(B,O,19)^oC(B,O,61)^rae(B,O,6),N=dze(U,_,v1[w-7],v1[w-16]),I=pze(N,T,H,x1[w-7],x1[w-16]);x1[w]=I|0,v1[w]=N|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:b,Hl:E}=this;for(let w=0;w<80;w++){let x=C1(f,d,14)^C1(f,d,18)^iC(f,d,41),C=S1(f,d,14)^S1(f,d,18)^oC(f,d,41),T=f&p^~f&m,U=d&h^~d&g,B=hze(E,C,U,Bze[w],v1[w]),O=mze(B,b,x,T,kze[w],x1[w]),H=B|0,_=C1(n,s,28)^iC(n,s,34)^iC(n,s,39),N=S1(n,s,28)^oC(n,s,34)^oC(n,s,39),I=n&i^n&a^i&a,D=s&o^s&c^o&c;b=m|0,E=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=_u(l|0,u|0,O|0,H|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let v=Yz(H,N,D);n=Jz(v,O,_,I),s=v|0}({h:n,l:s}=_u(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=_u(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=_u(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=_u(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=_u(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=_u(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=_u(this.Gh|0,this.Gl|0,m|0,g|0),{h:b,l:E}=_u(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,s,i,o,a,c,l,u,f,d,p,h,m,g,b,E)}roundClean(){xl(x1,v1)}destroy(){xl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Tz=class extends lC{constructor(){super(48),this.Ah=Yi[0]|0,this.Al=Yi[1]|0,this.Bh=Yi[2]|0,this.Bl=Yi[3]|0,this.Ch=Yi[4]|0,this.Cl=Yi[5]|0,this.Dh=Yi[6]|0,this.Dl=Yi[7]|0,this.Eh=Yi[8]|0,this.El=Yi[9]|0,this.Fh=Yi[10]|0,this.Fl=Yi[11]|0,this.Gh=Yi[12]|0,this.Gl=Yi[13]|0,this.Hh=Yi[14]|0,this.Hl=Yi[15]|0}},Qi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),Pz=class extends lC{constructor(){super(32),this.Ah=Qi[0]|0,this.Al=Qi[1]|0,this.Bh=Qi[2]|0,this.Bl=Qi[3]|0,this.Ch=Qi[4]|0,this.Cl=Qi[5]|0,this.Dh=Qi[6]|0,this.Dl=Qi[7]|0,this.Eh=Qi[8]|0,this.El=Qi[9]|0,this.Fh=Qi[10]|0,this.Fl=Qi[11]|0,this.Gh=Qi[12]|0,this.Gl=Qi[13]|0,this.Hh=Qi[14]|0,this.Hl=Qi[15]|0}},lN=hC(()=>new Iz),Uze=hC(()=>new lC),Dze=hC(()=>new Tz),Lze=hC(()=>new Pz),Mze=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),$s=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),je=new Uint32Array(32);function E1(t,e,r,n,s,i){let o=s[i],a=s[i+1],c=je[2*t],l=je[2*t+1],u=je[2*e],f=je[2*e+1],d=je[2*r],p=je[2*r+1],h=je[2*n],m=je[2*n+1],g=Yz(c,u,o);l=Jz(g,l,f,a),c=g|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:oze(m,h),Dl:aze(m)},{h:p,l:d}=_u(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:C1(f,u,24),Bl:S1(f,u,24)},je[2*t]=c,je[2*t+1]=l,je[2*e]=u,je[2*e+1]=f,je[2*r]=d,je[2*r+1]=p,je[2*n]=h,je[2*n+1]=m}function A1(t,e,r,n,s,i){let o=s[i],a=s[i+1],c=je[2*t],l=je[2*t+1],u=je[2*e],f=je[2*e+1],d=je[2*r],p=je[2*r+1],h=je[2*n],m=je[2*n+1],g=Yz(c,u,o);l=Jz(g,l,f,a),c=g|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:C1(m,h,16),Dl:S1(m,h,16)},{h:p,l:d}=_u(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:iC(f,u,63),Bl:oC(f,u,63)},je[2*t]=c,je[2*t+1]=l,je[2*e]=u,je[2*e+1]=f,je[2*r]=d,je[2*r+1]=p,je[2*n]=h,je[2*n+1]=m}function $ze(t,e={},r,n,s){if(Kp(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}var _z=class extends q8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Kp(e),Kp(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=cC(this.buffer)}update(e){_1(this),e=Ou(e),ku(e);let{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(I1(s),this.compress(s,0,!1),I1(s),this.pos=0);let l=Math.min(r-this.pos,i-c),u=o+c;if(l===r&&!(u%4)&&c+l<i){let f=new Uint32Array(a,u,Math.floor((i-c)/4));I1(f);for(let d=0;c+r<i;d+=s.length,c+=r)this.length+=r,this.compress(f,d,!1);I1(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){_1(this),Qz(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,xl(this.buffer.subarray(r)),I1(n),this.compress(n,0,!0),I1(n);let s=cC(e);this.get().forEach((i,o)=>s[o]=Vp(i))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Nz=class extends _z{constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=$s[0]|0,this.v0h=$s[1]|0,this.v1l=$s[2]|0,this.v1h=$s[3]|0,this.v2l=$s[4]|0,this.v2h=$s[5]|0,this.v3l=$s[6]|0,this.v3h=$s[7]|0,this.v4l=$s[8]|0,this.v4h=$s[9]|0,this.v5l=$s[10]|0,this.v5h=$s[11]|0,this.v6l=$s[12]|0,this.v6h=$s[13]|0,this.v7l=$s[14]|0,this.v7h=$s[15]|0,$ze(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,o=0;if(n!==void 0&&(n=Ou(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Ou(i);let a=cC(i);this.v4l^=Vp(a[0]),this.v4h^=Vp(a[1]),this.v5l^=Vp(a[2]),this.v5h^=Vp(a[3])}if(s!==void 0){s=Ou(s);let a=cC(s);this.v6l^=Vp(a[0]),this.v6h^=Vp(a[1]),this.v7l^=Vp(a[2]),this.v7h^=Vp(a[3])}if(n!==void 0){let a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:p,v6h:h,v7l:m,v7h:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=p|0,this.v6h=h|0,this.v7l=m|0,this.v7h=g|0}compress(e,r,n){this.get().forEach((c,l)=>je[l]=c),je.set($s,16);let{h:s,l:i}=qae(BigInt(this.length));je[24]=$s[8]^i,je[25]=$s[9]^s,n&&(je[28]=~je[28],je[29]=~je[29]);let o=0,a=Mze;for(let c=0;c<12;c++)E1(0,4,8,12,e,r+2*a[o++]),A1(0,4,8,12,e,r+2*a[o++]),E1(1,5,9,13,e,r+2*a[o++]),A1(1,5,9,13,e,r+2*a[o++]),E1(2,6,10,14,e,r+2*a[o++]),A1(2,6,10,14,e,r+2*a[o++]),E1(3,7,11,15,e,r+2*a[o++]),A1(3,7,11,15,e,r+2*a[o++]),E1(0,5,10,15,e,r+2*a[o++]),A1(0,5,10,15,e,r+2*a[o++]),E1(1,6,11,12,e,r+2*a[o++]),A1(1,6,11,12,e,r+2*a[o++]),E1(2,7,8,13,e,r+2*a[o++]),A1(2,7,8,13,e,r+2*a[o++]),E1(3,4,9,14,e,r+2*a[o++]),A1(3,4,9,14,e,r+2*a[o++]);this.v0l^=je[0]^je[16],this.v0h^=je[1]^je[17],this.v1l^=je[2]^je[18],this.v1h^=je[3]^je[19],this.v2l^=je[4]^je[20],this.v2h^=je[5]^je[21],this.v3l^=je[6]^je[22],this.v3h^=je[7]^je[23],this.v4l^=je[8]^je[24],this.v4h^=je[9]^je[25],this.v5l^=je[10]^je[26],this.v5h^=je[11]^je[27],this.v6l^=je[12]^je[28],this.v6h^=je[13]^je[29],this.v7l^=je[14]^je[30],this.v7h^=je[15]^je[31],xl(je)}destroy(){this.destroyed=!0,xl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Hze=bze(t=>new Nz(t)),Fze="https://rpc.walletconnect.org/v1";function rce(t){let e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Pze(r)).toString("hex")}async function zze(t,e,r,n,s,i){switch(r.t){case"eip191":return await Vze(t,e,r.s);case"eip1271":return await jze(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function Vze(t,e,r){let n=BA.fromHex(r);return UA.recoverAddress({payload:rce(e),signature:n}).toLowerCase()===t.toLowerCase()}async function jze(t,e,r,n,s,i){let o=Bu(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:rce(e)).substring(2),d=a+f+c+u+l,p=await fetch(`${i||Fze}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:qze(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:h}=await p.json();return h?h.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function qze(){return Date.now()+Math.floor(Math.random()*1e3)}function nce(t){let e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);let n=r[0];if(n===0)throw new Error("No signatures found");let s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");let i=Buffer.from(t,"base64").slice(1,65);return wa.encode(i)}function sce(t){let e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);let s=Hze(n,{dkLen:32});return wa.encode(s)}function Xz(t){let e=new Uint8Array(lN(Wze(t)));return wa.encode(e)}function Wze(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function eV(t){let e=Buffer.from(t,"base64"),r=FA(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");let n=LA(r),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(n)]),o=Lze(i);return c_.encode(o).replace(/=+$/,"")}function pz(t){let e=[],r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function ice(t){let e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(pz(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(pz(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(pz(n.length)),s.push(n);let i=Buffer.concat(s),o=lN(i);return Buffer.from(o).toString("hex").toUpperCase()}function oce(t){var e,r;let n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);let s=(r=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}var Kze=Object.defineProperty,Gze=Object.defineProperties,Zze=Object.getOwnPropertyDescriptors,oae=Object.getOwnPropertySymbols,Yze=Object.prototype.hasOwnProperty,Jze=Object.prototype.propertyIsEnumerable,aae=(t,e,r)=>e in t?Kze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qze=(t,e)=>{for(var r in e||(e={}))Yze.call(e,r)&&aae(t,r,e[r]);if(oae)for(var r of oae(e))Jze.call(e,r)&&aae(t,r,e[r]);return t},Xze=(t,e)=>Gze(t,Zze(e)),ace="did:pkh:",eVe={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},tVe=t=>t?eVe[t]||t:"",uN=t=>t==null?void 0:t.split(":"),rVe=t=>{let e=t&&uN(t);if(e)return t.includes(ace)?e[3]:e[1]},nVe=t=>{let e=t&&uN(t);if(e)return t.includes(ace)?e[2]:e[0]},fN=t=>{let e=t&&uN(t);if(e)return e[2]+":"+e[3]},mC=t=>{let e=t&&uN(t);if(e)return e.pop()};async function tV(t){let{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=rV(s,s.iss),o=mC(s.iss);return await zze(o,i,n,fN(s.iss),r)}var rV=(t,e)=>{let r=nVe(e);if(!r)throw new Error("Invalid issuer: "+e);let n=`${t.domain} wants you to sign in with your ${tVe(r)} account:`,s=mC(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${rVe(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=gC(t.resources);if(m){let g=uC(m);i=uVe(i,g)}return[n,s,"",i,"",o,a,c,l,u,f,d,p,h].filter(g=>g!=null).join(`
`)};function sVe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function iVe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Rb(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{let n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{let i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function oVe(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:aVe(e,r,n)}}}function aVe(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));let n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function cce(t){return Rb(t),`urn:recap:${sVe(t).replace(/=/g,"")}`}function uC(t){let e=iVe(t.replace("urn:recap:",""));return Rb(e),e}function lce(t,e,r){let n=oVe(t,e,r);return cce(n)}function cVe(t){return t&&t.includes("urn:recap:")}function uce(t,e){let r=uC(t),n=uC(e),s=lVe(r,n);return cce(s)}function lVe(t,e){Rb(t),Rb(e);let r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[s]=Xze(Qze({},n.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),n}function uVe(t="",e){Rb(e);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;let n=[],s=0;Object.keys(e.att).forEach(a=>{let c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));let l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});let u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});let i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function nV(t){var e;let r=uC(t);Rb(r);let n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function sV(t){let e=uC(t);Rb(e);let r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function gC(t){if(!t)return;let e=t==null?void 0:t[t.length-1];return cVe(e)?e:void 0}function fce(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Oz(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function hz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ea(t,...e){if(!fce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cae(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fVe(t,e){Ea(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function P1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function W8(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dVe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}var pVe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hVe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rz(t){if(typeof t=="string")t=hVe(t);else if(fce(t))t=kz(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function mVe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function gVe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}var yVe=(t,e)=>{function r(n,...s){if(Ea(n),!pVe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){let l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Ea(l):Ea(l,t.nonceLength)}let i=t.tagLength;i&&s[1]!==void 0&&Ea(s[1]);let o=e(n,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Ea(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Ea(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Ea(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function lae(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!wVe(e))throw new Error("invalid output, must be aligned");return e}function uae(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function bVe(t,e,r){Oz(r);let n=new Uint8Array(16),s=dVe(n);return uae(s,0,BigInt(e),r),uae(s,8,BigInt(t),r),n}function wVe(t){return t.byteOffset%4===0}function kz(t){return Uint8Array.from(t)}var dce=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),xVe=dce("expand 16-byte k"),vVe=dce("expand 32-byte k"),EVe=P1(xVe),AVe=P1(vVe);function Sr(t,e){return t<<e|t>>>32-e}function Bz(t){return t.byteOffset%4===0}var W_=64,CVe=16,pce=2**32-1,fae=new Uint32Array;function SVe(t,e,r,n,s,i,o,a){let c=s.length,l=new Uint8Array(W_),u=P1(l),f=Bz(s)&&Bz(i),d=f?P1(s):fae,p=f?P1(i):fae;for(let h=0;h<c;o++){if(t(e,r,n,u,o,a),o>=pce)throw new Error("arx: counter overflow");let m=Math.min(W_,c-h);if(f&&m===W_){let g=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<CVe;b++)E=g+b,p[E]=d[E]^u[b];h+=W_;continue}for(let g=0,b;g<m;g++)b=h+g,i[b]=s[b]^l[g];h+=m}}function IVe(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=mVe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return hz(s),hz(o),Oz(i),Oz(r),(a,c,l,u,f=0)=>{Ea(a),Ea(c),Ea(l);let d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Ea(u),hz(f),f<0||f>=pce)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);let p=[],h=a.length,m,g;if(h===32)p.push(m=kz(a)),g=AVe;else if(h===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),g=EVe,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);Bz(c)||p.push(c=kz(c));let b=P1(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(g,b,P1(c.subarray(0,16)),b),c=c.subarray(16)}let E=16-s;if(E!==c.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){let x=new Uint8Array(12);x.set(c,i?0:12-c.length),c=x,p.push(c)}let w=P1(c);return SVe(t,g,b,w,l,u,f,o),W8(...p),u}}var Ii=(t,e)=>t[e++]&255|(t[e++]&255)<<8,Uz=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Rz(e),Ea(e,32);let r=Ii(e,0),n=Ii(e,2),s=Ii(e,4),i=Ii(e,6),o=Ii(e,8),a=Ii(e,10),c=Ii(e,12),l=Ii(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Ii(e,16+2*u)}process(e,r,n=!1){let s=n?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],p=o[6],h=o[7],m=o[8],g=o[9],b=Ii(e,r+0),E=Ii(e,r+2),w=Ii(e,r+4),x=Ii(e,r+6),C=Ii(e,r+8),T=Ii(e,r+10),U=Ii(e,r+12),B=Ii(e,r+14),O=i[0]+(b&8191),H=i[1]+((b>>>13|E<<3)&8191),_=i[2]+((E>>>10|w<<6)&8191),N=i[3]+((w>>>7|x<<9)&8191),I=i[4]+((x>>>4|C<<12)&8191),D=i[5]+(C>>>1&8191),v=i[6]+((C>>>14|T<<2)&8191),A=i[7]+((T>>>11|U<<5)&8191),R=i[8]+((U>>>8|B<<8)&8191),$=i[9]+(B>>>5|s),k=0,L=k+O*a+H*(5*g)+_*(5*m)+N*(5*h)+I*(5*p);k=L>>>13,L&=8191,L+=D*(5*d)+v*(5*f)+A*(5*u)+R*(5*l)+$*(5*c),k+=L>>>13,L&=8191;let q=k+O*c+H*a+_*(5*g)+N*(5*m)+I*(5*h);k=q>>>13,q&=8191,q+=D*(5*p)+v*(5*d)+A*(5*f)+R*(5*u)+$*(5*l),k+=q>>>13,q&=8191;let Z=k+O*l+H*c+_*a+N*(5*g)+I*(5*m);k=Z>>>13,Z&=8191,Z+=D*(5*h)+v*(5*p)+A*(5*d)+R*(5*f)+$*(5*u),k+=Z>>>13,Z&=8191;let ee=k+O*u+H*l+_*c+N*a+I*(5*g);k=ee>>>13,ee&=8191,ee+=D*(5*m)+v*(5*h)+A*(5*p)+R*(5*d)+$*(5*f),k+=ee>>>13,ee&=8191;let ae=k+O*f+H*u+_*l+N*c+I*a;k=ae>>>13,ae&=8191,ae+=D*(5*g)+v*(5*m)+A*(5*h)+R*(5*p)+$*(5*d),k+=ae>>>13,ae&=8191;let re=k+O*d+H*f+_*u+N*l+I*c;k=re>>>13,re&=8191,re+=D*a+v*(5*g)+A*(5*m)+R*(5*h)+$*(5*p),k+=re>>>13,re&=8191;let we=k+O*p+H*d+_*f+N*u+I*l;k=we>>>13,we&=8191,we+=D*c+v*a+A*(5*g)+R*(5*m)+$*(5*h),k+=we>>>13,we&=8191;let ie=k+O*h+H*p+_*d+N*f+I*u;k=ie>>>13,ie&=8191,ie+=D*l+v*c+A*a+R*(5*g)+$*(5*m),k+=ie>>>13,ie&=8191;let Te=k+O*m+H*h+_*p+N*d+I*f;k=Te>>>13,Te&=8191,Te+=D*u+v*l+A*c+R*a+$*(5*g),k+=Te>>>13,Te&=8191;let be=k+O*g+H*m+_*h+N*p+I*d;k=be>>>13,be&=8191,be+=D*f+v*u+A*l+R*c+$*a,k+=be>>>13,be&=8191,k=(k<<2)+k|0,k=k+L|0,L=k&8191,k=k>>>13,q+=k,i[0]=L,i[1]=q,i[2]=Z,i[3]=ee,i[4]=ae,i[5]=re,i[6]=we,i[7]=ie,i[8]=Te,i[9]=be}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;W8(n)}update(e){cae(this),e=Rz(e),Ea(e);let{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){let o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){W8(this.h,this.r,this.buffer,this.pad)}digestInto(e){cae(this),fVe(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};function TVe(t){let e=(n,s)=>t(s).update(Rz(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var PVe=TVe(t=>new Uz(t));function _Ve(t,e,r,n,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],p=e[3],h=e[4],m=e[5],g=e[6],b=e[7],E=s,w=r[0],x=r[1],C=r[2],T=o,U=a,B=c,O=l,H=u,_=f,N=d,I=p,D=h,v=m,A=g,R=b,$=E,k=w,L=x,q=C;for(let ee=0;ee<i;ee+=2)T=T+H|0,$=Sr($^T,16),D=D+$|0,H=Sr(H^D,12),T=T+H|0,$=Sr($^T,8),D=D+$|0,H=Sr(H^D,7),U=U+_|0,k=Sr(k^U,16),v=v+k|0,_=Sr(_^v,12),U=U+_|0,k=Sr(k^U,8),v=v+k|0,_=Sr(_^v,7),B=B+N|0,L=Sr(L^B,16),A=A+L|0,N=Sr(N^A,12),B=B+N|0,L=Sr(L^B,8),A=A+L|0,N=Sr(N^A,7),O=O+I|0,q=Sr(q^O,16),R=R+q|0,I=Sr(I^R,12),O=O+I|0,q=Sr(q^O,8),R=R+q|0,I=Sr(I^R,7),T=T+_|0,q=Sr(q^T,16),A=A+q|0,_=Sr(_^A,12),T=T+_|0,q=Sr(q^T,8),A=A+q|0,_=Sr(_^A,7),U=U+N|0,$=Sr($^U,16),R=R+$|0,N=Sr(N^R,12),U=U+N|0,$=Sr($^U,8),R=R+$|0,N=Sr(N^R,7),B=B+I|0,k=Sr(k^B,16),D=D+k|0,I=Sr(I^D,12),B=B+I|0,k=Sr(k^B,8),D=D+k|0,I=Sr(I^D,7),O=O+H|0,L=Sr(L^O,16),v=v+L|0,H=Sr(H^v,12),O=O+H|0,L=Sr(L^O,8),v=v+L|0,H=Sr(H^v,7);let Z=0;n[Z++]=o+T|0,n[Z++]=a+U|0,n[Z++]=c+B|0,n[Z++]=l+O|0,n[Z++]=u+H|0,n[Z++]=f+_|0,n[Z++]=d+N|0,n[Z++]=p+I|0,n[Z++]=h+D|0,n[Z++]=m+v|0,n[Z++]=g+A|0,n[Z++]=b+R|0,n[Z++]=E+$|0,n[Z++]=w+k|0,n[Z++]=x+L|0,n[Z++]=C+q|0}var NVe=IVe(_Ve,{counterRight:!1,counterLength:4,allowShortKeys:!1}),OVe=new Uint8Array(16),dae=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(OVe.subarray(r))},RVe=new Uint8Array(32);function pae(t,e,r,n,s){let i=t(e,r,RVe),o=PVe.create(i);s&&dae(o,s),dae(o,n);let a=bVe(n.length,s?s.length:0,!0);o.update(a);let c=o.digest();return W8(i,a),c}var kVe=t=>(e,r,n)=>({encrypt(s,i){let o=s.length;i=lae(o+16,i,!1),i.set(s);let a=i.subarray(0,-16);t(e,r,a,a,1);let c=pae(t,e,r,a,n);return i.set(c,o),W8(c),i},decrypt(s,i){i=lae(s.length-16,i,!1);let o=s.subarray(0,-16),a=s.subarray(-16),c=pae(t,e,r,o,n);if(!gVe(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),W8(c),i}}),hce=yVe({blockSize:64,nonceLength:12,tagLength:16},kVe(NVe)),X_=class extends q8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,cN(e);let n=Ou(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),xl(i)}update(e){return _1(this),this.iHash.update(e),this}digestInto(e){_1(this),ku(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},dN=(t,e,r)=>new X_(t,e).update(r).digest();dN.create=(t,e)=>new X_(t,e);function BVe(t,e,r){return cN(t),r===void 0&&(r=new Uint8Array(t.outputLen)),dN(t,Ou(r),Ou(e))}var mz=Uint8Array.from([0]),hae=Uint8Array.of();function UVe(t,e,r,n=32){cN(t),Kp(n);let s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(n/s);r===void 0&&(r=hae);let o=new Uint8Array(i*s),a=dN.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)mz[0]=u+1,c.update(u===0?hae:l).update(r).update(mz).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),xl(l,mz),o.slice(0,n)}var DVe=(t,e,r,n,s)=>UVe(t,BVe(t,e,r),n,s),pN=lN,iV=BigInt(0),Dz=BigInt(1);function eN(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function _b(t,e,r=""){let n=aN(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){let o=r&&`"${r}" `,a=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function K_(t){let e=t.toString(16);return e.length&1?"0"+e:e}function mce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?iV:BigInt("0x"+t)}function hN(t){return mce(V8(t))}function tN(t){return ku(t),mce(V8(Uint8Array.from(t).reverse()))}function oV(t,e){return J_(t.toString(16).padStart(e*2,"0"))}function aV(t,e){return oV(t,e).reverse()}function Xi(t,e,r){let n;if(typeof e=="string")try{n=J_(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(aN(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}var gz=t=>typeof t=="bigint"&&iV<=t;function LVe(t,e,r){return gz(t)&&gz(e)&&gz(r)&&e<=t&&t<r}function Lz(t,e,r,n){if(!LVe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function gce(t){let e;for(e=0;t>iV;t>>=Dz,e+=1);return e}var yC=t=>(Dz<<BigInt(t))-Dz;function MVe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=d=>new Uint8Array(d),s=d=>Uint8Array.of(d),i=n(t),o=n(t),a=0,c=()=>{i.fill(1),o.fill(0),a=0},l=(...d)=>r(o,i,...d),u=(d=n(0))=>{o=l(s(0),d),i=l(),d.length!==0&&(o=l(s(1),d),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){i=l();let h=i.slice();p.push(h),d+=i.length}return T1(...p)};return(d,p)=>{c(),u(d);let h;for(;!(h=p(f()));)u();return c(),h}}function mN(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,o){let a=t[s];if(o&&a===void 0)return;let c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function mae(t){let e=new WeakMap;return(r,...n)=>{let s=e.get(r);if(s!==void 0)return s;let i=t(r,...n);return e.set(r,i),i}}var Ca=BigInt(0),Vo=BigInt(1),Nb=BigInt(2),yce=BigInt(3),bce=BigInt(4),wce=BigInt(5),$Ve=BigInt(7),xce=BigInt(8),HVe=BigInt(9),vce=BigInt(16);function wc(t,e){let r=t%e;return r>=Ca?r:e+r}function Pu(t,e,r){let n=t;for(;e-- >Ca;)n*=n,n%=r;return n}function gae(t,e){if(t===Ca)throw new Error("invert: expected non-zero number");if(e<=Ca)throw new Error("invert: expected positive modulus, got "+e);let r=wc(t,e),n=e,s=Ca,i=Vo;for(;r!==Ca;){let o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==Vo)throw new Error("invert: does not exist");return wc(s,e)}function cV(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Ece(t,e){let r=(t.ORDER+Vo)/bce,n=t.pow(e,r);return cV(t,n,e),n}function FVe(t,e){let r=(t.ORDER-wce)/xce,n=t.mul(e,Nb),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,Nb),s),a=t.mul(i,t.sub(o,t.ONE));return cV(t,a,e),a}function zVe(t){let e=R1(t),r=Ace(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),o=(t+$Ve)/vce;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,n),f=a.mul(l,s),d=a.mul(l,i),p=a.eql(a.sqr(u),c),h=a.eql(a.sqr(f),c);l=a.cmov(l,u,p),u=a.cmov(d,f,h);let m=a.eql(a.sqr(u),c),g=a.cmov(l,u,m);return cV(a,g,c),g}}function Ace(t){if(t<yce)throw new Error("sqrt is not defined for small field");let e=t-Vo,r=0;for(;e%Nb===Ca;)e/=Nb,r++;let n=Nb,s=R1(t);for(;yae(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Ece;let i=s.pow(n,e),o=(e+Vo)/Nb;return function(a,c){if(a.is0(c))return c;if(yae(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,i),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let p=1,h=a.sqr(f);for(;!a.eql(h,a.ONE);)if(p++,h=a.sqr(h),p===l)throw new Error("Cannot find square root");let m=Vo<<BigInt(l-p-1),g=a.pow(u,m);l=p,u=a.sqr(g),f=a.mul(f,u),d=a.mul(d,g)}return d}}function VVe(t){return t%bce===yce?Ece:t%xce===wce?FVe:t%vce===HVe?zVe(t):Ace(t)}var jVe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qVe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=jVe.reduce((n,s)=>(n[s]="function",n),e);return mN(t,r),t}function WVe(t,e,r){if(r<Ca)throw new Error("invalid exponent, negatives unsupported");if(r===Ca)return t.ONE;if(r===Vo)return e;let n=t.ONE,s=e;for(;r>Ca;)r&Vo&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Vo;return n}function Cce(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function yae(t,e){let r=(t.ORDER-Vo)/Nb,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Sce(t,e){e!==void 0&&Kp(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function R1(t,e,r=!1,n={}){if(t<=Ca)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let d=e;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(r=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);let{nBitLength:c,nByteLength:l}=Sce(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,f=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:yC(c),ZERO:Ca,ONE:Vo,allowedLengths:a,create:d=>wc(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ca<=d&&d<t},is0:d=>d===Ca,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Vo)===Vo,neg:d=>wc(-d,t),eql:(d,p)=>d===p,sqr:d=>wc(d*d,t),add:(d,p)=>wc(d+p,t),sub:(d,p)=>wc(d-p,t),mul:(d,p)=>wc(d*p,t),pow:(d,p)=>WVe(f,d,p),div:(d,p)=>wc(d*gae(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>gae(d,t),sqrt:i||(d=>(u||(u=VVe(t)),u(f,d))),toBytes:d=>r?aV(d,l):oV(d,l),fromBytes:(d,p=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);let m=new Uint8Array(l);m.set(d,r?0:m.length-d.length),d=m}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let h=r?tN(d):hN(d);if(o&&(h=wc(h,t)),!p&&!f.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:d=>Cce(f,d),cmov:(d,p,h)=>h?p:d});return Object.freeze(f)}function Ice(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Tce(t){let e=Ice(t);return e+Math.ceil(e/2)}function KVe(t,e,r=!1){let n=t.length,s=Ice(e),i=Tce(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=r?tN(t):hN(t),a=wc(o,e-Vo)+Vo;return r?aV(a,s):oV(a,s)}var K8=BigInt(0),Ob=BigInt(1);function rN(t,e){let r=e.negate();return t?r:e}function yz(t,e){let r=Cce(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function Pce(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function bz(t,e){Pce(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=yC(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function bae(t,e,r){let{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r,a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=Ob);let l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function GVe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function ZVe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}var wz=new WeakMap,_ce=new WeakMap;function xz(t){return _ce.get(t)||1}function wae(t){if(t!==K8)throw new Error("invalid wNAF")}var Mz=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>K8;)r&Ob&&(n=n.add(s)),s=s.double(),r>>=Ob;return n}precomputeWindow(e,r){let{windows:n,windowSize:s}=bz(r,this.bits),i=[],o=e,a=o;for(let c=0;c<n;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE,o=bz(e,this.bits);for(let a=0;a<o.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:p}=bae(n,a,o);n=c,u?i=i.add(rN(d,r[p])):s=s.add(rN(f,r[l]))}return wae(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){let i=bz(e,this.bits);for(let o=0;o<i.windows&&n!==K8;o++){let{nextN:a,offset:c,isZero:l,isNeg:u}=bae(n,o,i);if(n=a,!l){let f=r[c];s=s.add(u?f.negate():f)}}return wae(n),s}getPrecomputes(e,r,n){let s=wz.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),wz.set(r,s))),s}cached(e,r,n){let s=xz(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){let i=xz(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){Pce(r,this.bits),_ce.set(e,r),wz.delete(e)}hasCache(e){return xz(e)!==1}};function YVe(t,e,r,n){let s=e,i=t.ZERO,o=t.ZERO;for(;r>K8||n>K8;)r&Ob&&(i=i.add(s)),n&Ob&&(o=o.add(s)),s=s.double(),r>>=Ob,n>>=Ob;return{p1:i,p2:o}}function JVe(t,e,r,n){GVe(r,t),ZVe(n,e);let s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,a=gce(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=yC(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<i;m++){let g=n[m],b=Number(g>>BigInt(p)&l);u[b]=u[b].add(r[m])}let h=o;for(let m=u.length-1,g=o;m>0;m--)g=g.add(u[m]),h=h.add(g);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function xae(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return qVe(e),e}else return R1(t,{isLE:r})}function QVe(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let a of["p","n","h"]){let c=e[a];if(!(typeof c=="bigint"&&c>K8))throw new Error(`CURVE.${a} must be positive bigint`)}let s=xae(e.p,r.Fp,n),i=xae(e.n,r.Fn,n),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let a of o)if(!s.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Yae("HashToScalar-");var sC=BigInt(0),F8=BigInt(1),G_=BigInt(2);function XVe(t){return mN(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(S({},t))}function eje(t){let e=XVe(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");let c=o||Bb,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),p=a?G_**BigInt(254):G_**BigInt(447),h=a?BigInt(8)*G_**BigInt(251)-F8:BigInt(4)*G_**BigInt(445)-F8,m=p+h+F8,g=N=>wc(N,r),b=E(f);function E(N){return aV(g(N),u)}function w(N){let I=Xi("u coordinate",N,u);return a&&(I[31]&=127),g(tN(I))}function x(N){return tN(s(Xi("scalar",N,u)))}function C(N,I){let D=B(w(I),x(N));if(D===sC)throw new Error("invalid private or public key received");return E(D)}function T(N){return C(N,b)}function U(N,I,D){let v=g(N*(I-D));return I=g(I-v),D=g(D+v),{x_2:I,x_3:D}}function B(N,I){Lz("u",N,sC,r),Lz("scalar",I,p,m);let D=I,v=N,A=F8,R=sC,$=N,k=F8,L=sC;for(let Z=BigInt(l-1);Z>=sC;Z--){let ee=D>>Z&F8;L^=ee,{x_2:A,x_3:$}=U(L,A,$),{x_2:R,x_3:k}=U(L,R,k),L=ee;let ae=A+R,re=g(ae*ae),we=A-R,ie=g(we*we),Te=re-ie,be=$+k,De=$-k,Et=g(De*ae),Pt=g(be*we),ut=Et+Pt,Ut=Et-Pt;$=g(ut*ut),k=g(v*g(Ut*Ut)),A=g(re*ie),R=g(Te*(re+g(d*Te)))}({x_2:A,x_3:$}=U(L,A,$)),{x_2:R,x_3:k}=U(L,R,k);let q=i(R);return g(A*q)}let O={secretKey:u,publicKey:u,seed:u},H=(N=c(u))=>(ku(N,O.seed),N);function _(N){let I=H(N);return{secretKey:I,publicKey:T(I)}}return{keygen:_,getSharedSecret:(N,I)=>C(N,I),getPublicKey:N=>T(N),scalarMult:C,scalarMultBase:T,utils:{randomSecretKey:H,randomPrivateKey:H},GuBytes:b.slice(),lengths:O}}var tje=BigInt(1),vae=BigInt(2),rje=BigInt(3),nje=BigInt(5),sje=BigInt(8),Nce=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ije={p:Nce,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:sje,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function oje(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=Nce,o=t*t%i*t%i,a=Pu(o,vae,i)*o%i,c=Pu(a,tje,i)*t%i,l=Pu(c,nje,i)*c%i,u=Pu(l,e,i)*l%i,f=Pu(u,r,i)*u%i,d=Pu(f,n,i)*f%i,p=Pu(d,s,i)*d%i,h=Pu(p,s,i)*d%i,m=Pu(h,e,i)*l%i;return{pow_p_5_8:Pu(m,vae,i)*t%i,b2:o}}function aje(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var cje=R1(ije.p,{isLE:!0}),$z=(()=>{let t=cje.ORDER;return eje({P:t,type:"x25519",powPminus2:e=>{let{pow_p_5_8:r,b2:n}=oje(e);return wc(Pu(r,rje,t)*n,t)},adjustScalarBytes:aje})})(),Eae=(t,e)=>(t+(t>=0?e:-e)/Oce)/e;function lje(t,e,r){let[[n,s],[i,o]]=e,a=Eae(o*t,r),c=Eae(-s*t,r),l=t-a*n-c*i,u=-a*s-c*o,f=l<qp,d=u<qp;f&&(l=-l),d&&(u=-u);let p=yC(Math.ceil(gce(r)/2))+j8;if(l<qp||l>=p||u<qp||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}function Hz(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function vz(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return eN(r.lowS,"lowS"),eN(r.prehash,"prehash"),r.format!==void 0&&Hz(r.format),r}var Fz=class extends Error{constructor(e=""){super(e)}},jp={Err:Fz,_tlv:{encode:(t,e)=>{let{Err:r}=jp;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,s=K_(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?K_(s.length/2|128):"";return K_(t)+i+s+e},decode(t,e){let{Err:r}=jp,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){let{Err:e}=jp;if(t<qp)throw new e("integer: negative integers are not allowed");let r=K_(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=jp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hN(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=jp,s=Xi("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=jp,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},qp=BigInt(0),j8=BigInt(1),Oce=BigInt(2),Z_=BigInt(3),uje=BigInt(4);function z8(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let s=Xi("private key",e);try{n=t.fromBytes(s)}catch(i){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function fje(t,e={}){let r=QVe("weierstrass",t,e),{Fp:n,Fn:s}=r,i=r.CURVE,{h:o,n:a}=i;mN(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=kce(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(N,I,D){let{x:v,y:A}=I.toAffine(),R=n.toBytes(v);if(eN(D,"isCompressed"),D){u();let $=!n.isOdd(A);return T1(Rce($),R)}else return T1(Uint8Array.of(4),R,n.toBytes(A))}function d(N){_b(N,void 0,"Point");let{publicKey:I,publicKeyUncompressed:D}=l,v=N.length,A=N[0],R=N.subarray(1);if(v===I&&(A===2||A===3)){let $=n.fromBytes(R);if(!n.isValid($))throw new Error("bad point: is not on curve, wrong x");let k=m($),L;try{L=n.sqrt(k)}catch(Z){let ee=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+ee)}u();let q=n.isOdd(L);return(A&1)===1!==q&&(L=n.neg(L)),{x:$,y:L}}else if(v===D&&A===4){let $=n.BYTES,k=n.fromBytes(R.subarray(0,$)),L=n.fromBytes(R.subarray($,$*2));if(!g(k,L))throw new Error("bad point: is not on curve");return{x:k,y:L}}else throw new Error(`bad point: got length ${v}, expected compressed=${I} or uncompressed=${D}`)}let p=e.toBytes||f,h=e.fromBytes||d;function m(N){let I=n.sqr(N),D=n.mul(I,N);return n.add(n.add(D,n.mul(N,i.a)),i.b)}function g(N,I){let D=n.sqr(I),v=m(N);return n.eql(D,v)}if(!g(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let b=n.mul(n.pow(i.a,Z_),uje),E=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(b,E)))throw new Error("bad curve params: a or b");function w(N,I,D=!1){if(!n.isValid(I)||D&&n.is0(I))throw new Error(`bad point coordinate ${N}`);return I}function x(N){if(!(N instanceof O))throw new Error("ProjectivePoint expected")}function C(N){if(!c||!c.basises)throw new Error("no endo");return lje(N,c.basises,s.ORDER)}let T=mae((N,I)=>{let{X:D,Y:v,Z:A}=N;if(n.eql(A,n.ONE))return{x:D,y:v};let R=N.is0();I==null&&(I=R?n.ONE:n.inv(A));let $=n.mul(D,I),k=n.mul(v,I),L=n.mul(A,I);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:$,y:k}}),U=mae(N=>{if(N.is0()){if(e.allowInfinityPoint&&!n.is0(N.Y))return;throw new Error("bad point: ZERO")}let{x:I,y:D}=N.toAffine();if(!n.isValid(I)||!n.isValid(D))throw new Error("bad point: x or y not field elements");if(!g(I,D))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function B(N,I,D,v,A){return D=new O(n.mul(D.X,N),D.Y,D.Z),I=rN(v,I),D=rN(A,D),I.add(D)}class O{constructor(I,D,v){this.X=w("x",I),this.Y=w("y",D,!0),this.Z=w("z",v),Object.freeze(this)}static CURVE(){return i}static fromAffine(I){let{x:D,y:v}=I||{};if(!I||!n.isValid(D)||!n.isValid(v))throw new Error("invalid affine point");if(I instanceof O)throw new Error("projective point not allowed");return n.is0(D)&&n.is0(v)?O.ZERO:new O(D,v,n.ONE)}static fromBytes(I){let D=O.fromAffine(h(_b(I,void 0,"point")));return D.assertValidity(),D}static fromHex(I){return O.fromBytes(Xi("pointHex",I))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(I=8,D=!0){return _.createCache(this,I),D||this.multiply(Z_),this}assertValidity(){U(this)}hasEvenY(){let{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){x(I);let{X:D,Y:v,Z:A}=this,{X:R,Y:$,Z:k}=I,L=n.eql(n.mul(D,k),n.mul(R,A)),q=n.eql(n.mul(v,k),n.mul($,A));return L&&q}negate(){return new O(this.X,n.neg(this.Y),this.Z)}double(){let{a:I,b:D}=i,v=n.mul(D,Z_),{X:A,Y:R,Z:$}=this,k=n.ZERO,L=n.ZERO,q=n.ZERO,Z=n.mul(A,A),ee=n.mul(R,R),ae=n.mul($,$),re=n.mul(A,R);return re=n.add(re,re),q=n.mul(A,$),q=n.add(q,q),k=n.mul(I,q),L=n.mul(v,ae),L=n.add(k,L),k=n.sub(ee,L),L=n.add(ee,L),L=n.mul(k,L),k=n.mul(re,k),q=n.mul(v,q),ae=n.mul(I,ae),re=n.sub(Z,ae),re=n.mul(I,re),re=n.add(re,q),q=n.add(Z,Z),Z=n.add(q,Z),Z=n.add(Z,ae),Z=n.mul(Z,re),L=n.add(L,Z),ae=n.mul(R,$),ae=n.add(ae,ae),Z=n.mul(ae,re),k=n.sub(k,Z),q=n.mul(ae,ee),q=n.add(q,q),q=n.add(q,q),new O(k,L,q)}add(I){x(I);let{X:D,Y:v,Z:A}=this,{X:R,Y:$,Z:k}=I,L=n.ZERO,q=n.ZERO,Z=n.ZERO,ee=i.a,ae=n.mul(i.b,Z_),re=n.mul(D,R),we=n.mul(v,$),ie=n.mul(A,k),Te=n.add(D,v),be=n.add(R,$);Te=n.mul(Te,be),be=n.add(re,we),Te=n.sub(Te,be),be=n.add(D,A);let De=n.add(R,k);return be=n.mul(be,De),De=n.add(re,ie),be=n.sub(be,De),De=n.add(v,A),L=n.add($,k),De=n.mul(De,L),L=n.add(we,ie),De=n.sub(De,L),Z=n.mul(ee,be),L=n.mul(ae,ie),Z=n.add(L,Z),L=n.sub(we,Z),Z=n.add(we,Z),q=n.mul(L,Z),we=n.add(re,re),we=n.add(we,re),ie=n.mul(ee,ie),be=n.mul(ae,be),we=n.add(we,ie),ie=n.sub(re,ie),ie=n.mul(ee,ie),be=n.add(be,ie),re=n.mul(we,be),q=n.add(q,re),re=n.mul(De,be),L=n.mul(Te,L),L=n.sub(L,re),re=n.mul(Te,we),Z=n.mul(De,Z),Z=n.add(Z,re),new O(L,q,Z)}subtract(I){return this.add(I.negate())}is0(){return this.equals(O.ZERO)}multiply(I){let{endo:D}=e;if(!s.isValidNot0(I))throw new Error("invalid scalar: out of range");let v,A,R=$=>_.cached(this,$,k=>yz(O,k));if(D){let{k1neg:$,k1:k,k2neg:L,k2:q}=C(I),{p:Z,f:ee}=R(k),{p:ae,f:re}=R(q);A=ee.add(re),v=B(D.beta,Z,ae,$,L)}else{let{p:$,f:k}=R(I);v=$,A=k}return yz(O,[v,A])[0]}multiplyUnsafe(I){let{endo:D}=e,v=this;if(!s.isValid(I))throw new Error("invalid scalar: out of range");if(I===qp||v.is0())return O.ZERO;if(I===j8)return v;if(_.hasCache(this))return this.multiply(I);if(D){let{k1neg:A,k1:R,k2neg:$,k2:k}=C(I),{p1:L,p2:q}=YVe(O,v,R,k);return B(D.beta,L,q,A,$)}else return _.unsafe(v,I)}multiplyAndAddUnsafe(I,D,v){let A=this.multiplyUnsafe(D).add(I.multiplyUnsafe(v));return A.is0()?void 0:A}toAffine(I){return T(this,I)}isTorsionFree(){let{isTorsionFree:I}=e;return o===j8?!0:I?I(O,this):_.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:I}=e;return o===j8?this:I?I(O,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(I=!0){return eN(I,"isCompressed"),this.assertValidity(),p(O,this,I)}toHex(I=!0){return V8(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(I=!0){return this.toBytes(I)}_setWindowSize(I){this.precompute(I)}static normalizeZ(I){return yz(O,I)}static msm(I,D){return JVe(O,s,I,D)}static fromPrivateKey(I){return O.BASE.multiply(z8(s,I))}}O.BASE=new O(i.Gx,i.Gy,n.ONE),O.ZERO=new O(n.ZERO,n.ONE,n.ZERO),O.Fp=n,O.Fn=s;let H=s.BITS,_=new Mz(O,e.endo?Math.ceil(H/2):H);return O.BASE.precompute(8),O}function Rce(t){return Uint8Array.of(t?2:3)}function kce(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function dje(t,e={}){let{Fn:r}=t,n=e.randomBytes||Bb,s=Object.assign(kce(t.Fp,r),{seed:Tce(r.ORDER)});function i(d){try{return!!z8(r,d)}catch(p){return!1}}function o(d,p){let{publicKey:h,publicKeyUncompressed:m}=s;try{let g=d.length;return p===!0&&g!==h||p===!1&&g!==m?!1:!!t.fromBytes(d)}catch(g){return!1}}function a(d=n(s.seed)){return KVe(_b(d,s.seed,"seed"),r.ORDER)}function c(d,p=!0){return t.BASE.multiply(z8(r,d)).toBytes(p)}function l(d){let p=a(d);return{secretKey:p,publicKey:c(p)}}function u(d){if(typeof d=="bigint")return!1;if(d instanceof t)return!0;let{secretKey:p,publicKey:h,publicKeyUncompressed:m}=s;if(r.allowedLengths||p===h)return;let g=Xi("key",d).length;return g===h||g===m}function f(d,p,h=!0){if(u(d)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");let m=z8(r,d);return t.fromHex(p).multiply(m).toBytes(h)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:d=>z8(r,d),precompute(d=8,p=t.BASE){return p.precompute(d,!1)}},lengths:s})}function pje(t,e,r={}){cN(e),mN(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Bb,s=r.hmac||((D,...v)=>dN(e,D,T1(...v))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p}=dje(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function g(D){let v=a>>j8;return D>v}function b(D,v){if(!o.isValidNot0(v))throw new Error(`invalid signature ${D}: out of range 1..Point.Fn.ORDER`);return v}function E(D,v){Hz(v);let A=p.signature,R=v==="compact"?A:v==="recovered"?A+1:void 0;return _b(D,R,`${v} signature`)}class w{constructor(v,A,R){this.r=b("r",v),this.s=b("s",A),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(v,A=m){E(v,A);let R;if(A==="der"){let{r:q,s:Z}=jp.toSig(_b(v));return new w(q,Z)}A==="recovered"&&(R=v[0],A="compact",v=v.subarray(1));let $=o.BYTES,k=v.subarray(0,$),L=v.subarray($,$*2);return new w(o.fromBytes(k),o.fromBytes(L),R)}static fromHex(v,A){return this.fromBytes(J_(v),A)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){let A=i.ORDER,{r:R,s:$,recovery:k}=this;if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");if(a*Oce<A&&k>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=k===2||k===3?R+a:R;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");let q=i.toBytes(L),Z=t.fromBytes(T1(Rce((k&1)===0),q)),ee=o.inv(L),ae=C(Xi("msgHash",v)),re=o.create(-ae*ee),we=o.create($*ee),ie=t.BASE.multiplyUnsafe(re).add(Z.multiplyUnsafe(we));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return g(this.s)}toBytes(v=m){if(Hz(v),v==="der")return J_(jp.hexFromSig(this));let A=o.toBytes(this.r),R=o.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return T1(Uint8Array.of(this.recovery),A,R)}return T1(A,R)}toHex(v){return V8(this.toBytes(v))}assertValidity(){}static fromCompact(v){return w.fromBytes(Xi("sig",v),"compact")}static fromDER(v){return w.fromBytes(Xi("sig",v),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return V8(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return V8(this.toBytes("compact"))}}let x=r.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");let v=hN(D),A=D.length*8-c;return A>0?v>>BigInt(A):v},C=r.bits2int_modN||function(D){return o.create(x(D))},T=yC(c);function U(D){return Lz("num < 2^"+c,D,qp,T),o.toBytes(D)}function B(D,v){return _b(D,void 0,"message"),v?_b(e(D),void 0,"prehashed message"):D}function O(D,v,A){if(["recovered","canonical"].some(we=>we in A))throw new Error("sign() legacy options not supported");let{lowS:R,prehash:$,extraEntropy:k}=vz(A,h);D=B(D,$);let L=C(D),q=z8(o,v),Z=[U(q),U(L)];if(k!=null&&k!==!1){let we=k===!0?n(p.secretKey):k;Z.push(Xi("extraEntropy",we))}let ee=T1(...Z),ae=L;function re(we){let ie=x(we);if(!o.isValidNot0(ie))return;let Te=o.inv(ie),be=t.BASE.multiply(ie).toAffine(),De=o.create(be.x);if(De===qp)return;let Et=o.create(Te*o.create(ae+De*q));if(Et===qp)return;let Pt=(be.x===De?0:2)|Number(be.y&j8),ut=Et;return R&&g(Et)&&(ut=o.neg(Et),Pt^=1),new w(De,ut,Pt)}return{seed:ee,k2sig:re}}function H(D,v,A={}){D=Xi("message",D);let{seed:R,k2sig:$}=O(D,v,A);return MVe(e.outputLen,o.BYTES,s)(R,$)}function _(D){let v,A=typeof D=="string"||aN(D),R=!A&&D!==null&&typeof D=="object"&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!A&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)v=new w(D.r,D.s);else if(A){try{v=w.fromBytes(Xi("sig",D),"der")}catch($){if(!($ instanceof jp.Err))throw $}if(!v)try{v=w.fromBytes(Xi("sig",D),"compact")}catch($){return!1}}return v||!1}function N(D,v,A,R={}){let{lowS:$,prehash:k,format:L}=vz(R,h);if(A=Xi("publicKey",A),v=B(Xi("message",v),k),"strict"in R)throw new Error("options.strict was renamed to lowS");let q=L===void 0?_(D):w.fromBytes(Xi("sig",D),L);if(q===!1)return!1;try{let Z=t.fromBytes(A);if($&&q.hasHighS())return!1;let{r:ee,s:ae}=q,re=C(v),we=o.inv(ae),ie=o.create(re*we),Te=o.create(ee*we),be=t.BASE.multiplyUnsafe(ie).add(Z.multiplyUnsafe(Te));return be.is0()?!1:o.create(be.x)===ee}catch(Z){return!1}}function I(D,v,A={}){let{prehash:R}=vz(A,h);return v=B(v,R),w.fromBytes(D,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p,Point:t,sign:H,verify:N,recoverPublicKey:I,Signature:w,hash:e})}function hje(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0,s=R1(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function mje(t){let{CURVE:e,curveOpts:r}=hje(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function gje(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,Sce(r.Fn.ORDER,r.Fn.BITS))})}function yje(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=mje(t),i=fje(e,r),o=pje(i,n,s);return gje(t,o)}function zz(t,e){let r=n=>yje(G(S({},t),{hash:n}));return G(S({},r(e)),{create:r})}var Bce={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Uce={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Dce={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},bje=R1(Bce.p),wje=R1(Uce.p),xje=R1(Dce.p),vje=zz(G(S({},Bce),{Fp:bje,lowS:!1}),lN);zz(G(S({},Uce),{Fp:wje,lowS:!1}),Dze),zz(G(S({},Dce),{Fp:xje,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),Uze);var Eje=vje,Lce="base10",eo="base16",to="base64pad",Yp="base64url",bC="utf8",Mce=0,Du=1,G8=2,Aje=0,Aae=1,aC=12,lV=32;function $ce(){let t=$z.utils.randomPrivateKey(),e=$z.getPublicKey(t);return{privateKey:wr(t,eo),publicKey:wr(e,eo)}}function gN(){let t=Bb(lV);return wr(t,eo)}function Hce(t,e){let r=$z.getSharedSecret(cn(t,eo),cn(e,eo)),n=DVe(pN,r,void 0,void 0,lV);return wr(n,eo)}function Z8(t){let e=pN(cn(t,eo));return wr(e,eo)}function Sa(t){let e=pN(cn(t,bC));return wr(e,eo)}function Fce(t){return cn(`${t}`,Lce)}function N1(t){return Number(wr(t,Lce))}function zce(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Vce(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function jce(t){let e=Fce(typeof t.type<"u"?t.type:Mce);if(N1(e)===Du&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?cn(t.senderPublicKey,eo):void 0,n=typeof t.iv<"u"?cn(t.iv,eo):Bb(aC),s=cn(t.symKey,eo),i=hce(s,n).encrypt(cn(t.message,bC)),o=Gce({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===Yp?zce(o):o}function qce(t){let e=cn(t.symKey,eo),{sealed:r,iv:n}=Y8({encoded:t.encoded,encoding:t.encoding}),s=hce(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return wr(s,bC)}function Wce(t,e){let r=Fce(G8),n=Bb(aC),s=cn(t,bC),i=Gce({type:r,sealed:s,iv:n});return e===Yp?zce(i):i}function Kce(t,e){let{sealed:r}=Y8({encoded:t,encoding:e});return wr(r,bC)}function Gce(t){if(N1(t.type)===G8)return wr(bc([t.type,t.sealed]),to);if(N1(t.type)===Du){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return wr(bc([t.type,t.senderPublicKey,t.iv,t.sealed]),to)}return wr(bc([t.type,t.iv,t.sealed]),to)}function Y8(t){let e=(t.encoding||to)===Yp?Vce(t.encoded):t.encoded,r=cn(e,to),n=r.slice(Aje,Aae),s=Aae;if(N1(n)===Du){let c=s+lV,l=c+aC,u=r.slice(s,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(N1(n)===G8){let c=r.slice(s),l=Bb(aC);return{type:n,sealed:c,iv:l}}let i=s+aC,o=r.slice(s,i),a=r.slice(i);return{type:n,sealed:a,iv:o}}function Zce(t,e){let r=Y8({encoded:t,encoding:e==null?void 0:e.encoding});return uV({type:N1(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?wr(r.senderPublicKey,eo):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function uV(t){let e=(t==null?void 0:t.type)||Mce;if(e===Du){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function fV(t){return t.type===Du&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function dV(t){return t.type===G8}function Cje(t){let e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return bc([new Uint8Array([4]),e,r])}function Yce(t,e){let[r,n,s]=t.split("."),i=Buffer.from(Vce(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");let o=i.slice(0,32),a=i.slice(32,64),c=`${r}.${n}`,l=pN(c),u=Cje(e);if(!Eje.verify(bc([o,a]),l,u))throw new Error("Invalid signature");return Yf(t).payload}var Sje="irn";function wC(t){return(t==null?void 0:t.relay)||{protocol:Sje}}function Ub(t){let e=U_[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ije=Object.defineProperty,Tje=Object.defineProperties,Pje=Object.getOwnPropertyDescriptors,Cae=Object.getOwnPropertySymbols,_je=Object.prototype.hasOwnProperty,Nje=Object.prototype.propertyIsEnumerable,Sae=(t,e,r)=>e in t?Ije(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ez=(t,e)=>{for(var r in e||(e={}))_je.call(e,r)&&Sae(t,r,e[r]);if(Cae)for(var r of Cae(e))Nje.call(e,r)&&Sae(t,r,e[r]);return t},Oje=(t,e)=>Tje(t,Pje(e));function Rje(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){let i=s.replace(n,""),o=t[s];r[i]=o}}),r}function pV(t){if(!t.includes("wc:")){let l=Vae(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:kje(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Rje(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function kje(t){return t.startsWith("//")?t.substring(2):t}function Bje(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(s=>{let i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function hV(t){let e=new URLSearchParams,r=Ez(Ez(Oje(Ez({},Bje(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function xC(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var Uje=Object.defineProperty,Dje=Object.defineProperties,Lje=Object.getOwnPropertyDescriptors,Iae=Object.getOwnPropertySymbols,Mje=Object.prototype.hasOwnProperty,$je=Object.prototype.propertyIsEnumerable,Tae=(t,e,r)=>e in t?Uje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hje=(t,e)=>{for(var r in e||(e={}))Mje.call(e,r)&&Tae(t,r,e[r]);if(Iae)for(var r of Iae(e))$je.call(e,r)&&Tae(t,r,e[r]);return t},Fje=(t,e)=>Dje(t,Lje(e));function J8(t){let e=[];return t.forEach(r=>{let[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function mV(t){let e=[];return Object.values(t).forEach(r=>{e.push(...J8(r.accounts))}),[...new Set(e)]}function Jce(t){let e=[];return Object.values(t).forEach(r=>{e.push(...r.methods)}),[...new Set(e)]}function Qce(t){let e=[];return Object.values(t).forEach(r=>{e.push(...r.events)}),[...new Set(e)]}function zje(t,e){let r=[];return Object.values(t).forEach(n=>{J8(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Vje(t,e){let r=[];return Object.values(t).forEach(n=>{J8(n.accounts).includes(e)&&r.push(...n.events)}),r}function vC(t){return t.includes(":")}function Db(t){return vC(t)?t.split(":")[0]:t}function Pae(t){var e,r,n;let s={};if(!vl(t))return s;for(let[i,o]of Object.entries(t)){let a=vC(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Db(i);s[u]=Fje(Hje({},s[u]),{chains:Nu(a,(e=s[u])==null?void 0:e.chains),methods:Nu(c,(r=s[u])==null?void 0:r.methods),events:Nu(l,(n=s[u])==null?void 0:n.events)})}return s}function jje(t){let e={};return t==null||t.forEach(r=>{var n;let[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function gV(t,e){e=e.map(n=>n.replace("did:pkh:",""));let r=jje(e);for(let[n,s]of Object.entries(r))s.methods?s.methods=Nu(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}function Xce(t,e){var r,n,s,i,o,a;let c=Pae(t),l=Pae(e),u={},f=Object.keys(c).concat(Object.keys(l));for(let d of f)u[d]={chains:Nu((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:Nu((s=c[d])==null?void 0:s.methods,(i=l[d])==null?void 0:i.methods),events:Nu((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}var qje={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Wje={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $e(t,e){let{message:r,code:n}=Wje[t];return{message:e?`${r} ${e}`:r,code:n}}function Kr(t,e){let{message:r,code:n}=qje[t];return{message:e?`${r} ${e}`:r,code:n}}function jo(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function vl(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function fs(t){return typeof t>"u"}function ts(t,e){return e&&fs(t)?!0:typeof t=="string"&&!!t.trim().length}function yV(t,e){return e&&fs(t)?!0:typeof t=="number"&&!isNaN(t)}function ele(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r),i=!0;return Pb(s,n)?(n.forEach(o=>{let{accounts:a,methods:c,events:l}=t.namespaces[o],u=J8(a),f=r[o];(!Pb(kae(o,f),u)||!Pb(f.methods,c)||!Pb(f.events,l))&&(i=!1)}),i):!1}function nN(t){return ts(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Kje(t){if(ts(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&nN(r)}}return!1}function tle(t){function e(r){try{return typeof new URL(r)<"u"}catch(n){return!1}}try{if(ts(t,!1)){if(e(t))return!0;let r=Vae(t);return e(r)}}catch(r){}return!1}function rle(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function nle(t){return t==null?void 0:t.topic}function sle(t,e){let r=null;return ts(t==null?void 0:t.publicKey,!1)||(r=$e("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function _ae(t){let e=!0;return jo(t)?t.length&&(e=t.every(r=>ts(r,!1))):e=!1,e}function Gje(t,e,r){let n=null;return jo(e)&&e.length?e.forEach(s=>{n||nN(s)||(n=Kr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):nN(t)||(n=Kr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Zje(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;let o=Gje(s,kae(s,i),`${e} ${r}`);o&&(n=o)}),n}function Yje(t,e){let r=null;return jo(t)?t.forEach(n=>{r||Kje(n)||(r=Kr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Kr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Jje(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let s=Yje(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function Qje(t,e){let r=null;return _ae(t==null?void 0:t.methods)?_ae(t==null?void 0:t.events)||(r=Kr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Kr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function ile(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let s=Qje(n,`${e}, namespace`);s&&(r=s)}),r}function ole(t,e,r){let n=null;if(t&&vl(t)){let s=ile(t,e);s&&(n=s);let i=Zje(t,e,r);i&&(n=i)}else n=$e("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function yN(t,e){let r=null;if(t&&vl(t)){let n=ile(t,e);n&&(r=n);let s=Jje(t,e);s&&(r=s)}else r=$e("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function bV(t){return ts(t.protocol,!0)}function ale(t,e){let r=!1;return e&&!t?r=!0:t&&jo(t)&&t.length&&t.forEach(n=>{r=bV(n)}),r}function cle(t){return typeof t=="number"}function ro(t){return typeof t<"u"&&typeof t!==null}function lle(t){return!(!t||typeof t!="object"||!t.code||!yV(t.code,!1)||!t.message||!ts(t.message,!1))}function ule(t){return!(fs(t)||!ts(t.method,!1))}function fle(t){return!(fs(t)||fs(t.result)&&fs(t.error)||!yV(t.id,!1)||!ts(t.jsonrpc,!1))}function dle(t){return!(fs(t)||!ts(t.name,!1))}function wV(t,e){return!(!nN(e)||!mV(t).includes(e))}function ple(t,e,r){return ts(r,!1)?zje(t,e).includes(r):!1}function hle(t,e,r){return ts(r,!1)?Vje(t,e).includes(r):!1}function xV(t,e,r){let n=null,s=Xje(t),i=eqe(e),o=Object.keys(s),a=Object.keys(i),c=Nae(Object.keys(t)),l=Nae(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=$e("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Pb(o,a)||(n=$e("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;let d=J8(e[f].accounts);d.includes(f)||(n=$e("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(Pb(s[f].methods,i[f].methods)?Pb(s[f].events,i[f].events)||(n=$e("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=$e("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Xje(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function Nae(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function eqe(t){let e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{let n=J8(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function mle(t,e){return yV(t,!1)&&t<=e.max&&t>=e.min}function vV(){let t=dC();return new Promise(e=>{switch(t){case Aa.browser:e(tqe());break;case Aa.reactNative:e(rqe());break;case Aa.node:e(nqe());break;default:e(!0)}})}function tqe(){return kb()&&(navigator==null?void 0:navigator.onLine)}async function rqe(){if(Gp()&&typeof global<"u"&&global!=null&&global.NetInfo){let t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function nqe(){return!0}function gle(t){switch(dC()){case Aa.browser:sqe(t);break;case Aa.reactNative:iqe(t);break;case Aa.node:break}}function sqe(t){!Gp()&&kb()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function iqe(t){Gp()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function yle(){var t;return kb()&&(0,Ru.getDocument)()?((t=(0,Ru.getDocument)())==null?void 0:t.visibilityState)==="visible":!0}var Az={},O1=class{static get(e){return Az[e]}static set(e,r){Az[e]=r}static delete(e){delete Az[e]}};function oqe(t){let e=wa.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function aqe({publicKey:t,signature:e,payload:r}){var n;let s=Vz(r.method),i=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=uqe(r.address),a=r.era==="00"?new Uint8Array([0]):Vz(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");let c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${lqe(r.tip)}`),f=dqe(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...s]),p=fqe(d.length+1);return new Uint8Array([...p,i,...d])}function cqe(t){let e=Vz(t),r=(0,Rae.blake2b)(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function Vz(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function lqe(t){return t.startsWith("0x")?t.slice(2):t}function uqe(t){let e=wa.decode(t)[0];return e===42?0:e===60?2:1}function fqe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){let e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){let e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function dqe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){let e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){let e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function ble(t){let e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=oqe(t.transaction.address),n=aqe({publicKey:r,signature:e,payload:t.transaction}),s=Buffer.from(n).toString("hex");return cqe(s)}function Q8({logger:t,name:e}){let r=typeof t=="string"?Xf({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}var tO=pr(Fo(),1);var Jp=pr(Fo(),1);AV();CV();function bqe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Hs(t,...e){try{return bqe(t(...e))}catch(r){return Promise.reject(r)}}function wqe(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function xqe(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function EC(t){if(wqe(t))return String(t);if(xqe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return EC(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}var SV="base64:";function Ele(t){return typeof t=="string"?t:SV+Eqe(t)}function Ale(t){return typeof t!="string"||!t.startsWith(SV)?t:vqe(t.slice(SV.length))}function vqe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Eqe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Wo(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Cle(...t){return Wo(t.join(":"))}function AC(t){return t=Wo(t),t?t+":":""}function Sle(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Ile(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}var Aqe="memory",Cqe=()=>{let t=new Map;return{name:Aqe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){var r;return(r=t.get(e))!=null?r:null},getItemRaw(e){var r;return(r=t.get(e))!=null?r:null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function _le(t={}){let e={mounts:{"":t.driver||Cqe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(let u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=Wo(u);for(let f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(let l in e.mounts)e.unwatch[l]=await Tle(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(let l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{let d=new Map,p=h=>{let m=d.get(h.base);return m||(m={driver:h.driver,base:h.base,items:[]},d.set(h.base,m)),m};for(let h of l){let m=typeof h=="string",g=Wo(m?h:h.key),b=m?void 0:h.value,E=m||!h.options?u:S(S({},u),h.options),w=r(g);p(w).items.push({key:g,value:b,relativeKey:w.relativeKey,options:E})}return Promise.all([...d.values()].map(h=>f(h))).then(h=>h.flat())},c={hasItem(l,u={}){l=Wo(l);let{relativeKey:f,driver:d}=r(l);return Hs(d.hasItem,f,u)},getItem(l,u={}){l=Wo(l);let{relativeKey:f,driver:d}=r(l);return Hs(d.getItem,f,u).then(p=>t0(p))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?Hs(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(p=>({key:Cle(f.base,p.key),value:t0(p.value)}))):Promise.all(f.items.map(d=>Hs(f.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:t0(p)})))))},getItemRaw(l,u={}){l=Wo(l);let{relativeKey:f,driver:d}=r(l);return d.getItemRaw?Hs(d.getItemRaw,f,u):Hs(d.getItem,f,u).then(p=>Ale(p))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=Wo(l);let{relativeKey:d,driver:p}=r(l);p.setItem&&(await Hs(p.setItem,d,EC(u),f),p.watch||s("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return Hs(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:EC(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>Hs(f.driver.setItem,d.relativeKey,EC(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=Wo(l);let{relativeKey:d,driver:p}=r(l);if(p.setItemRaw)await Hs(p.setItemRaw,d,u,f);else if(p.setItem)await Hs(p.setItem,d,Ele(u),f);else return;p.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Wo(l);let{relativeKey:f,driver:d}=r(l);d.removeItem&&(await Hs(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await Hs(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Wo(l);let{relativeKey:f,driver:d}=r(l),p=Object.create(null);if(d.getMeta&&Object.assign(p,await Hs(d.getMeta,f,u)),!u.nativeOnly){let h=await Hs(d.getItem,f+"$",u).then(m=>t0(m));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(p,h))}return p},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var g;l=AC(l);let f=n(l,!0),d=[],p=[],h=!0;for(let b of f){(g=b.driver.flags)!=null&&g.maxDepth||(h=!1);let E=await Hs(b.driver.getKeys,b.relativeBase,u);for(let w of E){let x=b.mountpoint+Wo(w);d.some(C=>x.startsWith(C))||p.push(x)}d=[b.mountpoint,...d.filter(w=>!w.startsWith(b.mountpoint))]}let m=u.maxDepth!==void 0&&!h;return p.filter(b=>(!m||Sle(b,u.maxDepth))&&Ile(b,l))},async clear(l,u={}){l=AC(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return Hs(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){let d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(p=>f.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>Ple(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=AC(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Tle(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,d;l=AC(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((d=(f=e.unwatch)[l])==null||d.call(f),delete e.unwatch[l]),u&&await Ple(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=Wo(l)+":";let u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Wo(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Tle(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function Ple(t){typeof t.dispose=="function"&&await Hs(t.dispose)}TV();i1();var Iqe="idb-keyval",Tqe=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s,n;return t.dbName&&t.storeName&&(n=CC(t.dbName,t.storeName)),{name:Iqe,options:t,async hasItem(s){return!(typeof await e4(r(s),n)>"u")},async getItem(s){var i;return(i=await e4(r(s),n))!=null?i:null},setItem(s,i){return xN(r(s),i,n)},removeItem(s){return vN(r(s),n)},getKeys(){return AN(n)},clear(){return EN(n)}}},Pqe="WALLET_CONNECT_V2_INDEXED_DB",_qe="keyvaluestorage",_V=class{constructor(){this.indexedDb=_le({driver:Tqe({dbName:Pqe,storeName:_qe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ai(r))}async removeItem(e){await this.indexedDb.removeItem(e)}},PV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CN={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof PV<"u"&&PV.localStorage?CN.exports=PV.localStorage:typeof window<"u"&&window.localStorage?CN.exports=window.localStorage:CN.exports=new e})();function Nqe(t){var e;return[t[0],Qs((e=t[1])!=null?e:"")]}var NV=class{constructor(){this.localStorage=CN.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Nqe)}async getItem(e){let r=this.localStorage.getItem(e);if(r!==null)return Qs(r)}async setItem(e,r){this.localStorage.setItem(e,Ai(r))}async removeItem(e){this.localStorage.removeItem(e)}},Oqe="wc_storage_version",Nle=1,Rqe=async(t,e,r)=>{let n=Oqe,s=await e.getItem(n);if(s&&s>=Nle){r(e);return}let i=await t.getKeys();if(!i.length){r(e);return}let o=[];for(;i.length;){let a=i.shift();if(!a)continue;let c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Nle),r(e),kqe(t,o)},kqe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})},SN=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let e=new NV;this.storage=e;try{let r=new _V;Rqe(e,r,this.setInitialized)}catch(r){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};y1();bN();var kle=pr(Fo()),Bqe=Object.defineProperty,Uqe=(t,e,r)=>e in t?Bqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ole=(t,e,r)=>Uqe(t,typeof e!="symbol"?e+"":e,r),IN=class extends ei{constructor(e){super(),this.opts=e,Ole(this,"protocol","wc"),Ole(this,"version",2)}};var Dqe=Object.defineProperty,Lqe=(t,e,r)=>e in t?Dqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mqe=(t,e,r)=>Lqe(t,typeof e!="symbol"?e+"":e,r),TN=class extends ei{constructor(e,r){super(),this.core=e,this.logger=r,Mqe(this,"records",new Map)}},PN=class{constructor(e,r){this.logger=e,this.core=r}},_N=class extends ei{constructor(e,r){super(),this.relayer=e,this.logger=r}},NN=class extends ei{constructor(e){super()}},ON=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}};var RN=class extends ei{constructor(e,r){super(),this.relayer=e,this.logger=r}};var kN=class extends ei{constructor(e,r){super(),this.core=e,this.logger=r}};var BN=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},UN=class{constructor(e,r){this.projectId=e,this.logger=r}},DN=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},$qe=Object.defineProperty,Hqe=(t,e,r)=>e in t?$qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rle=(t,e,r)=>Hqe(t,typeof e!="symbol"?e+"":e,r);var LN=class{constructor(e){this.opts=e,Rle(this,"protocol","wc"),Rle(this,"version",2)}};var MN=class{constructor(e){this.client=e}};var dt=pr(Np(),1);i1();Cb();Cb();QA();t4();Mu();FV();var Uue=pr(v8(),1);var Due="wc",Lue=2,QN="core",s0=`${Due}@2:${QN}:`,xWe={name:QN,logger:"error"},vWe={database:":memory:"},EWe="crypto",fue="client_ed25519_seed",AWe=dt.ONE_DAY,CWe="keychain",SWe="0.3",IWe="messages",TWe="0.3",PWe=dt.SIX_HOURS,_We="publisher",vj="irn",NWe="error",Mue="wss://relay.walletconnect.org",OWe="relayer",hs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},RWe="_subscription",El={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},kWe=.1;var qV="2.23.3";var vn={link_mode:"link_mode",relay:"relay"},JN={inbound:"inbound",outbound:"outbound"},BWe="0.3",UWe="WALLETCONNECT_CLIENT_ID",due="WALLETCONNECT_LINK_MODE_APPS",Ic={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"};var DWe="subscription",LWe="0.3",Z5t=dt.FIVE_SECONDS*1e3,MWe="pairing",$We="0.3";var RC={wc_pairingDelete:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:dt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:dt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:dt.ONE_DAY,prompt:!1,tag:0},res:{ttl:dt.ONE_DAY,prompt:!1,tag:0}}},D1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},$u={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},HWe="history",FWe="0.3",zWe="expirer",Tc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},VWe="0.3";var jWe="verify-api",qWe="https://verify.walletconnect.com",$ue="https://verify.walletconnect.org",i4=$ue,WWe=`${i4}/v3`,KWe=[qWe,$ue],GWe="echo",ZWe="https://echo.walletconnect.com";var Hu={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},n0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Cl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},L1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},M1={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},o4={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},YWe=.1,JWe="event-client",QWe=86400,XWe="https://pulse.walletconnect.org/batch";function eKe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,b=0,E=h.length;b!==E&&h[b]===0;)b++,m++;for(var w=(E-b)*u+1>>>0,x=new Uint8Array(w);b!==E;){for(var C=h[b],T=0,U=w-1;(C!==0||T<g)&&U!==-1;U--,T++)C+=256*x[U]>>>0,x[U]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");g=T,b++}for(var B=w-g;B!==w&&x[B]===0;)B++;for(var O=c.repeat(m);B<w;++B)O+=t.charAt(x[B]);return O}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var g=0,b=0;h[m]===c;)g++,m++;for(var E=(h.length-m)*l+1>>>0,w=new Uint8Array(E);h[m];){var x=r[h.charCodeAt(m)];if(x===255)return;for(var C=0,T=E-1;(x!==0||C<b)&&T!==-1;T--,C++)x+=a*w[T]>>>0,w[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");b=C,m++}if(h[m]!==" "){for(var U=E-b;U!==E&&w[U]===0;)U++;for(var B=new Uint8Array(g+(E-U)),O=g;U!==E;)B[O++]=w[U++];return B}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var tKe=eKe,rKe=tKe,Hue=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},nKe=t=>new TextEncoder().encode(t),sKe=t=>new TextDecoder().decode(t),WV=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},KV=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Fue(this,e)}},GV=class{constructor(e){this.decoders=e}or(e){return Fue(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Fue=(t,e)=>new GV(S(S({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),ZV=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new WV(e,r,n),this.decoder=new KV(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},XN=({name:t,prefix:e,encode:r,decode:n})=>new ZV(t,e,r,n),LC=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:s}=rKe(r,e);return XN({prefix:t,name:e,encode:n,decode:i=>Hue(s(i))})},iKe=(t,e,r,n)=>{let s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;let o=new Uint8Array(i*r/8|0),a=0,c=0,l=0;for(let u=0;u<i;++u){let f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},oKe=(t,e,r)=>{let n=e[e.length-1]==="=",s=(1<<r)-1,i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>XN({prefix:e,name:t,encode(s){return oKe(s,n,r)},decode(s){return iKe(s,n,r,t)}}),aKe=XN({prefix:"\0",name:"identity",encode:t=>sKe(t),decode:t=>nKe(t)}),cKe=Object.freeze({__proto__:null,identity:aKe}),lKe=Pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uKe=Object.freeze({__proto__:null,base2:lKe}),fKe=Pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dKe=Object.freeze({__proto__:null,base8:fKe}),pKe=LC({prefix:"9",name:"base10",alphabet:"0123456789"}),hKe=Object.freeze({__proto__:null,base10:pKe}),mKe=Pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gKe=Pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),yKe=Object.freeze({__proto__:null,base16:mKe,base16upper:gKe}),bKe=Pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wKe=Pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xKe=Pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vKe=Pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),EKe=Pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AKe=Pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CKe=Pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SKe=Pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IKe=Pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),TKe=Object.freeze({__proto__:null,base32:bKe,base32upper:wKe,base32pad:xKe,base32padupper:vKe,base32hex:EKe,base32hexupper:AKe,base32hexpad:CKe,base32hexpadupper:SKe,base32z:IKe}),PKe=LC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_Ke=LC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),NKe=Object.freeze({__proto__:null,base36:PKe,base36upper:_Ke}),OKe=LC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),RKe=LC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),kKe=Object.freeze({__proto__:null,base58btc:OKe,base58flickr:RKe}),BKe=Pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),UKe=Pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),DKe=Pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),LKe=Pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),MKe=Object.freeze({__proto__:null,base64:BKe,base64pad:UKe,base64url:DKe,base64urlpad:LKe}),zue=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),$Ke=zue.reduce((t,e,r)=>(t[r]=e,t),[]),HKe=zue.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function FKe(t){return t.reduce((e,r)=>(e+=$Ke[r],e),"")}function zKe(t){let e=[];for(let r of t){let n=HKe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var VKe=XN({prefix:"\u{1F680}",name:"base256emoji",encode:FKe,decode:zKe}),jKe=Object.freeze({__proto__:null,base256emoji:VKe}),qKe=Vue,pue=128,WKe=127,KKe=~WKe,GKe=Math.pow(2,31);function Vue(t,e,r){e=e||[],r=r||0;for(var n=r;t>=GKe;)e[r++]=t&255|pue,t/=128;for(;t&KKe;)e[r++]=t&255|pue,t>>>=7;return e[r]=t|0,Vue.bytes=r-n+1,e}var ZKe=YV,YKe=128,hue=127;function YV(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw YV.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&hue)<<s:(o&hue)*Math.pow(2,s),s+=7}while(o>=YKe);return YV.bytes=i-n,r}var JKe=Math.pow(2,7),QKe=Math.pow(2,14),XKe=Math.pow(2,21),eGe=Math.pow(2,28),tGe=Math.pow(2,35),rGe=Math.pow(2,42),nGe=Math.pow(2,49),sGe=Math.pow(2,56),iGe=Math.pow(2,63),oGe=function(t){return t<JKe?1:t<QKe?2:t<XKe?3:t<eGe?4:t<tGe?5:t<rGe?6:t<nGe?7:t<sGe?8:t<iGe?9:10},aGe={encode:qKe,decode:ZKe,encodingLength:oGe},jue=aGe,mue=(t,e,r=0)=>(jue.encode(t,e,r),e),gue=t=>jue.encodingLength(t),JV=(t,e)=>{let r=e.byteLength,n=gue(t),s=n+gue(r),i=new Uint8Array(s+r);return mue(t,i,0),mue(r,i,n),i.set(e,s),new QV(t,r,e,i)},QV=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}},que=({name:t,code:e,encode:r})=>new XV(t,e,r),XV=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?JV(this.code,r):r.then(n=>JV(this.code,n))}else throw Error("Unknown type, must be binary type")}},Wue=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),cGe=que({name:"sha2-256",code:18,encode:Wue("SHA-256")}),lGe=que({name:"sha2-512",code:19,encode:Wue("SHA-512")}),uGe=Object.freeze({__proto__:null,sha256:cGe,sha512:lGe}),Kue=0,fGe="identity",Gue=Hue,dGe=t=>JV(Kue,Gue(t)),pGe={code:Kue,name:fGe,encode:Gue,digest:dGe},hGe=Object.freeze({__proto__:null,identity:pGe});new TextEncoder,new TextDecoder;var yue=S(S(S(S(S(S(S(S(S(S({},cKe),uKe),dKe),hKe),yKe),TKe),NKe),kKe),MKe),jKe);S(S({},uGe),hGe);function Zue(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function mGe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Zue(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Yue(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var bue=Yue("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zV=Yue("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=mGe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),gGe=S({utf8:bue,"utf-8":bue,hex:yue.base16,latin1:zV,ascii:zV,binary:zV},yue);function yGe(t,e="utf8"){let r=gGe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Zue(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var bGe=Object.defineProperty,wGe=(t,e,r)=>e in t?bGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r0=(t,e,r)=>wGe(t,typeof e!="symbol"?e+"":e,r),ej=class{constructor(e,r){this.core=e,this.logger=r,r0(this,"keychain",new Map),r0(this,"name",CWe),r0(this,"version",SWe),r0(this,"initialized",!1),r0(this,"storagePrefix",s0),r0(this,"init",async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),r0(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),r0(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),r0(this,"get",n=>{this.isInitialized();let s=this.keychain.get(n);if(typeof s>"u"){let{message:i}=$e("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),r0(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,sN(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?iN(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},xGe=Object.defineProperty,vGe=(t,e,r)=>e in t?xGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>vGe(t,typeof e!="symbol"?e+"":e,r),tj=class{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",EWe),ri(this,"keychain"),ri(this,"randomSessionIdentifier",gN()),ri(this,"initialized",!1),ri(this,"clientId"),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),ri(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let s=await this.getClientSeed(),i=R8(s),o=jA(i.publicKey);return this.clientId=o,o}),ri(this,"generateKeyPair",()=>{this.isInitialized();let s=$ce();return this.setPrivateKey(s.publicKey,s.privateKey)}),ri(this,"signJWT",async s=>{this.isInitialized();let i=await this.getClientSeed(),o=R8(i),a=this.randomSessionIdentifier;return await T_(a,s,AWe,o)}),ri(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();let a=this.getPrivateKey(s),c=Hce(a,i);return this.setSymKey(c,o)}),ri(this,"setSymKey",async(s,i)=>{this.isInitialized();let o=i||Z8(s);return await this.keychain.set(o,s),o}),ri(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),ri(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),ri(this,"encode",async(s,i,o)=>{this.isInitialized();let a=uV(o),c=Ai(i);if(dV(a))return Wce(c,o==null?void 0:o.encoding);if(fV(a)){let d=a.senderPublicKey,p=a.receiverPublicKey;s=await this.generateSharedKey(d,p)}let l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return jce({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),ri(this,"decode",async(s,i,o)=>{this.isInitialized();let a=Zce(i,o);if(dV(a)){let c=Kce(i,o==null?void 0:o.encoding);return Qs(c)}if(fV(a)){let c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(s),l=qce({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Qs(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ri(this,"getPayloadType",(s,i=to)=>{let o=Y8({encoded:s,encoding:i});return N1(o.type)}),ri(this,"getPayloadSenderPublicKey",(s,i=to)=>{let o=Y8({encoded:s,encoding:i});return o.senderPublicKey?wr(o.senderPublicKey,eo):void 0}),this.core=e,this.logger=tn(r,this.name),this.keychain=n||new ej(this.core,this.logger)}get context(){return Ur(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(fue)}catch(r){e=gN(),await this.keychain.set(fue,e)}return yGe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},EGe=Object.defineProperty,AGe=Object.defineProperties,CGe=Object.getOwnPropertyDescriptors,wue=Object.getOwnPropertySymbols,SGe=Object.prototype.hasOwnProperty,IGe=Object.prototype.propertyIsEnumerable,rj=(t,e,r)=>e in t?EGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TGe=(t,e)=>{for(var r in e||(e={}))SGe.call(e,r)&&rj(t,r,e[r]);if(wue)for(var r of wue(e))IGe.call(e,r)&&rj(t,r,e[r]);return t},PGe=(t,e)=>AGe(t,CGe(e)),Sc=(t,e,r)=>rj(t,typeof e!="symbol"?e+"":e,r),nj=class extends PN{constructor(e,r){super(e,r),this.logger=e,this.core=r,Sc(this,"messages",new Map),Sc(this,"messagesWithoutClientAck",new Map),Sc(this,"name",IWe),Sc(this,"version",TWe),Sc(this,"initialized",!1),Sc(this,"storagePrefix",s0),Sc(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);let s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Sc(this,"set",async(n,s,i)=>{this.isInitialized();let o=Sa(s),a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(n,a),i===JN.inbound){let c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,PGe(TGe({},c),{[o]:s}))}return await this.persist(),o}),Sc(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Sc(this,"getWithoutAck",n=>{this.isInitialized();let s={};for(let i of n){let o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Sc(this,"has",(n,s)=>{this.isInitialized();let i=this.get(n),o=Sa(s);return typeof i[o]<"u"}),Sc(this,"ack",async(n,s)=>{this.isInitialized();let i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;let o=Sa(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Sc(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=tn(e,this.name),this.core=r}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,sN(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,sN(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?iN(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?iN(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},_Ge=Object.defineProperty,NGe=Object.defineProperties,OGe=Object.getOwnPropertyDescriptors,xue=Object.getOwnPropertySymbols,RGe=Object.prototype.hasOwnProperty,kGe=Object.prototype.propertyIsEnumerable,sj=(t,e,r)=>e in t?_Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,n4=(t,e)=>{for(var r in e||(e={}))RGe.call(e,r)&&sj(t,r,e[r]);if(xue)for(var r of xue(e))kGe.call(e,r)&&sj(t,r,e[r]);return t},vue=(t,e)=>NGe(t,OGe(e)),Al=(t,e,r)=>sj(t,typeof e!="symbol"?e+"":e,r),ij=class extends _N{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Al(this,"events",new Jp.EventEmitter),Al(this,"name",_We),Al(this,"queue",new Map),Al(this,"publishTimeout",(0,dt.toMiliseconds)(dt.ONE_MINUTE)),Al(this,"initialPublishTimeout",(0,dt.toMiliseconds)(dt.ONE_SECOND*15)),Al(this,"needsTransportRestart",!1),Al(this,"publish",async(n,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});let f=(i==null?void 0:i.ttl)||PWe,d=(i==null?void 0:i.prompt)||!1,p=(i==null?void 0:i.tag)||0,h=(i==null?void 0:i.id)||ps().toString(),m=Ub(wC().protocol),g={id:h,method:(i==null?void 0:i.publishMethod)||m.publish,params:n4({topic:n,message:s,ttl:f,prompt:d,tag:p,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},b=`Failed to publish payload, please try again. id:${h} tag:${p}`;try{fs((o=g.params)==null?void 0:o.prompt)&&((a=g.params)==null||delete a.prompt),fs((c=g.params)==null?void 0:c.tag)&&((l=g.params)==null||delete l.tag);let E=new Promise(async w=>{let x=({id:T})=>{var U;((U=g.id)==null?void 0:U.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(hs.publish,x),w())};this.relayer.events.on(hs.publish,x);let C=Uu(new Promise((T,U)=>{this.rpcPublish(g,i).then(T).catch(B=>{this.logger.warn(B,B==null?void 0:B.message),U(B)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${p}`);try{await C,this.events.removeListener(hs.publish,x)}catch(T){this.queue.set(h,{request:g,opts:i,attempt:1}),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:s,opts:i}}),await Uu(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(u=i==null?void 0:i.internal)!=null&&u.throwOnFailedPublish)throw E}finally{this.queue.delete(h)}}),Al(this,"publishCustom",async n=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});let{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:p,prompt:h,tag:m,ttl:g=dt.FIVE_MINUTES}=u,b=u.id||ps().toString(),E=Ub(wC().protocol),w=p||E.publish,x={id:b,method:w,params:n4(vue(n4({},l),{ttl:g,prompt:h,tag:m,attestation:f}),d)},C=`Failed to publish custom payload, please try again. id:${b} tag:${m}`;try{fs((s=x.params)==null?void 0:s.prompt)&&((i=x.params)==null||delete i.prompt),fs((o=x.params)==null?void 0:o.tag)&&((a=x.params)==null||delete a.tag);let T=new Promise(async U=>{let B=({id:H})=>{var _;((_=x.id)==null?void 0:_.toString())===H.toString()&&(this.removeRequestFromQueue(H),this.relayer.events.removeListener(hs.publish,B),U())};this.relayer.events.on(hs.publish,B);let O=Uu(new Promise((H,_)=>{this.rpcPublish(x,u).then(H).catch(N=>{this.logger.warn(N,N==null?void 0:N.message),_(N)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${w} id:${b} tag:${m}`);try{await O,this.events.removeListener(hs.publish,B)}catch(H){this.queue.set(b,{request:x,opts:u,attempt:1}),this.logger.warn(H,H==null?void 0:H.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:l,opts:u}}),await Uu(T,this.publishTimeout,C)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(b)}}),Al(this,"on",(n,s)=>{this.events.on(n,s)}),Al(this,"once",(n,s)=>{this.events.once(n,s)}),Al(this,"off",(n,s)=>{this.events.off(n,s)}),Al(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=tn(r,this.name),this.registerEventListeners()}get context(){return Ur(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let n=await this.relayer.request(e);return this.relayer.events.emit(hs.publish,n4(n4({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;let s=e.attempt+1;this.queue.set(r,vue(n4({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(qo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hs.connection_stalled);return}this.checkQueue()}),this.relayer.on(hs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},BGe=Object.defineProperty,UGe=(t,e,r)=>e in t?BGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s4=(t,e,r)=>UGe(t,typeof e!="symbol"?e+"":e,r),oj=class{constructor(){s4(this,"map",new Map),s4(this,"set",(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),s4(this,"get",e=>this.map.get(e)||[]),s4(this,"exists",(e,r)=>this.get(e).includes(r)),s4(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),s4(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},DGe=Object.defineProperty,LGe=Object.defineProperties,MGe=Object.getOwnPropertyDescriptors,Eue=Object.getOwnPropertySymbols,$Ge=Object.prototype.hasOwnProperty,HGe=Object.prototype.propertyIsEnumerable,aj=(t,e,r)=>e in t?DGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kC=(t,e)=>{for(var r in e||(e={}))$Ge.call(e,r)&&aj(t,r,e[r]);if(Eue)for(var r of Eue(e))HGe.call(e,r)&&aj(t,r,e[r]);return t},VV=(t,e)=>LGe(t,MGe(e)),ln=(t,e,r)=>aj(t,typeof e!="symbol"?e+"":e,r),cj=class extends RN{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ln(this,"subscriptions",new Map),ln(this,"topicMap",new oj),ln(this,"events",new Jp.EventEmitter),ln(this,"name",DWe),ln(this,"version",LWe),ln(this,"pending",new Map),ln(this,"cached",[]),ln(this,"initialized",!1),ln(this,"storagePrefix",s0),ln(this,"subscribeTimeout",(0,dt.toMiliseconds)(dt.ONE_MINUTE)),ln(this,"initialSubscribeTimeout",(0,dt.toMiliseconds)(dt.ONE_SECOND*15)),ln(this,"clientId"),ln(this,"batchSubscribeTopicsLimit",500),ln(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ln(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{let o=wC(s),a={topic:n,relay:o,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,a);let c=await this.rpcSubscribe(n,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),ln(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),ln(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),ln(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),ln(this,"on",(n,s)=>{this.events.on(n,s)}),ln(this,"once",(n,s)=>{this.events.once(n,s)}),ln(this,"off",(n,s)=>{this.events.off(n,s)}),ln(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),ln(this,"start",async()=>{await this.onConnect()}),ln(this,"stop",async()=>{await this.onDisconnect()}),ln(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ln(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),ln(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(qo.pulse,async()=>{await this.checkPending()}),this.events.on(Ic.created,async n=>{let s=Ic.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Ic.deleted,async n=>{let s=Ic.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=tn(r,this.name),this.clientId=""}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch(s){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let s=wC(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);let i=Kr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;let o=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===vn.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});let a={method:Ub(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===vn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},(0,dt.toMiliseconds)(dt.ONE_SECOND)),o;let l=new Promise(async f=>{let d=p=>{p.topic===e&&(this.events.removeListener(Ic.created,d),f(p.id))};this.events.on(Ic.created,d);try{let p=await Uu(new Promise((h,m)=>{this.relayer.request(a).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),m(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ic.created,d),f(p)}catch(p){}}),u=await Uu(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hs.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:Ub(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Uu(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(s){this.relayer.events.emit(hs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let r=e[0].relay,n={method:Ub(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Uu(new Promise((i,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(i){this.relayer.events.emit(hs.connection_stalled)}return s}rpcUnsubscribe(e,r,n){let s={method:Ub(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,VV(kC({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,kC({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,kC({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ic.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ic.deleted,VV(kC({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ic.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){let s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ic.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){let{message:r}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>VV(kC({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await jae((0,dt.toMiliseconds)(dt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Sa(e+await this.getClientId())}},FGe=Object.defineProperty,Aue=Object.getOwnPropertySymbols,zGe=Object.prototype.hasOwnProperty,VGe=Object.prototype.propertyIsEnumerable,lj=(t,e,r)=>e in t?FGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cue=(t,e)=>{for(var r in e||(e={}))zGe.call(e,r)&&lj(t,r,e[r]);if(Aue)for(var r of Aue(e))VGe.call(e,r)&&lj(t,r,e[r]);return t},Ir=(t,e,r)=>lj(t,typeof e!="symbol"?e+"":e,r),uj=class extends NN{constructor(e){var r;super(e),Ir(this,"protocol","wc"),Ir(this,"version",2),Ir(this,"core"),Ir(this,"logger"),Ir(this,"events",new Jp.EventEmitter),Ir(this,"provider"),Ir(this,"messages"),Ir(this,"subscriber"),Ir(this,"publisher"),Ir(this,"name",OWe),Ir(this,"transportExplicitlyClosed",!1),Ir(this,"initialized",!1),Ir(this,"connectionAttemptInProgress",!1),Ir(this,"relayUrl"),Ir(this,"projectId"),Ir(this,"packageName"),Ir(this,"bundleId"),Ir(this,"hasExperiencedNetworkDisruption",!1),Ir(this,"pingTimeout"),Ir(this,"heartBeatTimeout",(0,dt.toMiliseconds)(dt.THIRTY_SECONDS+dt.FIVE_SECONDS)),Ir(this,"reconnectTimeout"),Ir(this,"connectPromise"),Ir(this,"reconnectInProgress",!1),Ir(this,"requestsInFlight",[]),Ir(this,"connectTimeout",(0,dt.toMiliseconds)(dt.ONE_SECOND*15)),Ir(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");let o=n.id||ps().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");let a=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);let c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),Ir(this,"resetPingTimeout",()=>{fC()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Ir(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Ir(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(hs.connect)}),Ir(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),Ir(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(hs.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,this.transportClose().catch(s=>this.logger.warn(s))}),Ir(this,"registerProviderListeners",()=>{this.provider.on(El.payload,this.onPayloadHandler),this.provider.on(El.connect,this.onConnectHandler),this.provider.on(El.disconnect,this.onDisconnectHandler),this.provider.on(El.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=Q8({logger:(r=e.logger)!=null?r:NWe,name:this.name}),this.messages=new nj(this.logger,e.core),this.subscriber=new cj(this,this.logger),this.publisher=new ij(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Mue,Bae()?this.packageName=qz():Uae()&&(this.bundleId=qz()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Ur(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:vn.relay},JN.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();let o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish,a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c,l=u=>{u.topic===e&&(this.subscriber.off(Ic.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ic.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,Cue({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Uu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await vV())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){let{topic:n}=e;if(!r.sessionExists){let s=zn(dt.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(hs.message,e),await this.recordMessageEvent(e,JN.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{let i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(El.disconnect,i),await Uu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(El.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{let c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(El.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(El.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();let s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,(0,dt.toMiliseconds)(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(fC())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Cc(new r4(Lae({sdkVersion:qV,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){let{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;let s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Lu(e)){if(!e.method.endsWith(RWe))return;let r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,a={topic:n,message:s,publishedAt:i,transportType:vn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Cue({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Ec(e)&&this.events.emit(hs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,JN.inbound),this.events.emit(hs.message,e))}async acknowledgePayload(e){let r=ti(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(El.payload,this.onPayloadHandler),this.provider.off(El.connect,this.onConnectHandler),this.provider.off(El.disconnect,this.onDisconnectHandler),this.provider.off(El.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await vV();gle(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(qo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&yle())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,dt.toMiliseconds)(kWe)))))}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function jGe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Sue(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Iue(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var qGe="[object RegExp]",WGe="[object String]",KGe="[object Number]",GGe="[object Boolean]",Tue="[object Arguments]",ZGe="[object Symbol]",YGe="[object Date]",JGe="[object Map]",QGe="[object Set]",XGe="[object Array]",eZe="[object Function]",tZe="[object ArrayBuffer]",jV="[object Object]",rZe="[object Error]",nZe="[object DataView]",sZe="[object Uint8Array]",iZe="[object Uint8ClampedArray]",oZe="[object Uint16Array]",aZe="[object Uint32Array]",cZe="[object BigUint64Array]",lZe="[object Int8Array]",uZe="[object Int16Array]",fZe="[object Int32Array]",dZe="[object BigInt64Array]",pZe="[object Float32Array]",hZe="[object Float64Array]";function mZe(){}function Pue(t){if(!t||typeof t!="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function gZe(t,e,r){return UC(t,e,void 0,void 0,void 0,void 0,r)}function UC(t,e,r,n,s,i,o){let a=o(t,e,r,n,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return DC(t,e,i,o)}return DC(t,e,i,o)}function DC(t,e,r,n){if(Object.is(t,e))return!0;let s=Iue(t),i=Iue(e);if(s===Tue&&(s=jV),i===Tue&&(i=jV),s!==i)return!1;switch(s){case WGe:return t.toString()===e.toString();case KGe:{let c=t.valueOf(),l=e.valueOf();return jGe(c,l)}case GGe:case YGe:case ZGe:return Object.is(t.valueOf(),e.valueOf());case qGe:return t.source===e.source&&t.flags===e.flags;case eZe:return t===e}r=r!=null?r:new Map;let o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case JGe:{if(t.size!==e.size)return!1;for(let[c,l]of t.entries())if(!e.has(c)||!UC(l,e.get(c),c,t,e,r,n))return!1;return!0}case QGe:{if(t.size!==e.size)return!1;let c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){let f=c[u],d=l.findIndex(p=>UC(f,p,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case XGe:case sZe:case iZe:case oZe:case aZe:case cZe:case lZe:case uZe:case fZe:case dZe:case pZe:case hZe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!UC(t[c],e[c],c,t,e,r,n))return!1;return!0}case tZe:return t.byteLength!==e.byteLength?!1:DC(new Uint8Array(t),new Uint8Array(e),r,n);case nZe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:DC(new Uint8Array(t),new Uint8Array(e),r,n);case rZe:return t.name===e.name&&t.message===e.message;case jV:{if(!(DC(t.constructor,e.constructor,r,n)||Pue(t)&&Pue(e)))return!1;let c=[...Object.keys(t),...Sue(t)],l=[...Object.keys(e),...Sue(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;let p=e[f];if(!UC(d,p,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function yZe(t,e){return gZe(t,e,mZe)}var bZe=Object.defineProperty,_ue=Object.getOwnPropertySymbols,wZe=Object.prototype.hasOwnProperty,xZe=Object.prototype.propertyIsEnumerable,fj=(t,e,r)=>e in t?bZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nue=(t,e)=>{for(var r in e||(e={}))wZe.call(e,r)&&fj(t,r,e[r]);if(_ue)for(var r of _ue(e))xZe.call(e,r)&&fj(t,r,e[r]);return t},Ia=(t,e,r)=>fj(t,typeof e!="symbol"?e+"":e,r),i0=class extends ON{constructor(e,r,n,s=s0,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,Ia(this,"map",new Map),Ia(this,"version",BWe),Ia(this,"cached",[]),Ia(this,"initialized",!1),Ia(this,"getKey"),Ia(this,"storagePrefix",s0),Ia(this,"recentlyDeleted",[]),Ia(this,"recentlyDeletedLimit",200),Ia(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!fs(o)?this.map.set(this.getKey(o),o):rle(o)?this.map.set(o.id,o):nle(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ia(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ia(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ia(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>yZe(a[c],o[c]))):this.values)),Ia(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let c=Nue(Nue({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ia(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=tn(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){let{message:s}=$e("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}let{message:n}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},vZe=Object.defineProperty,EZe=(t,e,r)=>e in t?vZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ir=(t,e,r)=>EZe(t,typeof e!="symbol"?e+"":e,r),dj=class{constructor(e,r){this.core=e,this.logger=r,ir(this,"name",MWe),ir(this,"version",$We),ir(this,"events",new Jp.default),ir(this,"pairings"),ir(this,"initialized",!1),ir(this,"storagePrefix",s0),ir(this,"ignoredPayloadTypes",[Du]),ir(this,"registeredMethods",[]),ir(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ir(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),ir(this,"create",async n=>{this.isInitialized();let s=gN(),i=await this.core.crypto.setSymKey(s),o=zn(dt.FIVE_MINUTES),a={protocol:vj},c={topic:i,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=hV({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(D1.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:l}}),ir(this,"pair",async n=>{this.isInitialized();let s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Hu.pairing_started]}});this.isValidPair(n,s);let{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=pV(n.uri);s.props.properties.topic=i,s.addTrace(Hu.pairing_uri_validation_success),s.addTrace(Hu.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Hu.existing_pairing),u.active)throw s.setError(n0.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Hu.pairing_not_expired)}let f=c||zn(dt.FIVE_MINUTES),d={topic:i,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(Hu.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(D1.create,d),s.addTrace(Hu.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Hu.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(p){s.setError(n0.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(p){throw s.setError(n0.subscribe_pairing_topic_failure),p}return s.addTrace(Hu.subscribe_pairing_topic_success),d}),ir(this,"activate",async({topic:n})=>{this.isInitialized();let s=zn(dt.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),ir(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:s}=n;if(this.pairings.keys.includes(s)){let i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Zp();this.events.once(Dr("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),ir(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),ir(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),ir(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ir(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Kr("USER_DISCONNECTED")),await this.deletePairing(s))}),ir(this,"formatUriFromPairing",n=>{this.isInitialized();let{topic:s,relay:i,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(s);return hV({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),ir(this,"sendRequest",async(n,s,i)=>{let o=zr(s,i),a=await this.core.crypto.encode(n,o),c=RC[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),ir(this,"sendResult",async(n,s,i)=>{let o=ti(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=RC[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),ir(this,"sendError",async(n,s,i)=>{let o=vc(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=RC[c]?RC[c].res:RC.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),ir(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Kr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),ir(this,"cleanup",async()=>{let n=this.pairings.getAll().filter(s=>xc(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),ir(this,"onRelayEventRequest",async n=>{let{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),ir(this,"onRelayEventResponse",async n=>{let{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;return o==="wc_pairingPing"?this.onPairingPingResponse(s,i):this.onUnknownRpcMethodResponse(o)}),ir(this,"onPairingPingRequest",async(n,s)=>{let{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(D1.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),ir(this,"onPairingPingResponse",(n,s)=>{let{id:i}=s;setTimeout(()=>{Rn(s)?this.events.emit(Dr("pairing_ping",i),{}):rn(s)&&this.events.emit(Dr("pairing_ping",i),{error:s.error})},500)}),ir(this,"onPairingDeleteRequest",async(n,s)=>{let{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(D1.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),ir(this,"onUnknownRpcMethodRequest",async(n,s)=>{let{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;let a=Kr("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),ir(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Kr("WC_METHOD_UNSUPPORTED",n))}),ir(this,"isValidPair",(n,s)=>{var i;if(!ro(n)){let{message:a}=$e("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(n0.malformed_pairing_uri),new Error(a)}if(!tle(n.uri)){let{message:a}=$e("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(n0.malformed_pairing_uri),new Error(a)}let o=pV(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){let{message:a}=$e("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(n0.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){let{message:a}=$e("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(n0.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,dt.toMiliseconds)(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(n0.pairing_expired);let{message:a}=$e("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),ir(this,"isValidPing",async n=>{if(!ro(n)){let{message:i}=$e("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}let{topic:s}=n;await this.isValidPairingTopic(s)}),ir(this,"isValidDisconnect",async n=>{if(!ro(n)){let{message:i}=$e("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}let{topic:s}=n;await this.isValidPairingTopic(s)}),ir(this,"isValidPairingTopic",async n=>{if(!ts(n,!1)){let{message:s}=$e("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){let{message:s}=$e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(xc(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:s}=$e("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=tn(r,this.name),this.pairings=new i0(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ur(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hs.message,async e=>{let{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==vn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{let i=await this.core.crypto.decode(r,n);Lu(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Ec(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Tc.expired,async e=>{let{topic:r}=oN(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(D1.expire,{topic:r}))})}},AZe=Object.defineProperty,CZe=(t,e,r)=>e in t?AZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ti=(t,e,r)=>CZe(t,typeof e!="symbol"?e+"":e,r),pj=class extends TN{constructor(e,r){super(e,r),this.core=e,this.logger=r,Ti(this,"records",new Map),Ti(this,"events",new Jp.EventEmitter),Ti(this,"name",HWe),Ti(this,"version",FWe),Ti(this,"cached",[]),Ti(this,"initialized",!1),Ti(this,"storagePrefix",s0),Ti(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ti(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;let o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:zn(dt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit($u.created,o)}),Ti(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=rn(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit($u.updated,s))}),Ti(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Ti(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit($u.deleted,i)}}),this.persist()}),Ti(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Ti(this,"on",(n,s)=>{this.events.on(n,s)}),Ti(this,"once",(n,s)=>{this.events.once(n,s)}),Ti(this,"off",(n,s)=>{this.events.off(n,s)}),Ti(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:zr(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($u.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on($u.created,e=>{let r=$u.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on($u.updated,e=>{let r=$u.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on($u.deleted,e=>{let r=$u.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(qo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{(0,dt.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit($u.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},SZe=Object.defineProperty,IZe=(t,e,r)=>e in t?SZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,so=(t,e,r)=>IZe(t,typeof e!="symbol"?e+"":e,r),hj=class extends kN{constructor(e,r){super(e,r),this.core=e,this.logger=r,so(this,"expirations",new Map),so(this,"events",new Jp.EventEmitter),so(this,"name",zWe),so(this,"version",VWe),so(this,"cached",[]),so(this,"initialized",!1),so(this,"storagePrefix",s0),so(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),so(this,"has",n=>{try{let s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch(s){return!1}}),so(this,"set",(n,s)=>{this.isInitialized();let i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Tc.created,{target:i,expiration:o})}),so(this,"get",n=>{this.isInitialized();let s=this.formatTarget(n);return this.getExpiration(s)}),so(this,"del",n=>{if(this.isInitialized(),this.has(n)){let s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Tc.deleted,{target:s,expiration:i})}}),so(this,"on",(n,s)=>{this.events.on(n,s)}),so(this,"once",(n,s)=>{this.events.once(n,s)}),so(this,"off",(n,s)=>{this.events.off(n,s)}),so(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=tn(r,this.name)}get context(){return Ur(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return $ae(e);if(typeof e=="number")return Hae(e);let{message:r}=$e("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Tc.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;(0,dt.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Tc.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(qo.pulse,()=>this.checkExpirations()),this.events.on(Tc.created,e=>{let r=Tc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tc.expired,e=>{let r=Tc.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tc.deleted,e=>{let r=Tc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}},TZe=Object.defineProperty,PZe=(t,e,r)=>e in t?TZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cs=(t,e,r)=>PZe(t,typeof e!="symbol"?e+"":e,r),mj=class extends BN{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Cs(this,"name",jWe),Cs(this,"abortController"),Cs(this,"isDevEnv"),Cs(this,"verifyUrlV3",WWe),Cs(this,"storagePrefix",s0),Cs(this,"version",Lue),Cs(this,"publicKey"),Cs(this,"fetchPromise"),Cs(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,dt.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Cs(this,"register",async s=>{if(!kb()||this.isDevEnv)return;let i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{let l=(0,Uue.getDocument)(),u=this.startAbortTimer(dt.ONE_SECOND*5),f=await new Promise((d,p)=>{let h=()=>{window.removeEventListener("message",g),l.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",h,{signal:this.abortController.signal});let g=b=>{if(b.data&&typeof b.data=="string")try{let E=JSON.parse(b.data);if(E.type==="verify_attestation"){if(Yf(E.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",g),d(E.attestation===null?"":E.attestation)}}catch(E){this.logger.warn(E)}};l.body.appendChild(m),window.addEventListener("message",g,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(l){this.logger.warn(l)}return""}),Cs(this,"resolve",async s=>{if(this.isDevEnv)return"";let{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(Yf(i).payload.id!==a)return;let l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;let c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Cs(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);let o=this.startAbortTimer(dt.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Cs(this,"getVerifyUrl",s=>{let i=s||i4;return KWe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${i4}`),i=i4),i}),Cs(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let s=this.startAbortTimer(dt.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Cs(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Cs(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Cs(this,"isValidJwtAttestation",async s=>{let i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}let o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Cs(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Cs(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{let o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});let s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Cs(this,"validateAttestation",(s,i)=>{let o=Yce(s,i.publicKey),a={hasExpired:(0,dt.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=tn(r,this.name),this.abortController=new AbortController,this.isDevEnv=pC(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ur(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,dt.toMiliseconds)(e))}},_Ze=Object.defineProperty,NZe=(t,e,r)=>e in t?_Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oue=(t,e,r)=>NZe(t,typeof e!="symbol"?e+"":e,r),gj=class extends UN{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,Oue(this,"context",GWe),Oue(this,"registerDeviceToken",async n=>{let{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=n,c=`${ZWe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=tn(r,this.context)}},OZe=Object.defineProperty,Rue=Object.getOwnPropertySymbols,RZe=Object.prototype.hasOwnProperty,kZe=Object.prototype.propertyIsEnumerable,yj=(t,e,r)=>e in t?OZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BC=(t,e)=>{for(var r in e||(e={}))RZe.call(e,r)&&yj(t,r,e[r]);if(Rue)for(var r of Rue(e))kZe.call(e,r)&&yj(t,r,e[r]);return t},ni=(t,e,r)=>yj(t,typeof e!="symbol"?e+"":e,r),bj=class extends DN{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ni(this,"context",JWe),ni(this,"storagePrefix",s0),ni(this,"storageVersion",YWe),ni(this,"events",new Map),ni(this,"shouldPersist",!1),ni(this,"init",async()=>{if(!pC())try{let s={eventId:Zz(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Kz(this.core.relayer.protocol,this.core.relayer.version,qV)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ni(this,"createEvent",s=>{let{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=Zz(),u=this.core.projectId||"",f=Date.now(),d=BC({eventId:l,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),ni(this,"getEvent",s=>{let{eventId:i,topic:o}=s;if(i)return this.events.get(i);let a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return BC(BC({},a),this.setMethods(a.eventId))}),ni(this,"deleteEvent",s=>{let{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ni(this,"setEventListeners",()=>{this.core.heartbeat.on(qo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,dt.fromMiliseconds)(Date.now())-(0,dt.fromMiliseconds)(s.timestamp)>QWe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ni(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ni(this,"addTrace",(s,i)=>{let o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),ni(this,"setError",(s,i)=>{let o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ni(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ni(this,"restore",async()=>{try{let s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,BC(BC({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ni(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let s=[];for(let[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(let i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ni(this,"sendEvent",async s=>{let i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${XWe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${qV}${i}`,{method:"POST",body:JSON.stringify(s)})}),ni(this,"getAppDomain",()=>Wz().url),this.logger=tn(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},BZe=Object.defineProperty,kue=Object.getOwnPropertySymbols,UZe=Object.prototype.hasOwnProperty,DZe=Object.prototype.propertyIsEnumerable,wj=(t,e,r)=>e in t?BZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bue=(t,e)=>{for(var r in e||(e={}))UZe.call(e,r)&&wj(t,r,e[r]);if(kue)for(var r of kue(e))DZe.call(e,r)&&wj(t,r,e[r]);return t},xn=(t,e,r)=>wj(t,typeof e!="symbol"?e+"":e,r),xj=class t extends IN{constructor(e){var r;super(e),xn(this,"protocol",Due),xn(this,"version",Lue),xn(this,"name",QN),xn(this,"relayUrl"),xn(this,"projectId"),xn(this,"customStoragePrefix"),xn(this,"events",new Jp.EventEmitter),xn(this,"logger"),xn(this,"heartbeat"),xn(this,"relayer"),xn(this,"crypto"),xn(this,"storage"),xn(this,"history"),xn(this,"expirer"),xn(this,"pairing"),xn(this,"verify"),xn(this,"echoClient"),xn(this,"linkModeSupportedApps"),xn(this,"eventClient"),xn(this,"initialized",!1),xn(this,"logChunkController"),xn(this,"on",(a,c)=>this.events.on(a,c)),xn(this,"once",(a,c)=>this.events.once(a,c)),xn(this,"off",(a,c)=>this.events.off(a,c)),xn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),xn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;let u={topic:a,message:c,publishedAt:Date.now(),transportType:vn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Mue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let s=$8({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:xWe.logger,name:QN}),{logger:i,chunkLoggerController:o}=Xf({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=tn(i,this.name),this.heartbeat=new X8,this.crypto=new tj(this,this.logger,e==null?void 0:e.keychain),this.history=new pj(this,this.logger),this.expirer=new hj(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new SN(Bue(Bue({},vWe),e==null?void 0:e.storageOptions)),this.relayer=new uj({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new dj(this,this.logger),this.verify=new mj(this,this.logger,this.storage),this.echoClient=new gj(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new bj(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(UWe,n),r}get context(){return Ur(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(due,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(due)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch(e){return!0}}},Jue=xj;y1();var jt=pr(Np(),1);Mu();var tfe="wc",rfe=2,nfe="client",Uj=`${tfe}@${rfe}:${nfe}:`,Ej={name:nfe,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"};var Que="WALLETCONNECT_DEEPLINK_CHOICE";var LZe="proposal";var Xue="Proposal expired",MZe="session",a4=jt.SEVEN_DAYS,$Ze="engine",_i={wc_sessionPropose:{req:{ttl:jt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:jt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:jt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:jt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:jt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:jt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:jt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:jt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:jt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:jt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:jt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:jt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:jt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:jt.FIVE_MINUTES,prompt:!1,tag:1119}}},Aj={min:jt.FIVE_MINUTES,max:jt.SEVEN_DAYS},o0={idle:"IDLE",active:"ACTIVE"},HZe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},FZe="request",zZe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],VZe="wc";var jZe="auth",qZe="authKeys",WZe="pairingTopics",KZe="requests",rO=`${VZe}@${1.5}:${jZe}:`,eO=`${rO}:PUB_KEY`,GZe=Object.defineProperty,ZZe=Object.defineProperties,YZe=Object.getOwnPropertyDescriptors,efe=Object.getOwnPropertySymbols,JZe=Object.prototype.hasOwnProperty,QZe=Object.prototype.propertyIsEnumerable,Sj=(t,e,r)=>e in t?GZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lr=(t,e)=>{for(var r in e||(e={}))JZe.call(e,r)&&Sj(t,r,e[r]);if(efe)for(var r of efe(e))QZe.call(e,r)&&Sj(t,r,e[r]);return t},Ni=(t,e)=>ZZe(t,YZe(e)),Re=(t,e,r)=>Sj(t,typeof e!="symbol"?e+"":e,r),Ij=class extends MN{constructor(e){super(e),Re(this,"name",$Ze),Re(this,"events",new tO.default),Re(this,"initialized",!1),Re(this,"requestQueue",{state:o0.idle,queue:[]}),Re(this,"sessionRequestQueue",{state:o0.idle,queue:[]}),Re(this,"emittedSessionRequests",new Y_({limit:500})),Re(this,"requestQueueDelay",jt.ONE_SECOND),Re(this,"expectedPairingMethodMap",new Map),Re(this,"recentlyDeletedMap",new Map),Re(this,"recentlyDeletedLimit",200),Re(this,"relayMessageCache",[]),Re(this,"pendingSessions",new Map),Re(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(_i)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,jt.toMiliseconds)(this.requestQueueDelay)))}),Re(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();let s=Ni(Lr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=Xce(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};let{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:f,walletPay:d}=s,p=((n=f==null?void 0:f[0])==null?void 0:n.ttl)||_i.wc_sessionPropose.req.ttl||jt.FIVE_MINUTES;this.validateRequestExpiry(p);let h=i,m,g=!1;try{if(h){let O=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),O}if(!h||!g){let{topic:O,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=O,m=H}if(!h){let{message:O}=$e("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(O)}let b=await this.client.core.crypto.generateKeyPair(),E=zn(p),w=Lr(Ni(Lr(Lr({requiredNamespaces:o,optionalNamespaces:a,relays:u!=null?u:[{protocol:vj}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:h},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:ds()}),(f||d)&&{requests:{authentication:f==null?void 0:f.map(O=>{let{domain:H,chains:_,nonce:N,uri:I,exp:D,nbf:v,type:A,statement:R,requestId:$,resources:k,signatureTypes:L}=O;return{domain:H,chains:_,nonce:N,type:A!=null?A:"caip122",aud:I,version:"1",iat:new Date().toISOString(),exp:D,nbf:v,statement:R,requestId:$,resources:k,signatureTypes:L}}),walletPay:d}}),x=Dr("session_connect",w.id),{reject:C,resolve:T,done:U}=Zp(p,Xue),B=({id:O})=>{O===w.id&&(this.client.events.off("proposal_expire",B),this.pendingSessions.delete(w.id),this.events.emit(x,{error:{message:Xue,code:0}}))};return this.client.events.on("proposal_expire",B),this.events.once(x,({error:O,session:H})=>{this.client.events.off("proposal_expire",B),O?C(O):H&&T(H)}),await this.setProposal(w.id,w),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}).catch(O=>{throw this.deleteProposal(w.id),O}),{uri:m,approval:U}}),Re(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Re(this,"approve",async r=>{var n,s,i;let o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Cl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(H){throw o.setError(L1.no_internet_connection),H}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(H){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(L1.proposal_not_found),H}try{await this.isValidApprove(r)}catch(H){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(L1.session_approve_namespace_validation_failure),H}let{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d,proposalRequestsResponses:p}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});let{pairingTopic:m,proposer:g,requiredNamespaces:b,optionalNamespaces:E}=h,w=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});w||(w=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Cl.session_approve_started,properties:{topic:m,trace:[Cl.session_approve_started,Cl.session_namespaces_validation_success]}}));let x=await this.client.core.crypto.generateKeyPair(),C=g.publicKey,T=await this.client.core.crypto.generateSharedKey(x,C),U=Ni(Lr(Lr(Lr({relay:{protocol:c!=null?c:"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:zn(a4)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{proposalRequestsResponses:p}),B=vn.relay;w.addTrace(Cl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:B,internal:{skipSubscribe:!0}})}catch(H){throw w.setError(L1.subscribe_session_topic_failure),H}w.addTrace(Cl.subscribe_session_topic_success);let O=Ni(Lr({},U),{topic:T,requiredNamespaces:b,optionalNamespaces:E,pairingTopic:m,acknowledged:!1,self:U.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x,transportType:vn.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(T,O),w.addTrace(Cl.store_session);try{await this.sendApproveSession({sessionTopic:T,proposal:h,pairingProposalResponse:{relay:{protocol:c!=null?c:"irn"},responderPublicKey:x},sessionSettleRequest:U,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:Lr({correlationId:a},this.getTVFApproveParams(O))}}),w.addTrace(Cl.session_approve_publish_success)}catch(H){throw this.client.logger.error(H),this.client.session.delete(T,Kr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),H}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(T,zn(a4)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),Re(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}let{id:n,reason:s}=r,i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&await this.sendError({id:n,topic:i,error:s,rpcOpts:_i.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Re(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}let{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:a}=Zp(jt.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=ds(),l=ps().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Dr("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:i}}),Re(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,s=ds(),{done:i,resolve:o,reject:a}=Zp(jt.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(Dr("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,zn(a4)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),Re(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(g){throw this.client.logger.error("request() -> isValidRequest() failed"),g}let{chainId:n,request:s,topic:i,expiry:o=_i.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(i);(a==null?void 0:a.transportType)===vn.relay&&await this.confirmOnlineStateOrThrow();let c=ds(),l=ps().toString(),{done:u,resolve:f,reject:d}=Zp(o,"Request expired. Please try again.");this.events.once(Dr("session_request",c),({error:g,result:b})=>{g?d(g):f(b)});let p="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:p,params:{request:Ni(Lr({},s),{expiryTimestamp:zn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:h}).catch(g=>d(g)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await u();let m={request:Ni(Lr({},s),{expiryTimestamp:zn(o)}),chainId:n};return await Promise.all([new Promise(async g=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),g()}),new Promise(async g=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){let E=await zae(this.client.core.storage,Que);await Fae({id:c,topic:i,wcDeepLink:E})}g()}),u()]).then(g=>g[2])}),Re(this,"respond",async r=>{var n,s;this.isInitialized();let i=this.client.core.eventClient.createEvent({properties:{topic:(r==null?void 0:r.topic)||((s=(n=r==null?void 0:r.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[Cl.session_request_response_started]}});try{await this.isValidRespond(r)}catch(f){throw i.addTrace(f==null?void 0:f.message),i.setError(L1.session_request_response_validation_failure),f}i.addTrace(Cl.session_request_response_validation_success);let{topic:o,response:a}=r,{id:c}=a,l=this.client.session.get(o);l.transportType===vn.relay&&await this.confirmOnlineStateOrThrow();let u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{i.addTrace(Cl.session_request_response_publish_started),Rn(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):rn(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(r)}catch(f){throw i.addTrace(f==null?void 0:f.message),i.setError(L1.session_request_response_publish_failure),f}}),Re(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}let{topic:n}=r;if(this.client.session.keys.includes(n)){let s=ds(),i=ps().toString(),{done:o,resolve:a,reject:c}=Zp(jt.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(Dr("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Re(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:s,chainId:i}=r,o=ps().toString(),a=ds();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Re(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Kr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:s}=$e("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),Re(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>ele(n,r)))),Re(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Re(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);let i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?vn.link_mode:vn.relay;o===vn.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:p,nbf:h,methods:m=[],expiry:g}=r,b=[...r.resources||[]],{topic:E,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:w}});let x=await this.client.core.crypto.generateKeyPair(),C=Z8(x);if(await Promise.all([this.client.auth.authKeys.set(eO,{responseTopic:C,publicKey:x}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:E})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${E}`),m.length>0){let{namespace:k}=Bu(a[0]),L=lce(k,"request",m);gC(b)&&(L=uce(L,b.pop())),b.push(L)}let T=g&&g>_i.wc_sessionAuthenticate.req.ttl?g:_i.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:d!=null?d:"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:p,nbf:h,resources:b},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:zn(T)},B={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},O={requiredNamespaces:{},optionalNamespaces:B,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:zn(_i.wc_sessionPropose.req.ttl),id:ds()},{done:H,resolve:_,reject:N}=Zp(T,"Request expired"),I=ds(),D=Dr("session_connect",O.id),v=Dr("session_request",I),A=async({error:k,session:L})=>{this.events.off(v,R),k?N(k):L&&_({session:L})},R=async k=>{var L,q,Z;if(await this.deletePendingAuthRequest(I,{message:"fulfilled",code:0}),k.error){let be=Kr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return k.error.code===be.code?void 0:(this.events.off(D,A),N(k.error.message))}await this.deleteProposal(O.id),this.events.off(D,A);let{cacaos:ee,responder:ae}=k.result,re=[],we=[];for(let be of ee){await tV({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),N(Kr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:De}=be,Et=gC(De.resources),Pt=[fN(De.iss)],ut=mC(De.iss);if(Et){let Ut=nV(Et),bn=sV(Et);re.push(...Ut),Pt.push(...bn)}for(let Ut of Pt)we.push(`${Ut}:${ut}`)}let ie=await this.client.core.crypto.generateSharedKey(x,ae.publicKey),Te;re.length>0&&(Te={topic:ie,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:ae,controller:ae.publicKey,expiry:zn(a4),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:gV([...new Set(re)],[...new Set(we)]),transportType:o},await this.client.core.relayer.subscribe(ie,{transportType:o}),await this.client.session.set(ie,Te),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:ae.metadata}),Te=this.client.session.get(ie)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(q=ae.metadata.redirect)!=null&&q.linkMode&&(Z=ae.metadata.redirect)!=null&&Z.universal&&n&&(this.client.core.addLinkModeSupportedApp(ae.metadata.redirect.universal),this.client.session.update(ie,{transportType:vn.link_mode})),_({auths:ee,session:Te})};this.events.once(D,A),this.events.once(v,R);let $;try{if(i){let k=zr("wc_sessionAuthenticate",U,I);this.client.core.history.set(E,k);let L=await this.client.core.crypto.encode("",k,{type:G8,encoding:Yp});$=xC(n,E,L)}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:U,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:I}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:O,expiry:_i.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:O.id})])}catch(k){throw this.events.off(D,A),this.events.off(v,R),k}return await this.setProposal(O.id,O),await this.setAuthRequest(I,{request:Ni(Lr({},U),{verifyContext:{}}),pairingTopic:E,transportType:o}),{uri:$!=null?$:w,response:H}}),Re(this,"approveSessionAuthenticate",async r=>{let{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[M1.authenticated_session_approve_started]}});try{this.isInitialized()}catch(g){throw i.setError(o4.no_internet_connection),g}let o=this.getPendingAuthRequest(n);if(!o)throw i.setError(o4.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let a=o.transportType||vn.relay;a===vn.relay&&await this.confirmOnlineStateOrThrow();let c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Z8(c),f={type:Du,receiverPublicKey:c,senderPublicKey:l},d=[],p=[];for(let g of s){if(!await tV({cacao:g,projectId:this.client.core.projectId})){i.setError(o4.invalid_cacao);let C=Kr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:C,encodeOpts:f}),new Error(C.message)}i.addTrace(M1.cacaos_verified);let{p:b}=g,E=gC(b.resources),w=[fN(b.iss)],x=mC(b.iss);if(E){let C=nV(E),T=sV(E);d.push(...C),w.push(...T)}for(let C of w)p.push(`${C}:${x}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(M1.create_authenticated_session_topic);let m;if((d==null?void 0:d.length)>0){m={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:zn(a4),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:gV([...new Set(d)],[...new Set(p)]),transportType:a},i.addTrace(M1.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:a})}catch(g){throw i.setError(o4.subscribe_authenticated_session_topic_failure),g}i.addTrace(M1.subscribe_authenticated_session_topic_success),await this.client.session.set(h,m),i.addTrace(M1.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(M1.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(g){throw i.setError(o4.authenticated_session_approve_publish_failure),g}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),Re(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();let{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===vn.relay&&await this.confirmOnlineStateOrThrow();let o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Z8(o),l={type:Du,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:_i.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Re(this,"formatAuthMessage",r=>{this.isInitialized();let{request:n,iss:s}=r;return rV(n,s)}),Re(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Re(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Re(this,"deleteSession",async r=>{var n;let{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Kr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Que).catch(l=>this.client.logger.warn(l)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=o0.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===s).map(l=>this.deletePendingSessionRequest(l.id,Kr("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),Re(this,"deleteProposal",async(r,n)=>{if(n)try{let s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(L1.proposal_expired)}catch(s){}await Promise.all([this.client.proposal.delete(r,Kr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Re(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=o0.idle,this.client.events.emit("session_request_expire",{id:r}))}),Re(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),Re(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Re(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,zn(_i.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Re(this,"setAuthRequest",async(r,n)=>{let{request:s,pairingTopic:i,transportType:o=vn.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),Re(this,"setPendingSessionRequest",async r=>{let{id:n,topic:s,params:i,verifyContext:o}=r,a=i.request.expiryTimestamp||zn(_i.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),Re(this,"sendRequest",async r=>{let{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,p=zr(s,i,c),h,m=!!u;try{let E=m?Yp:to;h=await this.client.core.crypto.encode(n,p,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),E}let g;if(zZe.includes(s)){let E=Sa(JSON.stringify(p)),w=Sa(h);g=await this.client.core.verify.register({id:w,decryptedId:E})}let b=Lr(Lr({},_i[s].req),d);if(b.attestation=g,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(n,p),m){let E=xC(u,n,h);await global.Linking.openURL(E,this.client.name)}else b.tvf=Ni(Lr({},f),{correlationId:p.id}),l?(b.internal=Ni(Lr({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,b)):this.client.core.relayer.publish(n,h,b).catch(E=>this.client.logger.error(E));return p.id}),Re(this,"sendProposeSession",async r=>{let{proposal:n,publishOpts:s}=r,i=zr("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,i);let o=await this.client.core.crypto.encode(n.pairingTopic,i,{encoding:to}),a=Sa(JSON.stringify(i)),c=Sa(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Ni(Lr({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),Re(this,"sendApproveSession",async r=>{let{sessionTopic:n,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=r,c=ti(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:to}),u=zr("wc_sessionSettle",o,a==null?void 0:a.id),f=await this.client.core.crypto.encode(n,u,{encoding:to});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Ni(Lr({},a),{publishMethod:"wc_approveSession"})})}),Re(this,"sendResult",async r=>{let{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=ti(n,i),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let h=f?Yp:to;u=await this.client.core.crypto.encode(s,l,Ni(Lr({},a||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),h}let d,p;try{d=await this.client.core.history.get(s,n);let h=d.request;try{p=this.getTVFParams(n,h.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),h}if(f){let h=xC(c,s,u);await global.Linking.openURL(h,this.client.name)}else{let h=d.request.method,m=_i[h].res;m.tvf=Ni(Lr({},p),{correlationId:n}),o?(m.internal=Ni(Lr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(g=>this.client.logger.error(g))}await this.client.core.history.resolve(l)}),Re(this,"sendError",async r=>{let{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=vc(n,i),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let p=f?Yp:to;u=await this.client.core.crypto.encode(s,l,Ni(Lr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),p}let d;try{d=await this.client.core.history.get(s,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),p}if(f){let p=xC(c,s,u);await global.Linking.openURL(p,this.client.name)}else{let p=d.request.method,h=a||_i[p].res;this.client.core.relayer.publish(s,u,h)}await this.client.core.history.resolve(l)}),Re(this,"cleanup",async()=>{let r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;xc(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{xc(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),Re(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Re(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Re(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===o0.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=o0.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=o0.idle}),Re(this,"processRequest",async r=>{let{topic:n,payload:s,attestation:i,transportType:o,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Re(this,"onRelayEventResponse",async r=>{let{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Re(this,"onRelayEventUnknownPayload",r=>{let{topic:n}=r,{message:s}=$e("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),Re(this,"shouldIgnorePairingRequest",r=>{let{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Re(this,"onSessionProposeRequest",async r=>{let{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:a,id:c}=s;try{let l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(n0.proposal_listener_not_found)),this.isValidConnect(Lr({},s.params));let u=a.expiryTimestamp||zn(_i.wc_sessionPropose.req.ttl),f=Lr({id:c,pairingTopic:n,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,f);let d=await this.getVerifyContext({attestationId:i,hash:Sa(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});l==null||l.addTrace(Hu.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:_i.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Re(this,"onSessionProposeResponse",async(r,n,s)=>{let{id:i}=n;if(Rn(n)){let{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});let a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:r,proposalId:i,publicKey:c});let f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(rn(n)){await this.deleteProposal(i);let o=Dr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Re(this,"onSessionSettleRequest",async(r,n)=>{let{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);let{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d,proposalRequestsResponses:p}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);let m=this.client.proposal.get(h.proposalId),g=Ni(Lr(Lr(Lr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:vn.relay,authentication:p==null?void 0:p.authentication,walletPayResult:p==null?void 0:p.walletPay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Dr("session_connect",h.proposalId),{session:g})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Re(this,"onSessionSettleResponse",async(r,n)=>{let{id:s}=n;Rn(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Dr("session_approve",s),{})):rn(n)&&(await this.client.session.delete(r,Kr("USER_DISCONNECTED")),this.events.emit(Dr("session_approve",s),{error:n.error}))}),Re(this,"onSessionUpdateRequest",async(r,n)=>{let{params:s,id:i}=n;try{let o=`${r}_session_update`,a=O1.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:Kr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Lr({topic:r},s));try{O1.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0})}catch(c){throw O1.delete(o),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Re(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Re(this,"onSessionUpdateResponse",(r,n)=>{let{id:s}=n,i=Dr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Dr("session_update",s),{}):rn(n)&&this.events.emit(Dr("session_update",s),{error:n.error})}),Re(this,"onSessionExtendRequest",async(r,n)=>{let{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,zn(a4)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),Re(this,"onSessionExtendResponse",(r,n)=>{let{id:s}=n,i=Dr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Dr("session_extend",s),{}):rn(n)&&this.events.emit(Dr("session_extend",s),{error:n.error})}),Re(this,"onSessionPingRequest",async(r,n)=>{let{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),Re(this,"onSessionPingResponse",(r,n)=>{let{id:s}=n,i=Dr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Rn(n)?this.events.emit(Dr("session_ping",s),{}):rn(n)&&this.events.emit(Dr("session_ping",s),{error:n.error})},500)}),Re(this,"onSessionDeleteRequest",async(r,n)=>{let{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Kr("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(i){this.client.logger.error(i)}}),Re(this,"onSessionRequest",async r=>{var n,s,i;let{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(Lr({topic:o},d));let p=this.client.session.get(o),h=await this.getVerifyContext({attestationId:c,hash:Sa(JSON.stringify(zr("wc_sessionRequest",d,f))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),m={id:f,topic:o,params:d,verifyContext:h};await this.setPendingSessionRequest(m),u===vn.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=p.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:f,topic:o,error:p}),this.client.logger.error(p)}}),Re(this,"onSessionRequestResponse",(r,n)=>{let{id:s}=n,i=Dr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Rn(n)?this.events.emit(Dr("session_request",s),{result:n.result}):rn(n)&&this.events.emit(Dr("session_request",s),{error:n.error})}),Re(this,"onSessionEventRequest",async(r,n)=>{let{id:s,params:i}=n;try{let o=`${r}_session_event_${i.event.name}`,a=O1.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Lr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),O1.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Re(this,"onSessionAuthenticateResponse",(r,n)=>{let{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Rn(n)?this.events.emit(Dr("session_request",s),{result:n.result}):rn(n)&&this.events.emit(Dr("session_request",s),{error:n.error})}),Re(this,"onSessionAuthenticateRequest",async r=>{var n;let{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=r;try{let{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:o,hash:Sa(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:p,pairingTopic:s,transportType:c}),c===vn.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);let u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),p={type:Du,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:p,rpcOpts:_i.wc_sessionAuthenticate.autoReject,appLink:d})}}),Re(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Re(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=o0.idle,this.processSessionRequestQueue()},(0,jt.toMiliseconds)(this.requestQueueDelay))}),Re(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{let s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{this.events.emit(Dr("session_request",i.request.id),{error:n})})}),Re(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===o0.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Re(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=o0.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Re(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:zr("wc_sessionPropose",Ni(Lr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Re(this,"isValidConnect",async r=>{if(!ro(r)){let{message:l}=$e("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}let{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=r;if(fs(n)||await this.isValidPairingTopic(n),!ale(c,!0)){let{message:l}=$e("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(s&&!fs(s)&&vl(s)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!fs(i)&&vl(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),o&&!fs(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!fs(a)){this.validateSessionProps(a,"scopedProperties");let l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Re(this,"validateNamespaces",(r,n)=>{let s=ole(r,"connect()",n);if(s)throw new Error(s.message)}),Re(this,"isValidApprove",async r=>{if(!ro(r))throw new Error($e("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let c=this.client.proposal.get(n),l=yN(s,"approve()");if(l)throw new Error(l.message);let u=xV(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!ts(i,!0)){let{message:f}=$e("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(o&&!fs(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!fs(a)){this.validateSessionProps(a,"scopedProperties");let f=new Set(Object.keys(s));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),Re(this,"isValidReject",async r=>{if(!ro(r)){let{message:i}=$e("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}let{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!lle(s)){let{message:i}=$e("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),Re(this,"isValidSessionSettleRequest",r=>{if(!ro(r)){let{message:l}=$e("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!bV(n)){let{message:l}=$e("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=sle(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=yN(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(xc(o)){let{message:l}=$e("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Re(this,"isValidUpdate",async r=>{if(!ro(r)){let{message:c}=$e("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let i=this.client.session.get(n),o=yN(s,"update()");if(o)throw new Error(o.message);let a=xV(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),Re(this,"isValidExtend",async r=>{if(!ro(r)){let{message:s}=$e("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Re(this,"isValidRequest",async r=>{if(!ro(r)){let{message:c}=$e("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!wV(a,i)){let{message:c}=$e("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!ule(s)){let{message:c}=$e("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!ple(a,i,s.method)){let{message:c}=$e("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),Re(this,"isValidRespond",async r=>{var n;if(!ro(r)){let{message:a}=$e("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!fle(i)){let{message:a}=$e("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}let o=this.client.pendingRequest.get(i.id);if(o.topic!==s){let{message:a}=$e("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${o.topic}, received topic: ${s}`);throw new Error(a)}}),Re(this,"isValidPing",async r=>{if(!ro(r)){let{message:s}=$e("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Re(this,"isValidEmit",async r=>{if(!ro(r)){let{message:a}=$e("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!wV(o,i)){let{message:a}=$e("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!dle(s)){let{message:a}=$e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!hle(o,i,s.name)){let{message:a}=$e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),Re(this,"isValidDisconnect",async r=>{if(!ro(r)){let{message:s}=$e("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Re(this,"isValidAuthenticate",r=>{let{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!ts(s,!1))throw new Error("uri is required parameter");if(!ts(i,!1))throw new Error("domain is required parameter");if(!ts(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Bu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=Bu(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Re(this,"getVerifyContext",async r=>{let{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||i4,validation:"UNKNOWN",origin:o.url||""}};try{if(a===vn.link_mode){let u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Re(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){let{message:o}=$e("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),Re(this,"getPendingAuthRequest",r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Re(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0,i=this.recentlyDeletedLimit/2;for(let o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),Re(this,"checkRecentlyDeleted",r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:s}=$e("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),Re(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,a,c,l,u,f,d;return!r||n!==vn.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((d=r==null?void 0:r.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Re(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),Re(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=Gz(r,"topic")||"",s=decodeURIComponent(Gz(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:vn.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),Re(this,"registerLinkModeListeners",async()=>{var r;if(pC()||Gp()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),Re(this,"getTVFApproveParams",r=>{try{let n=mV(r.namespaces),s=Jce(r.namespaces),i=Qce(r.namespaces),o=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:i,sessionProperties:o,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),Re(this,"getTVFParams",(r,n,s)=>{var i,o,a;if(!((i=n.request)!=null&&i.method))return{};let c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{let l=this.extractTxHashesFromResult(n.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),Re(this,"isValidContractData",r=>{var n;if(!r)return!1;try{let s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;let i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch(s){}return!1}),Re(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];let i=r.method,o=HZe[i];if(i==="sui_signTransaction")return[sce(n.transactionBytes)];if(i==="near_signTransaction")return[Xz(n)];if(i==="near_signTransactions")return n.map(c=>Xz(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[ble({transaction:r.params.transactionPayload,signature:n.signature})];if(i==="algo_signTxn")return jo(n)?n.map(c=>eV(c)):[eV(n)];if(i==="cosmos_signDirect")return[ice(n)];if(i==="wallet_sendCalls")return oce(n);if(typeof n=="string")return[n];let a=n[o.key];if(jo(a))return i==="solana_signAllTransactions"?a.map(c=>nce(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(let[n,s]of Object.entries(r))for(let i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch(o){this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hs.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(eO)?this.client.auth.authKeys.get(eO):{responseTopic:void 0,publicKey:void 0};try{let a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===vn.link_mode?Yp:to});Lu(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:i,encryptedId:Sa(n)})):Ec(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:i}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:i})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Tc.expired,async e=>{let{topic:r,id:n}=oN(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,$e("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,$e("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(D1.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(D1.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ts(e,!1)){let{message:r}=$e("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=$e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(xc(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=$e("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!ts(e,!1)){let{message:r}=$e("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:r}=$e("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(xc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:r}=$e("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){let{message:r}=$e("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ts(e,!1)){let{message:r}=$e("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=$e("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!cle(e)){let{message:r}=$e("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=$e("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(xc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:r}=$e("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}validateRequestExpiry(e){if(e&&!mle(e,Aj)){let{message:r}=$e("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${Aj.min} and ${Aj.max}`);throw new Error(r)}}},Tj=class extends i0{constructor(e,r){super(e,r,LZe,Uj),this.core=e,this.logger=r}},Pj=class extends i0{constructor(e,r){super(e,r,MZe,Uj),this.core=e,this.logger=r}},_j=class extends i0{constructor(e,r){super(e,r,FZe,Uj,n=>n.id),this.core=e,this.logger=r}},Nj=class extends i0{constructor(e,r){super(e,r,qZe,rO,()=>eO),this.core=e,this.logger=r}},Oj=class extends i0{constructor(e,r){super(e,r,WZe,rO),this.core=e,this.logger=r}},Rj=class extends i0{constructor(e,r){super(e,r,KZe,rO,n=>n.id),this.core=e,this.logger=r}},XZe=Object.defineProperty,eYe=(t,e,r)=>e in t?XZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cj=(t,e,r)=>eYe(t,typeof e!="symbol"?e+"":e,r),kj=class{constructor(e,r){this.core=e,this.logger=r,Cj(this,"authKeys"),Cj(this,"pairingTopics"),Cj(this,"requests"),this.authKeys=new Nj(this.core,this.logger),this.pairingTopics=new Oj(this.core,this.logger),this.requests=new Rj(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},tYe=Object.defineProperty,rYe=(t,e,r)=>e in t?tYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,or=(t,e,r)=>rYe(t,typeof e!="symbol"?e+"":e,r),Bj=class t extends LN{constructor(e){super(e),or(this,"protocol",tfe),or(this,"version",rfe),or(this,"name",Ej.name),or(this,"metadata"),or(this,"core"),or(this,"logger"),or(this,"events",new tO.EventEmitter),or(this,"engine"),or(this,"session"),or(this,"proposal"),or(this,"pendingRequest"),or(this,"auth"),or(this,"signConfig"),or(this,"on",(n,s)=>this.events.on(n,s)),or(this,"once",(n,s)=>this.events.once(n,s)),or(this,"off",(n,s)=>this.events.off(n,s)),or(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),or(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),or(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),or(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),or(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),or(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||Ej.name,this.metadata=Dae(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;let r=Q8({logger:(e==null?void 0:e.logger)||Ej.logger,name:this.name});this.logger=r,this.core=(e==null?void 0:e.core)||new Jue(e),this.session=new Pj(this.core,this.logger),this.proposal=new Tj(this.core,this.logger),this.pendingRequest=new _j(this.core,this.logger),this.engine=new Ij(this),this.auth=new kj(this.core,this.logger)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return Ur(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var sfe=Bj;Mu();t4();iO();var kfe=pr(Fo(),1);function Yj(t){return t==null||typeof t!="object"&&typeof t!="function"}function Bfe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Ufe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var uYe="[object RegExp]",Dfe="[object String]",Lfe="[object Number]",Mfe="[object Boolean]",$fe="[object Arguments]",fYe="[object Symbol]",dYe="[object Date]",pYe="[object Map]",hYe="[object Set]",mYe="[object Array]",gYe="[object ArrayBuffer]",yYe="[object Object]",bYe="[object DataView]",wYe="[object Uint8Array]",xYe="[object Uint8ClampedArray]",vYe="[object Uint16Array]",EYe="[object Uint32Array]",AYe="[object Int8Array]",CYe="[object Int16Array]",SYe="[object Int32Array]",IYe="[object Float32Array]",TYe="[object Float64Array]";function Jj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PYe(t,e){return u4(t,void 0,t,new Map,e)}function u4(t,e,r,n=new Map,s=void 0){let i=s==null?void 0:s(t,e,r,n);if(i!=null)return i;if(Yj(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){let o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=u4(t[a],a,r,n,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){let o=new Map;n.set(t,o);for(let[a,c]of t)o.set(a,u4(c,a,r,n,s));return o}if(t instanceof Set){let o=new Set;n.set(t,o);for(let a of t)o.add(u4(a,void 0,r,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Jj(t)){let o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=u4(t[a],a,r,n,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){let o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),$b(o,t,r,n,s),o}if(typeof File<"u"&&t instanceof File){let o=new File([t],t.name,{type:t.type});return n.set(t,o),$b(o,t,r,n,s),o}if(t instanceof Blob){let o=new Blob([t],{type:t.type});return n.set(t,o),$b(o,t,r,n,s),o}if(t instanceof Error){let o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,$b(o,t,r,n,s),o}if(typeof t=="object"&&_Ye(t)){let o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),$b(o,t,r,n,s),o}return t}function $b(t,e,r=t,n,s){let i=[...Object.keys(e),...Bfe(e)];for(let o=0;o<i.length;o++){let a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=u4(e[a],a,r,n,s))}}function _Ye(t){switch(Ufe(t)){case $fe:case mYe:case gYe:case bYe:case Mfe:case dYe:case IYe:case TYe:case AYe:case CYe:case SYe:case pYe:case Lfe:case yYe:case uYe:case hYe:case Dfe:case fYe:case wYe:case xYe:case vYe:case EYe:return!0;default:return!1}}function NYe(t,e){return PYe(t,(r,n,s,i)=>{let o=e==null?void 0:e(r,n,s,i);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Lfe:case Dfe:case Mfe:{let a=new t.constructor(t==null?void 0:t.valueOf());return $b(a,t),a}case $fe:{let a={};return $b(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function hfe(t){return NYe(t)}function mfe(t){return t!==null&&typeof t=="object"&&Ufe(t)==="[object Arguments]"}function gfe(t){return typeof t=="object"&&t!==null}function OYe(){}function RYe(t){return Jj(t)}function kYe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){let n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function BYe(t){if(Yj(t))return t;if(Array.isArray(t)||Jj(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);let e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){let n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){let n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){let n=Object.create(e);return Object.assign(n,t)}return t}function UYe(t,...e){let r=e.slice(0,-1),n=e[e.length-1],s=t;for(let i=0;i<r.length;i++){let o=r[i];s=Vj(s,o,n,new Map)}return s}function Vj(t,e,r,n){var i;if(Yj(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return BYe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let o=0;o<e.length;o++)e[o]=(i=e[o])!=null?i:void 0}let s=[...Object.keys(e),...Bfe(e)];for(let o=0;o<s.length;o++){let a=s[o],c=e[a],l=t[a];if(mfe(c)&&(c=S({},c)),mfe(l)&&(l=S({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=hfe(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){let f=[],d=Reflect.ownKeys(l);for(let p=0;p<d.length;p++){let h=d[p];f[h]=l[h]}l=f}else l=[];let u=r(l,c,a,t,e,n);u!=null?t[a]=u:Array.isArray(c)||gfe(l)&&gfe(c)?t[a]=Vj(l,c,r,n):l==null&&kYe(c)?t[a]=Vj({},c,r,n):l==null&&RYe(c)?t[a]=hfe(c):(l===void 0||c!==void 0)&&(t[a]=c)}return t}function DYe(t,...e){return UYe(t,...e,OYe)}var yfe="error",LYe="wss://relay.walletconnect.org",MYe="wc",Hfe="universal_provider",oO=`${MYe}@2:${Hfe}:`,Ffe="https://rpc.walletconnect.org/v1/",zfe="generic",$Ye=`${Ffe}bundler`,f4="call_status",HYe=86400,Qj={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},FYe=Object.defineProperty,zYe=Object.defineProperties,VYe=Object.getOwnPropertyDescriptors,bfe=Object.getOwnPropertySymbols,jYe=Object.prototype.hasOwnProperty,qYe=Object.prototype.propertyIsEnumerable,wfe=(t,e,r)=>e in t?FYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aO=(t,e)=>{for(var r in e||(e={}))jYe.call(e,r)&&wfe(t,r,e[r]);if(bfe)for(var r of bfe(e))qYe.call(e,r)&&wfe(t,r,e[r]);return t},WYe=(t,e)=>zYe(t,VYe(e));function Vfe(t,e,r){var n;let s=Bu(t);return((n=e.rpcMap)==null?void 0:n[s.reference])||`${Ffe}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function KYe(t){return t.includes(":")?t.split(":")[1]:t}function jfe(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function GYe(t,e){let r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];let n=[];return r.forEach(s=>{let i=e.namespaces[s].accounts;n.push(...i)}),n}function xfe(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,s;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((s=r==null?void 0:r.chains)==null?void 0:s.length)>0}))}function cO(t={},e={}){let r=xfe(vfe(t)),n=xfe(vfe(e));return DYe(r,n)}function vfe(t){var e,r,n,s,i;let o={};if(!vl(t))return o;for(let[a,c]of Object.entries(t)){let l=vC(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},p=Db(a);o[p]=WYe(aO(aO({},o[p]),c),{chains:Nu(l,(e=o[p])==null?void 0:e.chains),methods:Nu(u,(r=o[p])==null?void 0:r.methods),events:Nu(f,(n=o[p])==null?void 0:n.events)}),(vl(d)||vl(((s=o[p])==null?void 0:s.rpcMap)||{}))&&(o[p].rpcMap=aO(aO({},d),(i=o[p])==null?void 0:i.rpcMap))}return o}function Efe(t){return t.includes(":")?t.split(":")[2]:t}function Afe(t){let e={};for(let[r,n]of Object.entries(t)){let s=n.methods||[],i=n.events||[],o=n.accounts||[],a=vC(r)?[r]:n.chains?n.chains:jfe(n.accounts);e[r]={chains:a,methods:s,events:i,accounts:o}}return e}function Lj(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function ZYe(t){try{let e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch(e){return!1}}var qfe={},d4=t=>qfe[t],Mj=(t,e)=>{qfe[t]=e},YYe=Object.defineProperty,Cfe=Object.getOwnPropertySymbols,JYe=Object.prototype.hasOwnProperty,QYe=Object.prototype.propertyIsEnumerable,Sfe=(t,e,r)=>e in t?YYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ife=(t,e)=>{for(var r in e||(e={}))JYe.call(e,r)&&Sfe(t,r,e[r]);if(Cfe)for(var r of Cfe(e))QYe.call(e,r)&&Sfe(t,r,e[r]);return t},Tfe="eip155",XYe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],eJe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,$j=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,Pfe=t=>Object.keys(t).filter(e=>XYe.includes(e)).reduce((e,r)=>(e[r]=tJe(t[r]),e),{}),tJe=t=>typeof t=="string"&&ZYe(t)?JSON.parse(t):t,rJe=(t,e,r)=>{let{sessionProperties:n={},scopedProperties:s={}}=t,i={};if(!vl(s)&&!vl(n))return;let o=Pfe(n);for(let a of r){let c=eJe(a);if(!c)continue;i[$j(c)]=o;let l=s==null?void 0:s[`${Tfe}:${c}`];if(l){let u=l==null?void 0:l[`${Tfe}:${c}:${e}`];i[$j(c)]=Ife(Ife({},i[$j(c)]),Pfe(u||l))}}for(let[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0},nJe=Object.defineProperty,sJe=(t,e,r)=>e in t?nJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iJe=(t,e,r)=>sJe(t,typeof e!="symbol"?e+"":e,r),Hj,jj=class t{constructor(e){iJe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return Hj||(Hj=new t(e)),Hj}},oJe=Object.defineProperty,aJe=Object.defineProperties,cJe=Object.getOwnPropertyDescriptors,_fe=Object.getOwnPropertySymbols,lJe=Object.prototype.hasOwnProperty,uJe=Object.prototype.propertyIsEnumerable,Nfe=(t,e,r)=>e in t?oJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fJe=(t,e)=>{for(var r in e||(e={}))lJe.call(e,r)&&Nfe(t,r,e[r]);if(_fe)for(var r of _fe(e))uJe.call(e,r)&&Nfe(t,r,e[r]);return t},dJe=(t,e)=>aJe(t,cJe(e));async function pJe(t,e){let r=Bu(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(f=>hJe(r.reference,f,e))),i=s.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);s.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));let o=!i.length||i.some(f=>!f),a=i.every(f=>(f==null?void 0:f.status)==="0x1"),c=i.every(f=>(f==null?void 0:f.status)==="0x0"),l=i.some(f=>(f==null?void 0:f.status)==="0x0"),u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:i,status:u}}async function hJe(t,e,r){return await r(parseInt(t)).request(zr("eth_getTransactionReceipt",[e]))}async function mJe({sendCalls:t,storage:e}){let r=await e.getItem(f4);await e.setItem(f4,dJe(fJe({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:zn(HYe)}}))}async function gJe({resultId:t,storage:e}){let r=await e.getItem(f4);if(r){delete r[t],await e.setItem(f4,r);for(let n in r)xc(r[n].expiry)&&delete r[n];await e.setItem(f4,r)}}async function yJe({resultId:t,storage:e}){let r=await e.getItem(f4),n=r==null?void 0:r[t];if(n&&!xc(n.expiry))return n;await gJe({resultId:t,storage:e})}var bJe=Object.defineProperty,wJe=Object.defineProperties,xJe=Object.getOwnPropertyDescriptors,Ofe=Object.getOwnPropertySymbols,vJe=Object.prototype.hasOwnProperty,EJe=Object.prototype.propertyIsEnumerable,qj=(t,e,r)=>e in t?bJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fj=(t,e)=>{for(var r in e||(e={}))vJe.call(e,r)&&qj(t,r,e[r]);if(Ofe)for(var r of Ofe(e))EJe.call(e,r)&&qj(t,r,e[r]);return t},zj=(t,e)=>wJe(t,xJe(e)),Mb=(t,e,r)=>qj(t,typeof e!="symbol"?e+"":e,r),Wj=class{constructor(e){Mb(this,"name","eip155"),Mb(this,"client"),Mb(this,"chainId"),Mb(this,"namespace"),Mb(this,"httpProviders"),Mb(this,"events"),Mb(this,"storage"),this.namespace=e.namespace,this.events=d4("events"),this.client=d4("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=jj.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);let n=this.chainId;this.chainId=parseInt(e),this.events.emit(Qj.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){let n=r||Vfe(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new Sl(n,d4("disableProviderPing")))}setHttpProvider(e,r){let n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){let e={};return this.namespace.chains.forEach(r=>{var n;let s=parseInt(KYe(r));e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){let r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=zj(Fj({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;let i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,s,i,o;let a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},f=c.length>0?c.join(","):`0x${this.chainId.toString(16)}`,d=`${a}${f}`,p=u==null?void 0:u[d];if(p)return p;let h;try{h=rJe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;let m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:zj(Fj({},l.sessionProperties||{}),{capabilities:zj(Fj({},u||{}),{[d]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n,s;let i=this.client.session.get(e.topic),o=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(o){let l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}let a=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}let c=await yJe({resultId:(s=e.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await pJe(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;let s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(zr("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,r){return`${$Ye}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,s;let i=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=i==null?void 0:i.id,c=(i==null?void 0:i.capabilities)||{},l=(n=c==null?void 0:c.caip345)==null?void 0:n.caip2,u=(s=c==null?void 0:c.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await mJe({sendCalls:{request:o,result:i},storage:this.storage}),i}},AJe=Object.defineProperty,CJe=(t,e,r)=>e in t?AJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l4=(t,e,r)=>CJe(t,typeof e!="symbol"?e+"":e,r),Kj=class{constructor(e){l4(this,"name",zfe),l4(this,"client"),l4(this,"httpProviders"),l4(this,"events"),l4(this,"namespace"),l4(this,"chainId"),this.namespace=e.namespace,this.events=d4("events"),this.client=d4("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);let n=this.chainId;this.chainId=e,this.events.emit(Qj.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Bu(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;let n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{var i,o;let a=Bu(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(e){let r=Bu(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){let n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){let n=r||Vfe(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cc(new Sl(n,d4("disableProviderPing")))}},SJe=Object.defineProperty,IJe=Object.defineProperties,TJe=Object.getOwnPropertyDescriptors,Rfe=Object.getOwnPropertySymbols,PJe=Object.prototype.hasOwnProperty,_Je=Object.prototype.propertyIsEnumerable,Gj=(t,e,r)=>e in t?SJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MC=(t,e)=>{for(var r in e||(e={}))PJe.call(e,r)&&Gj(t,r,e[r]);if(Rfe)for(var r of Rfe(e))_Je.call(e,r)&&Gj(t,r,e[r]);return t},lO=(t,e)=>IJe(t,TJe(e)),Pc=(t,e,r)=>Gj(t,typeof e!="symbol"?e+"":e,r),Zj=class t{constructor(e){Pc(this,"client"),Pc(this,"namespaces"),Pc(this,"optionalNamespaces"),Pc(this,"sessionProperties"),Pc(this,"scopedProperties"),Pc(this,"events",new kfe.default),Pc(this,"rpcProviders",{}),Pc(this,"session"),Pc(this,"providerOpts"),Pc(this,"logger"),Pc(this,"uri"),Pc(this,"disableProviderPing",!1),Pc(this,"connectParams");var r,n;this.providerOpts=e,this.logger=Q8({logger:(r=e.logger)!=null?r:yfe,name:(n=this.providerOpts.name)!=null?n:Hfe}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){let r=new t(e);return await r.initialize(),r}async request(e,r,n){let[s,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:MC({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,s){let i=new Date().getTime();this.request(e,n,s).then(o=>r(null,ti(i,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Kr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:n,response:s}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));let i=await s();if(this.session=i.session,this.session){let o=Afe(this.session.namespaces);this.namespaces=cO(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){var r,n;let{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));let o=await i();this.session=o;let a=Afe(o.namespaces);return this.namespaces=cO(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;let[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let r=this.client.pairing.getAll();if(!jo(r))return;for(let n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await sfe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||yfe,relayUrl:this.providerOpts.relayUrl||LYe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{let n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(r=>Db(r)))];Mj("client",this.client),Mj("events",this.events),Mj("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;let n=GYe(r,this.session);if((n==null?void 0:n.length)===0)return;let s=jfe(n),i=cO(this.namespaces,this.optionalNamespaces),o=lO(MC({},i[r]),{accounts:n,chains:s});r==="eip155"?this.rpcProviders[r]=new Wj({namespace:o}):this.rpcProviders[r]=new Kj({namespace:o})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;let{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;let{params:n,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;let{event:i}=n;if(i.name==="accountsChanged"){let o=i.data;o&&jo(o)&&this.events.emit("accountsChanged",o.map(Efe))}else if(i.name==="chainChanged"){let o=n.chainId,a=n.event.data,c=Db(o),l=Lj(o)!==Lj(a)?`${c}:${Lj(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,s;if(e!==((n=this.session)==null?void 0:n.topic))return;let{namespaces:i}=r,o=(s=this.client)==null?void 0:s.session.get(e);this.session=lO(MC({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",lO(MC({},Kr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Qj.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(lO(MC({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[zfe]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){let{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=cO(r,n),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){let[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Db(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];let s=Db(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;let[s,i]=this.validateChain(e);i&&(this.updateNamespaceChain(s,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var s,i;try{if(n===r)return;let o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;let a=o.filter(c=>c.includes(`${r}:`)).map(Efe);if(!jo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,r){if(!this.namespaces)return;let n=this.namespaces[e]?e:`${e}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;let s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${oO}/${e}${s}`,r)}async getFromStore(e){var r;let n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${oO}/${e}${n}`)}async deleteFromStore(e){var r;let n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${oO}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;let r=await this.client.core.storage.getKeys();for(let n of r)n.startsWith(oO)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}},Wfe=Zj;var i1t="wc",o1t="ethereum_provider",a1t=`${i1t}@2:${o1t}:`,c1t="https://rpc.walletconnect.org/v1/",hee=["eth_sendTransaction","personal_sign"],l1t=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],mee=["chainChanged","accountsChanged"],u1t=["chainChanged","accountsChanged","message","disconnect","connect"],f1t=async()=>{let{createAppKit:t}=await Promise.resolve().then(()=>(sNe(),nNe));return t},d1t=Object.defineProperty,p1t=Object.defineProperties,h1t=Object.getOwnPropertyDescriptors,iNe=Object.getOwnPropertySymbols,m1t=Object.prototype.hasOwnProperty,g1t=Object.prototype.propertyIsEnumerable,gee=(t,e,r)=>e in t?d1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qx=(t,e)=>{for(var r in e||(e={}))m1t.call(e,r)&&gee(t,r,e[r]);if(iNe)for(var r of iNe(e))g1t.call(e,r)&&gee(t,r,e[r]);return t},yT=(t,e)=>p1t(t,h1t(e)),sl=(t,e,r)=>gee(t,typeof e!="symbol"?e+"":e,r);function SL(t){return Number(t[0].split(":")[1])}function CL(t){return`0x${t.toString(16)}`}function y1t(t){let{chains:e,optionalChains:r,methods:n,optionalMethods:s,events:i,optionalEvents:o,rpcMap:a}=t;if(!jo(e))throw new Error("Invalid chains");let c={chains:e,methods:n||hee,events:i||mee,rpcMap:Qx({},e.length?{[SL(e)]:a[SL(e)]}:{})},l=i==null?void 0:i.filter(p=>!mee.includes(p)),u=n==null?void 0:n.filter(p=>!hee.includes(p));if(!r&&!o&&!s&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};let f=(l==null?void 0:l.length)&&(u==null?void 0:u.length)||!r,d={chains:[...new Set(f?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(s!=null&&s.length?s:l1t))],events:[...new Set(c.events.concat(o!=null&&o.length?o:u1t))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?d:void 0}}var yee=class t{constructor(){sl(this,"events",new cNe.EventEmitter),sl(this,"namespace","eip155"),sl(this,"accounts",[]),sl(this,"signer"),sl(this,"chainId",1),sl(this,"modal"),sl(this,"rpc"),sl(this,"STORAGE_KEY",a1t),sl(this,"on",(e,r)=>(this.events.on(e,r),this)),sl(this,"once",(e,r)=>(this.events.once(e,r),this)),sl(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),sl(this,"off",(e,r)=>(this.events.off(e,r),this)),sl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){let r=new t;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:n,optional:s}=y1t(this.rpc);try{let i=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));let f=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(yT(Qx({namespaces:Qx({},n&&{[this.namespace]:n})},s&&{optionalNamespaces:{[this.namespace]:s}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:f})).then(d=>{a(d)}).catch(d=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(d.message))})});if(!i)return;let o=jz(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:CL(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{let s=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(yT(Qx({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),i=s.session;if(i){let o=jz(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:CL(this.chainId)})}return s}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{let r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",CL(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",yT(Qx({},Kr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",CL(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){let[r,n,s]=e.split(":");return{chainId:`${r}:${n}`,address:s}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;let s=(r=e==null?void 0:e.chains)!=null?r:[],i=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=s.concat(i);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");let a=s.length?(e==null?void 0:e.methods)||hee:[],c=s.length?(e==null?void 0:e.events)||mee:[],l=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],f=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),d=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:s==null?void 0:s.map(p=>this.formatChainId(p)),optionalChains:i.map(p=>this.formatChainId(p)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:f,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:d,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){let n={};return e.forEach(s=>{n[s]=this.getRpcUrl(s,r)}),n}async initialize(e){var r;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?SL(this.rpc.chains):SL(this.rpc.optionalChains),this.signer=await Wfe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{let s=await f1t(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return T1t}),o=i(yT(Qx({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect");n=s(yT(Qx({},o),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((r=this.rpc.qrModalOptions)==null?void 0:r.enableMobileFullScreen)===!0}))}catch(s){throw console.warn(s),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(s){throw this.signer.logger.error(s),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:r,optionalChains:n,rpcMap:s}=e;r&&jo(r)&&(this.rpc.chains=r.map(i=>this.formatChainId(i)),r.forEach(i=>{this.rpc.rpcMap[i]=(s==null?void 0:s[i])||this.getRpcUrl(i)})),n&&jo(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(i=>this.formatChainId(i)),n.forEach(i=>{this.rpc.rpcMap[i]=(s==null?void 0:s[i])||this.getRpcUrl(i)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${c1t}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}},lNe=yee,b1t=Object.defineProperty,w1t=Object.defineProperties,x1t=Object.getOwnPropertyDescriptors,oNe=Object.getOwnPropertySymbols,v1t=Object.prototype.hasOwnProperty,E1t=Object.prototype.propertyIsEnumerable,aNe=(t,e,r)=>e in t?b1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uNe=(t,e)=>{for(var r in e||(e={}))v1t.call(e,r)&&aNe(t,r,e[r]);if(oNe)for(var r of oNe(e))E1t.call(e,r)&&aNe(t,r,e[r]);return t},A1t=(t,e)=>w1t(t,x1t(e));function C1t(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}var S1t=t=>{let[e,r]=t.split(":");return fNe({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function I1t(t){var e,r,n,s,i,o,a;let c=(e=t.chains)==null?void 0:e.map(S1t).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");let l=c.find(f=>{var d;return f.id===((d=t.defaultChain)==null?void 0:d.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:C1t(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:A1t(uNe({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((s=t.metadata)==null?void 0:s.url)||"https://walletconnect.org",icons:((i=t.metadata)==null?void 0:i.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){let f=[...(t.mobileWallets||[]).map(h=>({id:h.id,name:h.name,links:h.links})),...(t.desktopWallets||[]).map(h=>({id:h.id,name:h.name,links:{native:h.links.native,universal:h.links.universal}}))],d=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=f.filter(h=>!d.includes(h.id));p.length&&(u.customWallets=p)}return u}function fNe(t){return uNe({formatters:void 0,fees:void 0,serializers:void 0},t)}var T1t=Object.freeze({__proto__:null,convertWCMToAppKitOptions:I1t,defineChain:fNe});var yre={};Me(yre,{AbiCoder:()=>dl,AbstractProvider:()=>yl,AbstractSigner:()=>bl,AlchemyProvider:()=>Yy,AnkrProvider:()=>Zy,BaseContract:()=>gp,BaseWallet:()=>Ep,Block:()=>ky,BlockscoutProvider:()=>aA,BrowserProvider:()=>oA,ChainstackProvider:()=>Jy,CloudflareProvider:()=>Qy,ConstructorFragment:()=>Df,Contract:()=>ma,ContractEventPayload:()=>By,ContractFactory:()=>OE,ContractTransactionReceipt:()=>L6,ContractTransactionResponse:()=>mp,ContractUnknownEventPayload:()=>Hm,EnsPlugin:()=>Vm,EnsResolver:()=>Fm,ErrorDescription:()=>D6,ErrorFragment:()=>Do,EtherSymbol:()=>oM,EtherscanPlugin:()=>XE,EtherscanProvider:()=>Xy,EventFragment:()=>Uf,EventLog:()=>hp,EventPayload:()=>tp,FallbackFragment:()=>Py,FallbackProvider:()=>ib,FeeData:()=>Mm,FeeDataNetworkPlugin:()=>UE,FetchCancelSignal:()=>o6,FetchRequest:()=>Or,FetchResponse:()=>tu,FetchUrlFeeDataNetworkPlugin:()=>Ly,FixedNumber:()=>Cm,Fragment:()=>$f,FunctionFragment:()=>Lf,GasCostPlugin:()=>zm,HDNodeVoidWallet:()=>fb,HDNodeWallet:()=>Pp,Indexed:()=>Oy,InfuraProvider:()=>Qm,InfuraWebSocketProvider:()=>n8,Interface:()=>dp,IpcSocketProvider:()=>x$,JsonRpcApiProvider:()=>Ym,JsonRpcProvider:()=>_n,JsonRpcSigner:()=>Zm,LangEn:()=>ya,Log:()=>uc,LogDescription:()=>B6,MaxInt256:()=>iM,MaxUint256:()=>nM,MessagePrefix:()=>rE,MinInt256:()=>sM,Mnemonic:()=>jf,MulticoinProviderPlugin:()=>F6,N:()=>tM,NamedFragment:()=>ap,Network:()=>er,NetworkPlugin:()=>hu,NonceManager:()=>nA,ParamType:()=>Qn,PocketProvider:()=>cA,QuickNodeProvider:()=>sb,Result:()=>ru,Signature:()=>ls,SigningKey:()=>bi,SocketBlockSubscriber:()=>X6,SocketEventSubscriber:()=>t8,SocketPendingSubscriber:()=>e8,SocketProvider:()=>nb,SocketSubscriber:()=>Jm,StructFragment:()=>Um,Transaction:()=>cc,TransactionDescription:()=>U6,TransactionReceipt:()=>pp,TransactionResponse:()=>Ff,Typed:()=>Xr,TypedDataEncoder:()=>fl,UndecodedEventLog:()=>$m,UnmanagedSubscriber:()=>bu,Utf8ErrorFuncs:()=>wT,VoidSigner:()=>qy,Wallet:()=>gA,WebSocketProvider:()=>vp,WeiPerEther:()=>rM,Wordlist:()=>ab,WordlistOwl:()=>Ap,WordlistOwlA:()=>yA,ZeroAddress:()=>cu,ZeroHash:()=>x6,accessListify:()=>wi,assert:()=>se,assertArgument:()=>V,assertArgumentCount:()=>sy,assertNormalize:()=>iy,assertPrivate:()=>gi,authorizationify:()=>Sy,checkResultErrors:()=>PT,computeAddress:()=>uu,computeHmac:()=>nu,concat:()=>gt,copyRequest:()=>pl,dataLength:()=>da,dataSlice:()=>br,decodeBase58:()=>Dv,decodeBase64:()=>Lv,decodeBytes32String:()=>qM,decodeRlp:()=>np,decryptCrowdsaleJson:()=>p8,decryptKeystoreJson:()=>mA,decryptKeystoreJsonSync:()=>hA,defaultPath:()=>f8,defineProperties:()=>Se,dnsEncode:()=>CE,encodeBase58:()=>ay,encodeBase64:()=>Mv,encodeBytes32String:()=>jM,encodeRlp:()=>Hi,encryptKeystoreJson:()=>ub,encryptKeystoreJsonSync:()=>lb,ensNormalize:()=>HT,ethers:()=>gre,formatEther:()=>BL,formatUnits:()=>ST,fromTwos:()=>Xd,getAccountPath:()=>_$,getAddress:()=>it,getBigInt:()=>Ue,getBytes:()=>xe,getBytesCopy:()=>gn,getCreate2Address:()=>lM,getCreateAddress:()=>Cy,getDefaultProvider:()=>b$,getIcapAddress:()=>cM,getIndexedAccountPath:()=>N$,getNumber:()=>Xe,getUint:()=>oy,hashAuthorization:()=>P6,hashMessage:()=>O6,hexlify:()=>he,id:()=>vi,isAddress:()=>uM,isAddressable:()=>A6,isBytesLike:()=>eu,isCallException:()=>xm,isCrowdsaleJson:()=>d8,isError:()=>Ar,isHexString:()=>Ht,isKeystoreJson:()=>l8,isValidName:()=>kM,keccak256:()=>Mt,lock:()=>rte,makeError:()=>Xt,mask:()=>oc,namehash:()=>Rm,parseEther:()=>UL,parseUnits:()=>IT,pbkdf2:()=>Bo,randomBytes:()=>zi,recoverAddress:()=>fu,resolveAddress:()=>yn,resolveProperties:()=>sn,ripemd160:()=>su,scrypt:()=>iu,scryptSync:()=>ou,sha256:()=>as,sha512:()=>xy,showThrottleMessage:()=>Ei,solidityPacked:()=>SE,solidityPackedKeccak256:()=>UM,solidityPackedSha256:()=>DM,stripZerosLeft:()=>IL,toBeArray:()=>ur,toBeHex:()=>Zs,toBigInt:()=>il,toNumber:()=>Uv,toQuantity:()=>Ds,toTwos:()=>ep,toUtf8Bytes:()=>Nr,toUtf8CodePoints:()=>_L,toUtf8String:()=>Ro,uuidV4:()=>Gv,verifyAuthorization:()=>SM,verifyMessage:()=>BM,verifyTypedData:()=>$M,version:()=>Xx,wordlists:()=>O$,zeroPadBytes:()=>Qd,zeroPadValue:()=>os});var gre={};Me(gre,{AbiCoder:()=>dl,AbstractProvider:()=>yl,AbstractSigner:()=>bl,AlchemyProvider:()=>Yy,AnkrProvider:()=>Zy,BaseContract:()=>gp,BaseWallet:()=>Ep,Block:()=>ky,BlockscoutProvider:()=>aA,BrowserProvider:()=>oA,ChainstackProvider:()=>Jy,CloudflareProvider:()=>Qy,ConstructorFragment:()=>Df,Contract:()=>ma,ContractEventPayload:()=>By,ContractFactory:()=>OE,ContractTransactionReceipt:()=>L6,ContractTransactionResponse:()=>mp,ContractUnknownEventPayload:()=>Hm,EnsPlugin:()=>Vm,EnsResolver:()=>Fm,ErrorDescription:()=>D6,ErrorFragment:()=>Do,EtherSymbol:()=>oM,EtherscanPlugin:()=>XE,EtherscanProvider:()=>Xy,EventFragment:()=>Uf,EventLog:()=>hp,EventPayload:()=>tp,FallbackFragment:()=>Py,FallbackProvider:()=>ib,FeeData:()=>Mm,FeeDataNetworkPlugin:()=>UE,FetchCancelSignal:()=>o6,FetchRequest:()=>Or,FetchResponse:()=>tu,FetchUrlFeeDataNetworkPlugin:()=>Ly,FixedNumber:()=>Cm,Fragment:()=>$f,FunctionFragment:()=>Lf,GasCostPlugin:()=>zm,HDNodeVoidWallet:()=>fb,HDNodeWallet:()=>Pp,Indexed:()=>Oy,InfuraProvider:()=>Qm,InfuraWebSocketProvider:()=>n8,Interface:()=>dp,IpcSocketProvider:()=>x$,JsonRpcApiProvider:()=>Ym,JsonRpcProvider:()=>_n,JsonRpcSigner:()=>Zm,LangEn:()=>ya,Log:()=>uc,LogDescription:()=>B6,MaxInt256:()=>iM,MaxUint256:()=>nM,MessagePrefix:()=>rE,MinInt256:()=>sM,Mnemonic:()=>jf,MulticoinProviderPlugin:()=>F6,N:()=>tM,NamedFragment:()=>ap,Network:()=>er,NetworkPlugin:()=>hu,NonceManager:()=>nA,ParamType:()=>Qn,PocketProvider:()=>cA,QuickNodeProvider:()=>sb,Result:()=>ru,Signature:()=>ls,SigningKey:()=>bi,SocketBlockSubscriber:()=>X6,SocketEventSubscriber:()=>t8,SocketPendingSubscriber:()=>e8,SocketProvider:()=>nb,SocketSubscriber:()=>Jm,StructFragment:()=>Um,Transaction:()=>cc,TransactionDescription:()=>U6,TransactionReceipt:()=>pp,TransactionResponse:()=>Ff,Typed:()=>Xr,TypedDataEncoder:()=>fl,UndecodedEventLog:()=>$m,UnmanagedSubscriber:()=>bu,Utf8ErrorFuncs:()=>wT,VoidSigner:()=>qy,Wallet:()=>gA,WebSocketProvider:()=>vp,WeiPerEther:()=>rM,Wordlist:()=>ab,WordlistOwl:()=>Ap,WordlistOwlA:()=>yA,ZeroAddress:()=>cu,ZeroHash:()=>x6,accessListify:()=>wi,assert:()=>se,assertArgument:()=>V,assertArgumentCount:()=>sy,assertNormalize:()=>iy,assertPrivate:()=>gi,authorizationify:()=>Sy,checkResultErrors:()=>PT,computeAddress:()=>uu,computeHmac:()=>nu,concat:()=>gt,copyRequest:()=>pl,dataLength:()=>da,dataSlice:()=>br,decodeBase58:()=>Dv,decodeBase64:()=>Lv,decodeBytes32String:()=>qM,decodeRlp:()=>np,decryptCrowdsaleJson:()=>p8,decryptKeystoreJson:()=>mA,decryptKeystoreJsonSync:()=>hA,defaultPath:()=>f8,defineProperties:()=>Se,dnsEncode:()=>CE,encodeBase58:()=>ay,encodeBase64:()=>Mv,encodeBytes32String:()=>jM,encodeRlp:()=>Hi,encryptKeystoreJson:()=>ub,encryptKeystoreJsonSync:()=>lb,ensNormalize:()=>HT,formatEther:()=>BL,formatUnits:()=>ST,fromTwos:()=>Xd,getAccountPath:()=>_$,getAddress:()=>it,getBigInt:()=>Ue,getBytes:()=>xe,getBytesCopy:()=>gn,getCreate2Address:()=>lM,getCreateAddress:()=>Cy,getDefaultProvider:()=>b$,getIcapAddress:()=>cM,getIndexedAccountPath:()=>N$,getNumber:()=>Xe,getUint:()=>oy,hashAuthorization:()=>P6,hashMessage:()=>O6,hexlify:()=>he,id:()=>vi,isAddress:()=>uM,isAddressable:()=>A6,isBytesLike:()=>eu,isCallException:()=>xm,isCrowdsaleJson:()=>d8,isError:()=>Ar,isHexString:()=>Ht,isKeystoreJson:()=>l8,isValidName:()=>kM,keccak256:()=>Mt,lock:()=>rte,makeError:()=>Xt,mask:()=>oc,namehash:()=>Rm,parseEther:()=>UL,parseUnits:()=>IT,pbkdf2:()=>Bo,randomBytes:()=>zi,recoverAddress:()=>fu,resolveAddress:()=>yn,resolveProperties:()=>sn,ripemd160:()=>su,scrypt:()=>iu,scryptSync:()=>ou,sha256:()=>as,sha512:()=>xy,showThrottleMessage:()=>Ei,solidityPacked:()=>SE,solidityPackedKeccak256:()=>UM,solidityPackedSha256:()=>DM,stripZerosLeft:()=>IL,toBeArray:()=>ur,toBeHex:()=>Zs,toBigInt:()=>il,toNumber:()=>Uv,toQuantity:()=>Ds,toTwos:()=>ep,toUtf8Bytes:()=>Nr,toUtf8CodePoints:()=>_L,toUtf8String:()=>Ro,uuidV4:()=>Gv,verifyAuthorization:()=>SM,verifyMessage:()=>BM,verifyTypedData:()=>$M,version:()=>Xx,wordlists:()=>O$,zeroPadBytes:()=>Qd,zeroPadValue:()=>os});var Xx="6.16.0";function P1t(t,e,r){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function sn(t){let e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function Se(t,e,r){for(let n in e){let s=e[n],i=r?r[n]:null;i&&P1t(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function kv(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>kv(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){let r="0123456789abcdef",n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return kv(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${kv(n,e)}: ${kv(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ar(t,e){return t&&t.code===e}function xm(t){return Ar(t,"CALL_EXCEPTION")}function Xt(t,e,r){let n=t;{let i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${kv(r)}`);for(let o in r){if(o==="shortMessage")continue;let a=r[o];i.push(o+"="+kv(a))}}i.push(`code=${e}`),i.push(`version=${Xx}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Se(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&Se(s,{shortMessage:n}),s}function se(t,e,r,n){if(!t)throw Xt(e,r,n)}function V(t,e,r,n){se(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function sy(t,e,r){r==null&&(r=""),r&&(r=": "+r),se(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),se(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var _1t=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch(r){}return t},[]);function iy(t){se(_1t.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function gi(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),se(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function pNe(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){let n=new Uint8Array((t.length-2)/2),s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}V(!1,"invalid BytesLike value",e||"value",t)}function xe(t,e){return pNe(t,e,!1)}function gn(t,e){return pNe(t,e,!0)}function Ht(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function eu(t){return Ht(t,!0)||t instanceof Uint8Array}var dNe="0123456789abcdef";function he(t){let e=xe(t),r="0x";for(let n=0;n<e.length;n++){let s=e[n];r+=dNe[(s&240)>>4]+dNe[s&15]}return r}function gt(t){return"0x"+t.map(e=>he(e).substring(2)).join("")}function da(t){return Ht(t,!0)?(t.length-2)/2:xe(t).length}function br(t,e,r){let n=xe(t);return r!=null&&r>n.length&&se(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),he(n.slice(e==null?0:e,r==null?n.length:r))}function IL(t){let e=he(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function hNe(t,e,r){let n=xe(t);se(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),he(s)}function os(t,e){return hNe(t,e,!0)}function Qd(t,e){return hNe(t,e,!1)}var bT=BigInt(0),Cf=BigInt(1),Bv=9007199254740991;function Xd(t,e){let r=oy(t,"value"),n=BigInt(Xe(e,"width"));if(se(r>>n===bT,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Cf){let s=(Cf<<n)-Cf;return-((~r&s)+Cf)}return r}function ep(t,e){let r=Ue(t,"value"),n=BigInt(Xe(e,"width")),s=Cf<<n-Cf;if(r<bT){r=-r,se(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let i=(Cf<<n)-Cf;return(~r&i)+Cf}else se(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function oc(t,e){let r=oy(t,"value"),n=BigInt(Xe(e,"bits"));return r&(Cf<<n)-Cf}function Ue(t,e){switch(typeof t){case"bigint":return t;case"number":return V(Number.isInteger(t),"underflow",e||"value",t),V(t>=-Bv&&t<=Bv,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){V(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}V(!1,"invalid BigNumberish value",e||"value",t)}function oy(t,e){let r=Ue(t,e);return se(r>=bT,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}var mNe="0123456789abcdef";function il(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=mNe[r>>4],e+=mNe[r&15];return BigInt(e)}return Ue(t)}function Xe(t,e){switch(typeof t){case"bigint":return V(t>=-Bv&&t<=Bv,"overflow",e||"value",t),Number(t);case"number":return V(Number.isInteger(t),"underflow",e||"value",t),V(t>=-Bv&&t<=Bv,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Xe(BigInt(t),e)}catch(r){V(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}V(!1,"invalid numeric value",e||"value",t)}function Uv(t){return Xe(il(t))}function Zs(t,e){let r=oy(t,"value"),n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=Xe(e,"width");if(s===0&&r===bT)return"0x";for(se(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function ur(t,e){let r=oy(t,"value");if(r===bT){let i=e!=null?Xe(e,"width"):0;return new Uint8Array(i)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){let i=Xe(e,"width");for(;n.length<i*2;)n="00"+n;se(i*2===n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}let s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){let o=i*2;s[i]=parseInt(n.substring(o,o+2),16)}return s}function Ds(t){let e=he(eu(t)?t:ur(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var PL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",TL=null;function N1t(t){if(TL==null){TL={};for(let r=0;r<PL.length;r++)TL[PL[r]]=BigInt(r)}let e=TL[t];return V(e!=null,"invalid base58 value","letter",t),e}var O1t=BigInt(0),bee=BigInt(58);function ay(t){let e=xe(t),r=il(e),n="";for(;r;)n=PL[Number(r%bee)]+n,r/=bee;for(let s=0;s<e.length&&!e[s];s++)n=PL[0]+n;return n}function Dv(t){let e=O1t;for(let r=0;r<t.length;r++)e*=bee,e+=N1t(t[r]);return e}function Lv(t){t=atob(t);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return xe(e)}function Mv(t){let e=xe(t),r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var $v,tp=class{constructor(e,r,n){Y(this,"filter");Y(this,"emitter");Q(this,$v);j(this,$v,r),Se(this,{emitter:e,filter:n})}async removeListener(){P(this,$v)!=null&&await this.emitter.off(this.filter,P(this,$v))}};$v=new WeakMap;function R1t(t,e,r,n,s){V(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function gNe(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function k1t(t,e,r,n,s){return t==="OVERLONG"?(V(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),gNe(t,e,r,n,s))}var wT=Object.freeze({error:R1t,ignore:gNe,replace:k1t});function yNe(t,e){e==null&&(e=wT.error);let r=xe(t,"bytes"),n=[],s=0;for(;s<r.length;){let i=r[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+o>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=r[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,r,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,r,n,c);continue}n.push(c)}}return n}function Nr(t,e){V(typeof t=="string","invalid string value","str",t),e!=null&&(iy(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;let i=t.charCodeAt(n);V(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);let o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function B1t(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ro(t,e){return B1t(yNe(t,e))}function _L(t,e){return yNe(Nr(t,e))}function NL(t){async function e(r,n){se(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=r.url.split(":")[0].toLowerCase();se(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),se(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=Xt("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=Xt("request cancelled","CANCELLED"),o.abort()});let c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal}),l;try{l=await fetch(r.url,c)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);let u={};l.headers.forEach((p,h)=>{u[h.toLowerCase()]=p});let f=await l.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:d}}return e}var Tkr=NL({});var U1t=12,D1t=250,bNe=NL(),L1t=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),M1t=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),wee=!1;async function xNe(t,e){try{let r=t.match(L1t);if(!r)throw new Error("invalid data");return new tu(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Lv(r[3]):$1t(r[3]))}catch(r){return new tu(599,"BAD REQUEST (invalid data: URI)",{},null,new Or(t))}}function vNe(t){async function e(r,n){try{let s=r.match(M1t);if(!s)throw new Error("invalid link");return new Or(`${t}${s[2]}`)}catch(s){return new tu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Or(r))}}return e}var OL={data:xNe,ipfs:vNe("https://gateway.ipfs.io/ipfs/")},ENe=new WeakMap,e6,cy,o6=class{constructor(e){Q(this,e6);Q(this,cy);j(this,e6,[]),j(this,cy,!1),ENe.set(e,()=>{if(!P(this,cy)){j(this,cy,!0);for(let r of P(this,e6))setTimeout(()=>{r()},0);j(this,e6,[])}})}addListener(e){se(!P(this,cy),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),P(this,e6).push(e)}get cancelled(){return P(this,cy)}checkSignal(){se(!this.cancelled,"cancelled","CANCELLED",{})}};e6=new WeakMap,cy=new WeakMap;function RL(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Hv,Fv,Sf,vm,zv,Vv,yi,ol,Em,t6,r6,n6,rp,If,ly,s6,xT,kL=class kL{constructor(e){Q(this,s6);Q(this,Hv);Q(this,Fv);Q(this,Sf);Q(this,vm);Q(this,zv);Q(this,Vv);Q(this,yi);Q(this,ol);Q(this,Em);Q(this,t6);Q(this,r6);Q(this,n6);Q(this,rp);Q(this,If);Q(this,ly);j(this,Vv,String(e)),j(this,Hv,!1),j(this,Fv,!0),j(this,Sf,{}),j(this,vm,""),j(this,zv,3e5),j(this,If,{slotInterval:D1t,maxAttempts:U1t}),j(this,ly,null)}get url(){return P(this,Vv)}set url(e){j(this,Vv,String(e))}get body(){return P(this,yi)==null?null:new Uint8Array(P(this,yi))}set body(e){if(e==null)j(this,yi,void 0),j(this,ol,void 0);else if(typeof e=="string")j(this,yi,Nr(e)),j(this,ol,"text/plain");else if(e instanceof Uint8Array)j(this,yi,e),j(this,ol,"application/octet-stream");else if(typeof e=="object")j(this,yi,Nr(JSON.stringify(e))),j(this,ol,"application/json");else throw new Error("invalid body")}hasBody(){return P(this,yi)!=null}get method(){return P(this,vm)?P(this,vm):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),j(this,vm,String(e).toUpperCase())}get headers(){let e=Object.assign({},P(this,Sf));return P(this,Em)&&(e.authorization=`Basic ${Mv(Nr(P(this,Em)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&P(this,ol)&&(e["content-type"]=P(this,ol)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){P(this,Sf)[String(e).toLowerCase()]=String(r)}clearHeaders(){j(this,Sf,{})}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return P(this,Em)||null}setCredentials(e,r){V(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),j(this,Em,`${e}:${r}`)}get allowGzip(){return P(this,Fv)}set allowGzip(e){j(this,Fv,!!e)}get allowInsecureAuthentication(){return!!P(this,Hv)}set allowInsecureAuthentication(e){j(this,Hv,!!e)}get timeout(){return P(this,zv)}set timeout(e){V(e>=0,"timeout must be non-zero","timeout",e),j(this,zv,e)}get preflightFunc(){return P(this,t6)||null}set preflightFunc(e){j(this,t6,e)}get processFunc(){return P(this,r6)||null}set processFunc(e){j(this,r6,e)}get retryFunc(){return P(this,n6)||null}set retryFunc(e){j(this,n6,e)}get getUrlFunc(){return P(this,ly)||bNe}set getUrlFunc(e){j(this,ly,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${P(this,yi)?he(P(this,yi)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(P(this,If).slotInterval=e.slotInterval),e.maxAttempts!=null&&(P(this,If).maxAttempts=e.maxAttempts)}send(){return se(P(this,rp)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),j(this,rp,new o6(this)),me(this,s6,xT).call(this,0,wNe()+this.timeout,0,this,new tu(0,"",{},null,this))}cancel(){se(P(this,rp)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=ENe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();se(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new kL(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,j(s,Sf,Object.assign({},P(this,Sf))),P(this,yi)&&j(s,yi,new Uint8Array(P(this,yi))),j(s,ol,P(this,ol)),s}clone(){let e=new kL(this.url);return j(e,vm,P(this,vm)),P(this,yi)&&j(e,yi,P(this,yi)),j(e,ol,P(this,ol)),j(e,Sf,Object.assign({},P(this,Sf))),j(e,Em,P(this,Em)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),j(e,t6,P(this,t6)),j(e,r6,P(this,r6)),j(e,n6,P(this,n6)),j(e,If,Object.assign({},P(this,If))),j(e,ly,P(this,ly)),e}static lockConfig(){wee=!0}static getGateway(e){return OL[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(wee)throw new Error("gateways locked");OL[e]=r}static registerGetUrl(e){if(wee)throw new Error("gateways locked");bNe=e}static createGetUrlFunc(e){return NL(e)}static createDataGateway(){return xNe}static createIpfsGatewayFunc(e){return vNe(e)}};Hv=new WeakMap,Fv=new WeakMap,Sf=new WeakMap,vm=new WeakMap,zv=new WeakMap,Vv=new WeakMap,yi=new WeakMap,ol=new WeakMap,Em=new WeakMap,t6=new WeakMap,r6=new WeakMap,n6=new WeakMap,rp=new WeakMap,If=new WeakMap,ly=new WeakMap,s6=new WeakSet,xT=async function(e,r,n,s,i){var u,f,d;if(e>=P(this,If).maxAttempts)return i.makeServerError("exceeded maximum retry limit");se(wNe()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await H1t(n);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in OL){let p=await OL[a](o.url,RL(P(s,rp)));if(p instanceof tu){let h=p;if(this.processFunc){RL(P(s,rp));try{h=await this.processFunc(o,h)}catch(m){(m.throttle==null||typeof m.stall!="number")&&h.makeServerError("error in post-processing function",m).assertOk()}}return h}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,RL(P(s,rp))),l=new tu(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{let p=l.headers.location||"";return me(u=o.redirect(p),s6,xT).call(u,e+1,r,0,s,l)}catch(p){}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){let p=l.headers["retry-after"],h=P(this,If).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(h=parseInt(p)),me(f=o.clone(),s6,xT).call(f,e+1,r,h,s,l)}if(this.processFunc){RL(P(s,rp));try{l=await this.processFunc(o,l)}catch(p){(p.throttle==null||typeof p.stall!="number")&&l.makeServerError("error in post-processing function",p).assertOk();let h=P(this,If).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(h=p.stall),me(d=o.clone(),s6,xT).call(d,e+1,r,h,s,l)}}return l};var Or=kL,vT,ET,AT,al,jv,i6,xee=class xee{constructor(e,r,n,s,i){Q(this,vT);Q(this,ET);Q(this,AT);Q(this,al);Q(this,jv);Q(this,i6);j(this,vT,e),j(this,ET,r),j(this,AT,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),j(this,al,s==null?null:new Uint8Array(s)),j(this,jv,i||null),j(this,i6,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${P(this,al)?he(P(this,al)):"null"}>`}get statusCode(){return P(this,vT)}get statusMessage(){return P(this,ET)}get headers(){return Object.assign({},P(this,AT))}get body(){return P(this,al)==null?null:new Uint8Array(P(this,al))}get bodyText(){try{return P(this,al)==null?"":Ro(P(this,al))}catch(e){se(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){se(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new xee(599,n,this.headers,this.body,P(this,jv)||void 0);return j(s,i6,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:V(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw Se(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return P(this,al)!=null}get request(){return P(this,jv)}ok(){return P(this,i6).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=P(this,i6);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{P(this,al)&&(s=Ro(P(this,al)))}catch(i){}se(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};vT=new WeakMap,ET=new WeakMap,AT=new WeakMap,al=new WeakMap,jv=new WeakMap,i6=new WeakMap;var tu=xee;function wNe(){return new Date().getTime()}function $1t(t){return Nr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function H1t(t){return new Promise(e=>setTimeout(e,t))}var F1t=BigInt(-1),Tf=BigInt(0),Wv=BigInt(1),z1t=BigInt(5),qv={},Kv="0000";for(;Kv.length<80;)Kv+=Kv;function a6(t){let e=Kv;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function CT(t,e,r){let n=BigInt(e.width);if(e.signed){let s=Wv<<n-Wv;se(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Tf?t=Xd(oc(t,n),n):t=-Xd(oc(-t,n),n)}else{let s=Wv<<n;se(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-Wv}return t}function vee(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{let i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);V(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){let i=t,o=(a,c,l)=>i[a]==null?l:(V(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}V(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),V(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function V1t(t,e){let r="";t<Tf&&(r="-",t*=F1t);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Kv+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Pf,on,pa,Wr,c6,Am,Eee,Aee,Cee,See,uy=class uy{constructor(e,r,n){Q(this,Wr);Y(this,"format");Q(this,Pf);Q(this,on);Q(this,pa);Y(this,"_value");gi(e,qv,"FixedNumber"),j(this,on,r),j(this,Pf,n);let s=V1t(r,n.decimals);Se(this,{format:n.name,_value:s}),j(this,pa,a6(n.decimals))}get signed(){return P(this,Pf).signed}get width(){return P(this,Pf).width}get decimals(){return P(this,Pf).decimals}get value(){return P(this,on)}addUnsafe(e){return me(this,Wr,Eee).call(this,e)}add(e){return me(this,Wr,Eee).call(this,e,"add")}subUnsafe(e){return me(this,Wr,Aee).call(this,e)}sub(e){return me(this,Wr,Aee).call(this,e,"sub")}mulUnsafe(e){return me(this,Wr,Cee).call(this,e)}mul(e){return me(this,Wr,Cee).call(this,e,"mul")}mulSignal(e){me(this,Wr,c6).call(this,e);let r=P(this,on)*P(e,on);return se(r%P(this,pa)===Tf,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),me(this,Wr,Am).call(this,r/P(this,pa),"mulSignal")}divUnsafe(e){return me(this,Wr,See).call(this,e)}div(e){return me(this,Wr,See).call(this,e,"div")}divSignal(e){se(P(e,on)!==Tf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),me(this,Wr,c6).call(this,e);let r=P(this,on)*P(this,pa);return se(r%P(e,on)===Tf,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),me(this,Wr,Am).call(this,r/P(e,on),"divSignal")}cmp(e){let r=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=a6(s):s<0&&(r*=a6(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=P(this,on);return P(this,on)<Tf&&(e-=P(this,pa)-Wv),e=P(this,on)/P(this,pa)*P(this,pa),me(this,Wr,Am).call(this,e,"floor")}ceiling(){let e=P(this,on);return P(this,on)>Tf&&(e+=P(this,pa)-Wv),e=P(this,on)/P(this,pa)*P(this,pa),me(this,Wr,Am).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let r=this.decimals-e,n=z1t*a6(r-1),s=this.value+n,i=a6(r);return s=s/i*i,CT(s,P(this,Pf),"round"),new uy(qv,s,P(this,Pf))}isZero(){return P(this,on)===Tf}isNegative(){return P(this,on)<Tf}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return uy.fromString(this.toString(),e)}static fromValue(e,r,n){let s=r==null?0:Xe(r),i=vee(n),o=Ue(e,"value"),a=s-i.decimals;if(a>0){let c=a6(a);se(o%c===Tf,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=a6(-a));return CT(o,i,"fromValue"),new uy(qv,o,i)}static fromString(e,r){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);V(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=vee(r),i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Kv;se(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(n[1]+i+o);return CT(a,s,"fromString"),new uy(qv,a,s)}static fromBytes(e,r){let n=il(xe(e,"value")),s=vee(r);return s.signed&&(n=Xd(n,s.width)),CT(n,s,"fromBytes"),new uy(qv,n,s)}};Pf=new WeakMap,on=new WeakMap,pa=new WeakMap,Wr=new WeakSet,c6=function(e){V(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Am=function(e,r){return e=CT(e,P(this,Pf),r),new uy(qv,e,P(this,Pf))},Eee=function(e,r){return me(this,Wr,c6).call(this,e),me(this,Wr,Am).call(this,P(this,on)+P(e,on),r)},Aee=function(e,r){return me(this,Wr,c6).call(this,e),me(this,Wr,Am).call(this,P(this,on)-P(e,on),r)},Cee=function(e,r){return me(this,Wr,c6).call(this,e),me(this,Wr,Am).call(this,P(this,on)*P(e,on)/P(this,pa),r)},See=function(e,r){return se(P(e,on)!==Tf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),me(this,Wr,c6).call(this,e),me(this,Wr,Am).call(this,P(this,on)*P(this,pa)/P(e,on),r)};var Cm=uy;function j1t(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function ANe(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function CNe(t,e,r,n){let s=[];for(;r<e+1+n;){let i=SNe(t,r);s.push(i.result),r+=i.consumed,se(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function SNe(t,e){se(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{se(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let s=ANe(t,e+1,n);return r(e+1+n+s),CNe(t,e,e+1+n,n+s)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),CNe(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let s=ANe(t,e+1,n);r(e+1+n+s);let i=he(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let s=he(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:j1t(t[e])}}function np(t){let e=xe(t,"data"),r=SNe(e,0);return V(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function INe(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function PNe(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(PNe(i))}),n.length<=55)return n.unshift(192+n.length),n;let s=INe(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call(xe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=INe(e.length);return r.unshift(183+r.length),r.concat(e)}var TNe="0123456789abcdef";function Hi(t){let e="0x";for(let r of PNe(t))e+=TNe[r>>4],e+=TNe[r&15];return e}var _Ne=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ST(t,e){let r=18;if(typeof e=="string"){let n=_Ne.indexOf(e);V(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=Xe(e,"unit"));return Cm.fromValue(t,r,{decimals:r,width:512}).toString()}function IT(t,e){V(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){let n=_Ne.indexOf(e);V(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=Xe(e,"unit"));return Cm.fromString(t,{decimals:r,width:512}).value}function BL(t){return ST(t,18)}function UL(t){return IT(t,18)}function Gv(t){let e=xe(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=he(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Fi=32,Iee=new Uint8Array(Fi),q1t=["then"],DL={},RNe=new WeakMap;function l6(t){return RNe.get(t)}function NNe(t,e){RNe.set(t,e)}function TT(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function Tee(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof ru?Tee(l6(n),n,r):n):t.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(r&&o instanceof ru&&(o=Tee(l6(o),o,r)),n[s]=o),n},{})}var Yv,Zv=class Zv extends Array{constructor(...r){let n=r[0],s=r[1],i=(r[2]||[]).slice(),o=!0;n!==DL&&(s=r,i=[],o=!1);super(s.length);Q(this,Yv);s.forEach((l,u)=>{this[u]=l});let a=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(NNe(this,Object.freeze(s.map((l,u)=>{let f=i[u];return f!=null&&a.get(f)===1?f:null}))),j(this,Yv,[]),P(this,Yv)==null&&P(this,Yv),!o)return;Object.freeze(this);let c=new Proxy(this,{get:(l,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){let p=Xe(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");let h=l[p];return h instanceof Error&&TT(`index ${p}`,h),h}if(q1t.indexOf(u)>=0)return Reflect.get(l,u,f);let d=l[u];if(d instanceof Function)return function(...p){return d.apply(this===f?l:this,p)};if(!(u in l))return l.getValue.apply(this===f?l:this,[u])}return Reflect.get(l,u,f)}});return NNe(c,l6(this)),c}toArray(r){let n=[];return this.forEach((s,i)=>{s instanceof Error&&TT(`index ${i}`,s),r&&s instanceof Zv&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){let n=l6(this);return n.reduce((s,i,o)=>(se(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Tee(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let s=l6(this),i=[],o=[];for(let a=r;a<n;a++)i.push(this[a]),o.push(s[a]);return new Zv(DL,i,o)}filter(r,n){let s=l6(this),i=[],o=[];for(let a=0;a<this.length;a++){let c=this[a];c instanceof Error&&TT(`index ${a}`,c),r.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Zv(DL,i,o)}map(r,n){let s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&TT(`index ${i}`,o),s.push(r.call(n,o,i,this))}return s}getValue(r){let n=l6(this).indexOf(r);if(n===-1)return;let s=this[n];return s instanceof Error&&TT(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new Zv(DL,r,n)}};Yv=new WeakMap;var ru=Zv;function PT(t){let e=[],r=function(n,s){if(Array.isArray(s))for(let i in s){let o=n.slice();o.push(i);try{r(o,s[i])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}function ONe(t){let e=ur(t);return se(e.length<=Fi,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Fi,offset:e.length}),e.length!==Fi&&(e=gn(gt([Iee.slice(e.length%Fi),e]))),e}var Ls=class{constructor(e,r,n,s){Y(this,"name");Y(this,"type");Y(this,"localName");Y(this,"dynamic");Se(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){V(!1,e,this.localName,r)}},Sm,u6,Jv,LL,p6=class{constructor(){Q(this,Jv);Q(this,Sm);Q(this,u6);j(this,Sm,[]),j(this,u6,0)}get data(){return gt(P(this,Sm))}get length(){return P(this,u6)}appendWriter(e){return me(this,Jv,LL).call(this,gn(e.data))}writeBytes(e){let r=gn(e),n=r.length%Fi;return n&&(r=gn(gt([r,Iee.slice(n)]))),me(this,Jv,LL).call(this,r)}writeValue(e){return me(this,Jv,LL).call(this,ONe(e))}writeUpdatableValue(){let e=P(this,Sm).length;return P(this,Sm).push(Iee),j(this,u6,P(this,u6)+Fi),r=>{P(this,Sm)[e]=ONe(r)}}};Sm=new WeakMap,u6=new WeakMap,Jv=new WeakSet,LL=function(e){return P(this,Sm).push(e),j(this,u6,P(this,u6)+e.length),e.length};var ac,cl,f6,d6,fy,h6,Pee,kNe,_ee=class _ee{constructor(e,r,n){Q(this,h6);Y(this,"allowLoose");Q(this,ac);Q(this,cl);Q(this,f6);Q(this,d6);Q(this,fy);Se(this,{allowLoose:!!r}),j(this,ac,gn(e)),j(this,f6,0),j(this,d6,null),j(this,fy,n!=null?n:1024),j(this,cl,0)}get data(){return he(P(this,ac))}get dataLength(){return P(this,ac).length}get consumed(){return P(this,cl)}get bytes(){return new Uint8Array(P(this,ac))}subReader(e){let r=new _ee(P(this,ac).slice(P(this,cl)+e),this.allowLoose,P(this,fy));return j(r,d6,this),r}readBytes(e,r){let n=me(this,h6,kNe).call(this,0,e,!!r);return me(this,h6,Pee).call(this,e),j(this,cl,P(this,cl)+n.length),n.slice(0,e)}readValue(){return il(this.readBytes(Fi))}readIndex(){return Uv(this.readBytes(Fi))}};ac=new WeakMap,cl=new WeakMap,f6=new WeakMap,d6=new WeakMap,fy=new WeakMap,h6=new WeakSet,Pee=function(e){var r;if(P(this,d6))return me(r=P(this,d6),h6,Pee).call(r,e);j(this,f6,P(this,f6)+e),se(P(this,fy)<1||P(this,f6)<=P(this,fy)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${P(this,fy)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:gn(P(this,ac)),offset:P(this,cl),length:e,info:{bytesRead:P(this,f6),dataLength:this.dataLength}})},kNe=function(e,r,n){let s=Math.ceil(r/Fi)*Fi;return P(this,cl)+s>P(this,ac).length&&(this.allowLoose&&n&&P(this,cl)+r<=P(this,ac).length?s=r:se(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:gn(P(this,ac)),length:P(this,ac).length,offset:P(this,cl)+s})),P(this,ac).slice(P(this,cl),P(this,cl)+s)};var ML=_ee;function ko(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _T(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function $L(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ko(t.outputLen),ko(t.blockLen)}function Im(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HL(t,e){_T(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var FL=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var BNe=t=>t instanceof Uint8Array;var Qv=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Xv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_f=(t,e)=>t<<32-e|t>>>e,W1t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!W1t)throw new Error("Non little-endian hardware is not supported");var K1t=async()=>{};async function zL(t,e,r){let n=Date.now();for(let s=0;s<t;s++){r(s);let i=Date.now()-n;i>=0&&i<e||(await K1t(),n+=i)}}function G1t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Nf(t){if(typeof t=="string"&&(t=G1t(t)),!BNe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function UNe(...t){let e=new Uint8Array(t.reduce((n,s)=>n+s.length,0)),r=0;return t.forEach(n=>{if(!BNe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var dy=class{clone(){return this._cloneInto()}},Z1t={}.toString;function VL(t,e){if(e!==void 0&&Z1t.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function py(t){let e=n=>t().update(Nf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function DNe(t){let e=(n,s)=>t(s).update(Nf(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function LNe(t=32){if(FL&&typeof FL.getRandomValues=="function")return FL.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var jL=class extends dy{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,$L(e);let n=Nf(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Im(this),this.iHash.update(e),this}digestInto(e){Im(this),_T(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},m6=(t,e,r)=>new jL(t,e).update(r).digest();m6.create=(t,e)=>new jL(t,e);function Y1t(t,e,r,n){$L(t);let s=VL({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if(ko(i),ko(o),ko(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Nf(e),l=Nf(r),u=new Uint8Array(o),f=m6.create(t,c),d=f._cloneInto().update(l);return{c:i,dkLen:o,asyncTick:a,DK:u,PRF:f,PRFSalt:d}}function J1t(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),r}function NT(t,e,r,n){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=Y1t(t,e,r,n),l,u=new Uint8Array(4),f=Xv(u),d=new Uint8Array(a.outputLen);for(let p=1,h=0;h<i;p++,h+=a.outputLen){let m=o.subarray(h,h+a.outputLen);f.setInt32(0,p,!1),(l=c._cloneInto(l)).update(u).digestInto(d),m.set(d.subarray(0,m.length));for(let g=1;g<s;g++){a._cloneInto(l).update(d).digestInto(d);for(let b=0;b<m.length;b++)m[b]^=d[b]}}return J1t(a,c,o,l,d)}function Q1t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}var hy=class extends dy{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xv(this.buffer)}update(e){Im(this);let{view:r,buffer:n,blockLen:s}=this;e=Nf(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=Xv(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Im(this),HL(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;Q1t(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=Xv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};var X1t=(t,e,r)=>t&e^~t&r,egt=(t,e,r)=>t&e^t&r^e&r,tgt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),my=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gy=new Uint32Array(64),Nee=class extends hy{constructor(){super(64,32,8,!1),this.A=my[0]|0,this.B=my[1]|0,this.C=my[2]|0,this.D=my[3]|0,this.E=my[4]|0,this.F=my[5]|0,this.G=my[6]|0,this.H=my[7]|0}get(){let{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)gy[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let d=gy[f-15],p=gy[f-2],h=_f(d,7)^_f(d,18)^d>>>3,m=_f(p,17)^_f(p,19)^p>>>10;gy[f]=m+gy[f-7]+h+gy[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=_f(a,6)^_f(a,11)^_f(a,25),p=u+d+X1t(a,c,l)+tgt[f]+gy[f]|0,m=(_f(n,2)^_f(n,13)^_f(n,22))+egt(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){gy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Tm=py(()=>new Nee);var qL=BigInt(4294967295),Oee=BigInt(32);function MNe(t,e=!1){return e?{h:Number(t&qL),l:Number(t>>Oee&qL)}:{h:Number(t>>Oee&qL)|0,l:Number(t&qL)|0}}function Ree(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){let{h:i,l:o}=MNe(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}var rgt=(t,e)=>BigInt(t>>>0)<<Oee|BigInt(e>>>0),ngt=(t,e,r)=>t>>>r,sgt=(t,e,r)=>t<<32-r|e>>>r,igt=(t,e,r)=>t>>>r|e<<32-r,ogt=(t,e,r)=>t<<32-r|e>>>r,agt=(t,e,r)=>t<<64-r|e>>>r-32,cgt=(t,e,r)=>t>>>r-32|e<<64-r,lgt=(t,e)=>e,ugt=(t,e)=>t,kee=(t,e,r)=>t<<r|e>>>32-r,Bee=(t,e,r)=>e<<r|t>>>32-r,Uee=(t,e,r)=>e<<r-32|t>>>64-r,Dee=(t,e,r)=>t<<r-32|e>>>64-r;function fgt(t,e,r,n){let s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}var dgt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),pgt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,hgt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),mgt=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,ggt=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),ygt=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;var bgt={fromBig:MNe,split:Ree,toBig:rgt,shrSH:ngt,shrSL:sgt,rotrSH:igt,rotrSL:ogt,rotrBH:agt,rotrBL:cgt,rotr32H:lgt,rotr32L:ugt,rotlSH:kee,rotlSL:Bee,rotlBH:Uee,rotlBL:Dee,add:fgt,add3L:dgt,add3H:pgt,add4L:hgt,add4H:mgt,add5H:ygt,add5L:ggt},Ft=bgt;var[wgt,xgt]=Ft.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),yy=new Uint32Array(80),by=new Uint32Array(80),Lee=class extends hy{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g]}set(e,r,n,s,i,o,a,c,l,u,f,d,p,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let w=0;w<16;w++,r+=4)yy[w]=e.getUint32(r),by[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){let x=yy[w-15]|0,C=by[w-15]|0,T=Ft.rotrSH(x,C,1)^Ft.rotrSH(x,C,8)^Ft.shrSH(x,C,7),U=Ft.rotrSL(x,C,1)^Ft.rotrSL(x,C,8)^Ft.shrSL(x,C,7),B=yy[w-2]|0,O=by[w-2]|0,H=Ft.rotrSH(B,O,19)^Ft.rotrBH(B,O,61)^Ft.shrSH(B,O,6),_=Ft.rotrSL(B,O,19)^Ft.rotrBL(B,O,61)^Ft.shrSL(B,O,6),N=Ft.add4L(U,_,by[w-7],by[w-16]),I=Ft.add4H(N,T,H,yy[w-7],yy[w-16]);yy[w]=I|0,by[w]=N|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:b,Hl:E}=this;for(let w=0;w<80;w++){let x=Ft.rotrSH(f,d,14)^Ft.rotrSH(f,d,18)^Ft.rotrBH(f,d,41),C=Ft.rotrSL(f,d,14)^Ft.rotrSL(f,d,18)^Ft.rotrBL(f,d,41),T=f&p^~f&m,U=d&h^~d&g,B=Ft.add5L(E,C,U,xgt[w],by[w]),O=Ft.add5H(B,b,x,T,wgt[w],yy[w]),H=B|0,_=Ft.rotrSH(n,s,28)^Ft.rotrBH(n,s,34)^Ft.rotrBH(n,s,39),N=Ft.rotrSL(n,s,28)^Ft.rotrBL(n,s,34)^Ft.rotrBL(n,s,39),I=n&i^n&a^i&a,D=s&o^s&c^o&c;b=m|0,E=g|0,m=p|0,g=h|0,p=f|0,h=d|0,{h:f,l:d}=Ft.add(l|0,u|0,O|0,H|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let v=Ft.add3L(H,N,D);n=Ft.add3H(v,O,_,I),s=v|0}({h:n,l:s}=Ft.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Ft.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ft.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ft.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Ft.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=Ft.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:g}=Ft.add(this.Gh|0,this.Gl|0,m|0,g|0),{h:b,l:E}=Ft.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,s,i,o,a,c,l,u,f,d,p,h,m,g,b,E)}roundClean(){yy.fill(0),by.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var WL=py(()=>new Lee);function vgt(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}var $Ne=vgt(),HNe=$Ne.crypto||$Ne.msCrypto;function Mee(t){switch(t){case"sha256":return Tm.create();case"sha512":return WL.create()}V(!1,"invalid hashing algorithm name","algorithm",t)}function FNe(t,e){let r={sha256:Tm,sha512:WL}[t];return V(r!=null,"invalid hmac algorithm","algorithm",t),m6.create(r,e)}function zNe(t,e,r,n,s){let i={sha256:Tm,sha512:WL}[s];return V(i!=null,"invalid pbkdf2 algorithm","algorithm",s),NT(i,t,e,{c:r,dkLen:n})}function VNe(t){se(HNe!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),V(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);let e=new Uint8Array(t);return HNe.getRandomValues(e),e}var jNe=!1,qNe=function(t,e,r){return FNe(t,e).update(r).digest()},WNe=qNe;function nu(t,e,r){let n=xe(e,"key"),s=xe(r,"data");return he(WNe(t,n,s))}nu._=qNe;nu.lock=function(){jNe=!0};nu.register=function(t){if(jNe)throw new Error("computeHmac is locked");WNe=t};Object.freeze(nu);var[ZNe,YNe,JNe]=[[],[],[]],Egt=BigInt(0),OT=BigInt(1),Agt=BigInt(2),Cgt=BigInt(7),Sgt=BigInt(256),Igt=BigInt(113);for(let t=0,e=OT,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ZNe.push(2*(5*n+r)),YNe.push((t+1)*(t+2)/2%64);let s=Egt;for(let i=0;i<7;i++)e=(e<<OT^(e>>Cgt)*Igt)%Sgt,e&Agt&&(s^=OT<<(OT<<BigInt(i))-OT);JNe.push(s)}var[Tgt,Pgt]=Ree(JNe,!0),KNe=(t,e,r)=>r>32?Uee(t,e,r):kee(t,e,r),GNe=(t,e,r)=>r>32?Dee(t,e,r):Bee(t,e,r);function _gt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=KNe(l,u,1)^r[a],d=GNe(l,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){let a=YNe[o],c=KNe(s,i,a),l=GNe(s,i,a),u=ZNe[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Tgt[n],t[1]^=Pgt[n]}r.fill(0)}var KL=class t extends dy{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ko(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Qv(this.state)}keccak(){_gt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Im(this);let{blockLen:r,state:n}=this;e=Nf(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Im(this,!1),_T(e),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ko(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new t(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},wy=(t,e,r)=>py(()=>new KL(e,t,r)),XBr=wy(6,144,224/8),eUr=wy(6,136,256/8),tUr=wy(6,104,384/8),rUr=wy(6,72,512/8),nUr=wy(1,144,224/8),QNe=wy(1,136,256/8),sUr=wy(1,104,384/8),iUr=wy(1,72,512/8),XNe=(t,e,r)=>DNe((n={})=>new KL(e,t,n.dkLen===void 0?r:n.dkLen,!0)),oUr=XNe(31,168,128/8),aUr=XNe(31,136,256/8);var eOe=!1,tOe=function(t){return QNe(t)},rOe=tOe;function Mt(t){let e=xe(t,"data");return he(rOe(e))}Mt._=tOe;Mt.lock=function(){eOe=!0};Mt.register=function(t){if(eOe)throw new TypeError("keccak256 is locked");rOe=t};Object.freeze(Mt);var Ngt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),sOe=Uint8Array.from({length:16},(t,e)=>e),Ogt=sOe.map(t=>(9*t+5)%16),Hee=[sOe],Fee=[Ogt];for(let t=0;t<4;t++)for(let e of[Hee,Fee])e.push(e[t].map(r=>Ngt[r]));var iOe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Rgt=Hee.map((t,e)=>t.map(r=>iOe[e][r])),kgt=Fee.map((t,e)=>t.map(r=>iOe[e][r])),Bgt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ugt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),GL=(t,e)=>t<<e|t>>>32-e;function nOe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var ZL=new Uint32Array(16),$ee=class extends hy{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:s,h4:i}=this;return[e,r,n,s,i]}set(e,r,n,s,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,r){for(let p=0;p<16;p++,r+=4)ZL[p]=e.getUint32(r,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let p=0;p<5;p++){let h=4-p,m=Bgt[p],g=Ugt[p],b=Hee[p],E=Fee[p],w=Rgt[p],x=kgt[p];for(let C=0;C<16;C++){let T=GL(n+nOe(p,i,a,l)+ZL[b[C]]+m,w[C])+f|0;n=f,f=l,l=GL(a,10)|0,a=i,i=T}for(let C=0;C<16;C++){let T=GL(s+nOe(h,o,c,u)+ZL[E[C]]+g,x[C])+d|0;s=d,d=u,u=GL(c,10)|0,c=o,o=T}}this.set(this.h1+a+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){ZL.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},oOe=py(()=>new $ee);var aOe=!1,cOe=function(t){return oOe(t)},lOe=cOe;function su(t){let e=xe(t,"data");return he(lOe(e))}su._=cOe;su.lock=function(){aOe=!0};su.register=function(t){if(aOe)throw new TypeError("ripemd160 is locked");lOe=t};Object.freeze(su);var uOe=!1,fOe=function(t,e,r,n,s){return zNe(t,e,r,n,s)},dOe=fOe;function Bo(t,e,r,n,s){let i=xe(t,"password"),o=xe(e,"salt");return he(dOe(i,o,r,n,s))}Bo._=fOe;Bo.lock=function(){uOe=!0};Bo.register=function(t){if(uOe)throw new Error("pbkdf2 is locked");dOe=t};Object.freeze(Bo);var pOe=!1,hOe=function(t){return new Uint8Array(VNe(t))},mOe=hOe;function zi(t){return mOe(t)}zi._=hOe;zi.lock=function(){pOe=!0};zi.register=function(t){if(pOe)throw new Error("randomBytes is locked");mOe=t};Object.freeze(zi);var Rr=(t,e)=>t<<e|t>>>32-e;function gOe(t,e,r,n,s,i){let o=t[e++]^r[n++],a=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],u=t[e++]^r[n++],f=t[e++]^r[n++],d=t[e++]^r[n++],p=t[e++]^r[n++],h=t[e++]^r[n++],m=t[e++]^r[n++],g=t[e++]^r[n++],b=t[e++]^r[n++],E=t[e++]^r[n++],w=t[e++]^r[n++],x=t[e++]^r[n++],C=t[e++]^r[n++],T=o,U=a,B=c,O=l,H=u,_=f,N=d,I=p,D=h,v=m,A=g,R=b,$=E,k=w,L=x,q=C;for(let Z=0;Z<8;Z+=2)H^=Rr(T+$|0,7),D^=Rr(H+T|0,9),$^=Rr(D+H|0,13),T^=Rr($+D|0,18),v^=Rr(_+U|0,7),k^=Rr(v+_|0,9),U^=Rr(k+v|0,13),_^=Rr(U+k|0,18),L^=Rr(A+N|0,7),B^=Rr(L+A|0,9),N^=Rr(B+L|0,13),A^=Rr(N+B|0,18),O^=Rr(q+R|0,7),I^=Rr(O+q|0,9),R^=Rr(I+O|0,13),q^=Rr(R+I|0,18),U^=Rr(T+O|0,7),B^=Rr(U+T|0,9),O^=Rr(B+U|0,13),T^=Rr(O+B|0,18),N^=Rr(_+H|0,7),I^=Rr(N+_|0,9),H^=Rr(I+N|0,13),_^=Rr(H+I|0,18),R^=Rr(A+v|0,7),D^=Rr(R+A|0,9),v^=Rr(D+R|0,13),A^=Rr(v+D|0,18),$^=Rr(q+L|0,7),k^=Rr($+q|0,9),L^=Rr(k+$|0,13),q^=Rr(L+k|0,18);s[i++]=o+T|0,s[i++]=a+U|0,s[i++]=c+B|0,s[i++]=l+O|0,s[i++]=u+H|0,s[i++]=f+_|0,s[i++]=d+N|0,s[i++]=p+I|0,s[i++]=h+D|0,s[i++]=m+v|0,s[i++]=g+A|0,s[i++]=b+R|0,s[i++]=E+$|0,s[i++]=w+k|0,s[i++]=x+L|0,s[i++]=C+q|0}function eE(t,e,r,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)r[o+a]=t[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)gOe(r,o,t,e,r,i),a>0&&(o+=16),gOe(r,i,t,e+=16,r,o)}function yOe(t,e,r){let n=VL({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(ko(s),ko(i),ko(o),ko(a),ko(c),ko(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let f=128*i,d=f/4;if(s<=1||(s&s-1)!==0||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let p=f*(s+o);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);let h=NT(Tm,t,e,{c:1,dkLen:f*o}),m=Qv(h),g=Qv(new Uint8Array(f*s)),b=Qv(new Uint8Array(f)),E=()=>{};if(u){let w=2*s*o,x=Math.max(Math.floor(w/1e4),1),C=0;E=()=>{C++,u&&(!(C%x)||C===w)&&u(C/w)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:d,V:g,B32:m,B:h,tmp:b,blockMixCb:E,asyncTick:c}}function bOe(t,e,r,n,s){let i=NT(Tm,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),s.fill(0),i}function wOe(t,e,r){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:d}=yOe(t,e,r);for(let p=0;p<i;p++){let h=a*p;for(let m=0;m<a;m++)c[m]=l[h+m];for(let m=0,g=0;m<n-1;m++)eE(c,g,c,g+=a,s),d();eE(c,(n-1)*a,l,h,s),d();for(let m=0;m<n;m++){let g=l[h+a-16]%n;for(let b=0;b<a;b++)f[b]=l[h+b]^c[g*a+b];eE(f,0,l,h,s),d()}}return bOe(t,o,u,c,f)}async function xOe(t,e,r){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:d,asyncTick:p}=yOe(t,e,r);for(let h=0;h<i;h++){let m=a*h;for(let b=0;b<a;b++)c[b]=l[m+b];let g=0;await zL(n-1,p,()=>{eE(c,g,c,g+=a,s),d()}),eE(c,(n-1)*a,l,m,s),d(),await zL(n,p,()=>{let b=l[m+a-16]%n;for(let E=0;E<a;E++)f[E]=l[m+E]^c[b*a+E];eE(f,0,l,m,s),d()})}return bOe(t,o,u,c,f)}var vOe=!1,EOe=!1,AOe=async function(t,e,r,n,s,i,o){return await xOe(t,e,{N:r,r:n,p:s,dkLen:i,onProgress:o})},COe=function(t,e,r,n,s,i){return wOe(t,e,{N:r,r:n,p:s,dkLen:i})},SOe=AOe,IOe=COe;async function iu(t,e,r,n,s,i,o){let a=xe(t,"passwd"),c=xe(e,"salt");return he(await SOe(a,c,r,n,s,i,o))}iu._=AOe;iu.lock=function(){EOe=!0};iu.register=function(t){if(EOe)throw new Error("scrypt is locked");SOe=t};Object.freeze(iu);function ou(t,e,r,n,s,i){let o=xe(t,"passwd"),a=xe(e,"salt");return he(IOe(o,a,r,n,s,i))}ou._=COe;ou.lock=function(){vOe=!0};ou.register=function(t){if(vOe)throw new Error("scryptSync is locked");IOe=t};Object.freeze(ou);var TOe=function(t){return Mee("sha256").update(t).digest()},POe=function(t){return Mee("sha512").update(t).digest()},_Oe=TOe,NOe=POe,OOe=!1,ROe=!1;function as(t){let e=xe(t,"data");return he(_Oe(e))}as._=TOe;as.lock=function(){OOe=!0};as.register=function(t){if(OOe)throw new Error("sha256 is locked");_Oe=t};Object.freeze(as);function xy(t){let e=xe(t,"data");return he(NOe(e))}xy._=POe;xy.lock=function(){ROe=!0};xy.register=function(t){if(ROe)throw new Error("sha512 is locked");NOe=t};Object.freeze(as);var qee={};Me(qee,{bitGet:()=>zgt,bitLen:()=>Fgt,bitMask:()=>RT,bitSet:()=>Vgt,bytesToHex:()=>g6,bytesToNumberBE:()=>Pm,bytesToNumberLE:()=>QL,concatBytes:()=>tE,createHmacDrbg:()=>jee,ensureBytes:()=>ll,equalBytes:()=>$gt,hexToBytes:()=>y6,hexToNumber:()=>Vee,numberToBytesBE:()=>vy,numberToBytesLE:()=>XL,numberToHexUnpadded:()=>UOe,numberToVarBytesBE:()=>Mgt,utf8ToBytes:()=>Hgt,validateObject:()=>Ey});var BOe=BigInt(0),YL=BigInt(1),Dgt=BigInt(2),JL=t=>t instanceof Uint8Array,Lgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g6(t){if(!JL(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Lgt[t[r]];return e}function UOe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Vee(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function y6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Pm(t){return Vee(g6(t))}function QL(t){if(!JL(t))throw new Error("Uint8Array expected");return Vee(g6(Uint8Array.from(t).reverse()))}function vy(t,e){return y6(t.toString(16).padStart(e*2,"0"))}function XL(t,e){return vy(t,e).reverse()}function Mgt(t){return y6(UOe(t))}function ll(t,e,r){let n;if(typeof e=="string")try{n=y6(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(JL(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function tE(...t){let e=new Uint8Array(t.reduce((n,s)=>n+s.length,0)),r=0;return t.forEach(n=>{if(!JL(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function $gt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Hgt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fgt(t){let e;for(e=0;t>BOe;t>>=YL,e+=1);return e}function zgt(t,e){return t>>BigInt(e)&YL}var Vgt=(t,e,r)=>t|(r?YL:BOe)<<BigInt(e),RT=t=>(Dgt<<BigInt(t-1))-YL,zee=t=>new Uint8Array(t),kOe=t=>Uint8Array.from(t);function jee(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zee(t),s=zee(t),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>r(s,n,...f),c=(f=zee())=>{s=a(kOe([0]),f),n=a(),f.length!==0&&(s=a(kOe([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){n=a();let p=n.slice();d.push(p),f+=n.length}return tE(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}var jgt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ey(t,e,r={}){let n=(s,i,o)=>{let a=jgt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(r))n(s,i,!0);return t}var Ys=BigInt(0),cs=BigInt(1),b6=BigInt(2),qgt=BigInt(3),Wee=BigInt(4),DOe=BigInt(5),LOe=BigInt(8),Wgt=BigInt(9),Kgt=BigInt(16);function Uo(t,e){let r=t%e;return r>=Ys?r:e+r}function Ggt(t,e,r){if(r<=Ys||e<Ys)throw new Error("Expected power/modulo > 0");if(r===cs)return Ys;let n=cs;for(;e>Ys;)e&cs&&(n=n*t%r),t=t*t%r,e>>=cs;return n}function ul(t,e,r){let n=t;for(;e-- >Ys;)n*=n,n%=r;return n}function eM(t,e){if(t===Ys||e<=Ys)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Uo(t,e),n=e,s=Ys,i=cs,o=cs,a=Ys;for(;r!==Ys;){let l=n/r,u=n%r,f=s-o*l,d=i-a*l;n=r,r=u,s=o,i=a,o=f,a=d}if(n!==cs)throw new Error("invert: does not exist");return Uo(s,e)}function Zgt(t){let e=(t-cs)/b6,r,n,s;for(r=t-cs,n=0;r%b6===Ys;r/=b6,n++);for(s=b6;s<t&&Ggt(s,e,t)!==t-cs;s++);if(n===1){let o=(t+cs)/Wee;return function(c,l){let u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let i=(r+cs)/b6;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,s),r),f=a.pow(c,i),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(d);p<l&&!a.eql(m,a.ONE);p++)m=a.sqr(m);let h=a.pow(u,cs<<BigInt(l-p-1));u=a.sqr(h),f=a.mul(f,h),d=a.mul(d,u),l=p}return f}}function Ygt(t){if(t%Wee===qgt){let e=(t+cs)/Wee;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%LOe===DOe){let e=(t-DOe)/LOe;return function(n,s){let i=n.mul(s,b6),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,b6),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return t%Kgt,Zgt(t)}var Jgt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kee(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Jgt.reduce((n,s)=>(n[s]="function",n),e);return Ey(t,r)}function Qgt(t,e,r){if(r<Ys)throw new Error("Expected power > 0");if(r===Ys)return t.ONE;if(r===cs)return e;let n=t.ONE,s=e;for(;r>Ys;)r&cs&&(n=t.mul(n,s)),s=t.sqr(s),r>>=cs;return n}function Xgt(t,e){let r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function Gee(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function MOe(t,e,r=!1,n={}){if(t<=Ys)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:s,nByteLength:i}=Gee(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=Ygt(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:RT(s),ZERO:Ys,ONE:cs,create:c=>Uo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ys<=c&&c<t},is0:c=>c===Ys,isOdd:c=>(c&cs)===cs,neg:c=>Uo(-c,t),eql:(c,l)=>c===l,sqr:c=>Uo(c*c,t),add:(c,l)=>Uo(c+l,t),sub:(c,l)=>Uo(c-l,t),mul:(c,l)=>Uo(c*l,t),pow:(c,l)=>Qgt(a,c,l),div:(c,l)=>Uo(c*eM(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>eM(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>Xgt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?XL(c,i):vy(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?QL(c):Pm(c)}});return Object.freeze(a)}function $Oe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Zee(t){let e=$Oe(t);return e+Math.ceil(e/2)}function HOe(t,e,r=!1){let n=t.length,s=$Oe(e),i=Zee(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=r?Pm(t):QL(t),a=Uo(o,e-cs)+cs;return r?XL(a,s):vy(a,s)}var t2t=BigInt(0),Yee=BigInt(1);function FOe(t,e){let r=(s,i)=>{let o=i.negate();return s?o:i},n=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>t2t;)i&Yee&&(o=o.add(a)),a=a.double(),i>>=Yee;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=n(i),c=[],l=s,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=n(s),l=t.ZERO,u=t.BASE,f=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let h=0;h<a;h++){let m=h*c,g=Number(o&f);o>>=p,g>c&&(g-=d,o+=Yee);let b=m,E=m+Math.abs(g)-1,w=h%2!==0,x=g<0;g===0?u=u.add(r(w,i[b])):l=l.add(r(x,i[E]))}return{p:l,f:u}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function Jee(t){return Kee(t.Fp),Ey(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(G(S(S({},Gee(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}function r2t(t){let e=Jee(t);Ey(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(S({},e))}var{bytesToNumberBE:n2t,hexToBytes:s2t}=qee,w6={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=w6;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:n2t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=w6,r=typeof t=="string"?s2t(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=w6._parseInt(r.subarray(2)),{d:o,l:a}=w6._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},_m=BigInt(0),au=BigInt(1),zUr=BigInt(2),zOe=BigInt(3),VUr=BigInt(4);function i2t(t){let e=r2t(t),{Fp:r}=e,n=e.toBytes||((h,m,g)=>{let b=m.toAffine();return tE(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(h=>{let m=h.subarray(1),g=r.fromBytes(m.subarray(0,r.BYTES)),b=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:g,y:b}});function i(h){let{a:m,b:g}=e,b=r.sqr(h),E=r.mul(b,h);return r.add(r.add(E,r.mul(h,m)),g)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(h){return typeof h=="bigint"&&_m<h&&h<e.n}function a(h){if(!o(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:b,n:E}=e;if(m&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=g6(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(g*2,"0")}let w;try{w=typeof h=="bigint"?h:Pm(ll("private key",h,g))}catch(x){throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof h}`)}return b&&(w=Uo(w,E)),a(w),w}let l=new Map;function u(h){if(!(h instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,g,b){if(this.px=m,this.py=g,this.pz=b,m==null||!r.isValid(m))throw new Error("x required");if(g==null||!r.isValid(g))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(m){let{x:g,y:b}=m||{};if(!m||!r.isValid(g)||!r.isValid(b))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");let E=w=>r.eql(w,r.ZERO);return E(g)&&E(b)?f.ZERO:new f(g,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let g=r.invertBatch(m.map(b=>b.pz));return m.map((b,E)=>b.toAffine(g[E])).map(f.fromAffine)}static fromHex(m){let g=f.fromAffine(s(ll("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return f.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:g}=this.toAffine();if(!r.isValid(m)||!r.isValid(g))throw new Error("bad point: x or y not FE");let b=r.sqr(g),E=i(m);if(!r.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:g,py:b,pz:E}=this,{px:w,py:x,pz:C}=m,T=r.eql(r.mul(g,C),r.mul(w,E)),U=r.eql(r.mul(b,C),r.mul(x,E));return T&&U}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:m,b:g}=e,b=r.mul(g,zOe),{px:E,py:w,pz:x}=this,C=r.ZERO,T=r.ZERO,U=r.ZERO,B=r.mul(E,E),O=r.mul(w,w),H=r.mul(x,x),_=r.mul(E,w);return _=r.add(_,_),U=r.mul(E,x),U=r.add(U,U),C=r.mul(m,U),T=r.mul(b,H),T=r.add(C,T),C=r.sub(O,T),T=r.add(O,T),T=r.mul(C,T),C=r.mul(_,C),U=r.mul(b,U),H=r.mul(m,H),_=r.sub(B,H),_=r.mul(m,_),_=r.add(_,U),U=r.add(B,B),B=r.add(U,B),B=r.add(B,H),B=r.mul(B,_),T=r.add(T,B),H=r.mul(w,x),H=r.add(H,H),B=r.mul(H,_),C=r.sub(C,B),U=r.mul(H,O),U=r.add(U,U),U=r.add(U,U),new f(C,T,U)}add(m){u(m);let{px:g,py:b,pz:E}=this,{px:w,py:x,pz:C}=m,T=r.ZERO,U=r.ZERO,B=r.ZERO,O=e.a,H=r.mul(e.b,zOe),_=r.mul(g,w),N=r.mul(b,x),I=r.mul(E,C),D=r.add(g,b),v=r.add(w,x);D=r.mul(D,v),v=r.add(_,N),D=r.sub(D,v),v=r.add(g,E);let A=r.add(w,C);return v=r.mul(v,A),A=r.add(_,I),v=r.sub(v,A),A=r.add(b,E),T=r.add(x,C),A=r.mul(A,T),T=r.add(N,I),A=r.sub(A,T),B=r.mul(O,v),T=r.mul(H,I),B=r.add(T,B),T=r.sub(N,B),B=r.add(N,B),U=r.mul(T,B),N=r.add(_,_),N=r.add(N,_),I=r.mul(O,I),v=r.mul(H,v),N=r.add(N,I),I=r.sub(_,I),I=r.mul(O,I),v=r.add(v,I),_=r.mul(N,v),U=r.add(U,_),_=r.mul(A,v),T=r.mul(D,T),T=r.sub(T,_),_=r.mul(D,N),B=r.mul(A,B),B=r.add(B,_),new f(T,U,B)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,g=>{let b=r.invertBatch(g.map(E=>E.pz));return g.map((E,w)=>E.toAffine(b[w])).map(f.fromAffine)})}multiplyUnsafe(m){let g=f.ZERO;if(m===_m)return g;if(a(m),m===au)return this;let{endo:b}=e;if(!b)return p.unsafeLadder(this,m);let{k1neg:E,k1:w,k2neg:x,k2:C}=b.splitScalar(m),T=g,U=g,B=this;for(;w>_m||C>_m;)w&au&&(T=T.add(B)),C&au&&(U=U.add(B)),B=B.double(),w>>=au,C>>=au;return E&&(T=T.negate()),x&&(U=U.negate()),U=new f(r.mul(U.px,b.beta),U.py,U.pz),T.add(U)}multiply(m){a(m);let g=m,b,E,{endo:w}=e;if(w){let{k1neg:x,k1:C,k2neg:T,k2:U}=w.splitScalar(g),{p:B,f:O}=this.wNAF(C),{p:H,f:_}=this.wNAF(U);B=p.constTimeNegate(x,B),H=p.constTimeNegate(T,H),H=new f(r.mul(H.px,w.beta),H.py,H.pz),b=B.add(H),E=O.add(_)}else{let{p:x,f:C}=this.wNAF(g);b=x,E=C}return f.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(m,g,b){let E=f.BASE,w=(C,T)=>T===_m||T===au||!C.equals(E)?C.multiplyUnsafe(T):C.multiply(T),x=w(this,g).add(w(m,b));return x.is0()?void 0:x}toAffine(m){let{px:g,py:b,pz:E}=this,w=this.is0();m==null&&(m=w?r.ONE:r.inv(E));let x=r.mul(g,m),C=r.mul(b,m),T=r.mul(E,m);if(w)return{x:r.ZERO,y:r.ZERO};if(!r.eql(T,r.ONE))throw new Error("invZ was invalid");return{x,y:C}}isTorsionFree(){let{h:m,isTorsionFree:g}=e;if(m===au)return!0;if(g)return g(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:g}=e;return m===au?this:g?g(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(f,this,m)}toHex(m=!0){return g6(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,p=FOe(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function o2t(t){let e=Jee(t);return Ey(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(S({lowS:!0},e))}function VOe(t){let e=o2t(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(v){return _m<v&&v<r.ORDER}function a(v){return Uo(v,n)}function c(v){return eM(v,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=i2t(G(S({},e),{toBytes(v,A,R){let $=A.toAffine(),k=r.toBytes($.x),L=tE;return R?L(Uint8Array.from([A.hasEvenY()?2:3]),k):L(Uint8Array.from([4]),k,r.toBytes($.y))},fromBytes(v){let A=v.length,R=v[0],$=v.subarray(1);if(A===s&&(R===2||R===3)){let k=Pm($);if(!o(k))throw new Error("Point is not on curve");let L=f(k),q=r.sqrt(L),Z=(q&au)===au;return(R&1)===1!==Z&&(q=r.neg(q)),{x:k,y:q}}else if(A===i&&R===4){let k=r.fromBytes($.subarray(0,r.BYTES)),L=r.fromBytes($.subarray(r.BYTES,2*r.BYTES));return{x:k,y:L}}else throw new Error(`Point of length ${A} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}})),p=v=>g6(vy(v,e.nByteLength));function h(v){let A=n>>au;return v>A}function m(v){return h(v)?a(-v):v}let g=(v,A,R)=>Pm(v.slice(A,R));class b{constructor(A,R,$){this.r=A,this.s=R,this.recovery=$,this.assertValidity()}static fromCompact(A){let R=e.nByteLength;return A=ll("compactSignature",A,R*2),new b(g(A,0,R),g(A,R,2*R))}static fromDER(A){let{r:R,s:$}=w6.toSig(ll("DER",A));return new b(R,$)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new b(this.r,this.s,A)}recoverPublicKey(A){let{r:R,s:$,recovery:k}=this,L=U(ll("msgHash",A));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let q=k===2||k===3?R+e.n:R;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=(k&1)===0?"02":"03",ee=l.fromHex(Z+p(q)),ae=c(q),re=a(-L*ae),we=a($*ae),ie=l.BASE.multiplyAndAddUnsafe(ee,re,we);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return y6(this.toDERHex())}toDERHex(){return w6.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return y6(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let E={isValidPrivateKey(v){try{return u(v),!0}catch(A){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let v=Zee(e.n);return HOe(e.randomBytes(v),e.n)},precompute(v=8,A=l.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function w(v,A=!0){return l.fromPrivateKey(v).toRawBytes(A)}function x(v){let A=v instanceof Uint8Array,R=typeof v=="string",$=(A||R)&&v.length;return A?$===s||$===i:R?$===2*s||$===2*i:v instanceof l}function C(v,A,R=!0){if(x(v))throw new Error("first arg must be private key");if(!x(A))throw new Error("second arg must be public key");return l.fromHex(A).multiply(u(v)).toRawBytes(R)}let T=e.bits2int||function(v){let A=Pm(v),R=v.length*8-e.nBitLength;return R>0?A>>BigInt(R):A},U=e.bits2int_modN||function(v){return a(T(v))},B=RT(e.nBitLength);function O(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(_m<=v&&v<B))throw new Error(`bigint expected < 2^${e.nBitLength}`);return vy(v,e.nByteLength)}function H(v,A,R=_){if(["recovered","canonical"].some(be=>be in R))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:k}=e,{lowS:L,prehash:q,extraEntropy:Z}=R;L==null&&(L=!0),v=ll("msgHash",v),q&&(v=ll("prehashed msgHash",$(v)));let ee=U(v),ae=u(A),re=[O(ae),O(ee)];if(Z!=null){let be=Z===!0?k(r.BYTES):Z;re.push(ll("extraEntropy",be))}let we=tE(...re),ie=ee;function Te(be){let De=T(be);if(!d(De))return;let Et=c(De),Pt=l.BASE.multiply(De).toAffine(),ut=a(Pt.x);if(ut===_m)return;let Ut=a(Et*a(ie+ut*ae));if(Ut===_m)return;let bn=(Pt.x===ut?0:2)|Number(Pt.y&au),Nn=Ut;return L&&h(Ut)&&(Nn=m(Ut),bn^=1),new b(ut,Nn,bn)}return{seed:we,k2sig:Te}}let _={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function I(v,A,R=_){let{seed:$,k2sig:k}=H(v,A,R),L=e;return jee(L.hash.outputLen,L.nByteLength,L.hmac)($,k)}l.BASE._setWindowSize(8);function D(v,A,R,$=N){var Pt;let k=v;if(A=ll("msgHash",A),R=ll("publicKey",R),"strict"in $)throw new Error("options.strict was renamed to lowS");let{lowS:L,prehash:q}=$,Z,ee;try{if(typeof k=="string"||k instanceof Uint8Array)try{Z=b.fromDER(k)}catch(ut){if(!(ut instanceof w6.Err))throw ut;Z=b.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){let{r:ut,s:Ut}=k;Z=new b(ut,Ut)}else throw new Error("PARSE");ee=l.fromHex(R)}catch(ut){if(ut.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&Z.hasHighS())return!1;q&&(A=e.hash(A));let{r:ae,s:re}=Z,we=U(A),ie=c(re),Te=a(we*ie),be=a(ae*ie),De=(Pt=l.BASE.multiplyAndAddUnsafe(ee,Te,be))==null?void 0:Pt.toAffine();return De?a(De.x)===ae:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:I,verify:D,ProjectivePoint:l,Signature:b,utils:E}}function a2t(t){return{hash:t,hmac:(e,...r)=>m6(t,e,UNe(...r)),randomBytes:LNe}}function jOe(t,e){let r=n=>VOe(S(S({},t),a2t(n)));return Object.freeze(G(S({},r(e)),{create:r}))}var KOe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qOe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c2t=BigInt(1),Qee=BigInt(2),WOe=(t,e)=>(t+e/Qee)/e;function l2t(t){let e=KOe,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=ul(u,r,e)*u%e,d=ul(f,r,e)*u%e,p=ul(d,Qee,e)*l%e,h=ul(p,s,e)*p%e,m=ul(h,i,e)*h%e,g=ul(m,a,e)*m%e,b=ul(g,c,e)*g%e,E=ul(b,a,e)*m%e,w=ul(E,r,e)*u%e,x=ul(w,o,e)*h%e,C=ul(x,n,e)*l%e,T=ul(C,Qee,e);if(!Xee.eql(Xee.sqr(T),t))throw new Error("Cannot find square root");return T}var Xee=MOe(KOe,void 0,void 0,{sqrt:l2t}),Nm=jOe({a:BigInt(0),b:BigInt(7),Fp:Xee,n:qOe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=qOe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-c2t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=WOe(i*t,e),c=WOe(-n*t,e),l=Uo(t-a*r-c*s,e),u=Uo(-a*n-c*i,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Tm),eDr=BigInt(0);var tDr=Nm.ProjectivePoint;var cu="0x0000000000000000000000000000000000000000";var x6="0x0000000000000000000000000000000000000000000000000000000000000000";var tM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rM=BigInt("1000000000000000000"),nM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sM=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),iM=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var oM="\u039E",rE=`Ethereum Signed Message:
`;var GOe=BigInt(0),ZOe=BigInt(1),tte=BigInt(2),YOe=BigInt(27),JOe=BigInt(28),aM=BigInt(35),QOe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u2t=QOe/tte,f2t=Symbol.for("nodejs.util.inspect.custom"),v6={};function ete(t){return os(ur(t),32)}var nE,sp,sE,Ay,lu=class lu{constructor(e,r,n,s){Q(this,nE);Q(this,sp);Q(this,sE);Q(this,Ay);gi(e,v6,"Signature"),j(this,nE,r),j(this,sp,n),j(this,sE,s),j(this,Ay,null)}get r(){return P(this,nE)}set r(e){V(da(e)===32,"invalid r","value",e),j(this,nE,he(e))}get s(){return V(parseInt(P(this,sp).substring(0,3))<8,"non-canonical s; use ._s","s",P(this,sp)),P(this,sp)}set s(e){V(da(e)===32,"invalid s","value",e),j(this,sp,he(e))}get _s(){return P(this,sp)}isValid(){return BigInt(P(this,sp))<=u2t}get v(){return P(this,sE)}set v(e){let r=Xe(e,"value");V(r===27||r===28,"invalid v","v",e),j(this,sE,r)}get networkV(){return P(this,Ay)}get legacyChainId(){let e=this.networkV;return e==null?null:lu.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=xe(this.s);return this.yParity&&(e[0]|=128),he(e)}get compactSerialized(){return gt([this.r,this.yParityAndS])}get serialized(){return gt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;let e=QOe-BigInt(this._s),r=55-this.v,n=new lu(v6,this.r,ete(e),r);return this.networkV&&j(n,Ay,this.networkV),n}clone(){let e=new lu(v6,this.r,this._s,this.v);return this.networkV&&j(e,Ay,this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[f2t](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let r=Ue(e,"v");return r==YOe||r==JOe?GOe:(V(r>=aM,"invalid EIP-155 v","v",e),(r-aM)/tte)}static getChainIdV(e,r){return Ue(e)*tte+BigInt(35+r-27)}static getNormalizedV(e){let r=Ue(e);return r===GOe||r===YOe?27:r===ZOe||r===JOe?28:(V(r>=aM,"invalid v","v",e),r&ZOe?27:28)}static from(e){function r(l,u){V(l,u,"signature",e)}if(e==null)return new lu(v6,x6,x6,27);if(typeof e=="string"){let l=xe(e,"signature");if(l.length===64){let u=he(l.slice(0,32)),f=l.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new lu(v6,u,he(f),d)}if(l.length===65){let u=he(l.slice(0,32)),f=he(l.slice(32,64)),d=lu.getNormalizedV(l[64]);return new lu(v6,u,f,d)}r(!1,"invalid raw signature length")}if(e instanceof lu)return e.clone();let n=e.r;r(n!=null,"missing r");let s=ete(n),i=(function(l,u){if(l!=null)return ete(l);if(u!=null){r(Ht(u,32),"invalid yParityAndS");let f=xe(u);return f[0]&=127,he(f)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(l,u,f){if(l!=null){let d=Ue(l);return{networkV:d>=aM?d:void 0,v:lu.getNormalizedV(d)}}if(u!=null)return r(Ht(u,32),"invalid yParityAndS"),{v:xe(u)[0]&128?28:27};if(f!=null){switch(Xe(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new lu(v6,s,i,a);return o&&j(c,Ay,o),r(e.yParity==null||Xe(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};nE=new WeakMap,sp=new WeakMap,sE=new WeakMap,Ay=new WeakMap;var ls=lu;var Om,E6=class E6{constructor(e){Q(this,Om);V(da(e)===32,"invalid private key","privateKey","[REDACTED]"),j(this,Om,he(e))}get privateKey(){return P(this,Om)}get publicKey(){return E6.computePublicKey(P(this,Om))}get compressedPublicKey(){return E6.computePublicKey(P(this,Om),!0)}sign(e){V(da(e)===32,"invalid digest length","digest",e);let r=Nm.sign(gn(e),gn(P(this,Om)),{lowS:!0});return ls.from({r:Zs(r.r,32),s:Zs(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=E6.computePublicKey(e);return he(Nm.getSharedSecret(gn(P(this,Om)),xe(r),!1))}static computePublicKey(e,r){let n=xe(e,"key");if(n.length===32){let i=Nm.getPublicKey(n,!!r);return he(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let s=Nm.ProjectivePoint.fromHex(n);return he(s.toRawBytes(r))}static recoverPublicKey(e,r){V(da(e)===32,"invalid digest length","digest",e);let n=ls.from(r),s=Nm.Signature.fromCompact(gn(gt([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let i=s.recoverPublicKey(gn(e));return V(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){let s=Nm.ProjectivePoint.fromHex(E6.computePublicKey(e).substring(2)),i=Nm.ProjectivePoint.fromHex(E6.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};Om=new WeakMap;var bi=E6;function rte(){nu.lock(),Mt.lock(),Bo.lock(),zi.lock(),su.lock(),iu.lock(),ou.lock(),as.lock(),xy.lock(),zi.lock()}var d2t=BigInt(0),p2t=BigInt(36);function XOe(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);let n=xe(Mt(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var nte={};for(let t=0;t<10;t++)nte[String(t)]=String(t);for(let t=0;t<26;t++)nte[String.fromCharCode(65+t)]=String(10+t);var eRe=15;function tRe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>nte[n]).join("");for(;e.length>=eRe;){let n=e.substring(0,eRe);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}var h2t=(function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function m2t(t){t=t.toLowerCase();let e=d2t;for(let r=0;r<t.length;r++)e=e*p2t+h2t[t[r]];return e}function it(t){if(V(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=XOe(t);return V(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){V(t.substring(2,4)===tRe(t),"bad icap checksum","address",t);let e=m2t(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return XOe("0x"+e)}V(!1,"invalid address","address",t)}function cM(t){let e=BigInt(it(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+tRe("XE00"+e)+e}function Cy(t){let e=it(t.from),n=Ue(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,it(br(Mt(Hi([e,n])),12))}function lM(t,e,r){let n=it(t),s=xe(e,"salt"),i=xe(r,"initCodeHash");return V(s.length===32,"salt must be 32 bytes","salt",e),V(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",r),it(br(Mt(gt(["0xff",n,s,i])),12))}function A6(t){return t&&typeof t.getAddress=="function"}function uM(t){try{return it(t),!0}catch(e){}return!1}async function ste(t,e){let r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(se(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),V(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),it(r)}function yn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?it(t):(se(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ste(t,e.resolveName(t)));if(A6(t))return ste(t,t.getAddress());if(t&&typeof t.then=="function")return ste(t,t);V(!1,"unsupported addressable value","target",t)}var Of={};function nt(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Xr(Of,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function kr(t,e){return new Xr(Of,`bytes${e||""}`,t,{size:e})}var rRe=Symbol.for("_ethers_typed"),C6,Rf=class Rf{constructor(e,r,n,s){Y(this,"type");Y(this,"value");Q(this,C6);Y(this,"_typedSymbol");s==null&&(s=null),gi(Of,e,"Typed"),Se(this,{_typedSymbol:rRe,type:r,value:n}),j(this,C6,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return P(this,C6)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return P(this,C6)===!0?-1:P(this,C6)===!1?this.value.length:null}static from(e,r){return new Rf(Of,e,r)}static uint8(e){return nt(e,8)}static uint16(e){return nt(e,16)}static uint24(e){return nt(e,24)}static uint32(e){return nt(e,32)}static uint40(e){return nt(e,40)}static uint48(e){return nt(e,48)}static uint56(e){return nt(e,56)}static uint64(e){return nt(e,64)}static uint72(e){return nt(e,72)}static uint80(e){return nt(e,80)}static uint88(e){return nt(e,88)}static uint96(e){return nt(e,96)}static uint104(e){return nt(e,104)}static uint112(e){return nt(e,112)}static uint120(e){return nt(e,120)}static uint128(e){return nt(e,128)}static uint136(e){return nt(e,136)}static uint144(e){return nt(e,144)}static uint152(e){return nt(e,152)}static uint160(e){return nt(e,160)}static uint168(e){return nt(e,168)}static uint176(e){return nt(e,176)}static uint184(e){return nt(e,184)}static uint192(e){return nt(e,192)}static uint200(e){return nt(e,200)}static uint208(e){return nt(e,208)}static uint216(e){return nt(e,216)}static uint224(e){return nt(e,224)}static uint232(e){return nt(e,232)}static uint240(e){return nt(e,240)}static uint248(e){return nt(e,248)}static uint256(e){return nt(e,256)}static uint(e){return nt(e,256)}static int8(e){return nt(e,-8)}static int16(e){return nt(e,-16)}static int24(e){return nt(e,-24)}static int32(e){return nt(e,-32)}static int40(e){return nt(e,-40)}static int48(e){return nt(e,-48)}static int56(e){return nt(e,-56)}static int64(e){return nt(e,-64)}static int72(e){return nt(e,-72)}static int80(e){return nt(e,-80)}static int88(e){return nt(e,-88)}static int96(e){return nt(e,-96)}static int104(e){return nt(e,-104)}static int112(e){return nt(e,-112)}static int120(e){return nt(e,-120)}static int128(e){return nt(e,-128)}static int136(e){return nt(e,-136)}static int144(e){return nt(e,-144)}static int152(e){return nt(e,-152)}static int160(e){return nt(e,-160)}static int168(e){return nt(e,-168)}static int176(e){return nt(e,-176)}static int184(e){return nt(e,-184)}static int192(e){return nt(e,-192)}static int200(e){return nt(e,-200)}static int208(e){return nt(e,-208)}static int216(e){return nt(e,-216)}static int224(e){return nt(e,-224)}static int232(e){return nt(e,-232)}static int240(e){return nt(e,-240)}static int248(e){return nt(e,-248)}static int256(e){return nt(e,-256)}static int(e){return nt(e,-256)}static bytes1(e){return kr(e,1)}static bytes2(e){return kr(e,2)}static bytes3(e){return kr(e,3)}static bytes4(e){return kr(e,4)}static bytes5(e){return kr(e,5)}static bytes6(e){return kr(e,6)}static bytes7(e){return kr(e,7)}static bytes8(e){return kr(e,8)}static bytes9(e){return kr(e,9)}static bytes10(e){return kr(e,10)}static bytes11(e){return kr(e,11)}static bytes12(e){return kr(e,12)}static bytes13(e){return kr(e,13)}static bytes14(e){return kr(e,14)}static bytes15(e){return kr(e,15)}static bytes16(e){return kr(e,16)}static bytes17(e){return kr(e,17)}static bytes18(e){return kr(e,18)}static bytes19(e){return kr(e,19)}static bytes20(e){return kr(e,20)}static bytes21(e){return kr(e,21)}static bytes22(e){return kr(e,22)}static bytes23(e){return kr(e,23)}static bytes24(e){return kr(e,24)}static bytes25(e){return kr(e,25)}static bytes26(e){return kr(e,26)}static bytes27(e){return kr(e,27)}static bytes28(e){return kr(e,28)}static bytes29(e){return kr(e,29)}static bytes30(e){return kr(e,30)}static bytes31(e){return kr(e,31)}static bytes32(e){return kr(e,32)}static address(e){return new Rf(Of,"address",e)}static bool(e){return new Rf(Of,"bool",!!e)}static bytes(e){return new Rf(Of,"bytes",e)}static string(e){return new Rf(Of,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Rf(Of,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===rRe}static dereference(e,r){if(Rf.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};C6=new WeakMap;var Xr=Rf;var fM=class extends Ls{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Xr.dereference(r,"string");try{n=it(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return it(Zs(e.readValue(),20))}};var dM=class extends Ls{constructor(r){super(r.name,r.type,"_",r.dynamic);Y(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}};function ite(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{let u=l.localName;return se(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),se(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else V(!1,"invalid tuple value","tuple",r);V(e.length===n.length,"types/value length mismatch","tuple",r);let s=new p6,i=new p6,o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let d=s.writeUpdatableValue();o.push(p=>{d(p+f)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function ote(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(Ar(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Ar(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),ru.fromItems(r,n)}var pM=class extends Ls{constructor(r,n,s){let i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,s,o);Y(this,"coder");Y(this,"length");Se(this,{coder:r,length:n})}defaultValue(){let r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){let s=Xr.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),sy(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return ite(r,o,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),se(n*Fi<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Fi,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new dM(this.coder));return ote(r,s)}};var hM=class extends Ls{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=Xr.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var kT=class extends Ls{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=gn(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},mM=class extends kT{constructor(e){super("bytes",e)}decode(e){return he(super.decode(e))}};var gM=class extends Ls{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);Y(this,"size");Se(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=gn(Xr.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return he(r.readBytes(this.size))}};var g2t=new Uint8Array([]),yM=class extends Ls{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(g2t)}decode(e){return e.readBytes(0),null}};var y2t=BigInt(0),b2t=BigInt(1),w2t=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),bM=class extends Ls{constructor(r,n,s){let i=(n?"int":"uint")+r*8;super(i,i,s,!1);Y(this,"size");Y(this,"signed");Se(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Ue(Xr.dereference(n,this.type)),i=oc(w2t,Fi*8);if(this.signed){let o=oc(i,this.size*8-1);(s>o||s<-(o+b2t))&&this._throwError("value out-of-bounds",n),s=ep(s,8*Fi)}else(s<y2t||s>oc(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=oc(r.readValue(),this.size*8);return this.signed&&(n=Xd(n,this.size*8)),n}};var wM=class extends kT{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Nr(Xr.dereference(r,"string")))}decode(e){return Ro(super.decode(e))}};var S6=class extends Ls{constructor(r,n){let s=!1,i=[];r.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,n,s);Y(this,"coders");Se(this,{coders:Object.freeze(r.slice())})}defaultValue(){let r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});let n=this.coders.reduce((s,i)=>{let o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){let s=Xr.dereference(n,"tuple");return ite(r,this.coders,s)}decode(r){return ote(r,this.coders)}};function ate(t,e){return{address:it(t),storageKeys:e.map((r,n)=>(V(Ht(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function wi(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(V(r.length===2,"invalid slot set",`value[${n}]`,r),ate(r[0],r[1])):(V(r!=null&&typeof r=="object","invalid address-slot set","value",t),ate(r.address,r.storageKeys)));V(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return ate(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Sy(t){return{address:it(t.address),nonce:Ue(t.nonce!=null?t.nonce:0),chainId:Ue(t.chainId!=null?t.chainId:0),signature:ls.from(t.signature)}}function uu(t){let e;return typeof t=="string"?e=bi.computePublicKey(t,!1):e=t.publicKey,it(Mt("0x"+e.substring(4)).substring(26))}function fu(t,e){return uu(bi.recoverPublicKey(t,e))}var xi=BigInt(0),x2t=BigInt(2),v2t=BigInt(27),E2t=BigInt(28),A2t=BigInt(35),C2t=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),S2t=Symbol.for("nodejs.util.inspect.custom"),cte=4096*32,xM=128;function I2t(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return xe(t.blobToKzgCommitment(he(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return xe(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return xe(t.blobToKZGCommitment(he(n)));V(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return xe(t.computeBlobProof(he(n),he(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return xe(t.computeBlobKZGProof(he(n),he(s)));V(!1,"unsupported KZG library","kzg",t)}}}function nRe(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=as(e).substring(4),"0x"+r}function wE(t){return t==="0x"?null:it(t)}function EM(t,e){try{return wi(t)}catch(r){V(!1,r.message,e,t)}}function T2t(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let r=[];for(let n=0;n<t.length;n++){let s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:wE(s[1]),nonce:an(s[2],"nonce"),chainId:an(s[0],"chainId"),signature:ls.from({yParity:T6(s[3],"yParity"),r:os(s[4],32),s:os(s[5],32)})})}return r}catch(r){V(!1,r.message,e,t)}}function T6(t,e){return t==="0x"?0:Xe(t,e)}function an(t,e){if(t==="0x")return xi;let r=Ue(t,e);return V(r<=C2t,"value exceeds uint size",e,r),r}function fr(t,e){let r=Ue(t,"value"),n=ur(r);return V(n.length<=32,"value too large",`tx.${e}`,r),n}function AM(t){return wi(t).map(e=>[e.address,e.storageKeys])}function P2t(t){return t.map(e=>[fr(e.chainId,"chainId"),e.address,fr(e.nonce,"nonce"),fr(e.signature.yParity,"yParity"),ur(e.signature.r),ur(e.signature._s)])}function _2t(t,e){V(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)V(Ht(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function N2t(t){let e=np(t);V(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:T6(e[0],"nonce"),gasPrice:an(e[1],"gasPrice"),gasLimit:an(e[2],"gasLimit"),to:wE(e[3]),value:an(e[4],"value"),data:he(e[5]),chainId:xi};if(e.length===6)return r;let n=an(e[6],"v"),s=an(e[7],"r"),i=an(e[8],"s");if(s===xi&&i===xi)r.chainId=n;else{let o=(n-A2t)/x2t;o<xi&&(o=xi),r.chainId=o,V(o!==xi||n===v2t||n===E2t,"non-canonical legacy v","v",e[6]),r.signature=ls.from({r:os(e[7],32),s:os(e[8],32),v:n})}return r}function O2t(t,e){let r=[fr(t.nonce,"nonce"),fr(t.gasPrice||0,"gasPrice"),fr(t.gasLimit,"gasLimit"),t.to||"0x",fr(t.value,"value"),t.data],n=xi;if(t.chainId!=xi)n=Ue(t.chainId,"tx.chainId"),V(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==xi&&(r.push(ur(n)),r.push("0x"),r.push("0x")),Hi(r);let s=BigInt(27+e.yParity);return n!==xi?s=ls.getChainIdV(n,e.v):BigInt(e.v)!==s&&V(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(ur(s)),r.push(ur(e.r)),r.push(ur(e._s)),Hi(r)}function CM(t,e){let r;try{if(r=T6(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch(o){V(!1,"invalid yParity","yParity",e[0])}let n=os(e[1],32),s=os(e[2],32),i=ls.from({r:n,s,yParity:r});t.signature=i}function R2t(t){let e=np(xe(t).slice(1));V(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",he(t));let r={type:2,chainId:an(e[0],"chainId"),nonce:T6(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:wE(e[5]),value:an(e[6],"value"),data:he(e[7]),accessList:EM(e[8],"accessList")};return e.length===9||CM(r,e.slice(9)),r}function k2t(t,e){let r=[fr(t.chainId,"chainId"),fr(t.nonce,"nonce"),fr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fr(t.maxFeePerGas||0,"maxFeePerGas"),fr(t.gasLimit,"gasLimit"),t.to||"0x",fr(t.value,"value"),t.data,AM(t.accessList||[])];return e&&(r.push(fr(e.yParity,"yParity")),r.push(ur(e.r)),r.push(ur(e.s))),gt(["0x02",Hi(r)])}function B2t(t){let e=np(xe(t).slice(1));V(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",he(t));let r={type:1,chainId:an(e[0],"chainId"),nonce:T6(e[1],"nonce"),gasPrice:an(e[2],"gasPrice"),gasLimit:an(e[3],"gasLimit"),to:wE(e[4]),value:an(e[5],"value"),data:he(e[6]),accessList:EM(e[7],"accessList")};return e.length===8||CM(r,e.slice(8)),r}function U2t(t,e){let r=[fr(t.chainId,"chainId"),fr(t.nonce,"nonce"),fr(t.gasPrice||0,"gasPrice"),fr(t.gasLimit,"gasLimit"),t.to||"0x",fr(t.value,"value"),t.data,AM(t.accessList||[])];return e&&(r.push(fr(e.yParity,"recoveryParam")),r.push(ur(e.r)),r.push(ur(e.s))),gt(["0x01",Hi(r)])}function D2t(t){let e=np(xe(t).slice(1)),r="3",n=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let o=e[1],a=e[2],c=e[3];V(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),V(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),V(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),V(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),V(o.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:o[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=Xe(e[1]);let o=e[2],a=e[3],c=e[4];V(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),V(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),V(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),V(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),V(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),V(o.length*xM===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<o.length;l++){let u=[];for(let f=0;f<xM;f++)u.push(c[l*xM+f]);s.push({data:o[l],commitment:a[l],proof:gt(u)})}e=e[0]}V(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",he(t));let i={type:3,chainId:an(e[0],"chainId"),nonce:T6(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:wE(e[5]),value:an(e[6],"value"),data:he(e[7]),accessList:EM(e[8],"accessList"),maxFeePerBlobGas:an(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};s&&(i.blobs=s),V(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),V(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)V(Ht(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||CM(i,e.slice(11)),i}function L2t(t,e,r){let n=[fr(t.chainId,"chainId"),fr(t.nonce,"nonce"),fr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fr(t.maxFeePerGas||0,"maxFeePerGas"),fr(t.gasLimit,"gasLimit"),t.to||cu,fr(t.value,"value"),t.data,AM(t.accessList||[]),fr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),_2t(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(fr(e.yParity,"yParity")),n.push(ur(e.r)),n.push(ur(e.s)),r)){if(t.blobWrapperVersion!=null){let s=ur(t.blobWrapperVersion),i=[];for(let{proof:o}of r){let a=xe(o),c=a.length/xM;for(let l=0;l<a.length;l+=c)i.push(a.subarray(l,l+c))}return gt(["0x03",Hi([n,s,r.map(o=>o.data),r.map(o=>o.commitment),i])])}return gt(["0x03",Hi([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return gt(["0x03",Hi(n)])}function M2t(t){let e=np(xe(t).slice(1));V(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",he(t));let r={type:4,chainId:an(e[0],"chainId"),nonce:T6(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:wE(e[5]),value:an(e[6],"value"),data:he(e[7]),accessList:EM(e[8],"accessList"),authorizationList:T2t(e[9],"authorizationList")};return e.length===10||CM(r,e.slice(10)),r}function $2t(t,e){let r=[fr(t.chainId,"chainId"),fr(t.nonce,"nonce"),fr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fr(t.maxFeePerGas||0,"maxFeePerGas"),fr(t.gasLimit,"gasLimit"),t.to||"0x",fr(t.value,"value"),t.data,AM(t.accessList||[]),P2t(t.authorizationList||[])];return e&&(r.push(fr(e.yParity,"yParity")),r.push(ur(e.r)),r.push(ur(e.s))),gt(["0x04",Hi(r)])}var kf,iE,oE,aE,cE,lE,uE,fE,dE,pE,hE,mE,I6,Iy,op,Ty,gE,yE,bE,vM,ip=class ip{constructor(){Q(this,bE);Q(this,kf);Q(this,iE);Q(this,oE);Q(this,aE);Q(this,cE);Q(this,lE);Q(this,uE);Q(this,fE);Q(this,dE);Q(this,pE);Q(this,hE);Q(this,mE);Q(this,I6);Q(this,Iy);Q(this,op);Q(this,Ty);Q(this,gE);Q(this,yE);j(this,kf,null),j(this,iE,null),j(this,aE,0),j(this,cE,xi),j(this,lE,null),j(this,uE,null),j(this,fE,null),j(this,oE,"0x"),j(this,dE,xi),j(this,pE,xi),j(this,hE,null),j(this,mE,null),j(this,I6,null),j(this,Iy,null),j(this,op,null),j(this,Ty,null),j(this,gE,null),j(this,yE,null)}get type(){return P(this,kf)}set type(e){switch(e){case null:j(this,kf,null);break;case 0:case"legacy":j(this,kf,0);break;case 1:case"berlin":case"eip-2930":j(this,kf,1);break;case 2:case"london":case"eip-1559":j(this,kf,2);break;case 3:case"cancun":case"eip-4844":j(this,kf,3);break;case 4:case"pectra":case"eip-7702":j(this,kf,4);break;default:V(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=P(this,iE);return e==null&&this.type===3?cu:e}set to(e){j(this,iE,e==null?null:it(e))}get nonce(){return P(this,aE)}set nonce(e){j(this,aE,Xe(e,"value"))}get gasLimit(){return P(this,cE)}set gasLimit(e){j(this,cE,Ue(e))}get gasPrice(){let e=P(this,lE);return e==null&&(this.type===0||this.type===1)?xi:e}set gasPrice(e){j(this,lE,e==null?null:Ue(e,"gasPrice"))}get maxPriorityFeePerGas(){let e=P(this,uE);return e==null?this.type===2||this.type===3?xi:null:e}set maxPriorityFeePerGas(e){j(this,uE,e==null?null:Ue(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){let e=P(this,fE);return e==null?this.type===2||this.type===3?xi:null:e}set maxFeePerGas(e){j(this,fE,e==null?null:Ue(e,"maxFeePerGas"))}get data(){return P(this,oE)}set data(e){j(this,oE,he(e))}get value(){return P(this,dE)}set value(e){j(this,dE,Ue(e,"value"))}get chainId(){return P(this,pE)}set chainId(e){j(this,pE,Ue(e))}get signature(){return P(this,hE)||null}set signature(e){j(this,hE,e==null?null:ls.from(e))}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let r=this.authorizationList;if(r){for(let n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){let e=P(this,mE)||null;return e==null?this.type===1||this.type===2||this.type===3?[]:null:e}set accessList(e){j(this,mE,e==null?null:wi(e))}get authorizationList(){let e=P(this,gE)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){j(this,gE,e==null?null:e.map(r=>Sy(r)))}get maxFeePerBlobGas(){let e=P(this,I6);return e==null&&this.type===3?xi:e}set maxFeePerBlobGas(e){j(this,I6,e==null?null:Ue(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=P(this,Iy);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){V(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)V(Ht(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}j(this,Iy,e)}get blobs(){return P(this,Ty)==null?null:P(this,Ty).map(e=>Object.assign({},e))}set blobs(e){if(e==null){j(this,Ty,null);return}let r=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if(eu(i)){se(P(this,op),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=xe(i);if(V(o.length<=cte,"blob is too large",`blobs[${s}]`,i),o.length!==cte){let l=new Uint8Array(cte);l.set(o),o=l}let a=P(this,op).blobToKzgCommitment(o),c=he(P(this,op).computeBlobKzgProof(o,a));r.push({data:he(o),commitment:he(a),proof:c}),n.push(nRe(1,a))}else{let o=he(i.data),a=he(i.commitment),c=he(i.proof);r.push({data:o,commitment:a,proof:c}),n.push(nRe(1,a))}}j(this,Ty,r),j(this,Iy,n)}get kzg(){return P(this,op)}set kzg(e){e==null?j(this,op,null):j(this,op,I2t(e))}get blobWrapperVersion(){return P(this,yE)}set blobWrapperVersion(e){j(this,yE,e)}get hash(){return this.signature==null?null:Mt(me(this,bE,vM).call(this,!0,!1))}get unsignedHash(){return Mt(this.unsignedSerialized)}get from(){return this.signature==null?null:fu(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:bi.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return me(this,bE,vM).call(this,!0,!0)}get unsignedSerialized(){return me(this,bE,vM).call(this,!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=P(this,I6)!=null||P(this,Iy);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&se(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),se(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),se(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ip.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[S2t](){return this.toString()}toString(){let e=[],r=s=>{let i=this[s];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${s}: ${i}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));let n=this.authorizationList;if(n){let s=[];for(let i of n){let o=[];o.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&o.push(`nonce: ${i.nonce}`),i.chainId!=null&&o.push(`chainId: ${i.chainId}`),i.signature&&o.push(`signature: ${i.signature.toString()}`),s.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new ip;if(typeof e=="string"){let n=xe(e);if(n[0]>=127)return ip.from(N2t(n));switch(n[0]){case 1:return ip.from(B2t(n));case 2:return ip.from(R2t(n));case 3:return ip.from(D2t(n));case 4:return ip.from(M2t(n))}se(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new ip;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=ls.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(V(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),V(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(V(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),V(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};kf=new WeakMap,iE=new WeakMap,oE=new WeakMap,aE=new WeakMap,cE=new WeakMap,lE=new WeakMap,uE=new WeakMap,fE=new WeakMap,dE=new WeakMap,pE=new WeakMap,hE=new WeakMap,mE=new WeakMap,I6=new WeakMap,Iy=new WeakMap,op=new WeakMap,Ty=new WeakMap,gE=new WeakMap,yE=new WeakMap,bE=new WeakSet,vM=function(e,r){se(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return O2t(this,n);case 1:return U2t(this,n);case 2:return k2t(this,n);case 3:return L2t(this,n,r?this.blobs:null);case 4:return $2t(this,n)}se(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};var cc=ip;function P6(t){return V(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),Mt(gt(["0x05",Hi([t.chainId!=null?ur(t.chainId):"0x",it(t.address),t.nonce!=null?ur(t.nonce):"0x"])]))}function SM(t,e){return fu(P6(t),e)}function vi(t){return Mt(Nr(t))}var H2t="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",sRe=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),iRe=4;function F2t(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let C=1;C<n;C++)i.push(s+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let f=31,d=2**f,p=d>>>1,h=p>>1,m=d-1,g=0;for(let C=0;C<f;C++)g=g<<1|u();let b=[],E=0,w=d;for(;;){let C=Math.floor(((g-E+1)*s-1)/w),T=0,U=n;for(;U-T>1;){let H=T+U>>>1;C<i[H]?U=H:T=H}if(T==0)break;b.push(T);let B=E+Math.floor(w*i[T]/s),O=E+Math.floor(w*i[T+1]/s)-1;for(;((B^O)&p)==0;)g=g<<1&m|u(),B=B<<1&m,O=O<<1&m|1;for(;B&~O&h;)g=g&p|g<<1&m>>>1|u(),B=B<<1^p,O=(O^p)<<1|p|1;E=B,w=1+O-B}let x=n-4;return b.map(C=>{switch(C-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return C-1}})}function z2t(t){let e=0;return()=>t[e++]}function lRe(t){return z2t(F2t(V2t(t)))}function V2t(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function j2t(t){return t&1?~t>>1:t>>1}function q2t(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=j2t(e());return r}function DT(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function uRe(t){return LT(()=>{let e=DT(t);if(e.length)return e})}function fRe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(W2t(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(K2t(r,t))}return e.flat()}function LT(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function dRe(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)q2t(t,r).forEach((i,o)=>n[o].push(i));return n}function W2t(t,e){let r=1+e(),n=e(),s=LT(e);return dRe(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,f)=>{let d=f*n;return[c+f*r,l.map(p=>p+d)]})})}function K2t(t,e){let r=1+e();return dRe(r,1+t,e).map(s=>[s[0],s.slice(1)])}function G2t(t){let e=[],r=DT(t);return s(n([]),[]),e;function n(i){let o=t(),a=LT(()=>{let c=DT(t).map(l=>r[l]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function Z2t(t){return t.toString(16).toUpperCase().padStart(2,"0")}function pRe(t){return`{${Z2t(t)}}`}function Y2t(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function EE(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function J2t(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var Q2t="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",MT=44032,TM=4352,PM=4449,_M=4519,hRe=19,mRe=21,AE=28,NM=mRe*AE,X2t=hRe*NM,eyt=MT+X2t,tyt=TM+hRe,ryt=PM+mRe,nyt=_M+AE;function BT(t){return t>>24&255}function gRe(t){return t&16777215}var ute,oRe,fte,IM;function syt(){let t=lRe(Q2t);ute=new Map(uRe(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),oRe=new Set(DT(t)),fte=new Map,IM=new Map;for(let[e,r]of fRe(t)){if(!oRe.has(e)&&r.length==2){let[n,s]=r,i=IM.get(n);i||(i=new Map,IM.set(n,i)),i.set(s,e)}fte.set(e,r.reverse())}}function yRe(t){return t>=MT&&t<eyt}function iyt(t,e){if(t>=TM&&t<tyt&&e>=PM&&e<ryt)return MT+(t-TM)*NM+(e-PM)*AE;if(yRe(t)&&e>_M&&e<nyt&&(t-MT)%AE==0)return t+(e-_M);{let r=IM.get(t);return r&&(r=r.get(e),r)?r:-1}}function bRe(t){ute||syt();let e=[],r=[],n=!1;function s(i){let o=ute.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(yRe(i)){let o=i-MT,a=o/NM|0,c=o%NM/AE|0,l=o%AE;s(TM+a),s(PM+c),l>0&&s(_M+l)}else{let o=fte.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=BT(e[0]);for(let o=1;o<e.length;o++){let a=BT(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=BT(e[--c]),i<=a))break}i=BT(e[o])}}return e}function oyt(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=BT(i),a=gRe(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),s=o;else{let c=iyt(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(r.push(a),s=o)}}return n>=0&&e.push(n,...r),e}function wRe(t){return bRe(t).map(gRe)}function ayt(t){return oyt(bRe(t))}var aRe=45;var xRe=".",vRe=65039,ERe=1,OM=t=>Array.from(t);function $T(t,e){return t.P.has(e)||t.Q.has(e)}var dte=class extends Array{get is_emoji(){return!0}},pte,ARe,N6,hte,CRe,cyt,vE,lte,xE,_6,cRe,mte;function gte(){if(pte)return;let t=lRe(H2t),e=()=>DT(t),r=()=>new Set(e()),n=(u,f)=>f.forEach(d=>u.add(d));pte=new Map(fRe(t)),ARe=r(),N6=e(),hte=new Set(e().map(u=>N6[u])),N6=new Set(N6),CRe=r(),cyt=r();let s=uRe(t),i=t(),o=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};vE=LT(u=>{let f=LT(t).map(d=>d+96);if(f.length){let d=u>=i;f[0]-=32,f=EE(f),d&&(f=`Restricted[${f}]`);let p=o(),h=o(),m=!t();return{N:f,P:p,Q:h,M:m,R:d}}}),lte=r(),xE=new Map;let a=e().concat(OM(lte)).sort((u,f)=>u-f);a.forEach((u,f)=>{let d=t(),p=a[f]=d?a[f-d]:{V:[],M:new Map};p.V.push(u),lte.has(u)||xE.set(u,p)});for(let{V:u,M:f}of new Set(xE.values())){let d=[];for(let h of u){let m=vE.filter(b=>$T(b,h)),g=d.find(({G:b})=>m.some(E=>b.has(E)));g||(g={G:new Set,V:[]},d.push(g)),g.V.push(h),n(g.G,m)}let p=d.flatMap(h=>OM(h.G));for(let{G:h,V:m}of d){let g=new Set(p.filter(b=>!h.has(b)));for(let b of m)f.set(b,g)}}_6=new Set;let c=new Set,l=u=>_6.has(u)?c.add(u):_6.add(u);for(let u of vE){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of _6)!xE.has(u)&&!c.has(u)&&xE.set(u,ERe);n(_6,wRe(_6)),cRe=G2t(t).map(u=>dte.from(u)).sort(J2t),mte=new Map;for(let u of cRe){let f=[mte];for(let d of u){let p=f.map(h=>{let m=h.get(d);return m||(m=new Map,h.set(d,m)),m});d===vRe?f.push(...p):f=p}for(let d of f)d.V=u}}function yte(t){return(SRe(t)?"":`${bte(RM([t]))} `)+pRe(t)}function bte(t){return`"${t}"\u200E`}function lyt(t){if(t.length>=4&&t[2]==aRe&&t[3]==aRe)throw new Error(`invalid label extension: "${EE(t.slice(0,4))}"`)}function uyt(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function fyt(t){let e=t[0],r=sRe.get(e);if(r)throw UT(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=sRe.get(e);if(o){if(s==i)throw UT(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw UT(`trailing ${r}`)}function RM(t,e=1/0,r=pRe){let n=[];dyt(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];SRe(a)&&(n.push(EE(t.slice(s,o))),n.push(r(a)),s=o+1)}return n.push(EE(t.slice(s,i))),n.join("")}function dyt(t){return gte(),N6.has(t)}function SRe(t){return gte(),CRe.has(t)}function IRe(t){return gyt(pyt(t,ayt,wyt))}function pyt(t,e,r){if(!t)return[];gte();let n=0;return t.split(xRe).map(s=>{let i=Y2t(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=byt(i,e,r),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(uyt(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(d=>d<128))lyt(u),l="ASCII";else{let d=a.flatMap(p=>p.is_emoji?[]:p);if(!d.length)l="Emoji";else{if(N6.has(u[0]))throw UT("leading combining mark");for(let m=1;m<c;m++){let g=a[m];if(!g.is_emoji&&N6.has(g[0]))throw UT(`emoji + combining mark: "${EE(a[m-1])} + ${RM([g[0]])}"`)}fyt(u);let p=OM(new Set(d)),[h]=myt(p);yyt(h,d),hyt(h,p),l=h.N}}o.type=l}catch(a){o.error=a}return o})}function hyt(t,e){let r,n=[];for(let s of e){let i=xE.get(s);if(i===ERe)return;if(i){let o=i.M.get(s);if(r=r?r.filter(a=>o.has(a)):OM(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>$T(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function myt(t){let e=vE;for(let r of t){let n=e.filter(s=>$T(s,r));if(!n.length)throw vE.some(s=>$T(s,r))?PRe(e[0],r):TRe(r);if(e=n,n.length==1)break}return e}function gyt(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${bte(RM(e,63))}: ${s}`)}return EE(n)}).join(xRe)}function TRe(t){return new Error(`disallowed character: ${yte(t)}`)}function PRe(t,e){let r=yte(e),n=vE.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function UT(t){return new Error(`illegal placement: ${t}`)}function yyt(t,e){for(let r of e)if(!$T(t,r))throw PRe(t,r);if(t.M){let r=wRe(e);for(let n=1,s=r.length;n<s;n++)if(hte.has(r[n])){let i=n+1;for(let o;i<s&&hte.has(o=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${yte(o)}`);if(i-n>iRe)throw new Error(`excessive non-spacing marks: ${bte(RM(r.slice(n-1,i)))} (${i-n}/${iRe})`);n=i}}}function byt(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=xyt(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(_6.has(o))s.push(o);else{let a=pte.get(o);if(a)s.push(...a);else if(!ARe.has(o))throw TRe(o)}}}return s.length&&n.push(e(s)),n}function wyt(t){return t.filter(e=>e!=vRe)}function xyt(t,e){let r=mte,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,e&&e.push(...t.slice(s).reverse()),t.length=s)}return n}var NRe=new Uint8Array(32);NRe.fill(0);function _Re(t){return V(t.length!==0,"invalid ENS name; empty component","comp",t),t}function wte(t){let e=Nr(HT(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(_Re(e.slice(n,s))),n=s+1);return V(n<e.length,"invalid ENS name; empty component","name",t),r.push(_Re(e.slice(n))),r}function HT(t){try{if(t.length===0)throw new Error("empty label");return IRe(t)}catch(e){V(!1,`invalid ENS name (${e.message})`,"name",t)}}function kM(t){try{return wte(t).length!==0}catch(e){}return!1}function Rm(t){V(typeof t=="string","invalid ENS name; not a string","name",t),V(t.length,"invalid ENS name (empty label)","name",t);let e=NRe,r=wte(t);for(;r.length;)e=Mt(gt([e,Mt(r.pop())]));return he(e)}function CE(t,e){let r=e!=null?e:63;return V(r<=255,"DNS encoded label cannot exceed 255","length",r),he(gt(wte(t).map(n=>{V(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function O6(t){return typeof t=="string"&&(t=Nr(t)),Mt(gt([Nr(rE),Nr(String(t.length)),t]))}function BM(t,e){let r=O6(t);return fu(r,e)}var vyt=new RegExp("^bytes([0-9]+)$"),Eyt=new RegExp("^(u?int)([0-9]*)$"),Ayt=new RegExp("^(.*)\\[([0-9]*)\\]$");function ORe(t,e,r){switch(t){case"address":return r?xe(os(e,32)):xe(it(e));case"string":return Nr(e);case"bytes":return xe(e);case"bool":return e=e?"0x01":"0x00",r?xe(os(e,32)):xe(e)}let n=t.match(Eyt);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return V((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",t),r&&(i=256),s&&(e=ep(e,i)),xe(os(ur(e),i/8))}if(n=t.match(vyt),n){let s=parseInt(n[1]);return V(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",t),V(da(e)===s,`invalid value for ${t}`,"value",e),r?xe(Qd(e,32)):e}if(n=t.match(Ayt),n&&Array.isArray(e)){let s=n[1],i=parseInt(n[2]||String(e.length));V(i===e.length,`invalid array length for ${t}`,"value",e);let o=[];return e.forEach(function(a){o.push(ORe(s,a,!0))}),xe(gt(o))}V(!1,"invalid type","type",t)}function SE(t,e){V(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let r=[];return t.forEach(function(n,s){r.push(ORe(n,e[s]))}),he(gt(r))}function UM(t,e){return Mt(SE(t,e))}function DM(t,e){return as(SE(t,e))}var URe=new Uint8Array(32);URe.fill(0);var Cyt=BigInt(-1),DRe=BigInt(0),LRe=BigInt(1),Syt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Iyt(t){let e=xe(t),r=e.length%32;return r?gt([e,URe.slice(r)]):he(e)}var Tyt=Zs(LRe,32),Pyt=Zs(DRe,32),RRe={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},xte=["name","version","chainId","verifyingContract","salt"];function kRe(t){return function(e){return V(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var _yt={name:kRe("name"),version:kRe("version"),chainId:function(t){let e=Ue(t,"domain.chainId");return V(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ds(e)},verifyingContract:function(t){try{return it(t).toLowerCase()}catch(e){}V(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=xe(t,"domain.salt");return V(e.length===32,'invalid domain value "salt"',"domain.salt",t),he(e)}};function vte(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);V(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let s=oc(Syt,r?n-1:n),i=r?(s+LRe)*Cyt:DRe;return function(o){let a=Ue(o,"value");return V(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Zs(r?ep(a,256):a,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return V(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let s=xe(n);return V(s.length===r,`invalid length for ${t}`,"value",n),Iyt(n)}}}switch(t){case"address":return function(e){return os(it(e),32)};case"bool":return function(e){return e?Tyt:Pyt};case"bytes":return function(e){return Mt(e)};case"string":return function(e){return vi(e)}}return null}function BRe(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function LM(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var FT,km,IE,MM,MRe,du=class du{constructor(e){Q(this,MM);Y(this,"primaryType");Q(this,FT);Q(this,km);Q(this,IE);j(this,km,new Map),j(this,IE,new Map);let r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:d}=LM(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(d||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),j(this,FT,JSON.stringify(i));for(let c in i){let l=new Set;for(let u of i[c]){V(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let f=LM(u.type).base;V(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!vte(f)&&(V(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}let o=Array.from(n.keys()).filter(c=>n.get(c).length===0);V(o.length!==0,"missing primary type","types",e),V(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Se(this,{primaryType:o[0]});function a(c,l){V(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of r.get(c))if(n.has(u)){a(u,l);for(let f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of s){let u=Array.from(l);u.sort(),P(this,km).set(c,BRe(c,i[c])+u.map(f=>BRe(f,i[f])).join(""))}}get types(){return JSON.parse(P(this,FT))}getEncoder(e){let r=P(this,IE).get(e);return r||(r=me(this,MM,MRe).call(this,e),P(this,IE).set(e,r)),r}encodeType(e){let r=P(this,km).get(e);return V(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Mt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(vte(e))return n(e,r);let s=LM(e).array;if(s)return V(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(o=>this._visit(s.prefix,o,n));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{});V(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new du(e)}static getPrimaryType(e){return du.from(e).primaryType}static hashStruct(e,r,n){return du.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let s=RRe[n];V(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>xte.indexOf(n.name)-xte.indexOf(s.name)),du.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return gt(["0x1901",du.hashDomain(e),du.from(r).hash(n)])}static hash(e,r,n){return Mt(du.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!Ht(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=du.from(r);o.visit(n,(a,c)=>(a==="address"&&!Ht(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){du.hashDomain(e);let s={},i=[];xte.forEach(c=>{let l=e[c];l!=null&&(s[c]=_yt[c](l),i.push({name:c,type:RRe[c]}))});let o=du.from(r);r=o.types;let a=Object.assign({},r);return V(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return he(xe(l));if(c.match(/^u?int/))return Ue(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return V(typeof l=="string","invalid string","value",l),l}V(!1,"unsupported type","type",c)})}}};FT=new WeakMap,km=new WeakMap,IE=new WeakMap,MM=new WeakSet,MRe=function(e){{let s=vte(e);if(s)return s}let r=LM(e).array;if(r){let s=r.prefix,i=this.getEncoder(s);return o=>{V(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(i);return P(this,km).has(s)&&(a=a.map(Mt)),Mt(gt(a))}}let n=this.types[e];if(n){let s=vi(P(this,km).get(e));return i=>{let o=n.map(({name:a,type:c})=>{let l=this.getEncoder(c)(i[a]);return P(this,km).has(c)?Mt(l):l});return o.unshift(s),gt(o)}}V(!1,`unknown type: ${e}`,"type",e)};var fl=du;function $M(t,e,r,n){return fu(fl.hash(t,e,r),n)}function ha(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}var Nyt="external public payable override",Oyt=ha(Nyt.split(" ")),GRe="constant external internal payable private public pure view override",Ryt=ha(GRe.split(" ")),ZRe="constructor error event fallback function receive struct",YRe=ha(ZRe.split(" ")),JRe="calldata memory storage payable indexed",kyt=ha(JRe.split(" ")),Byt="tuple returns",Uyt=[ZRe,JRe,Byt,GRe].join(" "),Dyt=ha(Uyt.split(" ")),Lyt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Myt=new RegExp("^(\\s*)"),$yt=new RegExp("^([0-9]+)"),Hyt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),QRe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),XRe=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Vi,Bf,VT,Ete,FM=class FM{constructor(e){Q(this,VT);Q(this,Vi);Q(this,Bf);j(this,Vi,0),j(this,Bf,e.slice())}get offset(){return P(this,Vi)}get length(){return P(this,Bf).length-P(this,Vi)}clone(){return new FM(P(this,Bf))}reset(){j(this,Vi,0)}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=me(this,VT,Ete).call(this,P(this,Vi)+1,e.match+1);return j(this,Vi,e.match+1),r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;P(this,Vi)<e.match-1;){let n=this.peek().linkNext;r.push(me(this,VT,Ete).call(this,P(this,Vi)+1,n)),j(this,Vi,n)}return j(this,Vi,e.match+1),r}peek(){if(P(this,Vi)>=P(this,Bf).length)throw new Error("out-of-bounds");return P(this,Bf)[P(this,Vi)]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return _p(this,Vi)._++,e}toString(){let e=[];for(let r=P(this,Vi);r<P(this,Bf).length;r++){let n=P(this,Bf)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Vi=new WeakMap,Bf=new WeakMap,VT=new WeakSet,Ete=function(e=0,r=0){return new FM(P(this,Bf).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};var Mf=FM;function _y(t){let e=[],r=o=>{let a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(Myt);a&&(i+=a[1].length,o=t.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=Lyt[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let f=e.pop().text;u=f+u,e[e.length-1].value=Xe(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(Hyt),a){if(c.text=a[1],i+=c.text.length,Dyt.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(XRe)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match($yt),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Mf(e.map(o=>Object.freeze(o)))}function $Re(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function zM(t,e){if(e.peekKeyword(YRe)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Dm(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function eke(t){let e=Dm(t,Ryt);return $Re(e,ha("constant payable nonpayable".split(" "))),$Re(e,ha("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Bm(t,e){return t.popParams().map(r=>Qn.from(r,e))}function tke(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ue(t.pop().text);throw new Error("invalid gas")}return null}function R6(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var Fyt=new RegExp(/^(.*)\[([0-9]*)\]$/);function HRe(t){let e=t.match(XRe);if(V(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);V(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);V(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var Jn={},lc=Symbol.for("_ethers_internal"),FRe="_ParamTypeInternal",zRe="_ErrorInternal",VRe="_EventInternal",jRe="_ConstructorInternal",qRe="_FallbackInternal",WRe="_FunctionInternal",KRe="_StructInternal",TE,HM,pu=class pu{constructor(e,r,n,s,i,o,a,c){Q(this,TE);Y(this,"name");Y(this,"type");Y(this,"baseType");Y(this,"indexed");Y(this,"components");Y(this,"arrayLength");Y(this,"arrayChildren");if(gi(e,Jn,"ParamType"),Object.defineProperty(this,lc,{value:FRe}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Se(this,{name:r,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){let n=[],s=[e];return me(this,TE,HM).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(pu.isParamType(e))return e;if(typeof e=="string")try{return pu.from(_y(e),r)}catch(a){V(!1,"invalid param type","obj",e)}else if(e instanceof Mf){let a="",c="",l=null;Dm(e,ha(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>pu.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=HRe(e.popType("TYPE")),c=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new pu(Jn,"",a,c,null,l,f,u),f=m.value,a+=m.text,c="array",l=null}let d=null;if(Dm(e,kyt).has("indexed")){if(!r)throw new Error("");d=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new pu(Jn,h,a,c,d,l,f,u)}let n=e.name;V(!n||typeof n=="string"&&n.match(QRe),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(V(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(Fyt);if(o){let a=parseInt(o[2]||"-1"),c=pu.from({type:o[1],components:e.components});return new pu(Jn,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(l=>pu.from(l)):null;return new pu(Jn,n||"",i,"tuple",s,a,null,null)}return i=HRe(e.type),new pu(Jn,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[lc]===FRe}};TE=new WeakSet,HM=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=r.slice();a.forEach((c,l)=>{var u;me(u=o,TE,HM).call(u,e,c,n,f=>{a[l]=f})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;me(u=o[l],TE,HM).call(u,e,c,n,f=>{a[l]=f})}),s(a);return}let i=n(this.type,r);i.then?e.push((async function(){s(await i)})()):s(i)};var Qn=pu,$f=class t{constructor(e,r,n){Y(this,"type");Y(this,"inputs");gi(e,Jn,"Fragment"),n=Object.freeze(n.slice()),Se(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch(r){}return t.from(_y(e))}if(e instanceof Mf)switch(e.peekKeyword(YRe)){case"constructor":return Df.from(e);case"error":return Do.from(e);case"event":return Uf.from(e);case"fallback":case"receive":return Py.from(e);case"function":return Lf.from(e);case"struct":return Um.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Df.from(e);case"error":return Do.from(e);case"event":return Uf.from(e);case"fallback":case"receive":return Py.from(e);case"function":return Lf.from(e);case"struct":return Um.from(e)}se(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}V(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Df.isFragment(e)}static isError(e){return Do.isFragment(e)}static isEvent(e){return Uf.isFragment(e)}static isFunction(e){return Lf.isFragment(e)}static isStruct(e){return Um.isFragment(e)}},ap=class extends $f{constructor(r,n,s,i){super(r,n,i);Y(this,"name");V(typeof s=="string"&&s.match(QRe),"invalid identifier","name",s),i=Object.freeze(i.slice()),Se(this,{name:s})}};function zT(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var Do=class t extends ap{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,lc,{value:zRe})}get selector(){return vi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+zT(e,this.inputs)),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(_y(e));if(e instanceof Mf){let r=zM("error",e),n=Bm(e);return R6(e),new t(Jn,r,n)}return new t(Jn,e.name,e.inputs?e.inputs.map(Qn.from):[])}static isFragment(e){return e&&e[lc]===zRe}},Uf=class t extends ap{constructor(r,n,s,i){super(r,"event",n,s);Y(this,"anonymous");Object.defineProperty(this,lc,{value:VRe}),Se(this,{anonymous:i})}get topicHash(){return vi(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});let n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+zT(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Qn.from(i)),new t(Jn,r,n,!1).topicHash}static from(r){if(t.isFragment(r))return r;if(typeof r=="string")try{return t.from(_y(r))}catch(n){V(!1,"invalid event fragment","obj",r)}else if(r instanceof Mf){let n=zM("event",r),s=Bm(r,!0),i=!!Dm(r,ha(["anonymous"])).has("anonymous");return R6(r),new t(Jn,n,s,i)}return new t(Jn,r.name,r.inputs?r.inputs.map(n=>Qn.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[lc]===VRe}},Df=class t extends $f{constructor(r,n,s,i,o){super(r,n,s);Y(this,"payable");Y(this,"gas");Object.defineProperty(this,lc,{value:jRe}),Se(this,{payable:i,gas:o})}format(r){if(se(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});let n=[`constructor${zT(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(t.isFragment(r))return r;if(typeof r=="string")try{return t.from(_y(r))}catch(n){V(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Mf){Dm(r,ha(["constructor"]));let n=Bm(r),s=!!Dm(r,Oyt).has("payable"),i=tke(r);return R6(r),new t(Jn,"constructor",n,s,i)}return new t(Jn,"constructor",r.inputs?r.inputs.map(Qn.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[lc]===jRe}},Py=class t extends $f{constructor(r,n,s){super(r,"fallback",n);Y(this,"payable");Object.defineProperty(this,lc,{value:qRe}),Se(this,{payable:s})}format(r){let n=this.inputs.length===0?"receive":"fallback";if(r==="json"){let s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(t.isFragment(r))return r;if(typeof r=="string")try{return t.from(_y(r))}catch(n){V(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Mf){let n=r.toString(),s=r.peekKeyword(ha(["fallback","receive"]));if(V(s,"type must be fallback or receive","obj",n),r.popKeyword(ha(["fallback","receive"]))==="receive"){let c=Bm(r);return V(c.length===0,"receive cannot have arguments","obj.inputs",c),Dm(r,ha(["payable"])),R6(r),new t(Jn,[],!0)}let o=Bm(r);o.length?V(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Qn.from("bytes")];let a=eke(r);if(V(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Dm(r,ha(["returns"])).has("returns")){let c=Bm(r);V(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return R6(r),new t(Jn,o,a==="payable")}if(r.type==="receive")return new t(Jn,[],!0);if(r.type==="fallback"){let n=[Qn.from("bytes")],s=r.stateMutability==="payable";return new t(Jn,n,s)}V(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[lc]===qRe}},Lf=class t extends ap{constructor(r,n,s,i,o,a){super(r,"function",n,i);Y(this,"constant");Y(this,"outputs");Y(this,"stateMutability");Y(this,"payable");Y(this,"gas");Object.defineProperty(this,lc,{value:WRe}),o=Object.freeze(o.slice()),Se(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return vi(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});let n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+zT(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(zT(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Qn.from(i)),new t(Jn,r,"view",n,[],null).selector}static from(r){if(t.isFragment(r))return r;if(typeof r=="string")try{return t.from(_y(r))}catch(s){V(!1,"invalid function fragment","obj",r)}else if(r instanceof Mf){let s=zM("function",r),i=Bm(r),o=eke(r),a=[];Dm(r,ha(["returns"])).has("returns")&&(a=Bm(r));let c=tke(r);return R6(r),new t(Jn,s,o,i,a,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new t(Jn,r.name,n,r.inputs?r.inputs.map(Qn.from):[],r.outputs?r.outputs.map(Qn.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[lc]===WRe}},Um=class t extends ap{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,lc,{value:KRe})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(_y(e))}catch(r){V(!1,"invalid struct fragment","obj",e)}else if(e instanceof Mf){let r=zM("struct",e),n=Bm(e);return R6(e),new t(Jn,r,n)}return new t(Jn,e.name,e.inputs?e.inputs.map(Qn.from):[])}static isFragment(e){return e&&e[lc]===KRe}};var Hf=new Map;Hf.set(0,"GENERIC_PANIC");Hf.set(1,"ASSERT_FALSE");Hf.set(17,"OVERFLOW");Hf.set(18,"DIVIDE_BY_ZERO");Hf.set(33,"ENUM_RANGE_ERROR");Hf.set(34,"BAD_STORAGE_DATA");Hf.set(49,"STACK_UNDERFLOW");Hf.set(50,"ARRAY_RANGE_ERROR");Hf.set(65,"OUT_OF_MEMORY");Hf.set(81,"UNINITIALIZED_FUNCTION_CALL");var zyt=new RegExp(/^bytes([0-9]*)$/),Vyt=new RegExp(/^(u?int)([0-9]*)$/),Ate=null,rke=1024;function jyt(t,e,r,n){let s="missing revert data",i=null,o=null,a=null;if(r){s="execution reverted";let l=xe(r);if(r=he(r),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(he(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(u){s+=" (could not decode reason; invalid string data)"}else if(he(l.slice(0,4))==="0x4e487b71")try{let u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Hf.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch(u){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?it(e.to):null,data:e.data||"0x"};return e.from&&(c.from=it(e.from)),Xt(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:o,revert:a})}var Ny,PE,VM=class VM{constructor(){Q(this,Ny)}getDefaultValue(e){let r=e.map(s=>me(this,Ny,PE).call(this,Qn.from(s)));return new S6(r,"_").defaultValue()}encode(e,r){sy(r.length,e.length,"types/values length mismatch");let n=e.map(o=>me(this,Ny,PE).call(this,Qn.from(o))),s=new S6(n,"_"),i=new p6;return s.encode(i,r),i.data}decode(e,r,n){let s=e.map(o=>me(this,Ny,PE).call(this,Qn.from(o)));return new S6(s,"_").decode(new ML(r,n,rke))}static _setDefaultMaxInflation(e){V(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),rke=e}static defaultAbiCoder(){return Ate==null&&(Ate=new VM),Ate}static getBuiltinCallException(e,r,n){return jyt(e,r,n,VM.defaultAbiCoder())}};Ny=new WeakSet,PE=function(e){if(e.isArray())return new pM(me(this,Ny,PE).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new S6(e.components.map(n=>me(this,Ny,PE).call(this,n)),e.name);switch(e.baseType){case"address":return new fM(e.name);case"bool":return new hM(e.name);case"string":return new wM(e.name);case"bytes":return new mM(e.name);case"":return new yM(e.name)}let r=e.type.match(Vyt);if(r){let n=parseInt(r[2]||"256");return V(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new bM(n/8,r[1]==="int",e.name)}if(r=e.type.match(zyt),r){let n=parseInt(r[1]);return V(n!==0&&n<=32,"invalid bytes length","param",e),new gM(n,e.name)}V(!1,"invalid type","type",e.type)};var dl=VM;function jM(t){let e=Nr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Qd(e,32)}function qM(t){let e=xe(t,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Ro(e.slice(0,r))}var B6=class{constructor(e,r,n){Y(this,"fragment");Y(this,"name");Y(this,"signature");Y(this,"topic");Y(this,"args");let s=e.name,i=e.format();Se(this,{fragment:e,name:s,signature:i,topic:r,args:n})}},U6=class{constructor(e,r,n,s){Y(this,"fragment");Y(this,"name");Y(this,"args");Y(this,"signature");Y(this,"selector");Y(this,"value");let i=e.name,o=e.format();Se(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:s})}},D6=class{constructor(e,r,n){Y(this,"fragment");Y(this,"name");Y(this,"args");Y(this,"signature");Y(this,"selector");let s=e.name,i=e.format();Se(this,{fragment:e,name:s,args:n,signature:i,selector:r})}},Oy=class{constructor(e){Y(this,"hash");Y(this,"_isIndexed");Se(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}},nke={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},ske={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&nke[t.toString()]&&(e=nke[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},cp,lp,up,Lo,fp,WM,KM,k6=class k6{constructor(e){Q(this,fp);Y(this,"fragments");Y(this,"deploy");Y(this,"fallback");Y(this,"receive");Q(this,cp);Q(this,lp);Q(this,up);Q(this,Lo);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,j(this,up,new Map),j(this,cp,new Map),j(this,lp,new Map);let n=[];for(let o of r)try{n.push($f.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Se(this,{fragments:Object.freeze(n)});let s=null,i=!1;j(this,Lo,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Se(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(V(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=P(this,up);break;case"event":c=P(this,lp);break;case"error":c=P(this,cp);break;default:return}let l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Se(this,{deploy:Df.from("constructor()")}),Se(this,{fallback:s,receive:i})}format(e){let r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return dl.defaultAbiCoder()}getFunctionName(e){let r=me(this,fp,WM).call(this,e,null,!1);return V(r,"no matching function","key",e),r.name}hasFunction(e){return!!me(this,fp,WM).call(this,e,null,!1)}getFunction(e,r){return me(this,fp,WM).call(this,e,r||null,!0)}forEachFunction(e){let r=Array.from(P(this,up).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){let s=r[n];e(P(this,up).get(s),n)}}getEventName(e){let r=me(this,fp,KM).call(this,e,null,!1);return V(r,"no matching event","key",e),r.name}hasEvent(e){return!!me(this,fp,KM).call(this,e,null,!1)}getEvent(e,r){return me(this,fp,KM).call(this,e,r||null,!0)}forEachEvent(e){let r=Array.from(P(this,lp).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){let s=r[n];e(P(this,lp).get(s),n)}}getError(e,r){if(Ht(e)){let s=e.toLowerCase();if(ske[s])return Do.from(ske[s].signature);for(let i of P(this,cp).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of P(this,cp))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Do.from("error Error(string)"):e==="Panic"?Do.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");V(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Do.from(e).format(),e==="Error(string)")return Do.from("error Error(string)");if(e==="Panic(uint256)")return Do.from("error Panic(uint256)");let n=P(this,cp).get(e);return n||null}forEachError(e){let r=Array.from(P(this,cp).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){let s=r[n];e(P(this,cp).get(s),n)}}_decodeParams(e,r){return P(this,Lo).decode(e,r)}_encodeParams(e,r){return P(this,Lo).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);V(n,"unknown error","fragment",e),e=n}return V(br(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,br(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);V(n,"unknown error","fragment",e),e=n}return gt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return V(br(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,br(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return gt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let i=this.getFunction(e);V(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",s=gn(r);if(s.length%32===0)try{return P(this,Lo).decode(e.outputs,s)}catch(i){n="could not decode result data"}se(!1,n,"BAD_DATA",{value:he(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=xe(e,"data"),s=dl.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){let a=he(n.slice(0,4)),c=this.getError(a);if(c)try{let l=P(this,Lo).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch(l){s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(r);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);V(n,"unknown function","fragment",e),e=n}return he(P(this,Lo).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let i=this.getEvent(e);V(i,"unknown event","eventFragment",e),e=i}se(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(i,o)=>i.type==="string"?vi(o):i.type==="bytes"?Mt(he(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Zs(o):i.type.match(/^bytes/)?o=Qd(o,32):i.type==="address"&&P(this,Lo).encode(["address"],[o]),os(he(o),32));for(r.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){V(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?V(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let o=this.getEvent(e);V(o,"unknown event","eventFragment",e),e=o}let n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),V(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{let c=r[a];if(o.indexed)if(o.type==="string")n.push(vi(c));else if(o.type==="bytes")n.push(Mt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(P(this,Lo).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:P(this,Lo).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let p=this.getEvent(e);V(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){let p=e.topicHash;V(Ht(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((p,h)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Qn.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});let a=n!=null?P(this,Lo).decode(s,gt(n)):null,c=P(this,Lo).decode(i,r,!0),l=[],u=[],f=0,d=0;return e.inputs.forEach((p,h)=>{let m=null;if(p.indexed)if(a==null)m=new Oy(null);else if(o[h])m=new Oy(a[d++]);else try{m=a[d++]}catch(g){m=g}else try{m=c[f++]}catch(g){m=g}l.push(m),u.push(p.name||null)}),ru.fromItems(l,u)}parseTransaction(e){let r=xe(e.data,"tx.data"),n=Ue(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(he(r.slice(0,4)));if(!s)return null;let i=P(this,Lo).decode(s.inputs,r.slice(4));return new U6(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new B6(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=he(e),n=this.getError(br(r,0,4));if(!n)return null;let s=P(this,Lo).decode(n.inputs,br(r,4));return new D6(n,n.selector,s)}static from(e){return e instanceof k6?e:typeof e=="string"?new k6(JSON.parse(e)):typeof e.formatJson=="function"?new k6(e.formatJson()):typeof e.format=="function"?new k6(e.format("json")):new k6(e)}};cp=new WeakMap,lp=new WeakMap,up=new WeakMap,Lo=new WeakMap,fp=new WeakSet,WM=function(e,r,n){if(Ht(e)){let i=e.toLowerCase();for(let o of P(this,up).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of P(this,up))o.split("(")[0]===e&&i.push(a);if(r){let o=r.length>0?r[r.length-1]:null,a=r.length,c=!0;Xr.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){let u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){let u=i[l].inputs;for(let f=0;f<r.length;f++)if(Xr.isTyped(r[f])){if(f>=u.length){if(r[f].type==="overrides")continue;i.splice(l,1);break}if(r[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){let o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");V(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=P(this,up).get(Lf.from(e).format());return s||null},KM=function(e,r,n){if(Ht(e)){let i=e.toLowerCase();for(let o of P(this,lp).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of P(this,lp))o.split("(")[0]===e&&i.push(a);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<r.length;c++)if(Xr.isTyped(r[c])&&r[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");V(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=P(this,lp).get(Uf.from(e).format());return s||null};var dp=k6;var ike=BigInt(0);function _E(t){return t==null?null:t}function As(t){return t==null?null:t.toString()}var Mm=class{constructor(e,r,n){Y(this,"gasPrice");Y(this,"maxFeePerGas");Y(this,"maxPriorityFeePerGas");Se(this,{gasPrice:_E(e),maxFeePerGas:_E(r),maxPriorityFeePerGas:_E(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:As(e),maxFeePerGas:As(r),maxPriorityFeePerGas:As(n)}}};function pl(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=he(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of r)!(s in t)||t[s]==null||(e[s]=Ue(t[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in t)||t[s]==null||(e[s]=Xe(t[s],`request.${s}`));return t.accessList&&(e.accessList=wi(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>eu(s)?he(s):Object.assign({},s))),e}var Lm,ky=class{constructor(e,r){Y(this,"provider");Y(this,"number");Y(this,"hash");Y(this,"timestamp");Y(this,"parentHash");Y(this,"parentBeaconBlockRoot");Y(this,"nonce");Y(this,"difficulty");Y(this,"gasLimit");Y(this,"gasUsed");Y(this,"stateRoot");Y(this,"receiptsRoot");Y(this,"blobGasUsed");Y(this,"excessBlobGas");Y(this,"miner");Y(this,"prevRandao");Y(this,"extraData");Y(this,"baseFeePerGas");Q(this,Lm);j(this,Lm,e.transactions.map(n=>typeof n!="string"?new Ff(n,r):n)),Se(this,{provider:r,hash:_E(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:_E(e.prevRandao),extraData:e.extraData,baseFeePerGas:_E(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return P(this,Lm).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=P(this,Lm).slice();return e.length===0?[]:(se(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:As(e),difficulty:As(r),extraData:n,gasLimit:As(s),gasUsed:As(i),blobGasUsed:As(this.blobGasUsed),excessBlobGas:As(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:m,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,transactions:g}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return P(this,Lm).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=P(this,Lm)[e];else{let n=e.toLowerCase();for(let s of P(this,Lm))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;V(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return qyt(this)}};Lm=new WeakMap;var uc=class{constructor(e,r){Y(this,"provider");Y(this,"transactionHash");Y(this,"blockHash");Y(this,"blockNumber");Y(this,"removed");Y(this,"address");Y(this,"data");Y(this,"topics");Y(this,"index");Y(this,"transactionIndex");this.provider=r;let n=Object.freeze(e.topics.slice());Se(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return se(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return se(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return se(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Wyt(this)}},jT,pp=class{constructor(e,r){Y(this,"provider");Y(this,"to");Y(this,"from");Y(this,"contractAddress");Y(this,"hash");Y(this,"index");Y(this,"blockHash");Y(this,"blockNumber");Y(this,"logsBloom");Y(this,"gasUsed");Y(this,"blobGasUsed");Y(this,"cumulativeGasUsed");Y(this,"gasPrice");Y(this,"blobGasPrice");Y(this,"type");Y(this,"status");Y(this,"root");Q(this,jT);j(this,jT,Object.freeze(e.logs.map(s=>new uc(s,r))));let n=ike;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Se(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return P(this,jT)}toJSON(){let{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:As(this.cumulativeGasUsed),from:r,gasPrice:As(this.gasPrice),blobGasUsed:As(this.blobGasUsed),blobGasPrice:As(this.blobGasPrice),gasUsed:As(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ake(this)}reorderedEvent(e){return se(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),oke(this,e)}};jT=new WeakMap;var Ry,Cte=class Cte{constructor(e,r){Y(this,"provider");Y(this,"blockNumber");Y(this,"blockHash");Y(this,"index");Y(this,"hash");Y(this,"type");Y(this,"to");Y(this,"from");Y(this,"nonce");Y(this,"gasLimit");Y(this,"gasPrice");Y(this,"maxPriorityFeePerGas");Y(this,"maxFeePerGas");Y(this,"maxFeePerBlobGas");Y(this,"data");Y(this,"value");Y(this,"chainId");Y(this,"signature");Y(this,"accessList");Y(this,"blobVersionedHashes");Y(this,"authorizationList");Q(this,Ry);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,j(this,Ry,-1)}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:d,chainId:As(this.chainId),data:l,from:a,gasLimit:As(this.gasLimit),gasPrice:As(this.gasPrice),hash:s,maxFeePerGas:As(this.maxFeePerGas),maxPriorityFeePerGas:As(this.maxPriorityFeePerGas),maxFeePerBlobGas:As(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:n,type:i,value:As(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=await sn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){let n=e==null?1:e,s=r==null?0:r,i=P(this,Ry),o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:d,nonce:p}=await sn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=d;return}if(a)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(o===-1&&(o=i-3,o<P(this,Ry)&&(o=P(this,Ry)));o<=d;){if(a)return null;let m=await this.provider.getBlock(o,!0);if(m==null)return;for(let g of m)if(g===this.hash)return;for(let g=0;g<m.length;g++){let b=await m.getTransaction(g);if(b.from===this.from&&b.nonce===this.nonce){if(a)return null;let E=await this.provider.getTransactionReceipt(b.hash);if(E==null||d-E.blockNumber+1<n)return;let w="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?w="repriced":b.data==="0x"&&b.from===b.to&&b.value===ike&&(w="cancelled"),se(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:b.replaceableTransaction(i),hash:b.hash,receipt:E})}}o++}},l=d=>{if(d==null||d.status!==0)return d;se(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((d,p)=>{let h=[],m=()=>{h.forEach(b=>b())};if(h.push(()=>{a=!0}),s>0){let b=setTimeout(()=>{m(),p(Xt("wait for transaction timeout","TIMEOUT"))},s);h.push(()=>{clearTimeout(b)})}let g=async b=>{if(await b.confirmations()>=n){m();try{d(l(b))}catch(E){p(E)}}};if(h.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),i>=0){let b=async()=>{try{await c()}catch(E){if(Ar(E,"TRANSACTION_REPLACED")){m(),p(E);return}}a||this.provider.once("block",b)};h.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return se(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ake(this)}reorderedEvent(e){return se(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),se(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),oke(this,e)}replaceableTransaction(e){V(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new Cte(this,this.provider);return j(r,Ry,e),r}};Ry=new WeakMap;var Ff=Cte;function qyt(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function oke(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ake(t){return{orphan:"drop-transaction",tx:t}}function Wyt(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var hp=class extends uc{constructor(r,n,s){super(r,r.provider);Y(this,"interface");Y(this,"fragment");Y(this,"args");let i=n.decodeEventLog(s,r.data,r.topics);Se(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},$m=class extends uc{constructor(r,n){super(r,r.provider);Y(this,"error");Se(this,{error:n})}},NE,L6=class extends pp{constructor(r,n,s){super(s,n);Q(this,NE);j(this,NE,r)}get logs(){return super.logs.map(r=>{let n=r.topics.length?P(this,NE).getEvent(r.topics[0]):null;if(n)try{return new hp(r,P(this,NE),n)}catch(s){return new $m(r,s)}return r})}};NE=new WeakMap;var qT,mp=class extends Ff{constructor(r,n,s){super(s,n);Q(this,qT);j(this,qT,r)}async wait(r,n){let s=await super.wait(r,n);return s==null?null:new L6(P(this,qT),this.provider,s)}};qT=new WeakMap;var Hm=class extends tp{constructor(r,n,s,i){super(r,n,s);Y(this,"log");Se(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},By=class extends Hm{constructor(e,r,n,s,i){super(e,r,n,new hp(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Se(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var cke=BigInt(0);function fke(t){return t&&typeof t.call=="function"}function dke(t){return t&&typeof t.estimateGas=="function"}function YM(t){return t&&typeof t.resolveName=="function"}function pke(t){return t&&typeof t.sendTransaction=="function"}function hke(t){if(t!=null){if(YM(t))return t;if(t.provider)return t.provider}}var GT,Ste=class{constructor(e,r,n){Q(this,GT);Y(this,"fragment");if(Se(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let s=$6(e.runner,"resolveName"),i=YM(s)?s:null;j(this,GT,(async function(){let o=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(d=>yn(d,i))):yn(f,i):f)));return e.interface.encodeFilterTopics(r,o)})())}getTopicFilter(){return P(this,GT)}};GT=new WeakMap;function $6(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function M6(t){return t==null?null:t.provider||null}async function JM(t,e){let r=Xr.dereference(t,"overrides");V(typeof r=="object","invalid overrides parameter","overrides",t);let n=pl(r);return V(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),V(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Pte(t,e,r){let n=$6(t,"resolveName"),s=YM(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(a,c)=>(c=Xr.dereference(c,a),a==="address"?yn(c,s):c))))}function Kyt(t){let e=async function(o){let a=await JM(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await yn(a.from,hke(t.runner)));let c=t.interface,l=Ue(a.value||cke,"overrides.value")===cke,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&V(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),V(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let f=c.receive||c.fallback&&c.fallback.payable;return V(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),V(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){let a=$6(t.runner,"call");se(fke(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(l){throw xm(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(o){let a=t.runner;se(pke(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),l=M6(t.runner);return new mp(t.interface,l,c)},s=async function(o){let a=$6(t.runner,"estimateGas");return se(dke(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return Se(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function Gyt(t,e){let r=function(...l){let u=t.interface.getFunction(e,l);return se(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){let u=r(...l),f={};if(u.inputs.length+1===l.length&&(f=await JM(l.pop()),f.from&&(f.from=await yn(f.from,hke(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let d=await Pte(t.runner,u.inputs,l);return Object.assign({},f,await sn({to:t.getAddress(),data:t.interface.encodeFunctionData(u,d)}))},s=async function(...l){let u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){let u=t.runner;se(pke(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let f=await u.sendTransaction(await n(...l)),d=M6(t.runner);return new mp(t.interface,d,f)},o=async function(...l){let u=$6(t.runner,"estimateGas");return se(dke(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){let u=$6(t.runner,"call");se(fke(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let f=await n(...l),d="0x";try{d=await u.call(f)}catch(h){throw xm(h)&&h.data?t.interface.makeError(h.data,f):h}let p=r(...l);return t.interface.decodeFunctionResult(p,d)},c=async(...l)=>r(...l).constant?await s(...l):await i(...l);return Se(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return se(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Zyt(t,e){let r=function(...s){let i=t.interface.getEvent(e,s);return se(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new Ste(t,r(...s),s)};return Se(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=t.interface.getEvent(e);return se(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var ZM=Symbol.for("_ethersInternal_contract"),mke=new WeakMap;function Yyt(t,e){mke.set(t[ZM],e)}function hl(t){return mke.get(t[ZM])}function Jyt(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function _te(t,e){let r,n=null;if(Array.isArray(e)){let i=function(o){if(Ht(o,32))return o;let a=t.interface.getEvent(o);return V(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?Ht(e,32)?r=[e]:(n=t.interface.getEvent(e),V(n,"unknown fragment","event",e),r=[n.topicHash]):Jyt(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):V(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function WT(t,e){let{subs:r}=hl(t);return r.get((await _te(t,e)).tag)||null}async function lke(t,e,r){let n=M6(t.runner);se(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await _te(t,r),{addr:a,subs:c}=hl(t),l=c.get(i);if(!l){let f={address:a||t,topics:o},d=g=>{let b=s;if(b==null)try{b=t.interface.getEvent(g.topics[0])}catch(E){}if(b){let E=b,w=s?t.interface.decodeEventLog(s,g.data,g.topics):[];Tte(t,r,w,x=>new By(t,x,r,E,g))}else Tte(t,r,[],E=>new Hm(t,E,r,g))},p=[];l={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(f,d))},stop:async()=>{if(p.length==0)return;let g=p;p=[],await Promise.all(g),n.off(f,d)}},c.set(i,l)}return l}var Ite=Promise.resolve();async function Qyt(t,e,r,n){await Ite;let s=await WT(t,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(r);n&&c.push(n(a?null:o));try{o.call(t,...c)}catch(l){}return!a}),s.listeners.length===0&&(s.stop(),hl(t).subs.delete(s.tag)),i>0}async function Tte(t,e,r,n){try{await Ite}catch(i){}let s=Qyt(t,e,r,n);return Ite=s,await s}var GM=["then"],uke;uke=ZM;var KT=class KT{constructor(e,r,n,s){Y(this,"target");Y(this,"interface");Y(this,"runner");Y(this,"filters");Y(this,uke);Y(this,"fallback");V(typeof e=="string"||A6(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=dp.from(r);Se(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,ZM,{value:{}});let o,a=null,c=null;if(s){let f=M6(n);c=new mp(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Ht(e))a=e,o=Promise.resolve(e);else{let f=$6(n,"resolveName");if(!YM(f))throw Xt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(d=>{if(d==null)throw Xt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return hl(this).addr=d,d})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return hl(this).addr=f,f});Yyt(this,{addrPromise:o,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(f,d,p)=>{if(typeof d=="symbol"||GM.indexOf(d)>=0)return Reflect.get(f,d,p);try{return this.getEvent(d)}catch(h){if(!Ar(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>GM.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return Se(this,{filters:u}),Se(this,{fallback:i.receive||i.fallback?Kyt(this):null}),new Proxy(this,{get:(f,d,p)=>{if(typeof d=="symbol"||d in f||GM.indexOf(d)>=0)return Reflect.get(f,d,p);try{return f.getFunction(d)}catch(h){if(!Ar(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>typeof d=="symbol"||d in f||GM.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new KT(this.target,this.interface,e)}attach(e){return new KT(e,this.interface,this.runner)}async getAddress(){return await hl(this).addrPromise}async getDeployedCode(){let e=M6(this.runner);se(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=M6(this.runner);return se(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return hl(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Gyt(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Zyt(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");let{addr:s,addrPromise:i}=hl(this),o=s||await i,{fragment:a,topics:c}=await _te(this,e),l={address:o,topics:c,fromBlock:r,toBlock:n},u=M6(this.runner);return se(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let d=a;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch(p){}if(d)try{return new hp(f,this.interface,d)}catch(p){return new $m(f,p)}return new uc(f,u)})}async on(e,r){let n=await lke(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){let n=await lke(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Tte(this,e,r,null)}async listenerCount(e){if(e){let s=await WT(this,e);return s?s.listeners.length:0}let{subs:r}=hl(this),n=0;for(let{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){let s=await WT(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:r}=hl(this),n=[];for(let{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){let n=await WT(this,e);if(!n)return this;if(r){let s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),hl(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let r=await WT(this,e);if(!r)return this;r.stop(),hl(this).subs.delete(r.tag)}else{let{subs:r}=hl(this);for(let{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends KT{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}},gp=KT;function Xyt(){return gp}var ma=class extends Xyt(){};var OE=class t{constructor(e,r,n){Y(this,"interface");Y(this,"bytecode");Y(this,"runner");let s=dp.from(e);r instanceof Uint8Array?r=he(xe(r)):(typeof r=="object"&&(r=r.object),r.startsWith("0x")||(r="0x"+r),r=he(xe(r))),Se(this,{bytecode:r,interface:s,runner:n||null})}attach(e){return new gp(e,this.interface,this.runner)}async getDeployTransaction(...e){let r={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(r=await JM(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await Pte(this.runner,n.inputs,e),i=gt([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},r,{data:i})}async deploy(...e){let r=await this.getDeployTransaction(...e);se(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(r),s=Cy(n);return new gp(s,this.interface,this.runner,n)}connect(e){return new t(this.interface,this.bytecode,e)}static fromSolidity(e,r){V(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,r)}};function Nte(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):V(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var F6=class{constructor(e){Y(this,"name");Se(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}};var yke=new RegExp("^(ipfs)://(.*)$","i"),gke=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),yke,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Uy,H6,Dy,RE,QM,bke,kE=class kE{constructor(e,r,n){Q(this,Dy);Y(this,"provider");Y(this,"address");Y(this,"name");Q(this,Uy);Q(this,H6);Se(this,{provider:e,address:r,name:n}),j(this,Uy,null),j(this,H6,new ma(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return P(this,Uy)==null&&j(this,Uy,(async()=>{try{return await P(this,H6).supportsInterface("0x9061b923")}catch(e){if(Ar(e,"CALL_EXCEPTION"))return!1;throw j(this,Uy,null),e}})()),await P(this,Uy)}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await me(this,Dy,RE).call(this,"addr(bytes32)");return i==null||i===cu?null:i}catch(i){if(Ar(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await me(this,Dy,RE).call(this,"addr(bytes32,uint)",[i]);if(Ht(o,20))return it(o)}let r=null;for(let i of this.provider.plugins)if(i instanceof F6&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;let n=await me(this,Dy,RE).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await r.decodeAddress(e,n);if(s!=null)return s;se(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let r=await me(this,Dy,RE).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){let e=await me(this,Dy,RE).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${ay("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;se(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<gke.length;n++){let s=r.match(gke[n]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let o=Nte(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let l=c[1],u=new ma(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){let m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await u[o](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Zs(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Nte(f)),e.push({type:"metadata-url",value:f});let d={},p=await new Or(f).send();p.assertOk();try{d=p.bodyJson}catch(m){try{e.push({type:"!metadata",value:p.bodyText})}catch(g){let b=p.body;return b&&e.push({type:"!metadata",value:he(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let h=d.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(yke)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=Nte(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch(r){}return{linkage:e,url:null}}static async getEnsAddress(e){let r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return se(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let i=await me(s=kE,QM,bke).call(s,e,n);if(i!=null){let o=new kE(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Uy=new WeakMap,H6=new WeakMap,Dy=new WeakSet,RE=async function(e,r){r=(r||[]).slice();let n=P(this,H6).interface;r.unshift(Rm(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),se(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[CE(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let i=await P(this,H6)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ar(i,"CALL_EXCEPTION"))throw i}return null},QM=new WeakSet,bke=async function(e,r){let n=await kE.getEnsAddress(e);try{let i=await new ma(n,["function resolver(bytes32) view returns (address)"],e).resolver(Rm(r),{enableCcipRead:!0});return i===cu?null:i}catch(s){throw s}return null},Q(kE,QM);var Fm=kE;var wke=BigInt(0);function dr(t,e){return(function(r){return r==null?e:t(r)})}function ZT(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function YT(t,e){return(r=>{let n={};for(let s in t){let i=s;if(e&&s in e&&!(i in r)){for(let o of e[s])if(o in r){i=o;break}}try{let o=t[s](r[i]);o!==void 0&&(n[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";se(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:r})}}return n})}function ebt(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}V(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function BE(t){return V(Ht(t,!0),"invalid data","value",t),t}function ji(t){return V(Ht(t,32),"invalid hash","value",t),t}var tbt=YT({address:it,blockHash:ji,blockNumber:Xe,data:BE,index:Xe,removed:dr(ebt,!1),topics:ZT(ji),transactionHash:ji,transactionIndex:Xe},{index:["logIndex"]});function xke(t){return tbt(t)}var rbt=YT({hash:dr(ji),parentHash:ji,parentBeaconBlockRoot:dr(ji,null),number:Xe,timestamp:Xe,nonce:dr(BE),difficulty:Ue,gasLimit:Ue,gasUsed:Ue,stateRoot:dr(ji,null),receiptsRoot:dr(ji,null),blobGasUsed:dr(Ue,null),excessBlobGas:dr(Ue,null),miner:dr(it),prevRandao:dr(ji,null),extraData:BE,baseFeePerGas:dr(Ue)},{prevRandao:["mixHash"]});function vke(t){let e=rbt(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Ote(r)),e}var nbt=YT({transactionIndex:Xe,blockNumber:Xe,transactionHash:ji,address:it,topics:ZT(ji),data:BE,index:Xe,blockHash:ji},{index:["logIndex"]});function sbt(t){return nbt(t)}var ibt=YT({to:dr(it,null),from:dr(it,null),contractAddress:dr(it,null),index:Xe,root:dr(he),gasUsed:Ue,blobGasUsed:dr(Ue,null),logsBloom:dr(BE),blockHash:ji,hash:ji,logs:ZT(sbt),blockNumber:Xe,cumulativeGasUsed:Ue,effectiveGasPrice:dr(Ue),blobGasPrice:dr(Ue,null),status:dr(Xe),type:dr(Xe,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Eke(t){return ibt(t)}function Ote(t){t.to&&Ue(t.to)===wke&&(t.to="0x0000000000000000000000000000000000000000");let e=YT({hash:ji,index:dr(Xe,void 0),type:r=>r==="0x"||r==null?0:Xe(r),accessList:dr(wi,null),blobVersionedHashes:dr(ZT(ji,!0),null),authorizationList:dr(ZT(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:it(r.address),chainId:Ue(r.chainId),nonce:Ue(r.nonce),signature:ls.from(n)}},!1),null),blockHash:dr(ji,null),blockNumber:dr(Xe,null),transactionIndex:dr(Xe,null),from:it,gasPrice:dr(Ue),maxPriorityFeePerGas:dr(Ue),maxFeePerGas:dr(Ue),maxFeePerBlobGas:dr(Ue,null),gasLimit:Ue,to:dr(it,null),value:Ue,nonce:Xe,data:BE,creates:dr(it,null),chainId:dr(Ue,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Cy(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ls.from(t.signature):e.signature=ls.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ue(e.blockHash)===wke&&(e.blockHash=null),e}var obt="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",hu=class t{constructor(e){Y(this,"name");Se(this,{name:e})}clone(){return new t(this.name)}},zm=class t extends hu{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);Y(this,"effectiveBlock");Y(this,"txBase");Y(this,"txCreate");Y(this,"txDataZero");Y(this,"txDataNonzero");Y(this,"txAccessListStorageKey");Y(this,"txAccessListAddress");let s={effectiveBlock:r};function i(o,a){let c=(n||{})[o];c==null&&(c=a),V(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Se(this,s)}clone(){return new t(this.effectiveBlock,this)}},Vm=class t extends hu{constructor(r,n){super("org.ethers.plugins.network.Ens");Y(this,"address");Y(this,"targetNetwork");Se(this,{address:r||obt,targetNetwork:n==null?1:n})}clone(){return new t(this.address,this.targetNetwork)}},z6,Rte=class Rte extends hu{constructor(r){super("org.ethers.plugins.network.FeeData");Q(this,z6);j(this,z6,r)}get feeDataFunc(){return P(this,z6)}async getFeeData(r){return await P(this,z6).call(this,r)}clone(){return new Rte(P(this,z6))}};z6=new WeakMap;var UE=Rte,JT,QT,Ly=class extends hu{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Q(this,JT);Q(this,QT);j(this,JT,r),j(this,QT,n)}get url(){return P(this,JT)}get processFunc(){return P(this,QT)}clone(){return this}};JT=new WeakMap,QT=new WeakMap;var kte=new Map,LE,ME,My,DE=class DE{constructor(e,r){Q(this,LE);Q(this,ME);Q(this,My);j(this,LE,e),j(this,ME,Ue(r)),j(this,My,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return P(this,LE)}set name(e){j(this,LE,e)}get chainId(){return P(this,ME)}set chainId(e){j(this,ME,Ue(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ue(e)}catch(r){}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ue(e)}catch(r){}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ue(e.chainId)}catch(r){}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(P(this,My).values())}attachPlugin(e){if(P(this,My).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return P(this,My).set(e.name,e.clone()),this}getPlugin(e){return P(this,My).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new DE(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new zm,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let s=wi(e.accessList);for(let i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(abt(),e==null)return DE.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=kte.get(e);if(r)return r();if(typeof e=="bigint")return new DE("unknown",e);V(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){V(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new DE(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Vm(e.ensAddress,e.ensNetwork)),r}V(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=kte.get(e);n&&V(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),kte.set(e,r)}};LE=new WeakMap,ME=new WeakMap,My=new WeakMap;var er=DE;function Ake(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Cke(t){return new Ly(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([n.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Ake(a.maxFee,9),maxPriorityFeePerGas:Ake(a.maxPriorityFee,9)}}catch(i){se(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}var Ske=!1;function abt(){if(Ske)return;Ske=!0;function t(e,r,n){let s=function(){let i=new er(e,r);return n.ensNetwork!=null&&i.attachPlugin(new Vm(null,n.ensNetwork)),i.attachPlugin(new zm),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};er.register(e,s),er.register(r,s),n.altNames&&n.altNames.forEach(i=>{er.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Cke("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Cke("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Bte(t){return JSON.parse(JSON.stringify(t))}var jm,mu,$y,yp,$E,XM,e$=class{constructor(e){Q(this,$E);Q(this,jm);Q(this,mu);Q(this,$y);Q(this,yp);j(this,jm,e),j(this,mu,null),j(this,$y,4e3),j(this,yp,-2)}get pollingInterval(){return P(this,$y)}set pollingInterval(e){j(this,$y,e)}start(){P(this,mu)||(j(this,mu,P(this,jm)._setTimeout(me(this,$E,XM).bind(this),P(this,$y))),me(this,$E,XM).call(this))}stop(){P(this,mu)&&(P(this,jm)._clearTimeout(P(this,mu)),j(this,mu,null))}pause(e){this.stop(),e&&j(this,yp,-2)}resume(){this.start()}};jm=new WeakMap,mu=new WeakMap,$y=new WeakMap,yp=new WeakMap,$E=new WeakSet,XM=async function(){try{let e=await P(this,jm).getBlockNumber();if(P(this,yp)===-2){j(this,yp,e);return}if(e!==P(this,yp)){for(let r=P(this,yp)+1;r<=e;r++){if(P(this,mu)==null)return;await P(this,jm).emit("block",r)}j(this,yp,e)}}catch(e){}P(this,mu)!=null&&j(this,mu,P(this,jm)._setTimeout(me(this,$E,XM).bind(this),P(this,$y)))};var V6,j6,Hy,XT=class{constructor(e){Q(this,V6);Q(this,j6);Q(this,Hy);j(this,V6,e),j(this,Hy,!1),j(this,j6,r=>{this._poll(r,P(this,V6))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){P(this,Hy)||(j(this,Hy,!0),P(this,j6).call(this,-2),P(this,V6).on("block",P(this,j6)))}stop(){P(this,Hy)&&(j(this,Hy,!1),P(this,V6).off("block",P(this,j6)))}pause(e){this.stop()}resume(){this.start()}};V6=new WeakMap,j6=new WeakMap,Hy=new WeakMap;var HE,qm,t$=class extends XT{constructor(r,n){super(r);Q(this,HE);Q(this,qm);j(this,HE,n),j(this,qm,-2)}pause(r){r&&j(this,qm,-2),super.pause(r)}async _poll(r,n){let s=await n.getBlock(P(this,HE));s!=null&&(P(this,qm)===-2?j(this,qm,s.number):s.number>P(this,qm)&&(n.emit(P(this,HE),s.number),j(this,qm,s.number)))}};HE=new WeakMap,qm=new WeakMap;var eP,r$=class extends XT{constructor(r,n){super(r);Q(this,eP);j(this,eP,Bte(n))}async _poll(r,n){throw new Error("@TODO")}};eP=new WeakMap;var FE,n$=class extends XT{constructor(r,n){super(r);Q(this,FE);j(this,FE,n)}async _poll(r,n){let s=await n.getTransactionReceipt(P(this,FE));s&&n.emit(P(this,FE),s)}};FE=new WeakMap;var Wm,zE,VE,Fy,gu,s$,Ike,zy=class{constructor(e,r){Q(this,s$);Q(this,Wm);Q(this,zE);Q(this,VE);Q(this,Fy);Q(this,gu);j(this,Wm,e),j(this,zE,Bte(r)),j(this,VE,me(this,s$,Ike).bind(this)),j(this,Fy,!1),j(this,gu,-2)}start(){P(this,Fy)||(j(this,Fy,!0),P(this,gu)===-2&&P(this,Wm).getBlockNumber().then(e=>{j(this,gu,e)}),P(this,Wm).on("block",P(this,VE)))}stop(){P(this,Fy)&&(j(this,Fy,!1),P(this,Wm).off("block",P(this,VE)))}pause(e){this.stop(),e&&j(this,gu,-2)}resume(){this.start()}};Wm=new WeakMap,zE=new WeakMap,VE=new WeakMap,Fy=new WeakMap,gu=new WeakMap,s$=new WeakSet,Ike=async function(e){if(P(this,gu)===-2)return;let r=Bte(P(this,zE));r.fromBlock=P(this,gu)+1,r.toBlock=e;let n=await P(this,Wm).getLogs(r);if(n.length===0){P(this,gu)<e-60&&j(this,gu,e-60);return}for(let s of n)P(this,Wm).emit(P(this,zE),s),j(this,gu,s.blockNumber)};var cbt=BigInt(2),lbt=10;function i$(t){return t&&typeof t.then=="function"}function o$(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}var bu=class{constructor(e){Y(this,"name");Se(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function ubt(t){return JSON.parse(JSON.stringify(t))}function Lte(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Ute(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ht(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:o$("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:o$("orphan",r),filter:ubt(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?Lte(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){let s=[],i=[],o=a=>{Ht(a)?s.push(a):i.push((async()=>{s.push(await yn(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=Lte(s.map(a=>a.toLowerCase()))}return{filter:n,tag:o$("event",n),type:"event"}}V(!1,"unknown ProviderEvent","event",t)}function Dte(){return new Date().getTime()}var fbt={cacheTimeout:250,pollingInterval:4e3},Mo,Vy,$o,jE,gl,q6,jy,Km,nP,yu,qE,WE,tr,ml,Mte,$te,tP,Hte,rP,a$,yl=class{constructor(e,r){Q(this,tr);Q(this,Mo);Q(this,Vy);Q(this,$o);Q(this,jE);Q(this,gl);Q(this,q6);Q(this,jy);Q(this,Km);Q(this,nP);Q(this,yu);Q(this,qE);Q(this,WE);if(j(this,WE,Object.assign({},fbt,r||{})),e==="any")j(this,q6,!0),j(this,gl,null);else if(e){let n=er.from(e);j(this,q6,!1),j(this,gl,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else j(this,q6,!1),j(this,gl,null);j(this,Km,-1),j(this,jy,new Map),j(this,Mo,new Map),j(this,Vy,new Map),j(this,$o,null),j(this,jE,!1),j(this,nP,1),j(this,yu,new Map),j(this,qE,!1)}get pollingInterval(){return P(this,WE).pollingInterval}get provider(){return this}get plugins(){return Array.from(P(this,Vy).values())}attachPlugin(e){if(P(this,Vy).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return P(this,Vy).set(e.name,e.connect(this)),this}getPlugin(e){return P(this,Vy).get(e)||null}get disableCcipRead(){return P(this,qE)}set disableCcipRead(e){j(this,qE,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){let c=n[a],l=c.replace("{sender}",s).replace("{data}",i),u=new Or(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error",d;try{d=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{let p=d.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch(p){}se(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),o.push(f)}se(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new ky(vke(e),this)}_wrapLog(e,r){return new uc(xke(e),this)}_wrapTransactionReceipt(e,r){return new pp(Eke(e),this)}_wrapTransactionResponse(e,r){return new Ff(Ote(e),this)}_detectNetwork(){se(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){se(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=Xe(await me(this,tr,ml).call(this,{method:"getBlockNumber"}),"%response");return P(this,Km)>=0&&j(this,Km,e),e}_getAddress(e){return yn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ht(e))return Ht(e,32)?e:Ds(e);if(typeof e=="bigint"&&(e=Xe(e,"blockTag")),typeof e=="number")return e>=0?Ds(e):P(this,Km)>=0?Ds(P(this,Km)+e):this.getBlockNumber().then(r=>Ds(r+e));V(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Lte(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");let d={};return f&&(d.address=f),r.length&&(d.topics=r),l&&(d.fromBlock=l),u&&(d.toBlock=u),n&&(d.blockHash=n),d},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let r=pl(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;let i=yn(r[s],this);i$(i)?n.push((async function(){r[s]=await i})()):r[s]=i}),r.blockTag!=null){let s=this._getBlockTag(r.blockTag);i$(s)?n.push((async function(){r.blockTag=await s})()):r.blockTag=s}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(P(this,gl)==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw P(this,gl)===s&&j(this,gl,null),i}})();return j(this,gl,s),(await s).clone()}let e=P(this,gl),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(P(this,q6)?(this.emit("network",n,r),P(this,gl)===e&&j(this,gl,Promise.resolve(n))):se(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){let e=await this.getNetwork(),r=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await sn({_block:me(this,tr,Hte).call(this,"latest",!1),gasPrice:(async()=>{try{let u=await me(this,tr,ml).call(this,{method:"getGasPrice"});return Ue(u,"%response")}catch(u){}return null})(),priorityFee:(async()=>{try{let u=await me(this,tr,ml).call(this,{method:"getPriorityFee"});return Ue(u,"%response")}catch(u){}return null})()}),a=null,c=null,l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o!=null?o:BigInt("1000000000"),a=l.baseFeePerGas*cbt+c),new Mm(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new Or(n.url),i=await n.processFunc(r,this,s);return new Mm(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return i$(r)&&(r=await r),Ue(await me(this,tr,ml).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){let{tx:r,blockTag:n}=await sn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await me(this,tr,$te).call(this,me(this,tr,Mte).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ue(await me(this,tr,tP).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Xe(await me(this,tr,tP).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return he(await me(this,tr,tP).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){let s=Ue(r,"position");return he(await me(this,tr,tP).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:r,hash:n,network:s}=await sn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=cc.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){let{network:n,params:s}=await sn({network:this.getNetwork(),params:me(this,tr,Hte).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:r,params:n}=await sn({network:this.getNetwork(),params:me(this,tr,ml).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){let{network:r,params:n}=await sn({network:this.getNetwork(),params:me(this,tr,ml).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await me(this,tr,ml).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){let{result:r}=await sn({network:this.getNetwork(),result:me(this,tr,ml).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:he(r)}async getLogs(e){let r=this._getFilter(e);i$(r)&&(r=await r);let{network:n,params:s}=await sn({network:this.getNetwork(),params:me(this,tr,ml).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){se(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Fm.fromName(this,e)}async getAvatar(e){let r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){let r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=it(e);let r=Rm(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await Fm.getEnsAddress(this),i=await new ma(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===cu)return null;let a=await new ma(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Ar(n,"BAD_DATA")&&n.value==="0x"||Ar(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){let s=r!=null?r:1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Xt("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){se(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let r=P(this,yu).get(e);r&&(r.timer&&clearTimeout(r.timer),P(this,yu).delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=_p(this,nP)._++,s=()=>{P(this,yu).delete(n),e()};if(this.paused)P(this,yu).set(n,{timer:null,func:s,time:r});else{let i=setTimeout(s,r);P(this,yu).set(n,{timer:i,func:s,time:Dte()})}return n}_forEachSubscriber(e){for(let r of P(this,Mo).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new bu(e.type);case"block":{let r=new e$(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new t$(this,e.type);case"event":return new zy(this,e.filter);case"transaction":return new n$(this,e.hash);case"orphan":return new r$(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of P(this,Mo).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),P(this,$o)!=null&&r.pause(P(this,$o));break}}async on(e,r){let n=await me(this,tr,a$).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,P(this,$o)!=null&&n.subscriber.pause(P(this,$o))),this}async once(e,r){let n=await me(this,tr,a$).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,P(this,$o)!=null&&n.subscriber.pause(P(this,$o))),this}async emit(e,...r){let n=await me(this,tr,rP).call(this,e,r);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{let a=new tp(this,o?null:i,e);try{i.call(this,...r,a)}catch(c){}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),P(this,Mo).delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await me(this,tr,rP).call(this,e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of P(this,Mo).values())r+=n.length;return r}async listeners(e){if(e){let n=await me(this,tr,rP).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(let{listeners:n}of P(this,Mo).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){let n=await me(this,tr,rP).call(this,e);if(!n)return this;if(r){let s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),P(this,Mo).delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:r,started:n,subscriber:s}=await me(this,tr,a$).call(this,e);n&&s.stop(),P(this,Mo).delete(r)}else for(let[r,{started:n,subscriber:s}]of P(this,Mo))n&&s.stop(),P(this,Mo).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return P(this,jE)}destroy(){this.removeAllListeners();for(let e of P(this,yu).keys())this._clearTimeout(e);j(this,jE,!0)}get paused(){return P(this,$o)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(j(this,Km,-1),P(this,$o)!=null){if(P(this,$o)==!!e)return;se(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),j(this,$o,!!e);for(let r of P(this,yu).values())r.timer&&clearTimeout(r.timer),r.time=Dte()-r.time}resume(){if(P(this,$o)!=null){this._forEachSubscriber(e=>e.resume()),j(this,$o,null);for(let e of P(this,yu).values()){let r=e.time;r<0&&(r=0),e.time=Dte(),setTimeout(e.func,r)}}}};Mo=new WeakMap,Vy=new WeakMap,$o=new WeakMap,jE=new WeakMap,gl=new WeakMap,q6=new WeakMap,jy=new WeakMap,Km=new WeakMap,nP=new WeakMap,yu=new WeakMap,qE=new WeakMap,WE=new WeakMap,tr=new WeakSet,ml=async function(e){let r=P(this,WE).cacheTimeout;if(r<0)return await this._perform(e);let n=o$(e.method,e),s=P(this,jy).get(n);return s||(s=this._perform(e),P(this,jy).set(n,s),setTimeout(()=>{P(this,jy).get(n)===s&&P(this,jy).delete(n)},r)),await s},Mte=async function(e,r,n){se(n<lbt,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let s=pl(e);try{return he(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&xm(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&br(i.data,0,4)==="0x556f1830"){let o=i.data,a=await yn(s.to,this),c;try{c=gbt(br(i.data,4))}catch(f){se(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}se(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(s,c.calldata,c.urls);se(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let u={to:a,data:gt([c.selector,mbt([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let f=await me(this,tr,Mte).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},$te=async function(e){let{value:r}=await sn({network:this.getNetwork(),value:e});return r},tP=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await me(this,tr,$te).call(this,me(this,tr,ml).call(this,Object.assign(e,{address:s,blockTag:i})))},Hte=async function(e,r){if(Ht(e,32))return await me(this,tr,ml).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await me(this,tr,ml).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},rP=async function(e,r){let n=await Ute(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Ute({orphan:"drop-log",log:r[0]},this)),P(this,Mo).get(n.tag)||null},a$=async function(e){let r=await Ute(e,this),n=r.tag,s=P(this,Mo).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},P(this,Mo).set(n,s)),s};function dbt(t,e){try{let r=Fte(t,e);if(r)return Ro(r)}catch(r){}return null}function Fte(t,e){if(t==="0x")return null;try{let r=Xe(br(t,e,e+32)),n=Xe(br(t,r,r+32));return br(t,r+32,r+32+n)}catch(r){}return null}function Tke(t){let e=ur(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function pbt(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var hbt=new Uint8Array([]);function mbt(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(hbt),r+=32;for(let n=0;n<t.length;n++){let s=xe(t[n]);e[n]=Tke(r),e.push(Tke(s.length)),e.push(pbt(s)),r+=32+Math.ceil(s.length/32)*32}return gt(e)}var Pke="0x0000000000000000000000000000000000000000000000000000000000000000";function gbt(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};se(da(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=br(t,0,32);se(br(r,0,12)===br(Pke,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=br(r,12);try{let n=[],s=Xe(br(t,32,64)),i=Xe(br(t,s,s+32)),o=br(t,s+32);for(let a=0;a<i;a++){let c=dbt(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch(n){se(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=Fte(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch(n){se(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}se(br(t,100,128)===br(Pke,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=br(t,96,100);try{let n=Fte(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch(n){se(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function W6(t,e){if(t.provider)return t.provider;se(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function _ke(t,e){let r=pl(e);if(r.to!=null&&(r.to=yn(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),yn(n,t)]).then(([s,i])=>(V(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await sn(r)}var bl=class{constructor(e){Y(this,"provider");Se(this,{provider:e||null})}async getNonce(e){return W6(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await _ke(this,e)}async populateTransaction(e){let r=W6(this,"populateTransaction"),n=await _ke(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let o=Ue(n.chainId);V(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?V(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&V(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await r.getFeeData();se(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(se(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):se(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await sn(n)}async populateAuthorization(e){let r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await W6(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return W6(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return W6(this,"call").call(await this.populateCall(e))}async resolveName(e){return await W6(this,"resolveName").resolveName(e)}async sendTransaction(e){let r=W6(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=cc.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){se(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},KE,c$,zte=class zte extends bl{constructor(r,n){super(n);Q(this,KE);Y(this,"address");Se(this,{address:r})}async getAddress(){return this.address}connect(r){return new zte(this.address,r)}async signTransaction(r){me(this,KE,c$).call(this,"transactions","signTransaction")}async signMessage(r){me(this,KE,c$).call(this,"messages","signMessage")}async signTypedData(r,n,s){me(this,KE,c$).call(this,"typed-data","signTypedData")}};KE=new WeakSet,c$=function(r,n){se(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:n})};var qy=zte;var Nke=new Set;function Ei(t){Nke.has(t)||(Nke.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function ybt(t){return JSON.parse(JSON.stringify(t))}var ga,bp,K6,Wy,G6,GE,Ky,Vte,jte,l$=class{constructor(e){Q(this,Ky);Q(this,ga);Q(this,bp);Q(this,K6);Q(this,Wy);Q(this,G6);Q(this,GE);j(this,ga,e),j(this,bp,null),j(this,K6,me(this,Ky,Vte).bind(this)),j(this,Wy,!1),j(this,G6,null),j(this,GE,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){P(this,Wy)||(j(this,Wy,!0),me(this,Ky,Vte).call(this,-2))}stop(){P(this,Wy)&&(j(this,Wy,!1),j(this,GE,!0),me(this,Ky,jte).call(this),P(this,ga).off("block",P(this,K6)))}pause(e){e&&me(this,Ky,jte).call(this),P(this,ga).off("block",P(this,K6))}resume(){this.start()}};ga=new WeakMap,bp=new WeakMap,K6=new WeakMap,Wy=new WeakMap,G6=new WeakMap,GE=new WeakMap,Ky=new WeakSet,Vte=async function(e){try{P(this,bp)==null&&j(this,bp,this._subscribe(P(this,ga)));let r=null;try{r=await P(this,bp)}catch(i){if(!Ar(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){j(this,bp,null),P(this,ga)._recoverSubscriber(this,this._recover(P(this,ga)));return}let n=await P(this,ga).getNetwork();if(P(this,G6)||j(this,G6,n),P(this,G6).chainId!==n.chainId)throw new Error("chaid changed");if(P(this,GE))return;let s=await P(this,ga).send("eth_getFilterChanges",[r]);await this._emitResults(P(this,ga),s)}catch(r){console.log("@TODO",r)}P(this,ga).once("block",P(this,K6))},jte=function(){let e=P(this,bp);e&&(j(this,bp,null),e.then(r=>{P(this,ga).destroyed||P(this,ga).send("eth_uninstallFilter",[r])}))};var Z6,u$=class extends l${constructor(r,n){super(r);Q(this,Z6);j(this,Z6,ybt(n))}_recover(r){return new zy(r,P(this,Z6))}async _subscribe(r){return await r.send("eth_newFilter",[P(this,Z6)])}async _emitResults(r,n){for(let s of n)r.emit(P(this,Z6),r._wrapLog(s,r._network))}};Z6=new WeakMap;var f$=class extends l${async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(let n of r)e.emit("pending",n)}};var bbt="bigint,boolean,function,number,string,symbol".split(/,/g);function d$(t){if(t==null||bbt.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(d$);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function wbt(t){return new Promise(e=>{setTimeout(e,t)})}function ZE(t){return t&&t.toLowerCase()}function Oke(t){return t&&typeof t.pollingInterval=="number"}var Rke={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Zm=class extends bl{constructor(r,n){super(r);Y(this,"address");n=it(n),Se(this,{address:n})}connect(r){se(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){let n=d$(r),s=[];if(n.from){let o=n.from;s.push((async()=>{let a=await yn(o,this.provider);V(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas(G(S({},n),{from:this.address}))})()),n.to!=null){let o=n.to;s.push((async()=>{n.to=await yn(o,this.provider)})())}s.length&&await Promise.all(s);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){let n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{let a=[1e3,100],c=0,l=async()=>{try{let u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(Ar(u,"CANCELLED")||Ar(u,"BAD_DATA")||Ar(u,"NETWORK_ERROR")||Ar(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(Ar(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){o(u);return}this.provider.emit("error",Xt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(r){let n=d$(r);if(n.from){let i=await yn(n.from,this.provider);V(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;let s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){let n=typeof r=="string"?Nr(r):r;return await this.provider.send("personal_sign",[he(n),this.address.toLowerCase()])}async signTypedData(r,n,s){let i=d$(s),o=await fl.resolveNames(r,n,i,async a=>{let c=await yn(a);return V(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(fl.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){let n=typeof r=="string"?Nr(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),he(n)])}},Y6,YE,Gm,wp,zf,wu,fc,iP,qte,Ym=class extends yl{constructor(r,n){super(r,n);Q(this,iP);Q(this,Y6);Q(this,YE);Q(this,Gm);Q(this,wp);Q(this,zf);Q(this,wu);Q(this,fc);j(this,YE,1),j(this,Y6,Object.assign({},Rke,n||{})),j(this,Gm,[]),j(this,wp,null),j(this,wu,null),j(this,fc,null);{let i=null,o=new Promise(a=>{i=a});j(this,zf,{promise:o,resolve:i})}let s=this._getOption("staticNetwork");typeof s=="boolean"?(V(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&j(this,wu,er.from(r))):s&&(V(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),j(this,wu,s))}_getOption(r){return P(this,Y6)[r]}get _network(){return se(P(this,wu),"network is not available yet","NETWORK_ERROR"),P(this,wu)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Ue(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}let n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){let r=this._getOption("staticNetwork");if(r)if(r===!0){if(P(this,wu))return P(this,wu)}else return r;return P(this,fc)?await P(this,fc):this.ready?(j(this,fc,(async()=>{try{let n=er.from(Ue(await this.send("eth_chainId",[])));return j(this,fc,null),n}catch(n){throw j(this,fc,null),n}})()),await P(this,fc)):(j(this,fc,(async()=>{let n={id:_p(this,YE)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],j(this,fc,null)}catch(i){throw j(this,fc,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return er.from(Ue(s.result));throw this.getRpcError(n,s)})()),await P(this,fc))}_start(){P(this,zf)==null||P(this,zf).resolve==null||(P(this,zf).resolve(),j(this,zf,null),(async()=>{for(;P(this,wu)==null&&!this.destroyed;)try{j(this,wu,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Xt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await wbt(1e3)}me(this,iP,qte).call(this)})())}async _waitUntilReady(){if(P(this,zf)!=null)return await P(this,zf).promise}_getSubscriber(r){return r.type==="pending"?new f$(this):r.type==="event"?this._getOption("polling")?new zy(this,r.filter):new u$(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new bu("orphan"):super._getSubscriber(r)}get ready(){return P(this,zf)==null}getRpcTransaction(r){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Ds(Ue(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=he(r[s]))}),r.accessList&&(n.accessList=wi(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{let i=Sy(s);return{address:i.address,nonce:Ds(i.nonce),chainId:Ds(i.chainId),yParity:Ds(i.signature.yParity),r:Ds(i.signature.r),s:Ds(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ZE(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ZE(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[ZE(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ZE(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(ZE):r.filter.address=ZE(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){let{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){let c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Xt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return Xt("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){let c=Wte(i),l=dl.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return l.info={error:i,payload:r},l}let o=JSON.stringify(xbt(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Xt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){let c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Xt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Xt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Xt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Xt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Xt("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):Xt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(Xt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));let s=_p(this,YE)._++,i=new Promise((o,a)=>{P(this,Gm).push({resolve:o,reject:a,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return me(this,iP,qte).call(this),i}async getSigner(r){r==null&&(r=0);let n=this.send("eth_accounts",[]);if(typeof r=="number"){let i=await n;if(r>=i.length)throw new Error("no such account");return new Zm(this,i[r])}let{accounts:s}=await sn({network:this.getNetwork(),accounts:n});r=it(r);for(let i of s)if(it(i)===r)return new Zm(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Zm(this,n))}destroy(){P(this,wp)&&(clearTimeout(P(this,wp)),j(this,wp,null));for(let{payload:r,reject:n}of P(this,Gm))n(Xt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));j(this,Gm,[]),super.destroy()}};Y6=new WeakMap,YE=new WeakMap,Gm=new WeakMap,wp=new WeakMap,zf=new WeakMap,wu=new WeakMap,fc=new WeakMap,iP=new WeakSet,qte=function(){if(P(this,wp))return;let r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");j(this,wp,setTimeout(()=>{j(this,wp,null);let n=P(this,Gm);for(j(this,Gm,[]);n.length;){let s=[n.shift()];for(;n.length&&s.length!==P(this,Y6).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>P(this,Y6).batchMaxSize){n.unshift(s.pop());break}(async()=>{let i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(Xt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}let u=o.filter(f=>f.id===l.id)[0];if(u==null){let f=Xt("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of s)a(o)}})()}},r))};var Gy,sP=class extends Ym{constructor(r,n){super(r,n);Q(this,Gy);let s=this._getOption("pollingInterval");s==null&&(s=Rke.pollingInterval),j(this,Gy,s)}_getSubscriber(r){let n=super._getSubscriber(r);return Oke(n)&&(n.pollingInterval=P(this,Gy)),n}get pollingInterval(){return P(this,Gy)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");j(this,Gy,r),this._forEachSubscriber(n=>{Oke(n)&&(n.pollingInterval=P(this,Gy))})}};Gy=new WeakMap;var JE,_n=class extends sP{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);Q(this,JE);typeof r=="string"?j(this,JE,new Or(r)):j(this,JE,r.clone())}_getConnection(){return P(this,JE).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){let n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");let s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}};JE=new WeakMap;function Wte(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ht(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=Wte(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Wte(JSON.parse(t))}catch(e){}return null}function Kte(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)Kte(t[r],e);if(typeof t=="string")try{return Kte(JSON.parse(t),e)}catch(r){}}}function xbt(t){let e=[];return Kte(t,e),e}var p$="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function vbt(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}V(!1,"unsupported network","network",t)}var Zy=class t extends _n{constructor(r,n){r==null&&(r="mainnet");let s=er.from(r);n==null&&(n=p$);let i={polling:!0,staticNetwork:s},o=t.getRequest(s,n);super(o,s,i);Y(this,"apiKey");Se(this,{apiKey:n})}_getProvider(r){try{return new t(r,this.apiKey)}catch(n){}return super._getProvider(r)}static getRequest(r,n){n==null&&(n=p$);let s=new Or(`https://${vbt(r.name)}/${n}`);return s.allowGzip=!0,n===p$&&(s.retryFunc=async(i,o,a)=>(Ei("AnkrProvider"),!0)),s}getRpcError(r,n){return r.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(r,n)}isCommunityResource(){return this.apiKey===p$}};var h$="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function Ebt(t){switch(t){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}V(!1,"unsupported network","network",t)}var Yy=class t extends _n{constructor(r,n){r==null&&(r="mainnet");let s=er.from(r);n==null&&(n=h$);let i=t.getRequest(s,n);super(i,s,{staticNetwork:s});Y(this,"apiKey");Se(this,{apiKey:n})}_getProvider(r){try{return new t(r,this.apiKey)}catch(n){}return super._getProvider(r)}async _perform(r){if(r.method==="getTransactionResult"){let{trace:n,tx:s}=await sn({trace:this.send("trace_transaction",[r.hash]),tx:this.getTransaction(r.hash)});if(n==null||s==null)return null;let i,o=!1;try{i=n[0].result.output,o=n[0].error==="Reverted"}catch(a){}if(i)return se(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;se(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(r)}isCommunityResource(){return this.apiKey===h$}static getRequest(r,n){n==null&&(n=h$);let s=new Or(`https://${Ebt(r.name)}/v2/${n}`);return s.allowGzip=!0,n===h$&&(s.retryFunc=async(i,o,a)=>(Ei("alchemy"),!0)),s}};function m$(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}V(!1,"unsupported network","network",t)}function Abt(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}V(!1,"unsupported network","network",t)}var Jy=class t extends _n{constructor(r,n){r==null&&(r="mainnet");let s=er.from(r);n==null&&(n=m$(s.name));let i=t.getRequest(s,n);super(i,s,{staticNetwork:s});Y(this,"apiKey");Se(this,{apiKey:n})}_getProvider(r){try{return new t(r,this.apiKey)}catch(n){}return super._getProvider(r)}isCommunityResource(){return this.apiKey===m$(this._network.name)}static getRequest(r,n){n==null&&(n=m$(r.name));let s=new Or(`https://${Abt(r.name)}/${n}`);return s.allowGzip=!0,n===m$(r.name)&&(s.retryFunc=async(i,o,a)=>(Ei("ChainstackProvider"),!0)),s}};var Qy=class extends _n{constructor(e){e==null&&(e="mainnet");let r=er.from(e);V(r.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",r,{staticNetwork:r})}};var Cbt="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),kke=2e3;function Sbt(t){return t&&typeof t.then=="function"}var Bke="org.ethers.plugins.provider.Etherscan",XE=class t extends hu{constructor(r){super(Bke);Y(this,"baseUrl");Se(this,{baseUrl:r})}clone(){return new t(this.baseUrl)}},Ibt=["enableCcipRead"],Tbt=1,QE,Xy=class extends yl{constructor(r,n){let s=n!=null?n:null;super();Y(this,"network");Y(this,"apiKey");Q(this,QE);let i=er.from(r);V(Cbt.indexOf(`${i.chainId}`)>=0,"unsupported network","network",i),j(this,QE,i.getPlugin(Bke)),Se(this,{apiKey:s,network:i})}getBaseUrl(){if(P(this,QE))return P(this,QE).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}V(!1,"unsupported network","network",this.network)}getUrl(r,n){let s=Object.keys(n).reduce((i,o)=>{let a=n[o];return a!=null&&(i+=`&${o}=${a}`),i},"");return this.apiKey&&(s+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${r}${s}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(r,n){return n.module=r,n.apikey=this.apiKey,n.chainid=this.network.chainId,n}async detectNetwork(){return this.network}async fetch(r,n,s){let i=Tbt++,o=s?this.getPostUrl():this.getUrl(r,n),a=s?this.getPostData(r,n):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});let c=new Or(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(f,d,p)=>(this.isCommunityResource()&&Ei("Etherscan"),Promise.resolve(!0)),c.processFunc=async(f,d)=>{let p=d.hasBody()?JSON.parse(Ro(d.body)):{},h=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return r==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&h&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:p}),d.throwThrottleError(p.result,kke)):h&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:p.result}),d.throwThrottleError(p.result,kke)),d},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(f=>`${f}=${a[f]}`).join("&"));let l=await c.send();try{l.assertOk()}catch(f){this.emit("debug",{action:"receiveError",id:i,error:f,reason:"assertOk"}),se(!1,"response error","SERVER_ERROR",{request:c,response:l})}l.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),se(!1,"missing response","SERVER_ERROR",{request:c,response:l}));let u=JSON.parse(Ro(l.body));return r==="proxy"?(u.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:u,reason:"invalid JSON-RPC"}),se(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:l,info:{result:u}})),u.error&&(this.emit("debug",{action:"receiveError",id:i,result:u,reason:"JSON-RPC error"}),se(!1,"error response","SERVER_ERROR",{request:c,response:l,info:{result:u}})),this.emit("debug",{action:"receiveRequest",id:i,result:u}),u.result):u.status==0&&(u.message==="No records found"||u.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:u}),u.result):((u.status!=1||typeof u.message=="string"&&!u.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:u}),se(!1,"error response","SERVER_ERROR",{request:c,response:l,info:{result:u}})),this.emit("debug",{action:"receiveRequest",id:i,result:u}),u.result)}_getTransactionPostData(r){let n={};for(let s in r){if(Ibt.indexOf(s)>=0||r[s]==null)continue;let i=r[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=Ds(i);else if(s==="accessList")i="["+wi(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;se(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:r}})}else i=he(i);n[s]=i}}return n}_checkError(r,n,s){let i="";if(Ar(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch(o){}if(!i)try{i=n.info.message}catch(o){}}if(r.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&se(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.transaction}),(r.method==="call"||r.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=n.info.result.error.data}catch(c){}let a=dl.getBuiltinCallException(r.method,r.transaction,o);throw a.info={request:r,error:n},a}if(i&&r.method==="broadcastTransaction"){let o=cc.from(r.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&se(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&se(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&se(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw n}async _detectNetwork(){return this.network}async _perform(r){switch(r.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(n=>this._checkError(r,n,r.signedTransaction));case"getBlock":if("blockTag"in r)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});se(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.hash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(r.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(r,s,r.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(r.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(r,s,r.transaction)}}default:break}return super._perform(r)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(r){let n=this._getAddress(r);Sbt(n)&&(n=await n);try{let s=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(s);return new ma(n,i,this)}catch(s){return null}}isCommunityResource(){return this.apiKey==null}};QE=new WeakMap;function Pbt(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}var Uke=Pbt().WebSocket;var xp,oP,eb,J6,tb,Jm=class{constructor(e,r){Q(this,xp);Q(this,oP);Q(this,eb);Q(this,J6);Q(this,tb);j(this,xp,e),j(this,oP,JSON.stringify(r)),j(this,eb,null),j(this,J6,null),j(this,tb,null)}get filter(){return JSON.parse(P(this,oP))}start(){j(this,eb,P(this,xp).send("eth_subscribe",this.filter).then(e=>(P(this,xp)._register(e,this),e)))}stop(){P(this,eb).then(e=>{P(this,xp).destroyed||P(this,xp).send("eth_unsubscribe",[e])}),j(this,eb,null)}pause(e){se(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),j(this,J6,!!e)}resume(){j(this,J6,null)}_handleMessage(e){if(P(this,eb)!=null&&P(this,J6)===null){let r=P(this,tb);r==null?r=this._emit(P(this,xp),e):r=r.then(async()=>{await this._emit(P(this,xp),e)}),j(this,tb,r.then(()=>{P(this,tb)===r&&j(this,tb,null)}))}}async _emit(e,r){throw new Error("sub-classes must implemente this; _emit")}};xp=new WeakMap,oP=new WeakMap,eb=new WeakMap,J6=new WeakMap,tb=new WeakMap;var X6=class extends Jm{constructor(e){super(e,["newHeads"])}async _emit(e,r){e.emit("block",parseInt(r.number))}},e8=class extends Jm{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,r){e.emit("pending",r)}},aP,t8=class extends Jm{constructor(r,n){super(r,["logs",n]);Q(this,aP);j(this,aP,JSON.stringify(n))}get logFilter(){return JSON.parse(P(this,aP))}async _emit(r,n){r.emit(this.logFilter,r._wrapLog(n,r._network))}};aP=new WeakMap;var Q6,eA,rb,nb=class extends Ym{constructor(r,n){let s=Object.assign({},n!=null?n:{});V(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(r,s);Q(this,Q6);Q(this,eA);Q(this,rb);j(this,Q6,new Map),j(this,eA,new Map),j(this,rb,new Map)}_getSubscriber(r){switch(r.type){case"close":return new bu("close");case"block":return new X6(this);case"pending":return new e8(this);case"event":return new t8(this,r.filter);case"orphan":if(r.filter.orphan==="drop-log")return new bu("drop-log")}return super._getSubscriber(r)}_register(r,n){P(this,eA).set(r,n);let s=P(this,rb).get(r);if(s){for(let i of s)n._handleMessage(i);P(this,rb).delete(r)}}async _send(r){V(!Array.isArray(r),"WebSocket does not support batch send","payload",r);let n=new Promise((s,i)=>{P(this,Q6).set(r.id,{payload:r,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(r)),[await n]}async _processMessage(r){let n=JSON.parse(r);if(n&&typeof n=="object"&&"id"in n){let s=P(this,Q6).get(n.id);if(s==null){this.emit("error",Xt("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}P(this,Q6).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){let s=n.params.subscription,i=P(this,eA).get(s);if(i)i._handleMessage(n.params.result);else{let o=P(this,rb).get(s);o==null&&(o=[],P(this,rb).set(s,o)),o.push(n.params.result)}}else{this.emit("error",Xt("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(r){throw new Error("sub-classes must override this")}};Q6=new WeakMap,eA=new WeakMap,rb=new WeakMap;var r8,Vf,vp=class extends nb{constructor(r,n,s){super(n,s);Q(this,r8);Q(this,Vf);typeof r=="string"?(j(this,r8,()=>new Uke(r)),j(this,Vf,P(this,r8).call(this))):typeof r=="function"?(j(this,r8,r),j(this,Vf,r())):(j(this,r8,null),j(this,Vf,r)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(P(this,Vf)==null)throw new Error("websocket closed");return P(this,Vf)}async _write(r){this.websocket.send(r)}async destroy(){P(this,Vf)!=null&&(P(this,Vf).close(),j(this,Vf,null)),super.destroy()}};r8=new WeakMap,Vf=new WeakMap;var cP="84842078b09946638c03157f83405213";function _bt(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}V(!1,"unsupported network","network",t)}var n8=class extends vp{constructor(r,n){let s=new Qm(r,n),i=s._getConnection();se(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);Y(this,"projectId");Y(this,"projectSecret");Se(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===cP}},Qm=class t extends _n{constructor(r,n,s){r==null&&(r="mainnet");let i=er.from(r);n==null&&(n=cP),s==null&&(s=null);let o=t.getRequest(i,n,s);super(o,i,{staticNetwork:i});Y(this,"projectId");Y(this,"projectSecret");Se(this,{projectId:n,projectSecret:s})}_getProvider(r){try{return new t(r,this.projectId,this.projectSecret)}catch(n){}return super._getProvider(r)}isCommunityResource(){return this.projectId===cP}static getWebSocketProvider(r,n){return new n8(r,n)}static getRequest(r,n,s){n==null&&(n=cP),s==null&&(s=null);let i=new Or(`https://${_bt(r.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===cP&&(i.retryFunc=async(o,a,c)=>(Ei("InfuraProvider"),!0)),i}};var g$="919b412a057b5e9c9b6dce193c5a60242d6efadb";function Nbt(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}V(!1,"unsupported network","network",t)}var sb=class t extends _n{constructor(r,n){r==null&&(r="mainnet");let s=er.from(r);n==null&&(n=g$);let i=t.getRequest(s,n);super(i,s,{staticNetwork:s});Y(this,"token");Se(this,{token:n})}_getProvider(r){try{return new t(r,this.token)}catch(n){}return super._getProvider(r)}isCommunityResource(){return this.token===g$}static getRequest(r,n){n==null&&(n=g$);let s=new Or(`https://${Nbt(r.name)}/${n}`);return s.allowGzip=!0,n===g$&&(s.retryFunc=async(i,o,a)=>(Ei("QuickNodeProvider"),!0)),s}};var Obt=BigInt("1"),Rbt=BigInt("2");function kbt(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}}function Bbt(t){return new Promise(e=>{setTimeout(e,t)})}function Jte(){return new Date().getTime()}function Gte(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?{type:"bigint",value:r.toString()}:r)}var Dke={stallTimeout:400,priority:1,weight:1},Lke={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function Ubt(t,e){for(;(t.blockNumber<0||t.blockNumber<e)&&(t._updateNumber||(t._updateNumber=(async()=>{try{let r=await t.provider.getBlockNumber();r>t.blockNumber&&(t.blockNumber=r)}catch(r){t.blockNumber=-2,t._lastFatalError=r,t._lastFatalErrorTimestamp=Jte()}t._updateNumber=null})()),await t._updateNumber,t.outOfSync++,!t._lastFatalError););}function tA(t){if(t==null)return"null";if(Array.isArray(t))return"["+t.map(tA).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return tA(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${tA(t[r])}`).join(",")+"}"}}throw console.log("Could not serialize",t),new Error("Hmm...")}function Zte(t,e){if("error"in e){let n=e.error,s;return Ar(n,"CALL_EXCEPTION")?s=tA(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):s=tA(n),{tag:s,value:n}}let r=e.result;return{tag:tA(r),value:r}}function y$(t,e){let r=new Map;for(let{value:s,tag:i,weight:o}of e){let a=r.get(i)||{value:s,weight:0};a.weight+=o,r.set(i,a)}let n=null;for(let s of r.values())s.weight>=t&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function Qte(t,e){let r=0,n=new Map,s=null,i=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=n.get(c)||{value:a,weight:0};u.weight+=l,n.set(c,u),(s==null||u.weight>s.weight)&&(s=u)}else i.push(BigInt(a)),r+=l;if(r<t)return s&&s.weight>=t?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+Obt)/Rbt}function Yte(t,e){let r=y$(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}function Dbt(t,e){if(t===1)return Xe(Qte(t,e),"%internal");let r=new Map,n=(o,a)=>{let c=r.get(o)||{result:o,weight:0};c.weight+=a,r.set(o,c)};for(let{weight:o,value:a}of e){let c=Xe(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(let{weight:o,result:a}of r.values())o>=t&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var dc,Xm,rA,pc,Mke,Xte,$ke,Hke,ere,ib=class extends yl{constructor(r,n,s){super(n,s);Q(this,pc);Y(this,"quorum");Y(this,"eventQuorum");Y(this,"eventWorkers");Q(this,dc);Q(this,Xm);Q(this,rA);j(this,dc,r.map(i=>i instanceof yl?Object.assign({provider:i},Dke,Lke):Object.assign({},Dke,i,Lke))),j(this,Xm,-2),j(this,rA,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(P(this,dc).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,V(this.quorum<=P(this,dc).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return P(this,dc).map(r=>{let n=Object.assign({},r);for(let s in n)s[0]==="_"&&delete n[s];return n})}async _detectNetwork(){return er.from(Ue(await this._perform({method:"chainId"})))}async _translatePerform(r,n){switch(n.method){case"broadcastTransaction":return await r.broadcastTransaction(n.signedTransaction);case"call":return await r.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await r.getNetwork()).chainId;case"estimateGas":return await r.estimateGas(n.transaction);case"getBalance":return await r.getBalance(n.address,n.blockTag);case"getBlock":{let s="blockHash"in n?n.blockHash:n.blockTag;return await r.getBlock(s,n.includeTransactions)}case"getBlockNumber":return await r.getBlockNumber();case"getCode":return await r.getCode(n.address,n.blockTag);case"getGasPrice":return(await r.getFeeData()).gasPrice;case"getPriorityFee":return(await r.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await r.getLogs(n.filter);case"getStorage":return await r.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await r.getTransaction(n.hash);case"getTransactionCount":return await r.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await r.getTransactionReceipt(n.hash);case"getTransactionResult":return await r.getTransactionResult(n.hash)}}async _perform(r){if(r.method==="broadcastTransaction"){let o=P(this,dc).map(l=>null),a=P(this,dc).map(async({provider:l,weight:u},f)=>{try{let d=await l._perform(r);o[f]=Object.assign(Zte(r.method,{result:d}),{weight:u})}catch(d){o[f]=Object.assign(Zte(r.method,{error:d}),{weight:u})}});for(;;){let l=o.filter(d=>d!=null);for(let{value:d}of l)if(!(d instanceof Error))return d;let u=y$(this.quorum,o.filter(d=>d!=null));if(Ar(u,"INSUFFICIENT_FUNDS"))throw u;let f=a.filter((d,p)=>o[p]==null);if(f.length===0)break;await Promise.race(f)}let c=Yte(this.quorum,o);if(se(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:r,results:o.map(Gte)}}),c instanceof Error)throw c;return c}await me(this,pc,$ke).call(this);let n=new Set,s=0;for(;;){let o=me(this,pc,Xte).call(this,n,r);if(o==null||(s+=o.config.weight,s>=this.quorum))break}let i=await me(this,pc,ere).call(this,n,r);for(let o of n)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:r}of P(this,dc))r.destroy();super.destroy()}};dc=new WeakMap,Xm=new WeakMap,rA=new WeakMap,pc=new WeakSet,Mke=function(r){let n=Array.from(r).map(i=>i.config),s=P(this,dc).slice();kbt(s),s.sort((i,o)=>i.priority-o.priority);for(let i of s)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},Xte=function(r,n){let s=me(this,pc,Mke).call(this,r);if(s==null)return null;let i={config:s,result:null,didBump:!1,perform:null,staller:null},o=Jte();return i.perform=(async()=>{try{s.requests++;let c=await this._translatePerform(s.provider,n);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}let a=Jte()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await Bbt(s.stallTimeout),i.staller=null})(),r.add(i),i},$ke=async function(){let r=P(this,rA);if(!r){let n=[];P(this,dc).forEach(s=>{n.push((async()=>{await Ubt(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),j(this,rA,r=(async()=>{await Promise.all(n);let s=null;for(let i of P(this,dc)){if(i._lastFatalError)continue;let o=i._network;s==null?s=o.chainId:o.chainId!==s&&se(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await r},Hke=async function(r,n){let s=[];for(let i of r)if(i.result!=null){let{tag:o,value:a}=Zte(n.method,i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{P(this,Xm)===-2&&j(this,Xm,Math.ceil(Xe(Qte(this.quorum,P(this,dc).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:Xe(o.blockNumber).toString(),weight:o.weight}))))));let i=Dbt(this.quorum,s);return i===void 0?void 0:(i>P(this,Xm)&&j(this,Xm,i),P(this,Xm))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return Qte(this.quorum,s);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?Yte(this.quorum,s):y$(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return y$(this.quorum,s);case"broadcastTransaction":return Yte(this.quorum,s)}se(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${Gte(n.method)})`})}},ere=async function(r,n){if(r.size===0)throw new Error("no runners?!");let s=[],i=0;for(let a of r){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}let o=await me(this,pc,Hke).call(this,r,n);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)me(this,pc,Xte).call(this,r,n);return se(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(r).map(a=>Gte(a.result))}}),await Promise.race(s),await me(this,pc,ere).call(this,r,n)};function Lbt(t){return t&&typeof t.send=="function"&&typeof t.close=="function"}var Mbt="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function b$(t,e){e==null&&(e={});let r=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof t=="string"&&t.match(/^https?:/))return new _n(t);if(typeof t=="string"&&t.match(/^wss?:/)||Lbt(t))return new vp(t);let n=null;try{n=er.from(t)}catch(o){}let s=[];if(r("publicPolygon")&&n&&(n.name==="matic"?s.push(new _n("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new _n("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),r("alchemy"))try{s.push(new Yy(t,e.alchemy))}catch(o){}if(r("ankr")&&e.ankr!=null)try{s.push(new Zy(t,e.ankr))}catch(o){}if(r("chainstack"))try{s.push(new Jy(t,e.chainstack))}catch(o){}if(r("cloudflare"))try{s.push(new Qy(t))}catch(o){}if(r("etherscan"))try{s.push(new Xy(t,e.etherscan))}catch(o){}if(r("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new Qm(t,o,a))}catch(o){}if(r("quicknode"))try{let o=e.quicknode;s.push(new sb(t,o))}catch(o){}if(se(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&Mbt.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new ib(s,void 0,{quorum:i})}var ob,s8,tre=class tre extends bl{constructor(r){super(r.provider);Y(this,"signer");Q(this,ob);Q(this,s8);Se(this,{signer:r}),j(this,ob,null),j(this,s8,0)}async getAddress(){return this.signer.getAddress()}connect(r){return new tre(this.signer.connect(r))}async getNonce(r){if(r==="pending"){P(this,ob)==null&&j(this,ob,super.getNonce("pending"));let n=P(this,s8);return await P(this,ob)+n}return super.getNonce(r)}increment(){_p(this,s8)._++}reset(){j(this,s8,0),j(this,ob,null)}async sendTransaction(r){let n=this.getNonce("pending");return this.increment(),r=await this.signer.populateTransaction(r),r.nonce=await n,await this.signer.sendTransaction(r)}signTransaction(r){return this.signer.signTransaction(r)}signMessage(r){return this.signer.signMessage(r)}signTypedData(r,n,s){return this.signer.signTypedData(r,n,s)}};ob=new WeakMap,s8=new WeakMap;var nA=tre;var sA,iA,i8=class i8 extends sP{constructor(r,n,s){let i=Object.assign({},s!=null?s:{},{batchMaxCount:1});V(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);Q(this,sA);Q(this,iA);j(this,iA,null),s&&s.providerInfo&&j(this,iA,s.providerInfo),j(this,sA,async(o,a)=>{let c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{let l=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){let u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return P(this,iA)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){V(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{let n=await P(this,sA).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);let n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await P(this,sA).call(this,"eth_requestAccounts",[])}catch(n){let s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new i8(r.provider);let n=r.window?r.window:typeof window!="undefined"?window:null;if(n==null)return null;let s=r.anyProvider;if(s&&n.ethereum)return new i8(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let i=r.timeout?r.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[],l=d=>{c.push(d.detail),s&&u()},u=()=>{if(clearTimeout(f),c.length)if(r&&r.filter){let d=r.filter(c.map(p=>Object.assign({},p.info)));if(d==null)o(null);else if(d instanceof i8)o(d);else{let p=null;if(d.uuid&&(p=c.filter(m=>d.uuid===m.info.uuid)[0]),p){let{provider:h,info:m}=p;o(new i8(h,void 0,{providerInfo:m}))}else a(Xt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:p}=c[0];o(new i8(d,void 0,{providerInfo:p}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},f=setTimeout(()=>{u()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};sA=new WeakMap,iA=new WeakMap;var oA=i8;function $bt(t){switch(t){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}V(!1,"unsupported network","network",t)}var aA=class t extends _n{constructor(r,n){r==null&&(r="mainnet");let s=er.from(r);n==null&&(n=null);let i=t.getRequest(s);super(i,s,{staticNetwork:s});Y(this,"apiKey");Se(this,{apiKey:n})}_getProvider(r){try{return new t(r,this.apiKey)}catch(n){}return super._getProvider(r)}isCommunityResource(){return this.apiKey===null}getRpcRequest(r){let n=super.getRpcRequest(r);return n&&n.method==="eth_estimateGas"&&n.args.length==1&&(n.args=n.args.slice(),n.args.push("latest")),n}getRpcError(r,n){let s=n?n.error:null;if(s&&s.code===-32015&&!Ht(s.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";s.message==="VM execution error."?o=i[s.data]||"":i[s.message||""]&&(o=i[s.message||""]),o&&(s.message+=` (reverted: ${s.data})`,s.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else s&&s.code===-32e3&&s.message==="wrong transaction nonce"&&(s.message+=" (nonce too low)");return super.getRpcError(r,n)}static getRequest(r){let n=new Or($bt(r.name));return n.allowGzip=!0,n}};var w$="62e1ad51b37b8e00394bda3b";function Hbt(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}V(!1,"unsupported network","network",t)}var cA=class t extends _n{constructor(r,n,s){r==null&&(r="mainnet");let i=er.from(r);n==null&&(n=w$),s==null&&(s=null);let o={staticNetwork:i},a=t.getRequest(i,n,s);super(a,i,o);Y(this,"applicationId");Y(this,"applicationSecret");Se(this,{applicationId:n,applicationSecret:s})}_getProvider(r){try{return new t(r,this.applicationId,this.applicationSecret)}catch(n){}return super._getProvider(r)}static getRequest(r,n,s){n==null&&(n=w$);let i=new Or(`https://${Hbt(r.name)}/v1/lb/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===w$&&(i.retryFunc=async(o,a,c)=>(Ei("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===w$}};var x$=void 0;var lA,rre=class rre extends bl{constructor(r,n){super(n);Y(this,"address");Q(this,lA);V(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),j(this,lA,r);let s=uu(this.signingKey.publicKey);Se(this,{address:s})}get signingKey(){return P(this,lA)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new rre(P(this,lA),r)}async signTransaction(r){r=pl(r);let{to:n,from:s}=await sn({to:r.to?yn(r.to,this):void 0,from:r.from?yn(r.from,this):void 0});n!=null&&(r.to=n),s!=null&&(r.from=s),r.from!=null&&(V(it(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);let i=cc.from(r);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(O6(r)).serialized}authorizeSync(r){V(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);let n=this.signingKey.sign(P6(r));return Object.assign({},{address:it(r.address),nonce:Ue(r.nonce||0),chainId:Ue(r.chainId||0)},{signature:n})}async authorize(r){return r=Object.assign({},r,{address:await yn(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,n,s){let i=await fl.resolveNames(r,n,s,async o=>{se(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let a=await this.provider.resolveName(o);return se(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(fl.hash(i.domain,n,i.value)).serialized}};lA=new WeakMap;var Ep=rre;var v$=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Fbt=/^[a-z]*$/i;function Fke(t,e){let r=97;return t.reduce((n,s)=>(s===e?r++:s.match(Fbt)?n.push(String.fromCharCode(r)+s):(r=97,n.push(s)),n),[])}function zbt(t,e){for(let s=v$.length-1;s>=0;s--)t=t.split(v$[s]).join(e.substring(2*s,2*s+2));let r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)r.push(";");else r.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return Fke(Fke(r,";"),":")}function E$(t){return V(t[0]==="0","unsupported auwl data","data",t),zbt(t.substring(1+2*v$.length),t.substring(1,1+2*v$.length))}var ab=class{constructor(e){Y(this,"locale");Se(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var uA,lP,o8,uP,nre,Ap=class extends ab{constructor(r,n,s){super(r);Q(this,uP);Q(this,uA);Q(this,lP);Q(this,o8);j(this,uA,n),j(this,lP,s),j(this,o8,null)}get _data(){return P(this,uA)}_decodeWords(){return E$(P(this,uA))}getWord(r){let n=me(this,uP,nre).call(this);return V(r>=0&&r<n.length,`invalid word index: ${r}`,"index",r),n[r]}getWordIndex(r){return me(this,uP,nre).call(this).indexOf(r)}};uA=new WeakMap,lP=new WeakMap,o8=new WeakMap,uP=new WeakSet,nre=function(){if(P(this,o8)==null){let r=this._decodeWords();if(vi(r.join(`
`)+`
`)!==P(this,lP))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);j(this,o8,r)}return P(this,o8)};var Vbt="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",jbt="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",sre=null,ya=class t extends Ap{constructor(){super("en",Vbt,jbt)}static wordlist(){return sre==null&&(sre=new t),sre}};function zke(t){return(1<<t)-1<<8-t&255}function qbt(t){return(1<<t)-1&255}function ire(t,e){iy("NFKD"),e==null&&(e=ya.wordlist());let r=e.split(t);V(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),s=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));V(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}let i=32*r.length/3,o=r.length/3,a=zke(o),c=xe(as(n.slice(0,i/8)))[0]&a;return V(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),he(n.slice(0,i/8))}function ore(t,e){V(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=ya.wordlist());let r=[0],n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&qbt(8-n)),n+=3);let s=t.length/4,i=parseInt(as(t).substring(2,4),16)&zke(s);return r[r.length-1]<<=s,r[r.length-1]|=i>>8-s,e.join(r.map(o=>e.getWord(o)))}var are={},jf=class t{constructor(e,r,n,s,i){Y(this,"phrase");Y(this,"password");Y(this,"wordlist");Y(this,"entropy");s==null&&(s=""),i==null&&(i=ya.wordlist()),gi(e,are,"Mnemonic"),Se(this,{phrase:n,password:s,wordlist:i,entropy:r})}computeSeed(){let e=Nr("mnemonic"+this.password,"NFKD");return Bo(Nr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){let s=ire(e,n);return e=ore(xe(s),n),new t(are,s,e,r,n)}static fromEntropy(e,r,n){let s=xe(e,"entropy"),i=ore(s,n);return new t(are,he(s),i,r,n)}static entropyToPhrase(e,r){let n=xe(e,"entropy");return ore(n,r)}static phraseToEntropy(e,r){return ire(e,r)}static isValidMnemonic(e,r){try{return ire(e,r),!0}catch(n){}return!1}};var qi=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},cre=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},C$,vu,Cp,Wbt={16:10,24:12,32:14},Kbt=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],xu=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],A$=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Gbt=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Zbt=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Ybt=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Jbt=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Qbt=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Xbt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ewt=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],twt=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],rwt=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],nwt=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],swt=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],iwt=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function lre(t){let e=[];for(let r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var fP=class t{get key(){return qi(this,C$,"f").slice()}constructor(e){if(C$.set(this,void 0),vu.set(this,void 0),Cp.set(this,void 0),!(this instanceof t))throw Error("AES must be instanitated with `new`");cre(this,C$,new Uint8Array(e),"f");let r=Wbt[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");cre(this,Cp,[],"f"),cre(this,vu,[],"f");for(let u=0;u<=r;u++)qi(this,Cp,"f").push([0,0,0,0]),qi(this,vu,"f").push([0,0,0,0]);let n=(r+1)*4,s=this.key.length/4,i=lre(this.key),o;for(let u=0;u<s;u++)o=u>>2,qi(this,Cp,"f")[o][u%4]=i[u],qi(this,vu,"f")[r-o][u%4]=i[u];let a=0,c=s,l;for(;c<n;){if(l=i[s-1],i[0]^=xu[l>>16&255]<<24^xu[l>>8&255]<<16^xu[l&255]<<8^xu[l>>24&255]^Kbt[a]<<24,a+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];l=i[s/2-1],i[s/2]^=xu[l&255]^xu[l>>8&255]<<8^xu[l>>16&255]<<16^xu[l>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let u=0,f,d;for(;u<s&&c<n;)f=c>>2,d=c%4,qi(this,Cp,"f")[f][d]=i[u],qi(this,vu,"f")[r-f][d]=i[u++],c++}for(let u=1;u<r;u++)for(let f=0;f<4;f++)l=qi(this,vu,"f")[u][f],qi(this,vu,"f")[u][f]=rwt[l>>24&255]^nwt[l>>16&255]^swt[l>>8&255]^iwt[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let r=qi(this,Cp,"f").length-1,n=[0,0,0,0],s=lre(e);for(let a=0;a<4;a++)s[a]^=qi(this,Cp,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=Gbt[s[c]>>24&255]^Zbt[s[(c+1)%4]>>16&255]^Ybt[s[(c+2)%4]>>8&255]^Jbt[s[(c+3)%4]&255]^qi(this,Cp,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=qi(this,Cp,"f")[r][a],i[4*a]=(xu[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(xu[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(xu[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(xu[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let r=qi(this,vu,"f").length-1,n=[0,0,0,0],s=lre(e);for(let a=0;a<4;a++)s[a]^=qi(this,vu,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=Qbt[s[c]>>24&255]^Xbt[s[(c+3)%4]>>16&255]^ewt[s[(c+2)%4]>>8&255]^twt[s[(c+1)%4]&255]^qi(this,vu,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=qi(this,vu,"f")[r][a],i[4*a]=(A$[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(A$[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(A$[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(A$[s[(a+1)%4]&255]^o)&255;return i}};C$=new WeakMap,vu=new WeakMap,Cp=new WeakMap;var Sp=class{constructor(e,r,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new fP(r)},name:{enumerable:!0,value:e}})}};var S$=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},fA=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},dP,e1,pP=class t extends Sp{constructor(e,r){if(super("ECC",e,t),dP.set(this,void 0),e1.set(this,void 0),r){if(r.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");S$(this,dP,new Uint8Array(r),"f")}else S$(this,dP,new Uint8Array(16),"f");S$(this,e1,this.iv,"f")}get iv(){return new Uint8Array(fA(this,dP,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)fA(this,e1,"f")[s]^=e[n+s];S$(this,e1,this.aes.encrypt(fA(this,e1,"f")),"f"),r.set(fA(this,e1,"f"),n)}return r}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)r[n+i]=s[i]^fA(this,e1,"f")[i],fA(this,e1,"f")[i]=e[n+i]}return r}};dP=new WeakMap,e1=new WeakMap;var ure=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},owt,awt,I$,cwt;awt=new WeakMap,I$=new WeakMap,owt=new WeakSet,cwt=function(e){let r=this.segmentSize/8;ure(this,I$,"f").set(ure(this,I$,"f").subarray(r)),ure(this,I$,"f").set(e.subarray(0,r),16-r)};var dA=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Eu=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},hP,a8,Au,cb=class t extends Sp{constructor(e,r){super("CTR",e,t),hP.set(this,void 0),a8.set(this,void 0),Au.set(this,void 0),dA(this,Au,new Uint8Array(16),"f"),Eu(this,Au,"f").fill(0),dA(this,hP,Eu(this,Au,"f"),"f"),dA(this,a8,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Eu(this,Au,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Eu(this,Au,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Eu(this,Au,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Eu(this,Au,"f")[e]===255)Eu(this,Au,"f")[e]=0;else{Eu(this,Au,"f")[e]++;break}}encrypt(e){var r,n;let s=new Uint8Array(e);for(let i=0;i<s.length;i++)Eu(this,a8,"f")===16&&(dA(this,hP,this.aes.encrypt(Eu(this,Au,"f")),"f"),dA(this,a8,0,"f"),this.increment()),s[i]^=Eu(this,hP,"f")[dA(this,a8,(n=Eu(this,a8,"f"),r=n++,n),"f"),r];return s}decrypt(e){return this.encrypt(e)}};hP=new WeakMap,a8=new WeakMap,Au=new WeakMap;var lwt,uwt,fwt;lwt=new WeakMap,uwt=new WeakMap,fwt=new WeakMap;function fre(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");let e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let r=t.length-e;for(let n=0;n<e;n++)if(t[r+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,r))}function dre(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),gn(t)}function pA(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function c8(t){return typeof t=="string"?Nr(t,"NFKC"):gn(t)}function Xn(t,e){let r=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);V(r!=null,"invalid path","path",e);let n=r[1],s=r[3],i=r[4]==="!",o=t;for(let a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let l in o)if(l.toLowerCase()===a){c=o[l];break}o=c}else o=null;if(o==null)break}if(V(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return dre(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;V(!1,`wrong type found for ${s} `,"path",n)}return o}var jke="m/44'/60'/0'/0/0";function l8(t){try{let e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch(e){}return!1}function dwt(t,e,r){if(Xn(t,"crypto.cipher:string")==="aes-128-ctr"){let s=Xn(t,"crypto.cipherparams.iv:data!"),i=new cb(e,s);return he(i.decrypt(r))}se(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function T$(t,e){let r=xe(e),n=Xn(t,"crypto.ciphertext:data!"),s=he(Mt(gt([r.slice(16,32),n]))).substring(2);V(s===Xn(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=dwt(t,r.slice(0,16),n),o=uu(i);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),V(it(l)===o,"keystore address/privateKey mismatch","address",t.address)}let a={address:o,privateKey:i};if(Xn(t,"x-ethers.version:string")==="0.1"){let l=r.slice(32,64),u=Xn(t,"x-ethers.mnemonicCiphertext:data!"),f=Xn(t,"x-ethers.mnemonicCounter:data!"),d=new cb(l,f);a.mnemonic={path:Xn(t,"x-ethers.path:string")||jke,locale:Xn(t,"x-ethers.locale:string")||"en",entropy:he(xe(d.decrypt(u)))}}return a}function qke(t){let e=Xn(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let r=Xn(t,"crypto.kdfparams.salt:data!"),n=Xn(t,"crypto.kdfparams.n:int!"),s=Xn(t,"crypto.kdfparams.r:int!"),i=Xn(t,"crypto.kdfparams.p:int!");V(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),V(s>0&&i>0,"invalid kdf","kdf",e);let o=Xn(t,"crypto.kdfparams.dklen:int!");return V(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let r=Xn(t,"crypto.kdfparams.salt:data!"),n=Xn(t,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();V(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let i=Xn(t,"crypto.kdfparams.c:int!"),o=Xn(t,"crypto.kdfparams.dklen:int!");return V(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:r,count:i,dkLen:o,algorithm:s}}}V(!1,"unsupported key-derivation function","kdf",e)}function hA(t,e){let r=JSON.parse(t),n=c8(e),s=qke(r);if(s.name==="pbkdf2"){let{salt:f,count:d,dkLen:p,algorithm:h}=s,m=Bo(n,f,d,p,h);return T$(r,m)}se(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:l}=s,u=ou(n,i,o,a,c,l);return T$(r,u)}function Vke(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function mA(t,e,r){let n=JSON.parse(t),s=c8(e),i=qke(n);if(i.name==="pbkdf2"){r&&(r(0),await Vke(0));let{salt:d,count:p,dkLen:h,algorithm:m}=i,g=Bo(s,d,p,h,m);return r&&(r(1),await Vke(0)),T$(n,g)}se(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:l,dkLen:u}=i,f=await iu(s,o,a,c,l,u,r);return T$(n,f)}function Wke(t){let e=t.salt!=null?xe(t.salt,"options.salt"):zi(32),r=1<<17,n=8,s=1;return t.scrypt&&(t.scrypt.N&&(r=t.scrypt.N),t.scrypt.r&&(n=t.scrypt.r),t.scrypt.p&&(s=t.scrypt.p)),V(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),V(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),V(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:n,p:s}}function Kke(t,e,r,n){let s=xe(r.privateKey,"privateKey"),i=n.iv!=null?xe(n.iv,"options.iv"):zi(16);V(i.length===16,"invalid options.iv length","options.iv",n.iv);let o=n.uuid!=null?xe(n.uuid,"options.uuid"):zi(16);V(o.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=t.slice(0,16),c=t.slice(16,32),l=new cb(a,i),u=xe(l.encrypt(s)),f=Mt(gt([c,u])),d={address:r.address.substring(2).toLowerCase(),id:Gv(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:he(i).substring(2)},ciphertext:he(u).substring(2),kdf:"scrypt",kdfparams:{salt:he(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(r.mnemonic){let p=n.client!=null?n.client:`ethers/${Xx}`,h=r.mnemonic.path||jke,m=r.mnemonic.locale||"en",g=t.slice(32,64),b=xe(r.mnemonic.entropy,"account.mnemonic.entropy"),E=zi(16),w=new cb(g,E),x=xe(w.encrypt(b)),C=new Date,U="UTC--"+(C.getUTCFullYear()+"-"+pA(C.getUTCMonth()+1,2)+"-"+pA(C.getUTCDate(),2)+"T"+pA(C.getUTCHours(),2)+"-"+pA(C.getUTCMinutes(),2)+"-"+pA(C.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:p,gethFilename:U,path:h,locale:m,mnemonicCounter:he(E).substring(2),mnemonicCiphertext:he(x).substring(2),version:"0.1"}}return JSON.stringify(d)}function lb(t,e,r){r==null&&(r={});let n=c8(e),s=Wke(r),i=ou(n,s.salt,s.N,s.r,s.p,64);return Kke(xe(i),s,t,r)}async function ub(t,e,r){r==null&&(r={});let n=c8(e),s=Wke(r),i=await iu(n,s.salt,s.N,s.r,s.p,64,r.progressCallback);return Kke(xe(i),s,t,r)}var f8="m/44'/60'/0'/0/0",pwt=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Tp=2147483648,hwt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mwt="0123456789abcdef";function P$(t,e){let r="";for(;t;)r=mwt[t%16]+r,t=Math.trunc(t/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function pre(t){let e=xe(t),r=br(as(as(e)),0,4),n=gt([e,r]);return ay(n)}var Ip={};function Gke(t,e,r,n){let s=new Uint8Array(37);t&Tp?(se(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(xe(n),1)):s.set(xe(r));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=t>>24-o&255;let i=xe(nu("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function Zke(t,e){let r=e.split("/");V(r.length>0,"invalid path","path",e),r[0]==="m"&&(V(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),r.shift());let n=t;for(let s=0;s<r.length;s++){let i=r[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));V(o<Tp,"invalid path index",`path[${s}]`,i),n=n.deriveChild(Tp+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);V(o<Tp,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else V(!1,"invalid path component",`path[${s}]`,i)}return n}var gP,hre,u8,mP,qf=class qf extends Ep{constructor(r,n,s,i,o,a,c,l,u){super(n,u);Q(this,gP);Y(this,"publicKey");Y(this,"fingerprint");Y(this,"parentFingerprint");Y(this,"mnemonic");Y(this,"chainCode");Y(this,"path");Y(this,"index");Y(this,"depth");gi(r,Ip,"HDNodeWallet"),Se(this,{publicKey:n.compressedPublicKey});let f=br(su(as(this.publicKey)),0,4);Se(this,{parentFingerprint:s,fingerprint:f,chainCode:i,path:o,index:a,depth:c}),Se(this,{mnemonic:l})}connect(r){return new qf(Ip,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,n){return await ub(me(this,gP,hre).call(this),r,{progressCallback:n})}encryptSync(r){return lb(me(this,gP,hre).call(this),r)}get extendedKey(){return se(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),pre(gt(["0x0488ADE4",P$(this.depth,1),this.parentFingerprint,P$(this.index,4),this.chainCode,gt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new fb(Ip,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){let n=Xe(r,"index");V(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Tp),n&Tp&&(s+="'"));let{IR:i,IL:o}=Gke(n,this.chainCode,this.publicKey,this.privateKey),a=new bi(Zs((il(o)+BigInt(this.privateKey))%hwt,32));return new qf(Ip,a,this.fingerprint,he(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return Zke(this,r)}static fromExtendedKey(r){let n=ur(Dv(r));V(n.length===82||pre(n.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");let s=n[4],i=he(n.slice(5,9)),o=parseInt(he(n.slice(9,13)).substring(2),16),a=he(n.slice(13,45)),c=n.slice(45,78);switch(he(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let l=he(c);return new fb(Ip,uu(l),l,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new qf(Ip,new bi(c.slice(1)),i,a,null,o,s,null,null)}V(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,n,s){var o;r==null&&(r=""),n==null&&(n=f8),s==null&&(s=ya.wordlist());let i=jf.fromEntropy(zi(16),r,s);return me(o=qf,u8,mP).call(o,i.computeSeed(),i).derivePath(n)}static fromMnemonic(r,n){var s;return n||(n=f8),me(s=qf,u8,mP).call(s,r.computeSeed(),r).derivePath(n)}static fromPhrase(r,n,s,i){var a;n==null&&(n=""),s==null&&(s=f8),i==null&&(i=ya.wordlist());let o=jf.fromPhrase(r,n,i);return me(a=qf,u8,mP).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(r){var n;return me(n=qf,u8,mP).call(n,r,null)}};gP=new WeakSet,hre=function(){let r={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),r},u8=new WeakSet,mP=function(r,n){V(eu(r),"invalid seed","seed","[REDACTED]");let s=xe(r,"seed");V(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");let i=xe(nu("sha512",pwt,s)),o=new bi(he(i.slice(0,32)));return new qf(Ip,o,"0x00000000",he(i.slice(32)),"m",0,0,n,null)},Q(qf,u8);var Pp=qf,fb=class t extends qy{constructor(r,n,s,i,o,a,c,l,u){super(n,u);Y(this,"publicKey");Y(this,"fingerprint");Y(this,"parentFingerprint");Y(this,"chainCode");Y(this,"path");Y(this,"index");Y(this,"depth");gi(r,Ip,"HDNodeVoidWallet"),Se(this,{publicKey:s});let f=br(su(as(s)),0,4);Se(this,{publicKey:s,fingerprint:f,parentFingerprint:i,chainCode:o,path:a,index:c,depth:l})}connect(r){return new t(Ip,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return se(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),pre(gt(["0x0488B21E",P$(this.depth,1),this.parentFingerprint,P$(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){let n=Xe(r,"index");V(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Tp),n&Tp&&(s+="'"));let{IR:i,IL:o}=Gke(n,this.chainCode,this.publicKey,null),a=bi.addPoints(o,this.publicKey,!0),c=uu(a);return new t(Ip,c,a,this.fingerprint,he(i),s,n,this.depth+1,this.provider)}derivePath(r){return Zke(this,r)}};function _$(t){let e=Xe(t,"index");return V(e>=0&&e<Tp,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function N$(t){let e=Xe(t,"index");return V(e>=0&&e<Tp,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function d8(t){try{if(JSON.parse(t).encseed)return!0}catch(e){}return!1}function p8(t,e){let r=JSON.parse(t),n=c8(e),s=it(Xn(r,"ethaddr:string!")),i=dre(Xn(r,"encseed:string!"));V(i&&i.length%16===0,"invalid encseed","json",t);let o=xe(Bo(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new pP(o,a),u=fre(xe(l.decrypt(c))),f="";for(let d=0;d<u.length;d++)f+=String.fromCharCode(u[d]);return{address:s,privateKey:vi(f)}}function Yke(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var yP,mre,h8=class h8 extends Ep{constructor(e,r){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new bi(e):e;super(n,r)}connect(e){return new h8(this.signingKey,e)}async encrypt(e,r){let n={address:this.address,privateKey:this.privateKey};return await ub(n,e,{progressCallback:r})}encryptSync(e){let r={address:this.address,privateKey:this.privateKey};return lb(r,e)}static async fromEncryptedJson(e,r,n){var i;let s=null;return l8(e)?s=await mA(e,r,n):d8(e)&&(n&&(n(0),await Yke(0)),s=p8(e,r),n&&(n(1),await Yke(0))),me(i=h8,yP,mre).call(i,s)}static fromEncryptedJsonSync(e,r){var s;let n=null;return l8(e)?n=hA(e,r):d8(e)?n=p8(e,r):V(!1,"invalid JSON wallet","json","[ REDACTED ]"),me(s=h8,yP,mre).call(s,n)}static createRandom(e){let r=Pp.createRandom();return e?r.connect(e):r}static fromPhrase(e,r){let n=Pp.fromPhrase(e);return r?n.connect(r):n}};yP=new WeakSet,mre=function(e){if(V(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=jf.fromEntropy(e.mnemonic.entropy),s=Pp.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let r=new h8(e.privateKey);return V(r.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),r},Q(h8,yP);var gA=h8;var gwt=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function Jke(t,e){let r=(1<<t)-1,n=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|gwt.indexOf(e[a]),i+=6;i>=t;){let c=s>>i-t;s&=(1<<i-t)-1,i-=t,c===0?o+=r:(n.push(c+o),o=0)}return n}function Qke(t,e){let r=E$(t).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);V(s!==null,"internal error parsing accents","accents",e);let i=0,o=Jke(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");r=r.replace(c,(l,u)=>(--o[i]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),i++),u))}),r.split(",")}var bP,yA=class extends Ap{constructor(r,n,s,i){super(r,n,i);Q(this,bP);j(this,bP,s)}get _accent(){return P(this,bP)}_decodeWords(){return Qke(this._data,this._accent)}};bP=new WeakMap;var O$={en:ya.wordlist()};window.EthereumProvider=lNe;window.ethers=yre;console.log("\u2705 WalletConnect + ethers bundle initialized");})();
/*! Bundled license information:

tslib/tslib.es6.js:
tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/utils/dist/index.js:
@walletconnect/utils/dist/index.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@lit/reactive-element/css-tag.js:
@lit/reactive-element/css-tag.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
lit-html/lit-html.js:
lit-element/lit-element.js:
@lit/reactive-element/decorators/custom-element.js:
@lit/reactive-element/decorators/property.js:
@lit/reactive-element/decorators/state.js:
@lit/reactive-element/decorators/event-options.js:
@lit/reactive-element/decorators/base.js:
@lit/reactive-element/decorators/query.js:
@lit/reactive-element/decorators/query-all.js:
@lit/reactive-element/decorators/query-async.js:
@lit/reactive-element/decorators/query-assigned-nodes.js:
@lit/reactive-element/reactive-element.mjs:
lit-html/lit-html.mjs:
lit-element/lit-element.mjs:
@lit/reactive-element/decorators/custom-element.mjs:
@lit/reactive-element/decorators/property.mjs:
lit-html/directive.js:
lit-html/async-directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/static.js:
lit-html/directive-helpers.js:
lit-html/directives/ref.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
//# sourceMappingURL=wc-bundle.js.map
